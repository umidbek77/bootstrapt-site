"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[92690],{849474:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(619013),l=o(13882);function a(e,t){(0,l.Z)(2,arguments);var o=(0,i.Z)(e),a=(0,i.Z)(t),s=o.getTime()-a.getTime();return s<0?-1:s>0?1:s}},31397:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(619013),l=o(13882),a=o(849474);function s(e,t){(0,l.Z)(2,arguments);var o=(0,i.Z)(e),s=(0,i.Z)(t),n=(0,a.Z)(o,s),r=Math.abs(function(e,t){(0,l.Z)(2,arguments);var o=(0,i.Z)(e),a=(0,i.Z)(t);return o.getFullYear()-a.getFullYear()}(o,s));o.setFullYear("1584"),s.setFullYear("1584");var d=(0,a.Z)(o,s)===-n,c=n*(r-d);return 0===c?0:c}},223241:e=>{var t,o,i,l,a,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"FullPageSignupIconPinQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},l={alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},a={alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FullPageSignupIconPinQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,l,a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"352a5e60aedea45f1bf7be68da02cb782e8556623ba25c0de3716842fb3a3b99",metadata:{},name:"FullPageSignupIconPinQuery",operationKind:"query",text:null}};s.hash="3e1016dfcba0fbbb6d9d96227b9486bd",e.exports=s,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(s)},293926:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(667294),l=o(883119),a=o(785893);function s({color:e="red",duration:t,finalProgress:o,shape:s="pill"}){let[n,r]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=setTimeout(()=>{r(!0)},0);return()=>{clearTimeout(e)}},[]);let d="pill"===s;return(0,a.jsx)(l.xu,{color:e,height:d?8:6,rounding:d?"pill":2,width:`${o}%`,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${n?"-5px":"-100%"})`:`scaleX(${n?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},767874:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(536042),l=o(785893);function a({fillColor:e,size:t,noCircle:o}){let a=(0,i.ZP)();return(0,l.jsxs)("svg",{height:t,style:{display:"block"},viewBox:o?"3 3 70 70":"-3 -3 82 82",width:t,children:[(0,l.jsx)("title",{children:a.bt("Логотип Pinterest", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true)}),o?null:(0,l.jsx)("circle",{cx:"38",cy:"38",fill:e?"transparent":"white",r:"40"}),(0,l.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:null!=e?e:"#e60023",fillRule:"evenodd"})]})}},560544:(e,t,o)=>{o.d(t,{Z:()=>i});let i=e=>Math.floor(new Date(e).getTime()/1e3)},950073:(e,t,o)=>{o.d(t,{Z:()=>i});let i=e=>{let t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}},228742:(e,t,o)=>{o.d(t,{w:()=>S,Z:()=>z});var i=o(883119),l=o(204213),a=o(476366),s=o(970588),n=o(536042),r=o(785893);function d({callBack:e,color:t,email:o,inline:l,overrideText:a}){let d=(0,n.ZP)(),c=a||d.bt("Сбросить пароль", "Reset password", "Request a password reset email", undefined, true);return(0,r.jsx)(i.zx,{accessibilityLabel:c,color:t||"red",fullWidth:l,onClick:()=>{(0,s.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:o}}).then(()=>e())},text:c})}var c=o(630089);function _({email:e,onClose:t,onPasswordResetSent:o,socialButtons:s}){let _=(0,n.ZP)();return(0,r.jsx)(a.Z,{heading:_.bt("Похоже, вам не удается войти в систему.", "Looks like you’re having trouble logging in", "Modal heading for user who have attempted to login three times", undefined, true),onDismiss:t,size:"sm",children:(0,r.jsx)(i.xu,{alignItems:"center",justifyContent:"center",display:"flex",marginBottom:9,"data-test-id":"touchableErrorMessage",children:(0,r.jsxs)(i.kC,{alignItems:"center",direction:"column",width:290,children:[(0,r.jsx)(i.xu,{marginBottom:6,children:(0,r.jsx)(i.xv,{align:"center",children:(0,c.nk)(_.bt("Мы отправили письмо на адрес {{ email }} с инструкциями для возвращения.", "We sent an email to {{ email }} to help you get back in.", " - ", undefined, true),{email:(0,r.jsx)(i.xv,{inline:!0,weight:"bold",children:e},"emailAddress")})})}),(0,r.jsx)(i.xu,{width:"100%",marginBottom:8,children:(0,r.jsx)(d,{inline:!0,color:"red",email:e,callBack:o,overrideText:_.bt("Отправить еще раз", "Resend email", "Button to allow the user to request a password reset email", undefined, true)})}),(0,r.jsx)(i.xv,{children:_.bt("Либо войдите через Facebook или Google", "Or log in with Facebook or Google", "Upsell to use Facebook or Google for login", undefined, true)}),(0,r.jsx)(i.xu,{marginTop:4,marginBottom:12,width:"100%",children:s}),(0,r.jsx)(i.xu,{marginBottom:12,width:"100%",children:(0,r.jsx)(l.Z,{onClick:t})})]})})})}var u=o(302232);function h({email:e,loginWith:t,onClose:o,onPasswordResetSent:s}){let c=(0,n.ZP)();return(0,r.jsx)(a.Z,{heading:c.bt("Ой, произошла ошибка", "Oops! Something went wrong", "Modal heading", undefined, true),onDismiss:o,size:"md",children:(0,r.jsxs)(i.xu,{paddingX:6,marginBottom:4,children:[(0,r.jsx)(i.xu,{marginBottom:6,children:"facebook"===t?(0,r.jsx)(i.xv,{children:c.bt("Этот аккаунт Facebook не связан ни с одним аккаунтом Pinterest. Попробуйте сбросить пароль.", "We couldn’t match your Facebook account to any Pinterest account. Try resetting your password instead.", "Notice that no Pinterest account exists for the Facebook account used to attempt login", undefined, true)}):(0,r.jsx)(i.xv,{children:c.bt("Этот аккаунт Google не связан ни с одним аккаунтом Pinterest. Попробуйте сбросить пароль.", "We couldn’t match your Google account to any Pinterest account. Try resetting your password instead.", "Notice that no Pinterest account exists for the Facebook account used to attempt login", undefined, true)})}),(0,r.jsx)(d,{inline:!0,email:e,callBack:s}),(0,r.jsx)(i.xu,{marginTop:2,children:(0,r.jsx)(l.Z,{onClick:o})})]})})}var p=o(667294),g=o(550140),m=o(837792);function x({email:e,onClose:t}){let o=(0,n.ZP)(),[s,_]=(0,p.useState)(!1);return(0,r.jsxs)(p.Fragment,{children:[(0,r.jsx)(a.Z,{heading:o.bt("Письмо с указаниями по сбросу пароля отправлено", "Password reset email sent", "Modal label for confirmation of password reset send", undefined, true),onDismiss:t,children:(0,r.jsxs)(i.xu,{paddingX:6,marginBottom:4,children:[(0,r.jsx)(i.xv,{overflow:"normal",children:(0,c.nk)(o.bt("Мы отправили инструкции по выбору нового пароля на адрес {{ email }}.", "We sent instructions to pick a new password to {{ email }}.", "Statement that a password reset email has been sent to the user", undefined, true),{email:(0,r.jsx)(i.xv,{inline:!0,overflow:"normal",weight:"bold",children:e},"emailAddress")})}),(0,r.jsx)(i.xu,{paddingY:4,children:(0,r.jsx)(d,{inline:!0,color:"gray",email:e,callBack:()=>_(!s),overrideText:o.bt("Отправить еще раз", "Resend email", "Button to allow the user to request a password reset email", undefined, true)})}),(0,r.jsxs)(i.xu,{children:[(0,r.jsx)(i.xu,{marginBottom:4,children:(0,r.jsx)(i.xv,{children:(0,c.nk)(o.bt("Не получили письмо? См. {{ tips }}", "Didn’t get the email? Try these {{ tips }}", "Direction to help center if the password reset email failed", undefined, true),{tips:(0,r.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,r.jsx)(i.rU,{display:"inlineBlock",target:"blank",href:"https://www.pinterest.com/_/_/help/articles/trouble-pinterest-emails?source=account_recovery",onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:o.bt("советы из справочного центра", "tips from our Help Center", "Link text to go to help center", undefined, true)},"helpCenterLink")},"helpCenter")})})}),(0,r.jsx)(i.xu,{marginBottom:4,children:(0,r.jsx)(i.xv,{children:(0,c.nk)(o.bt("Это не ваш адрес электронной почты? {{ tryAgain }}", "Not your email address? {{ tryAgain }}", "Link to password reset flow for users who make an incorrect password reset request", undefined, true),{tryAgain:(0,r.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,r.jsx)(i.rU,{display:"inlineBlock",href:m.lfe,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:o.bt("Указать другой", "Try another", "Link text to enter the password reset flow for a different email address/username", undefined, true)},"passwordResetLink")},"tryAgain")})})})]}),(0,r.jsx)(i.xu,{children:(0,r.jsx)(l.Z,{color:"red",onClick:t})})]})}),s&&(0,r.jsx)(i.xu,{fit:!0,dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},paddingX:1,position:"fixed",children:(0,r.jsx)(g.ZP,{onHide:()=>_(!s),text:o.bt("Сообщение отправлено!", "Email sent!", " - ", undefined, true),duration:3500})})]})}function y({email:e,onClose:t,onPasswordResetSent:o,socialButtons:s}){let c=(0,n.ZP)();return(0,r.jsx)(a.Z,{heading:c.bt("Мы защитили ваш аккаунт", "We protected your account", "Modal heading for user who need to recover their accounts", undefined, true),onDismiss:t,size:480,children:(0,r.jsxs)(i.xu,{paddingX:12,marginBottom:8,children:[(0,r.jsx)(i.xu,{paddingX:4,marginBottom:4,children:(0,r.jsx)(i.xv,{align:"center",children:c.bt("В целях безопасности мы сбросили пароль к вашему аккаунту Pinterest и завершили сеансы на всех устройствах и во всех браузерах.", "For security purposes we've reset your Pinterest account password and logged you out on all devices and browsers.", "softBannedAccountModal.modal.description", undefined, true)})}),(0,r.jsx)(i.xu,{paddingX:4,marginBottom:4,children:(0,r.jsx)(i.xv,{align:"center",children:c.bt("Сбросьте пароль или войдите через Facebook или Google, чтобы вернуться к аккаунту.", "Reset your password or log in with Facebook or Google to get back into your account.", "Prompt to take action to reset password or upsell login with Facebook/Google", undefined, true)})}),(0,r.jsxs)(i.xu,{paddingX:12,children:[(0,r.jsx)(i.xu,{paddingY:2,children:(0,r.jsx)(d,{inline:!0,email:e,callBack:o})}),s,(0,r.jsx)(i.xu,{marginTop:4,children:(0,r.jsx)(l.Z,{onClick:t})})]})]})})}var f=o(327875),b=o(94802),w=o(751222),v=o(315219),P=o(950861),k=o(245410),A=o(785629);let S={[v.OW]:P.Ny.RATE_LIMITED,[v.bd]:P.Ny.RATE_LIMITED,[v.$j]:P.Ny.SOFT_BANNED,[v.an]:P.Ny.SUSPENDED,[v.RL]:P.Ny.LOGIN_ASSISTANCE,[v.yV]:P.Ny.SOFT_BANNED,[A.Ej]:P.Ny.RATE_LIMITED},E=({onLoginWithMfa:e,onLoginWithSuspended:t,onLoginWithVoluntarilyDeactivated:o,updateAccountRecoveryModal:l,checkExperiment:a})=>(0,r.jsxs)(i.xu,{children:[!(a("dweb_unauth_remove_all_fb_auth").anyEnabled||a("dweb_unauth_remove_fb_signup").anyEnabled)&&(0,r.jsx)(b.Z,{container:"account_recovery",disablePostSignupNextUrl:!0,onLoginWithMfa:e,onLoginWithSuspended:t,showFallback:!0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:()=>l(P.Ny.PREVENT_FACEBOOK_REGISTER)},showLoginRateLimited:()=>l(P.Ny.RATE_LIMITED)}),(0,r.jsx)(i.xu,{marginTop:2,children:(0,r.jsx)(w.Z,{container:"account_recovery",onLoginWithMfa:e,onLoginWithSuspended:t,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:()=>l(P.Ny.PREVENT_GOOGLE_REGISTER)},onLoginWithVoluntarilyDeactivated:e=>{l(null),null==o||o(e)},showLoginRateLimited:()=>l(P.Ny.RATE_LIMITED)})})]});function z({email:e,modalType:t,onLoginWithMfa:o,onLoginWithSuspended:i,onLoginWithVoluntarilyDeactivated:l,updateAccountRecoveryModal:a}){let s=()=>a(null),n=()=>a(P.Ny.PASSWORD_RESET_SENT),{checkExperiment:d}=(0,k.F)(),c=(0,r.jsx)(E,{onLoginWithMfa:o,onLoginWithSuspended:i,onLoginWithVoluntarilyDeactivated:l,updateAccountRecoveryModal:a,checkExperiment:d});switch(t){case P.Ny.SUSPENDED:return(0,r.jsx)(f.Z,{onClose:s});case P.Ny.LOGIN_ASSISTANCE:return(0,r.jsx)(_,{email:e,onClose:s,onPasswordResetSent:n,socialButtons:c});case P.Ny.RATE_LIMITED:return(0,r.jsx)(u.Z,{onClose:s});case P.Ny.SOFT_BANNED:return(0,r.jsx)(y,{email:e,onClose:s,onPasswordResetSent:n,socialButtons:c});case P.Ny.PREVENT_FACEBOOK_REGISTER:case P.Ny.PREVENT_GOOGLE_REGISTER:return(0,r.jsx)(h,{email:e,onClose:s,onPasswordResetSent:n,loginWith:t===P.Ny.PREVENT_FACEBOOK_REGISTER?"facebook":"google"});case P.Ny.PASSWORD_RESET_SENT:return(0,r.jsx)(x,{email:e,onClose:s});default:return null}}},204213:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(883119),l=o(536042),a=o(785893);function s({color:e,onClick:t,overrideText:o}){let s=(0,l.ZP)(),n=o||s.bt("Понятно!", "Got it", "Acknowledge protected account modal message", undefined, true);return(0,a.jsx)(i.zx,{fullWidth:!0,accessibilityLabel:n,color:e||"gray",onClick:t,text:n})}},476366:(e,t,o)=>{o.d(t,{Z:()=>d});var i=o(667294),l=o(883119),a=o(591057),s=o(906215),n=o(455788),r=o(785893);function d({children:e,headingNode:t,heading:o,onDismiss:d,size:c}){return(0,i.useEffect)(()=>(s.Z.pause(),function(){s.Z.resume()}),[]),(0,r.jsx)(l.mh,{zIndex:a.C,children:(0,r.jsx)(n.Z,{allowEsc:!0,children:(0,r.jsx)(l.u_,{accessibilityModalLabel:o,heading:t||o,onDismiss:()=>{s.Z.resume(),d()},role:"alertdialog",size:c||"md",padding:"none",children:e})})})}},302232:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(883119),l=o(476366),a=o(536042),s=o(785893);function n({onClose:e}){let t=(0,a.ZP)();return(0,s.jsxs)(l.Z,{heading:t.bt("Ой! Слишком много попыток входа", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true),onDismiss:e,size:"sm",headingNode:(0,s.jsxs)(i.xu,{children:[(0,s.jsx)(i.xu,{padding:6,justifyContent:"center",display:"flex",children:(0,s.jsx)(i.JO,{icon:"pinterest",accessibilityLabel:t.bt("Логотип Pinterest", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true),color:"brandPrimary",size:40})}),(0,s.jsx)(i.X6,{align:"center",size:"500",accessibilityLevel:1,children:t.bt("Ой! Слишком много попыток входа", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true)})]}),children:[(0,s.jsx)(i.xu,{paddingX:12,marginTop:4,marginBottom:12,children:(0,s.jsx)(i.xv,{align:"center",children:t.bt("Вы совершили максимально допустимое количество попыток входа. Повторите попытку через 30 минут.", "You have reached the maximum number of login attempts. Try again in 30 minutes.", "LoginRateLimitedModal.Modal.Heading", undefined, true)})}),(0,s.jsx)(i.xu,{paddingX:12,marginBottom:8,justifyContent:"center",display:"flex",children:(0,s.jsx)(i.zx,{fullWidth:!0,color:"red",text:t.bt("Хорошо", "Okay", "LoginRateLimitedModal.Modal.OkButton", undefined, true),onClick:e})})]})}},327875:(e,t,o)=>{o.d(t,{Z:()=>_});var i=o(667294),l=o(883119),a=o(204213),s=o(476366),n=o(406539),r=o(536042),d=o(630089),c=o(785893);function _({onClose:e}){let t=(0,r.ZP)(),o=t.bt("Распространенные причины деактивации аккаунта:", "Common reasons for account deactivation include:", " - ", undefined, true),_=t.bt("{{ help_link }}, если у вас есть вопросы или вы хотите повторно активировать аккаунт.", "{{ help_link }} if you have questions or would like to reactivate your account.", " - ", undefined, true),u=[t.bt("Нарушение правил сообщества Pinterest.", "Violating Pinterest Community Guidelines.", "One example reason for account deactivation", undefined, true),t.bt("Мы заметили необычную активность в вашем аккаунте.", "We noticed unusual activity on your account.", "One example reason for account deactivation", undefined, true),t.bt("Вы запросили закрытие аккаунта.", "You requested an account closure.", "One example reason for account deactivation", undefined, true)];return(0,c.jsx)(s.Z,{heading:t.bt("Ваш аккаунт деактивирован", "Your account has been deactivated", "Modal heading for user who have attempted to login with a deactivated account", undefined, true),onDismiss:e,size:"md",children:(0,c.jsxs)(l.xu,{paddingX:6,marginBottom:4,children:[(0,c.jsxs)(l.xu,{marginBottom:4,children:[(0,c.jsxs)(l.xv,{children:[" ",o," "]}),(0,c.jsx)(l.xu,{paddingY:2,children:(0,c.jsx)(i.Fragment,{children:u.map(e=>(0,c.jsx)(l.xv,{children:"• "+e},`reasons-${e}`))})}),(0,c.jsx)(l.xv,{inline:!0,children:(0,d.nk)(_,{help_link:(0,c.jsx)(n.q,{},"suspended user help_link")})})]}),(0,c.jsx)(l.xu,{marginTop:4,children:(0,c.jsx)(a.Z,{color:"red",onClick:e,overrideText:t.bt("Понятно", "Got it", "Acknowledge suspended account modal message", undefined, true)})})]})})}},406539:(e,t,o)=>{o.d(t,{q:()=>s});var i=o(883119),l=o(536042),a=o(785893);let s=()=>{let e=(0,l.ZP)();return(0,a.jsx)(i.rU,{display:"inlineBlock",href:"https://help.pinterest.com/en/contact?current_page=about_you_page&appeals=account_suspension",onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"auto",children:e.bt("Связаться с нами", "Contact us", "link text shown to redirect to help.pinterest.com for appealing a suspension", undefined, true)})}},384955:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(536042),l=o(785893);function a(){let e=(0,i.ZP)();return(0,l.jsx)("p",{style:{marginBottom:"8px",marginTop:"8px",overflow:"hidden",textAlign:"center",fontSize:"14px",color:"#333",fontWeight:"bold"},children:e.bt("ИЛИ", "OR", " - ", undefined, true)})}},38730:(e,t,o)=>{o.d(t,{Z:()=>a,m:()=>l});var i=o(785893);let l=`
.red.active:focus,
.red.active:hover {
  background-color: #d50c22 !important;
}
.lightGrey.active:focus,
.lightGrey.active:hover {
  background-color: #f5f3f3 !important;
}
.SignupButton:focus {
  box-shadow: 0 0 0 4px rgba(0, 132, 255, 0.5);
  outline: 0;
}
`;function a({accessibilityLabel:e,children:t,className:o,dataTestId:l,disabled:a,href:s,id:n,noButtonStyles:r,onClick:d,styleOverrides:c,tabIndex:_,type:u}){let h=(o?o.split(" "):[]).concat(a?[]:["active"]),p=r?{background:"none",border:"none",padding:"0",textAlign:"left",display:"block"}:{border:"0px",height:"40px",display:"inline-block",borderRadius:"4px",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",padding:"0 18px",fontSize:"15px",fontWeight:"bold",cursor:"pointer",marginTop:"10px",verticalAlign:"middle",textAlign:"center",...a&&{backgroundColor:"#efefef",color:"#767676"}||h.includes("red")&&{backgroundColor:"#e60023",color:"#fff"}||h.includes("lightGrey")&&{backgroundColor:"#ebebeb",color:"#444"}};return p={...p,...c},a&&(p={...p,cursor:"not-allowed"}),(0,i.jsx)("button",{"aria-label":e||"",className:h.join(" "),"data-test-id":l,disabled:a,href:s,id:n,onClick:d,..._?{tabIndex:_}:{},style:p,type:u||"button",children:t})}},94802:(e,t,o)=>{o.d(t,{Z:()=>I});var i=o(667294),l=o(883119),a=o(308979),s=o(243600),n=o(38730),r=o(891643),d=o(45818),c=o(125715);let _=()=>o.e(51798).then(o.bind(o,49387)),u=({onError:e,onEventReceived:t,onSuccess:o,rerequestFacebookEmail:i,viewer:l})=>{let a=null,s=i=>{let l=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(i.origin!==l||"social-connect-complete"!==i.data.type&&"social-connect-error"!==i.data.type)return;let s=i.data;"facebook"===s.network&&(t(),clearInterval(a),"social-connect-error"===s.type?e("OTHER_ERROR"):o({type:"PROFILE",profile:s.profile}))};if(window.addEventListener("message",s),i)_().then(({default:t})=>{t(t=>{t.login(t=>{var i;"connected"===t.status&&((null===(i=t.authResponse.grantedScopes)||void 0===i?void 0:i.split(","))||[]).includes("email")?o({type:"ACCESS_TOKEN",id:t.authResponse.userID,access_token:t.authResponse.accessToken}):e("OTHER_ERROR")},{scope:"email",auth_type:"rerequest",return_scopes:!0})},l)});else{let t=(0,c.Z)(),o=window.open("/connect/facebook/","",t);o?a=setInterval(()=>{o.closed&&(clearInterval(a),e("OTHER_ERROR"))},1e3):e("POPUP_DISABLED")}return{unsubscribe:()=>{window.removeEventListener("message",s)}}};var h=o(261551),p=o(785893);function g({anchor:e,message:t,children:o}){let[a,s]=(0,i.useState)(!!t);return((0,i.useEffect)(()=>{s(!!t)},[t]),a&&t)?(0,p.jsx)(l.J2,{anchor:e,color:"darkGray",idealDirection:"right",onDismiss:()=>s(!0),shouldFocus:!1,size:"md",children:(0,p.jsx)(l.xu,{column:12,padding:3,children:o?(0,p.jsx)("span",{children:o}):(0,p.jsx)("span",{dangerouslySetInnerHTML:{__html:t},style:{overflowWrap:"break-word",wordWrap:"break-word",color:"white",fontWeight:"bold"}})})}):null}var m=o(152448),x=o(321443),y=o(759495),f=o(95983),b=o(391670),w=o(536042),v=o(752977),P=o(315219),k=o(450667),A=o(140523),S=o(710197),E=o(950861),z=o(804484),j=o(822123),C=o(245410),T=o(282802),L=o(98736),M=o(802071);function Z(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let R=e=>"PROFILE"===e.type?{facebook_id:e.profile.id}:{facebook_id:e.id,facebook_token:e.access_token};class B extends i.Component{constructor(...e){var t;super(...e),t=this,Z(this,"state",{showModal:!1}),Z(this,"unsubscribeThisButton",null),Z(this,"loginWithFacebook",({facebookConnectData:e,isFromStatusChange:t,isAccountSwitch:o,handlePostSuccessConnect:i,loadingIndicatorCallback:l})=>{let{checkExperiment:a,container:s,desktopCoreLoginContext:{getDeviceAppTypeString:n},i18n:r,login:c,disableFBSignup:_,onLoginWithMfa:u,onLoginWithSuspended:h,pageContext:p,showResponseMessageModal:g,showLoginRateLimited:m,socialSignupCallbacks:y}=this.props,f={container:s,page:null==p?void 0:p.pageType},b=R(e);c({creds:b,loggingOptions:{loggingData:f,loginAttemptContextEvent:this.signupLoginContextEvent(7534)},isAccountSwitch:o}).then(e=>{var t;let l=null==e?void 0:null===(t=e.resource_response.data)||void 0===t?void 0:t.user;o&&l&&(0,v.Z)(l,"facebook",s),(0,L.My)("login.facebook."+n()),g?g(!0):E.ZP.handleRedirect(this.props.nextUrlParam||E.ZP.defaultSocialLoginRedirectUrl()),null==i||i(),a("m10n_measurement_pinterest_tag_us").anyEnabled&&(0,x.Z)()},o=>{if(o.api_error_code===P.Zn){var i;null==l||l(!1),(0,L.My)("login.facebook."+n()),null==u||u(b,{phoneNumberEnd:null===(i=o.data)||void 0===i?void 0:i.phone_number_end})}else o.api_error_code===P.xN||o.api_error_code===P.lg?a("dweb_unauth_remove_fb_signup").anyEnabled?null==_||_():"ACCOUNT_RECOVERY"===y.type?y.switchToAccountRecoverySignupFlow("facebook"):this.registerWithFacebook({facebookConnectData:e,loggingData:f,isFromStatusChange:t,switchToSocialSignupWithAgeFlow:y.switchToSocialSignupWithAgeFlow}):[P.ik].includes(o.api_error_code)?null==m||m():(o.api_error_code&&(0,L.My)(`facebook_button.failed_login_${o.api_error_code}`),o.api_error_code===P.an&&h?h():(0,d.x)(r.bt("При входе в систему произошла ошибка.", "Sorry, we can't log you in.", "error message when user failed to login caused by suspend/deactivated etc.", undefined, true)))})}),Z(this,"statusChangeCallback",e=>{var t,o;let i;null===(t=(o=this.props).onClick)||void 0===t||t.call(o);let{connectErrorMessage:l,handlePostSuccessConnect:a,isAccountSwitch:s,loadingIndicatorCallback:n}=this.props;if((0,L.EX)({event:"start",provider:"facebook"}),"connected"===e.status){let{authResponse:t}=e;(0,L.My)("web.facebook_connect_button.login_status.connected"),null==n||n(!0),this.loginWithFacebook({facebookConnectData:{type:"ACCESS_TOKEN",id:t.userID,access_token:t.accessToken},isFromStatusChange:!0,isAccountSwitch:s,handlePostSuccessConnect:a,loadingIndicatorCallback:n}),i="success"}else"not_authorized"===e.status?((0,L.My)("web.facebook_connect_button.cancel.not_authorized"),(0,d.x)(l),i="not_authorized"):((0,L.My)("web.facebook_connect_button.cancel.unknown"),(0,d.x)(l),i="other_error");let{handlePostConnectClick:r}=this.props;null==r||r(i)}),Z(this,"showDefaultError",()=>{let{i18n:e,loadingIndicatorCallback:t}=this.props;null==t||t(!1),(0,d.x)(e.bt("Для регистрации требуется адрес электронной почты.", "Email required for registration.", " - ", undefined, true))}),Z(this,"registerWithFacebook",async function({facebookConnectData:e,loggingData:o,isFromStatusChange:i,switchToSocialSignupWithAgeFlow:l}){(0,L.Rp)({event:"start",provider:"facebook"});let{desktopCoreLoginContext:{register:s},disablePostSignupNextUrl:n,loadingIndicatorCallback:r,nextUrlParam:d,onFBMissingEmail:c,onFBPhoneOnlyConnectVerified:_,showResponseMessageModal:u,showSignupWelcomeLoadingFn:p}=t.props,g=()=>{t.showDefaultError(),i||(t.rerequestFacebookEmail=!0)},m=null;if("PROFILE"===e.type)m={...e.profile};else try{m=await (0,k.MI)(e.access_token)}catch(e){g()}if(!m)return;let x=(0,h.Z)(m),y={type:"facebook",context:o,signupOptions:x};if(!m.email){_?(i||null==r||r(!1),_(y)):i&&c?c(y):g();return}let f={birthday_source_site:z.E_.FACEBOOK,email_source_site:z.E_.FACEBOOK};if(!i){l(y);return}let{birthday:b}=x;if(void 0===b||!(0,a.Z)(b)){null==r||r(!1),l({...y,signupOptions:{...y.signupOptions,email_source_site:z.E_.FACEBOOK}});return}u||null==p||p(!0),(0,L.Rp)({event:"signup_api_call_start",provider:"facebook"});try{await s({...x,...f,birthday:b},{signupContext:o,signupAttemptContextEvent:t.signupLoginContextEvent(7537)}),(0,L.Rp)({event:"signup_api_call_success",provider:"facebook"})}catch(e){(0,L.Rp)({event:"signup_api_call_failure",provider:"facebook"}),g()}u?u(!0):E.ZP.handleSignupRedirect(i?d:d||window.location.pathname,n)})}componentDidMount(){if(this.props.webFacebookDisabled)return;"undefined"!=typeof window&&(window.statusChangeCallback=this.statusChangeCallback,window.checkLoginState=()=>this.checkLoginState(),window.fbConnectButtonContainerStack?window.fbConnectButtonContainerStack.push(this.props.container):window.fbConnectButtonContainerStack=[this.props.container],window.nextUrlParam=this.props.nextUrlParam,window.fbButtonMounted=window.fbButtonMounted?window.fbButtonMounted+1:1);let{requestContext:{userAgent:{platform:e}}}=this.props;if(["ios","ipad"].includes(e)){if(window.fb_init!==A.Z.STARTED&&window.fb_init!==A.Z.FINISHED)this.initializeFB();else if(window.fb_init===A.Z.FINISHED&&window.FB.XFBML)window.FB.XFBML.parse();else{let e=setInterval(()=>{window.fb_init===A.Z.FINISHED&&window.FB.XFBML&&(window.FB.XFBML.parse(),clearInterval(e))},100)}}else setTimeout(()=>{window.__branchRedirectToStore||!window.__branchPinterestStarted?this.initializeFB():window.onbeforeunload=()=>{window.__branchRedirectToStore&&this.initializeFB()}},50);if(this.props.isRerequest){var t,o,i,l;null===(t=(o=this.props).loadingIndicatorCallback)||void 0===t||t.call(o,!1),null===(i=(l=this.props).showSignupWelcomeLoadingFn)||void 0===i||i.call(l,!1)}}componentDidUpdate(){window.nextUrlParam=this.props.nextUrlParam}componentWillUnmount(){if("undefined"!=typeof window){if(window.fbButtonMounted-=1,window.fbConnectButtonContainerStack){let e=window.fbConnectButtonContainerStack.indexOf(this.props.container);e>=0&&window.fbConnectButtonContainerStack.splice(e,1)}0===window.fbButtonMounted&&(delete window.statusChangeCallback,delete window.checkLoginState,delete window.nextUrlParam)}}initializeFB(){let{requestContext:{locale:e}}=this.props;null!==this.profilePicButton&&(void 0!==window.FB&&null!==window.FB?window.FB.XFBML.parse():(window.fbAsyncInit=()=>(0,k.sl)(),((t,o,i)=>{let l=t.getElementsByTagName(o)[0];if(t.getElementById(i))return;let a=t.createElement(o);a.id=i,a.src=(0,S.Z)(e),l&&l.parentNode&&l.parentNode.insertBefore(a,l)})(document,"script","facebook-jssdk")))}checkLoginState(){window.FB.getLoginStatus(function(e){this.statusChangeCallback&&this.statusChangeCallback(e)})}signupLoginContextEvent(e){let{desktopCoreLoginContext:{viewer:t}}=this.props;return{event_type:e,aux_data:{...(0,f.Z)(t.type),signup_login_method:j.Z.FACEBOOK}}}renderProfilePicButtonWithFallback(){let{i18n:e,isRerequest:t,showFallback:o,checkExperiment:i,container:a}=this.props;return(0,p.jsxs)(l.xu,{"data-test-id":"facebook-connect-button",ref:e=>{this._fallbackButton=e},children:[(0,p.jsx)(n.Z,{onClick:()=>{var e;let{connectErrorMessage:t,desktopCoreLoginContext:{getDeviceAppTypeString:o},i18n:i,webFacebookDisabled:l,viewer:a}=this.props;if(l){this.setState({showModal:!0});return}(0,L.My)("fallback_facebook_button.click"),(0,L.NC)("press_facebook_login_fallback"),(0,L.My)("unauth_web.facebook_connect.manual.attempt"),(0,L.My)(`unauth_web.social_connect.facebook.${o()}`),(0,L.EX)({event:"start",provider:"facebook"}),null===(e=this.unsubscribeThisButton)||void 0===e||e.call(this);let{unsubscribe:s}=u({onSuccess:e=>{(0,L.My)("unauth_web.facebook_connect.manual.success"),this.loginWithFacebook({facebookConnectData:e,isFromStatusChange:!1})},onError:e=>{(0,L.My)("unauth_web.facebook_connect.manual.failure"),(0,d.x)("POPUP_DISABLED"===e?i.bt("Необходимо включить всплывающие окна!", "You must enable popups!", " - ", undefined, true):t)},onEventReceived:()=>{var e;null===(e=this.unsubscribeThisButton)||void 0===e||e.call(this)},rerequestFacebookEmail:this.rerequestFacebookEmail,viewer:a});this.unsubscribeThisButton=()=>{s(),this.unsubscribeThisButton=null}},styleOverrides:{backgroundClip:"padding-box",backgroundColor:"#1877F2",display:"block",fontWeight:"normal",height:"40px",marginTop:"0px",padding:"0px 0px 0px 8px",position:o?"relative":"absolute",textAlign:"revamped_business_login_page"===a?"center":"left",transition:"opacity .2s linear",width:"100%",borderRadius:"20px"},tabIndex:-1,children:(0,p.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"revamped_business_login_page"===a?"center":"start",children:[(0,p.jsx)(l.xu,{color:"default",rounding:"circle",marginStart:1,dangerouslySetInlineStyle:{__style:{paddingTop:4,paddingBottom:3,paddingRight:3,paddingLeft:3}},height:24,width:24,children:(0,p.jsx)(l.JO,{accessibilityLabel:e.bt("Facebook", "facebook", "accessible label for facebook icon", undefined, true),color:"shopping",icon:"facebook",inline:!0,size:19})}),(0,p.jsx)("span",{style:{color:"#fff",display:"inline-block",fontFamily:s.Z,fontSize:"16px",fontWeight:"bold",letterSpacing:"0.1px",lineHeight:"15px",marginRight:"24px",marginLeft:"15px",paddingTop:"4px",textAlign:"center",verticalAlign:"text-bottom",WebkitFontSmoothing:"auto",whiteSpace:"normal",width:"revamped_business_login_page"===a?void 0:"88%"},children:e.bt("Войти через Facebook", "Continue with Facebook", " - ", undefined, true)})]})}),!o&&(0,p.jsx)(l.xu,{height:40,dangerouslySetInlineStyle:{__style:{textAlign:"revamped_business_login_page"===a?"center":"left"}},ref:e=>{this.profilePicButton=e},children:(0,p.jsx)("div",{className:"fb-login-button","data-auth-type":t?"rerequest":void 0,"data-button-type":"continue_with","data-layout":"rounded","data-onlogin":"checkLoginState","data-scope":(0,k._V)().join(","),"data-size":"large","data-use-continue-as":i("dweb_unauth_remove_fb_signup").anyEnabled?void 0:"true","data-width":"268px"})})]})}render(){let{tooltip:e}=this.props;return(0,p.jsxs)("div",{style:{position:"relative"},children:[this.renderProfilePicButtonWithFallback(),!!e&&(0,p.jsx)(g,{anchor:this._fallbackButton,message:e}),this.state.showModal&&(0,p.jsx)(m.Z,{type:"facebook",onDismiss:()=>this.setState({showModal:!1})})]})}}function I(e){let t=(0,w.ZP)(),o=(0,T.B)(),i=(0,r.B$)(),l=(0,b.lO)(),{checkExperiment:a}=(0,C.F)(),s=(0,M.Z)(),{anyEnabled:n}=a("web_facebook_disabled");return(0,p.jsx)(B,{...e,connectErrorMessage:t.bt("Не удалось установить соединение. Необходимо предоставить Pinterest доступ.", "Couldn't connect. You must authorize Pinterest.", " - ", undefined, true),desktopCoreLoginContext:i,i18n:t,login:(0,y.Z)(),requestContext:o,pageContext:l,webFacebookDisabled:n,viewer:s,checkExperiment:a})}},873093:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(883119),l=o(536042),a=o(549201),s=o(785893);function n(){let e=(0,l.ZP)(),t=(0,a.HG)();return(0,s.jsx)(i.xu,{marginTop:t?4:void 0,padding:t?4:void 0,children:(0,s.jsxs)(i.xu,{display:"flex",direction:"row",alignItems:"center",paddingX:4,paddingY:4,color:"errorWeak",rounding:t?4:void 0,children:[(0,s.jsx)(i.xu,{marginEnd:4,children:(0,s.jsx)(i.JO,{accessibilityLabel:e.bt("ошибка регистрации через Facebook", "error in Facebook signup", "facebook_signup_error_banner.icon", undefined, true),icon:"workflow-status-problem",color:"default",size:20})}),(0,s.jsx)(i.xu,{children:(0,s.jsx)(i.xv,{children:e.bt("Не удается связать ваш аккаунт Facebook. Попробуйте другой способ", "We can't connect to your Facebook account. Try another method", "facebook_signup_error_banner.copy", undefined, true)})})]})})}},992690:(e,t,o)=>{o.r(t),o.d(t,{default:()=>e5});var i,l=o(667294),a=o(616550),s=o(883119),n=o(965533),r=o(563962),d=o(746613),c=o(682126),_=o(457628),u=o(791045),h=o(560544),p=o(891643),g=o(38730),m=o(785893);let x=({margin:e,wideLight:t})=>(0,m.jsx)("div",{style:{borderBottom:`${t?"#efefef":"#dedede"} 1px solid`,margin:null!=e?e:"10px auto",width:t?404:110}});var y=o(95983),f=o(536042),b=o(282802),w=o(837792),v=o(98736),P=o(618569),k=o(706874),A=o(3060);function S({type:e}){let{viewer:t}=(0,p.B$)(),o=(0,f.ZP)(),i=(0,r.Z)(),l=`${A.C0}${w.Hm8}`,{trackConversionUpsell:a}=(0,k.Z)();return(0,m.jsxs)(s.xu,{display:"flex",alignItems:"center",justifyContent:"center",fit:!0,marginTop:2,marginEnd:"auto",marginBottom:1,marginStart:"auto",children:[(0,m.jsx)(s.xv,{size:"100",weight:"normal",children:o.bt("Вы представитель организации?", "Are you a business?", "Prompt for business signup", undefined, true)}),(0,m.jsx)(s.xu,{"data-test-id":"business-start",marginStart:1,children:(0,m.jsx)(s.rU,{href:l,underline:"none",target:"blank",onClick:()=>{(0,v.My)("unauth.business_link.click"),i({event_type:101,component:"signupToLogin"===e?13096:13867,element:10281,aux_data:(0,y.Z)(t.type)}),a({element:10281,eventType:14689})},children:(0,m.jsx)(s.xv,{size:"100",weight:"bold",children:o.bt("Вам сюда", "Get started here!", "Prompt for signing up", undefined, true)})})})]})}let E=({children:e,layout:t})=>{let{isRTL:o}=(0,b.B)();switch(t){case"SIGNUP_LARGE":return(0,m.jsx)(s.xu,{children:(0,m.jsx)(s.xu,{marginTop:4,children:e})});case"SIGNUP_SMALL":return(0,m.jsx)(s.xu,{marginTop:3,children:e});case"SIGNUP_WITH_AGE":return(0,m.jsx)(s.xu,{margin:-4,children:(0,m.jsx)(s.xu,{padding:3,"data-test-id":"login-button",children:e})});case"LOGIN_INLINE":return(0,m.jsxs)(s.xu,{children:[(0,m.jsx)(x,{}),(0,m.jsx)(s.xu,{display:"inlineBlock",marginEnd:1,children:e})]});case"LOGIN_SMALL":return(0,m.jsxs)(s.xu,{children:[(0,m.jsx)(x,{}),e]});case"SIGNUP_DEFAULT":case"LOGIN_DEFAULT":return(0,m.jsxs)(s.xu,{children:[(0,m.jsx)(x,{margin:"SIGNUP_DEFAULT"===t?o&&"20px -68px 15px 0px"||"20px 0px 15px -68px":o&&"20px 30px 15px -10px"||"20px -10px 15px -68px",wideLight:!0}),(0,m.jsx)(s.xu,{children:e})]});default:return e}};function z({layout:e,onClick:t,shouldHideBusinessCreateFooterLink:o,type:i}){let l=(0,f.ZP)(),a=(0,P.Z)();return(0,m.jsxs)(E,{layout:e,children:[(0,m.jsx)(s.xu,{display:"flex",fit:!0,marginEnd:"auto",marginBottom:1,alignItems:"center",justifyContent:"center",children:(0,m.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"center",children:["signupToLogin"===i&&(0,m.jsx)(s.xv,{size:"100",children:l.bt("Уже зарегистрировались?", "Already a member?", "modernized.nux.footer.text", undefined, true)}),(0,m.jsx)(g.Z,{noButtonStyles:!0,onClick:e=>{a({action:"click",item:"email-signup-button"}),t(e)},styleOverrides:{color:"#333",marginLeft:"5px",fontWeight:"bold"},type:"button",dataTestId:"login-signup-toggle",children:"signupToLogin"===i&&l.bt("Войти", "Log in", "modernize.nux.switch.to.login.modal", undefined, true)||l.bt("Еще не зарегистрировались в Pinterest? Зарегистрироваться", "Not on Pinterest yet? Sign up", "nux.unauth.user.sign.up.message", undefined, true)})]})}),!o&&(0,m.jsx)(S,{type:i})]})}var j=o(435983),C=o(654194),T=o(315219),L=o(950861),M=o(804484),Z=o(822123),R=o(61833),B=o(813586);let I=({disablePostSignupNextUrl:e,handleLoginToggleButtonClick:t,loadingIndicatorCallback:o,nextUrlParam:i,registrationCredentials:a,showResponseMessageModal:n})=>{let r=(0,f.ZP)(),{register:g,viewer:x}=(0,p.B$)(),{refreshToken:b}=(0,R.D)(),[w,P]=(0,l.useState)(!1),[k,A]=(0,l.useState)(!0),[S,E]=(0,l.useState)(!1),[I,F]=(0,l.useState)(""),[O,N]=(0,l.useState)(void 0),D="other";switch(null==a?void 0:a.type){case"google":D="google";break;case"facebook":D="facebook";break;case"line":D="line"}(0,l.useEffect)(()=>{"1"===_.U2(u.It)&&(E(!0),F(r.bt("На данный момент регистрация в Pinterest недоступна.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "signup.birthdaycollection.ineligible.msg", undefined, true)))},[r,F]),(0,l.useEffect)(()=>{(0,v.My)("dweb.signup_age_step",{type:null==a?void 0:a.type,format:"birthday"})},[null==a?void 0:a.type]);let W=()=>{(0,v.My)("dweb.birthdaycollection.signup_success"),(0,v.Rp)({event:"signup_api_call_success",provider:D}),n?n(!0):L.ZP.handleSignupRedirect(i,e)},V=async()=>{if(!a||!O){o(!1);return}let e={...a.signupOptions,birthday:(0,h.Z)(O),birthday_source_site:M.E_.PINTEREST};try{let t;let o={facebook:Z.Z.FACEBOOK,google:Z.Z.GPLUS,google_one_tap:Z.Z.GOOGLE_ONE_TAP,line:Z.Z.LINE,socialSignupWithAge:void 0}[a.type];"google"===a.type?t=12981:"google_one_tap"===a.type&&(t=12982),(0,v.Rp)({event:"signup_api_call_start",provider:D}),await g(e,{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,element:t,aux_data:{...(0,y.Z)(x.type),...o?{signup_login_method:o}:Object.freeze({})}}}),W()}catch(e){switch((0,v.Rp)({event:"signup_api_call_failure",provider:D}),b&&b(),e.api_error_code){case T.tz:(0,v.My)("dweb.birthdaycollection.signup_error.underage"),_.t8(u.It,"1",(0,_.kZ)(u.It)),P(!0);break;case T.NF:(0,v.My)("dweb.birthdaycollection.signup_error.eu_missing_age"),F(e.message||r.bt("Чтобы предоставлять вам эту услугу, нам необходимо знать ваш возраст.", "We need to know your age to provide you this service.", "signup.birthdaycollection.error.missingAge", undefined, true));break;case T.tL:(0,v.My)("dweb.birthdaycollection.signup_error.overage"),F(e.message||r.bt("Ой! Укажите действительный возраст для регистрации.", "Oops! Please use a valid age to sign up.", "signup.birthdaycollection.error.overage", undefined, true));break;case T.iZ:(0,v.My)("dweb.birthdaycollection.signup_error.invalid_email"),F(r.bt("Ваш электронный адрес недействителен.", "Your email is invalid.", "signup.birthdaycollection.error.invalidEmail", undefined, true));break;case T.Jt:(0,v.My)("dweb.birthdaycollection.signup_error.email_contain_pinterest"),F(r.bt("Используйте свое имя или название бренда", "Please stick to your name, or the name of your brand", "signup.birthdaycollection.error.emailContainsPinterest", undefined, true));break;default:(0,v.My)("dweb.birthdaycollection.signup_error.other"),F(r.bt("К сожалению, возникла техническая проблема.", "Sorry! Something went wrong on our end.", "signup.birthdaycollection.error.other", undefined, true))}}};return w?(0,m.jsx)(C.Z,{birthday:O,onEditBirthday:()=>P(!1)}):(0,m.jsx)(s.xu,{paddingX:5,paddingY:5,children:(0,m.jsx)(s.xu,{paddingX:12,children:(0,m.jsxs)(s.kC,{direction:"column",justifyContent:"center",alignItems:"center",children:[(0,m.jsx)(s.xu,{width:48,height:48,marginTop:5,marginBottom:1,children:(0,m.jsx)(s.Ee,{alt:r.bt("Изображение на тему дня рождения", "Birthday Image", "signup.birthdaycollection.image.alt", undefined, true),src:d,naturalHeight:48,naturalWidth:48})}),(0,m.jsx)(s.xu,{marginBottom:2,children:(0,m.jsx)(s.X6,{align:"center",size:"600",children:r.bt("Укажите дату рождения", "Enter your birthdate", "signup.birthdaycollection.title", undefined, true)})}),(0,m.jsx)(s.xu,{width:310,marginBottom:4,children:(0,m.jsx)(s.xu,{marginBottom:4,children:(0,m.jsx)(s.xv,{align:"center",children:r.bt("Чтобы позаботиться о безопасности сообщества Pinterest, нам нужно знать дату вашего рождения. Зная вашу дату рождения, мы можем предоставлять вам более персонализированные рекомендации и актуальные объявления. Мы не передаем эту информацию, и она не будет видна в вашем профиле.", "To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We don't share this information and it won't be visible on your profile.", "signup.birthdaycollection.subheader1", undefined, true)})})}),(0,m.jsx)(s.xu,{width:280,marginBottom:4,children:(0,m.jsx)(s.nv,{autoComplete:"bday",disabled:S,errorMessage:I,id:"birthday",onChange:({value:e})=>{F(""),A(!e),N(e)},size:"lg",type:"date",value:O||""})}),(0,m.jsx)(s.xu,{width:280,marginBottom:10,children:(0,m.jsx)(s.xv,{color:"subtle",align:"center",children:(0,c.ML)(r)})}),(0,m.jsx)(s.xu,{width:280,marginBottom:3,children:(0,m.jsx)(s.zx,{color:"red",disabled:k,fullWidth:!0,onClick:()=>{if((0,v.Rp)({event:"submit_birthday",provider:D}),O&&!(0,c.Cd)(O,B.kx)){F((0,c.Uy)(r));return}V()},text:r.bt("Создать аккаунт", "Create account", "signup.birthdaycollection.submit_label", undefined, true)})}),(0,m.jsx)(s.xu,{marginTop:2,marginBottom:9,width:340,children:(0,m.jsx)(j.Z,{dark:!0})}),(0,m.jsx)(s.xu,{marginBottom:2,children:(0,m.jsx)(z,{layout:"SIGNUP_LARGE",onClick:()=>t(),type:"signupToLogin"})})]})})})};var F=o(788241),O=o(228742),N=o(384955),D=o(45818),W=o(94802),V=o(751222),U=o(794121),G=o(759495),Y=o(391670),H=o(949433),$=o(604094),q=o(970588),K=o(550140),X=o(991937),J=o(18759),Q=o(245410),ee=o(785629),et=o(643183),eo=o(63262),ei=o(565479),el=o(966633),ea=o(392881);function es(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let en=(0,l.lazy)(()=>o.e(92798).then(o.bind(o,892798))),er="emailpwdstep";class ed extends l.Component{constructor(e){var t;super(e),t=this,es(this,"onLoginWithSuspended",()=>{let{loadingIndicatorCallback:e}=this.props;e(!1),this.setState({accountRecoveryModalType:O.w[T.an]})}),es(this,"onLoginWithVoluntarilyDeactivated",e=>this.setState({googleValidationError:e})),es(this,"setLoadingState",e=>{let{loadingIndicatorCallback:t,showSignupWelcomeLoadingFn:o}=this.props;return o&&!1===e&&o(!1),t(e)}),es(this,"handleEmailChange",e=>{this.props.setEmail(e.target.value),this.setState({hideFBGoogleToolTip:!0})}),es(this,"handlePasswordChange",e=>{this.state.passwordValidationError&&this.setState({passwordValidationError:null}),this.props.setPassword(e.target.value)}),es(this,"handleEmailSignUp",()=>{var e,t,o;(0,v.My)("unauth_email_validation_attempt"),this.props.trackInteraction({action:"click",item:"email-signup-button"});let i=(0,el.Z)(null!==(e=this.props.email)&&void 0!==e?e:"",this.emailValidators);if(i)this.setState({emailValidationError:i}),(0,v.My)(`unauth.login.error.CLIENT_ERROR.malformemail.${er}`);else{let e=(0,el.Z)(null!==(t=this.props.password)&&void 0!==t?t:"",this.asciiValidators);e&&(this.setState({passwordValidationError:e}),(0,v.My)(`unauth.login.error.CLIENT_ERROR.nonasciipwd.${er}`)),(i=(0,el.Z)(null!==(o=this.props.password)&&void 0!==o?o:"",this.loginPasswordValidators))?(this.setState({passwordValidationError:i}),(0,v.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${er}`)):(this.setState({passwordValidationError:null}),this.validateEmailAvailable()),this.setState({emailValidationError:null}),this.props.setNameFromEmail()}}),es(this,"register",({birthday:e})=>{let{container:t,email:o,name:i,pageContext:l,password:a,onBirthdayUnderage:s,requestContext:n,signupSource:r,register:d,i18n:c}=this.props,h={type:"email",birthday:e,email:o,password:a,country:n.country,first_name:i,last_name:"",recaptchaV3Token:this.props.recaptchaV3Token||"default"},p={container:t,page:null==l?void 0:l.pageType,signupSource:r};(0,v.My)("one_step_age_signup_complete"),(0,v.Rp)({event:"signup_api_call_start",provider:"email"}),d(h,{signupContext:p,signupAttemptContextEvent:this.signupLoginContextEvent(7537)}).then(()=>{let{showResponseMessageModal:e}=this.props;(0,v.My)("unauth.signup_one_step.completed"),(0,v.Rp)({event:"signup_api_call_success",provider:"email"}),e?e(!0):L.ZP.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl)},e=>{switch(this.setLoadingState(!1),(0,v.Rp)({event:"signup_api_call_failure",provider:"email"}),this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token(),e.api_error_code){case T.tz:_.t8(u.It,"1"),s?s({birthday:this.props.birthday,email:o}):this.showUnderAgeError(e.message);break;case T.NF:this.setState({birthdayValidationError:e.message||c.bt("Чтобы предоставлять вам эту услугу, нам необходимо знать ваш возраст.", "We need to know your age to provide you this service.", "userRegistration.missingAgeError", undefined, true)});break;case T.tL:this.setState({birthdayValidationError:e.message||c.bt("Ой! Укажите действительный возраст для регистрации.", "Oops! Please use a valid age to sign up.", "userRegistration.overageError", undefined, true)});break;case T.iZ:(0,v.My)("unauth_show_invalid_email_inline_error"),this.setState({emailValidationError:c.bt("Ваш электронный адрес недействителен.", "Your email is invalid.", " - ", undefined, true)});break;case T.Jt:(0,v.My)("unauth_show_invalid_email_contains_pinterest"),this.setState({emailValidationError:c.bt("Выберите свое имя или название своей марки", "Please stick to your name, or the name of your brand", " - ", undefined, true)});break;default:(0,D.x)(c.bt("К сожалению, произошла ошибка.", "Sorry! Something went wrong on our end.", " - ", undefined, true))}})}),es(this,"checkEmailExistsWithCompletion",({email:e,handleEmailExists:t,handleEmailNotExist:o,handleError:i})=>{let{i18n:l}=this.props;(0,q.Z)({url:"/v3/register/exists/",data:{email:e}}).then(e=>{this.setState({emailValidationError:null}),!1===e.resource_response.data?o():t()},e=>{let t=l.bt("Хм… Это не похоже на адрес электронной почты", "Hmm...that doesn't look like an email address", " - ", undefined, true);if(e.api_error_code===T.bd)t=e.message;else{let e=(0,el.Z)(this.props.email,this.asciiValidators);e&&(0,v.My)(`unauth.login.error.CLIENT_ERROR.nonasciiemail.${er}`)}this.setState({emailValidationError:t}),null==i||i()})}),es(this,"checkEmailValidation",async function(e){let{i18n:o,showToast:i}=t.props;if((0,H.Z)(e)||(0,H.z)(e,"yahoo")||(0,H.z)(e,"hotmail")){t.setState({emailValidationError:o.bt("К сожалению, этот адрес электронной почты недействителен", "Sorry, this doesn't look like a valid email", "register.email.error.message", undefined, true)});return}try{let i=await (0,q.Z)({url:"/v3/email/validation/",data:{email:e}}),{data:l}=i.resource_response||{},a=l&&l.is_valid;a?t.setState({emailValidationError:null}):t.setState({emailValidationError:o.bt("К сожалению, этот адрес электронной почты недействителен", "Sorry, this doesn't look like a valid email", "register.email.error.message", undefined, true)})}catch(e){null!=e&&e.message?i(({hideToast:t})=>(0,m.jsx)(K.ZP,{duration:3e3,type:"error",text:e.message,onHide:t})):(0,v.My)(`unauth.login.error.${er}.ERROR${e.api_error_code}`)}}),es(this,"updateAccountRecoveryModal",e=>this.setState({accountRecoveryModalType:e})),es(this,"renderSignupForm",()=>{let{birthday:e,email:t,i18n:o,onBirthdayChange:i,onCustomizedBirthdayChange:l,password:a,suppressFocus:n,viewType:r,viewParameter:d,component:h,attributionLabel:p,trackConversionUpsell:g}=this.props,{birthdayValidationError:x}=this.state,y=(0,c.Uy)(o),f=e=>{g({element:e,eventType:14689})};return this.state.showRegisterForm?(0,m.jsx)(U.Z,{buttonText:o.bt("Продолжить", "Continue", "Continue button on web", undefined, true),buttonTextLabel:o.bt("Продолжить создание аккаунта Pinterest", "Continue creating your Pinterest account", "Accessiblity button text to continue creating an account", undefined, true),email:t,emailFieldHasError:this.state.emailFieldHasError,emailLabel:o.bt("Ввести адрес электронной почты", "Continue with email", "Sign up button", undefined, true),emailText:o.bt("Введите адрес эл. почты", "Email", "Text on button asking for email", undefined, true),emailValidationError:this.state.emailValidationError,signupForm:{birthdayProps:{birthday:e,birthdayValidationError:x,setBirthdayValidationError:e=>this.setState({birthdayValidationError:e}),onBirthdayChange:i,onCustomizedBirthdayChange:l},checkEmailExistsWithCompletion:this.checkEmailExistsWithCompletion,checkEmailValidation:this.checkEmailValidation,registerRestricted:"1"===_.U2(u.It)},onButtonClick:()=>{if("1"===_.U2(u.It)){this.showUnderAgeError();return}if(e&&!(0,c.Cd)(e,B.kx)){this.setState({birthdayValidationError:y});return}this.setState({facebookValidationError:null,googleValidationError:null,hideFBGoogleToolTip:!1}),this.handleEmailSignUp()},onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,password:null!=a?a:"",passwordText:o.bt("Создайте пароль", "Create a password", "Text asking the user to create a password while registering", undefined, true),passwordValidationError:this.state.passwordValidationError,suppressFocus:n,component:h,viewType:r,viewParameter:d,attributionLabel:p}):(0,m.jsx)(s.xu,{"data-test-id":"emailSignUpButton",children:(0,m.jsx)(s.zx,{fullWidth:!0,text:o.bt("Ввести адрес электронной почты", "Continue with email", "Text on the sign up button for signing up with email", undefined, true),color:"red",onClick:()=>{f(13506),(0,v.NC)("signup_email_button"),this.props.trackInteraction({action:"click",item:"email-signup-button",within:"bottom-right-upsell"}),this.setState({showRegisterForm:!0})}})})}),es(this,"showUnderAgeError",e=>{let{i18n:t}=this.props;this.setState({birthdayValidationError:e||t.bt("На данный момент регистрация в Pinterest недоступна.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "Error message shown when underage user tries to register", undefined, true)})});let o=new URLSearchParams(e.location.search),i=+o.get("aec");o.delete("aec"),e.history.replace({pathname:e.location.pathname,search:o.toString()}),this.state={accountRecoveryModalType:i===T.yV||i===T.$j?L.Ny.SOFT_BANNED:null,birthdayValidationError:null,emailFieldHasError:!1,emailValidationError:null,facebookValidationError:null,googleValidationError:null,passwordValidationError:null,showRegisterForm:"home_page"===this.props.container,hideFBGoogleToolTip:!1};let{i18n:l}=e;this.emailValidators=[(0,ea.aH)({message:l.bt("Вы кое-что забыли! Укажите свой адрес электронной почты.", "You missed a spot! Don't forget to add your email.", " - ", undefined, true)}),(0,ea.GT)({message:l.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm...that doesn't look like an email address.", " - ", undefined, true)})];let a=l.bt("Слишком короткий пароль. Он должен содержать не менее 6 символов.", "Your password is too short! You need 6+ characters.", " - ", undefined, true),n=l.bt("Используйте только сочетания букв, цифр и специальных символов (например: ?, !, $).", "Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "EmailPasswordStep.password.onlyASCII", undefined, true);this.requireBirthdayValidatorMessage=l.bt("Вы кое-что забыли. Добавьте дату рождения.", "You missed a spot. Don’t forget to add your birthday.", "signup.emailpasswordstep.birthday.require.validator_message", undefined, true);let r=l.bt("Недействительная дата", "Invalid date", "signup.emailpasswordstep.birthday.validator_message", undefined, true);this.passwordValidators=[(0,ea.aH)({message:a}),(0,ei.r)({shortPassStr:a,samePasswordStr:l.bt("Пароль не должен совпадать с именем пользователя.", "Please make your username and password different.", " - ", undefined, true),blackPassStr:l.bt("Выберите более сложный пароль.", "Please make a stronger password.", " - ", undefined, true)})],this.asciiValidators=[(0,ea.oR)({message:n})],this.loginPasswordValidators=[(0,ea.aH)({message:a}),(0,ea.oR)({message:n}),(0,ea.Gy)({min:6,minErrorString:a})],this.birthdayValidators=[(0,ea.aH)({message:this.requireBirthdayValidatorMessage}),(0,ea.C9)({date:new Date(new Date().getFullYear(),0,1),message:r})]}handleLoginFailure(e,t){let{setPassword:o,email:i,onLoginWithMfa:l,i18n:a}=this.props,s=e.http_status===ee.Ej?ee.Ej:e.api_error_code;if(s===T.Zn){var n;L.ZP.handleLoginMfa(t,{phoneNumberEnd:null===(n=e.data)||void 0===n?void 0:n.phone_number_end},l);return}let r=(0,J.Z)({error:e,source:"emailPasswordStep",onClickPasswordReset:()=>{(0,v.My)("unauth_password_reset_link_tapped"),(0,q.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:i}}).then(()=>this.updateAccountRecoveryModal(L.Ny.PASSWORD_RESET_SENT))}});r?(this.setState({...r,accountRecoveryModalType:s?O.w[s]:void 0}),r.passwordValidationError&&o("")):(0,D.x)(a.bt("К сожалению, произошла ошибка.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),this.setLoadingState(!1)}handleLoginSuccess(e){L.ZP.storeLoginCredentialsToBrowser(e);let{showResponseMessageModal:t}=this.props;t?t(!1):this.props.nextUrlParam?L.ZP.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl):window.location.reload()}signupLoginContextEvent(e){let{viewer:t}=this.props;return{event_type:e,aux_data:{...(0,y.Z)(t.type),signup_login_method:Z.Z.EMAIL}}}validateEmailAvailable(){var e=this;let{container:t,email:o,login:i,pageContext:l,password:a}=this.props;this.setLoadingState(!0),this.checkEmailExistsWithCompletion({email:o,handleEmailExists:()=>{let e={username_or_email:o,password:null!=a?a:""};i({creds:e,loggingOptions:{loggingData:{container:t,page:null==l?void 0:l.pageType},loginAttemptContextEvent:this.signupLoginContextEvent(7534)}}).then(()=>this.handleLoginSuccess(e),t=>this.handleLoginFailure(t,e))},handleEmailNotExist:async function(){await e.checkEmailValidation(o);let{birthday:t,password:i}=e.props;if(e.setLoadingState(!1),e.state.emailValidationError)return;let l=(0,el.Z)(null!=i?i:"",e.passwordValidators);if(l){e.setState({passwordValidationError:l}),(0,v.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${er}`);return}let a=(0,el.Z)(t||"",e.birthdayValidators);if(a){(0,v.My)(`unauth.login.error.CLIENT_ERROR.invalidbirthday.${er}`),e.setState({birthdayValidationError:a});return}let s=t?(0,h.Z)(t):void 0;if(void 0===s){e.setState({birthdayValidationError:e.requireBirthdayValidatorMessage});return}if((0,H.Z)(o)){e.setState({emailFieldHasError:!0});return}e.setState({emailValidationError:null}),(0,v.My)("unauth.signup_step_1.completed"),e.register({birthday:s})}})}render(){let{additionalChildren:e,container:t,disablePostSignupNextUrl:o,email:i,loadingIndicatorCallback:a,nextUrlParam:n,disableFBSignup:r,onFBMissingEmail:d,onFBPhoneOnlyConnectVerified:c,onLoginWithMfa:_,switchToSocialSignupWithAgeFlow:u,showLineConnectButton:h,showResponseMessageModal:p,showSignupWelcomeLoadingFn:g,trackConversionUpsell:x,requestContext:y}=this.props,{accountRecoveryModalType:f,facebookValidationError:b,googleValidationError:w,hideFBGoogleToolTip:v,showRegisterForm:P}=this.state,k=e=>{x({element:e,eventType:14689})},A=y.experimentsClient.checkExperiment("dweb_unauth_remove_all_fb_auth").anyEnabled||y.experimentsClient.checkExperiment("dweb_unauth_remove_fb_signup").anyEnabled;return(0,m.jsxs)(s.xu,{width:268,dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},children:[(0,m.jsx)(O.Z,{email:i,modalType:f,onLoginWithMfa:_,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),(0,m.jsxs)(s.xu,{children:[this.renderSignupForm(),!!P&&(0,m.jsx)(N.Z,{}),(0,m.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"10px"}},children:[!A&&(0,m.jsx)(W.Z,{container:t,disablePostSignupNextUrl:o,loadingIndicatorCallback:a,onFBPhoneOnlyConnectVerified:c,onFBMissingEmail:d,disableFBSignup:r,onLoginWithMfa:_,onLoginWithSuspended:this.onLoginWithSuspended,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:u},showResponseMessageModal:p,showSignupWelcomeLoadingFn:g,tooltip:!v&&b||null,showLoginRateLimited:()=>this.updateAccountRecoveryModal(L.Ny.RATE_LIMITED),onClick:()=>{k(13505)}}),(0,m.jsx)(s.xu,{height:10}),(0,m.jsx)(s.xu,{children:(0,m.jsx)(V.Z,{container:t,nextUrlParam:n,onLoginWithMfa:_,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:u},showResponseMessageModal:p,tooltip:!v&&w||null,showLoginRateLimited:()=>this.updateAccountRecoveryModal(L.Ny.RATE_LIMITED),onClick:()=>{k(13504)}})}),h&&(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(s.xu,{height:10}),(0,m.jsx)($.Z,{name:"SafeSuspense_EmailPasswordStep_LineConnectButton",children:(0,m.jsx)(et.Z,{children:(0,m.jsx)(en,{container:t,loadingIndicatorCallback:a,nextUrlParam:n,onLoginWithMfa:_,onLoginWithSuspended:this.onLoginWithSuspended,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:u},showResponseMessageModal:p,showLoginRateLimited:()=>this.updateAccountRecoveryModal(L.Ny.RATE_LIMITED),onClick:()=>{k(13507)}})})})]})]})]}),(0,m.jsx)(j.Z,{dark:!0}),e]})}}function ec(e){let t=(0,Y.lO)(),o=(0,b.B)(),{showToast:i}=(0,eo.F9)(),{register:s,viewer:n}=(0,p.B$)(),d=(0,G.Z)(),c=(0,r.Z)(),{viewType:_,viewParameter:u}=(0,F.SU)(),h=(0,P.Z)(),g=(0,f.ZP)(),{country:x}=o,y=(0,a.useLocation)(),w=(0,a.useHistory)(),{recaptchaV3Token:v,refreshToken:A}=(0,R.D)(),S="JP"===x,[E,z]=(0,l.useState)(),[j,C]=(0,l.useState)(""),[T,L]=(0,l.useState)(""),{trackConversionUpsell:M}=(0,k.Z)(),{checkExperiment:Z}=(0,Q.F)();return(0,m.jsx)(ed,{...e,birthday:E,onBirthdayChange:e=>z(e.value),onCustomizedBirthdayChange:e=>{z(e)},name:j,setNameFromEmail:()=>C((0,X.Z)(e.email,x)),password:T,setPassword:L,recaptchaV3Token:v,refreshRecaptchaV3Token:A,pageContext:t,requestContext:o,viewer:n,register:s,login:d,logContextEvent:c,viewType:_,viewParameter:u,i18n:g,location:y,history:w,showLineConnectButton:S,showToast:i,trackInteraction:h,attributionLabel:e.attributionLabel,trackConversionUpsell:M,checkExperiment:Z})}var e_=o(308979),eu=o(447390);let eh=({email:e,emailError:t,onNotNowClick:o,handleEmailChange:i,handleSubmit:a})=>{let n=(0,f.ZP)();(0,l.useEffect)(()=>{(0,v.My)("unauth.fb_phone_only_signup.email_step")},[]),n.bt("Мы используем ваш адрес электронной почты для создания аккаунта, а также для отправки важных уведомлений о безопасности и правовых нормах.", "We use your email address for account creation and for important security and legal notices.", "subtitle to explain the step on email collection form", undefined, true);let r=n.bt("Ой. Мы не можем создать для вас аккаунт без адреса электронной почты. Укажите его, чтобы продолжить.", "Oops. We're unable to create your account without your email. To continue, make sure you provide email to create your account.", "subtitle to explain the step on email collection form", undefined, true);return(0,m.jsx)(s.xu,{marginTop:3,children:(0,m.jsxs)("form",{method:"post",noValidate:!0,onSubmit:e=>{e.preventDefault(),a()},children:[(0,m.jsx)(s.xv,{align:"start",overflow:"normal",children:r}),(0,m.jsx)(s.xu,{marginTop:3}),(0,m.jsx)(s.xu,{children:(0,m.jsx)(s.nv,{ref:eu.Z,errorMessage:Array.isArray(t)?t.join(""):t,id:"email",onChange:i,placeholder:n.bt("Адрес эл. почты", "Email address", "email placeholder in the email inputfield on email collection form", undefined, true),size:"lg",type:"email"})}),(0,m.jsx)(s.xu,{marginTop:5}),(0,m.jsx)(s.zx,{fullWidth:!0,color:"red",disabled:!e,text:n.bt("Продолжить", "Continue", "word on the button which to submit user email information", undefined, true),type:"submit"}),(0,m.jsx)(s.xu,{marginTop:2}),(0,m.jsx)(s.zx,{fullWidth:!0,onClick:()=>{(0,v.My)("unauth.fb_phone_only_signup.email_step.not_now_click"),o&&o()},text:n.bt("Не сейчас", "Not now", "word on not now button to dismiss the collection form", undefined, true),type:"submit"})]})})};var ep=o(261551),eg=o(450667);function em(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let ex={EMAIL:"email"};class ey extends l.Component{constructor(e){super(e),em(this,"mounted",!1),em(this,"handleEmailChange",({value:e})=>{this.setState({email:e})}),em(this,"showError",(e,t)=>{this.mounted&&t===ex.EMAIL&&this.setState({emailError:e})}),em(this,"handleSubmit",()=>{let{i18n:e}=this.props;if((0,v.My)("unauth.fb_phone_only_signup.submit_email"),(0,v.Rp)({event:"submit_email",provider:"facebook"}),this.state.email)(0,v.My)("unauth.fb_phone_only_signup.submit_email"),this.attemptEmailSignupOrLogin();else{let t=e.bt("Укажите адрес электронной почты", "Email is required", "email error message", undefined, true);this.setState({emailError:t})}}),em(this,"handleSignupSuccess",()=>{L.ZP.handleSignupRedirect(this.props.nextUrlParam||window.location.pathname,!0),(0,v.My)("unauth.fb_phone_only_signup.signup_success"),(0,v.Rp)({event:"signup_api_call_success",provider:"facebook"})}),em(this,"handleSignupFailure",e=>t=>{let{i18n:o}=this.props,i=t.message||o.bt("Ой! Произошла ошибка… Нажмите «Продолжить», чтобы повторить попытку.", "Oops! Something went wrong… Click Continue to try again.", "Error during signup during FB email collection step", undefined, true);this.showError(i,e),(0,v.My)("unauth.fb_phone_only_signup.signup_failure"),(0,v.Rp)({event:"signup_api_call_failure",provider:"facebook"})}),em(this,"attemptEmailSignupOrLogin",()=>{let{desktopCoreLoginContext:{register:e},i18n:t}=this.props,{email:o}=this.state,i=[(0,ea.GT)({message:t.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)})],l=(0,el.Z)(o,i);if(l){(0,v.My)("unauth.fb_phone_only_signup.email_validation_failure"),this.setState({emailError:l});return}let{registrationCredentials:{type:a,signupOptions:s},showSocialSignupWithAgeStep:n,showEmailAlreadyExistModal:r}=this.props;(0,q.Z)({url:"/v3/register/exists/",data:{email:o}}).then(t=>{if(!1===t.resource_response.data){let t={...s,email:o,email_source_site:M.E_.PINTEREST},{birthday:i}=t;if(void 0!==i&&(0,e_.Z)(i)){(0,v.Rp)({event:"signup_api_call_start",provider:"facebook"});let o=t.facebook_token?(0,eg.MI)(t.facebook_token).then(ep.Z):Promise.resolve(Object.freeze({}));o.then(o=>e({...o,...t,birthday:i,birthday_source_site:M.E_.FACEBOOK},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:10}})).then(this.handleSignupSuccess,this.handleSignupFailure(ex.EMAIL))}else n({type:a,signupOptions:t})}else r({email:o}),(0,v.My)("unauth.fb_phone_only_signup.email_existed")},e=>{let o=t.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true);e.api_error_code===T.bd&&(o=e.message),this.showError(o,ex.EMAIL),(0,v.My)("unauth.fb_phone_only_signup.email_exist_api_call_failure")})}),this.state={email:"",emailError:""}}componentDidMount(){this.mounted=!0,this.props.loadingIndicatorCallback&&this.props.loadingIndicatorCallback(!1)}componentWillUnmount(){this.mounted=!1}render(){return(0,m.jsx)(s.xu,{width:268,dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},children:(0,m.jsx)(eh,{email:this.state.email,emailError:this.state.emailError,handleEmailChange:this.handleEmailChange,handleSubmit:this.handleSubmit,onNotNowClick:this.props.onNotNowClick})})}}let ef=e=>{let t=(0,p.B$)(),o=(0,b.B)(),{checkExperiment:i}=(0,Q.F)(),l=(0,f.ZP)();return(0,m.jsx)(ey,{...e,checkExperiment:i,desktopCoreLoginContext:t,i18n:l,requestContext:o})};var eb=o(873093);let ew=({onClick:e})=>{let t=(0,b.B)(),o=(0,f.ZP)();return(0,m.jsx)(s.xu,{position:"absolute",display:"block",marginTop:4,marginEnd:4,marginStart:4,height:40,width:40,right:!t.isRTL,left:t.isRTL,top:!0,"data-test-id":"full-page-signup-close-button",children:(0,m.jsx)(s.hU,{accessibilityLabel:o.bt("закрыть", "close", "accessible label for close button", undefined, true),onClick:e,icon:"cancel",iconColor:"darkGray",size:"md"})})};var ev=o(167912),eP=o(870243),ek=o(988014),eA=o(624417),eS=o(497088);let eE=void 0!==i?i:i=o(223241),ez=({fallback:e,pinId:t,iconButton:o})=>{var i,l,a;let n=(0,f.ZP)(),r=(0,ev.useLazyLoadQuery)(eE,{pinId:t});if(!t)return e;let{dominantColor:d,embed:c,imageSpec_236x:_}=null!==(i=null===(l=r.v3GetPinQuery)||void 0===l?void 0:l.data)&&void 0!==i?i:{},u={"236x":null!==(a=null==_?void 0:_.url)&&void 0!==a?a:""},h=(0,eA.Z)({imagesUrls:u,embedSrc:null==c?void 0:c.src,embedType:null==c?void 0:c.type,preferredResolution:"236x",excludeOriginals:!0});return h?(0,m.jsxs)(s.xu,{width:82,height:80,position:"relative",margin:"auto","data-test-id":"signup-image-wrapper",children:[(0,m.jsx)(s.xu,{width:56,height:72,margin:"auto",marginBottom:6,marginTop:4,children:(0,m.jsx)(s.zd,{width:56,height:72,rounding:2,children:(0,m.jsx)(s.Ee,{alt:n.bt("Сохранить изображение пина", "Save pin image", "FullPageSignup.signupImage.savePinImage", undefined, true),color:d||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:h})})}),!!o&&(0,m.jsx)(s.xu,{position:"absolute",bottom:!0,right:!0,children:o})]}):e};function ej({container:e,fallback:t,savePinId:o,user:i,signupSource:l}){var n,r;let d=(0,f.ZP)(),{path:c}=(0,a.useRouteMatch)(),_=(0,a.useLocation)(),u=(0,ek.L6)(_),h=o||("/pin/:id"===c?_.pathname.split("/")[2]:null),{colorGray0:p}=(0,s.tv)();switch(e){case"follow":return(0,m.jsx)(s.xu,{display:"flex",justifyContent:"center",marginTop:8,marginBottom:4,children:(0,m.jsx)(eP.qE,{accessibilityLabel:d.bt("Аватар пользователя", "User Avatar", "profile.ProfileHeader.Avatar", undefined, true),name:null!==(n=null==i?void 0:i.full_name)&&void 0!==n?n:"",outline:!0,size:"md",src:null!==(r=null==i?void 0:i.image_large_url)&&void 0!==r?r:""})});case"save":case"download":return u&&h?(0,m.jsx)(eS.Z,{fallback:t,children:(0,m.jsx)(ez,{fallback:t,pinId:h,iconButton:"downloadImageBtnUnauth"===l?(0,m.jsx)(s.zd,{rounding:"circle",children:(0,m.jsx)("div",{onClick:()=>{(0,v.My)("dweb.unauth.signup_modal.download_icon.click")},"aria-hidden":"true",children:(0,m.jsx)(s.xu,{display:"flex",rounding:"circle",color:"lightWash",direction:"column",alignItems:"center",justifyContent:"center",width:32,height:32,dangerouslySetInlineStyle:{__style:{boxSizing:"border-box",border:`solid 3px ${p}`}},children:(0,m.jsx)(s.JO,{accessibilityLabel:d.bt("Зарегистрируйтесь, чтобы скачать", "Sign Up to download", "web.unauth.download_modal.download_value_prop_unauth", undefined, true),icon:"download",color:"default"})})})}):null})}):t;default:return t}}var eC=o(767874);function eT({large:e}){return(0,m.jsx)(s.xu,{display:"block",height:45,width:45,dangerouslySetInlineStyle:{__style:{margin:"8px auto 6px"}},children:(0,m.jsx)(eC.Z,{size:e?50:40})})}class eL extends l.Component{constructor(...e){var t,o,i;super(...e),t="componentDidMount",o=()=>{let{container:e,modalType:t}=this.props;(0,v.My)("web.unauth.modal_title.view"),(0,v.My)(`unauth_web_modal.${e||"unknown"}.tier1.${t}.shown`)},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}render(){let{container:e,titleText:t}=this.props;return(0,m.jsx)("h1",{style:{color:"#333",fontSize:"revamped_business_login_page"===e?"28px":"32px",fontWeight:"revamped_business_login_page"===e?"500":"600",letterSpacing:"-1.2px",MozOsxFontSmoothing:"grayscale",padding:"revamped_business_login_page"===e?"0px 0px":"0px 16px",WebkitFontSmoothing:"antialiased",wordBreak:"keep-all"},children:t})}}let eM=({email:e,emailError:t,onNotNowClick:o,handleEmailChange:i,handleSubmit:a})=>{let n=(0,f.ZP)();(0,l.useEffect)(()=>{(0,v.My)("unauth.line_missing_email.email_step")},[]),n.bt("Мы используем ваш адрес электронной почты для создания аккаунта, а также для отправки важных уведомлений о безопасности и правовых нормах.", "We use your email address for account creation and for important security and legal notices.", "subtitle to explain the step on email collection form", undefined, true);let r=n.bt("Ой. Мы не можем создать для вас аккаунт без адреса электронной почты. Укажите его, чтобы продолжить.", "Oops. We're unable to create your account without your email. To continue, make sure you provide email to create your account.", "subtitle to explain the step on email collection form", undefined, true);return(0,m.jsx)(s.xu,{marginTop:3,children:(0,m.jsxs)("form",{method:"post",noValidate:!0,onSubmit:e=>{e.preventDefault(),a()},children:[(0,m.jsx)(s.xv,{align:"start",overflow:"normal",children:r}),(0,m.jsx)(s.xu,{marginTop:3,marginBottom:5,children:(0,m.jsx)(s.nv,{ref:eu.Z,errorMessage:Array.isArray(t)?t.join(""):t,id:"email",onChange:i,placeholder:n.bt("Адрес эл. почты", "Email address", "email placeholder in the email inputfield on email collection form", undefined, true),size:"lg",type:"email"})}),(0,m.jsx)(s.zx,{fullWidth:!0,color:"red",disabled:!e,text:n.bt("Продолжить", "Continue", "word on the button which to submit user email information", undefined, true),type:"submit"}),(0,m.jsx)(s.xu,{marginTop:2}),(0,m.jsx)(s.zx,{fullWidth:!0,onClick:()=>{(0,v.My)("unauth.line_missing_email.email_step.not_now_click"),o&&o()},text:n.bt("Не сейчас", "Not now", "word on not now button to dismiss the collection form", undefined, true),type:"submit"})]})})};var eZ=o(272109);let eR=({nextUrlParam:e,loadingIndicatorCallback:t,showEmailAlreadyExistModal:o,onNotNowClick:i,registrationCredentials:a,showSocialSignupWithAgeStep:n})=>{let r=(0,p.B$)(),d=(0,f.ZP)(),[c,_]=(0,l.useState)(""),[u,h]=(0,l.useState)("");return(0,eZ.Z)(()=>{t(!1)}),(0,m.jsx)(s.xu,{marginTop:0,marginBottom:0,marginStart:"auto",marginEnd:"auto",width:268,children:(0,m.jsx)(eM,{email:c,emailError:u,handleEmailChange:({value:e})=>_(e),handleSubmit:()=>{if((0,v.My)("unauth.line_missing_email.submit_email"),!c){h(d.bt("Укажите адрес электронной почты", "Email is required", "email error message", undefined, true));return}(0,v.My)("unauth.line_missing_email.submit_email");let{register:i}=r,l=[(0,ea.GT)({message:d.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)})],s=(0,el.Z)(c,l);if(s){(0,v.My)("unauth.line_missing_email.email_validation_failure"),h(s);return}let{type:_,signupOptions:u}=a;(0,q.Z)({url:"/v3/register/exists/",data:{email:c}}).then(l=>{if(!1!==l.resource_response.data){o({email:c}),(0,v.My)("unauth.line_missing_email.email_existed");return}t(!0);let{birthday:a}=u;void 0===a?(n({type:_,signupOptions:{...u,email:c}}),t(!1)):i({...u,email:c,birthday:a},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:10}}).then(()=>{t(!1),L.ZP.handleSignupRedirect(e||L.ZP.defaultSocialLoginRedirectUrl(),!0),(0,v.My)("unauth.line_missing_email.signup_success")},e=>{t(!1);let o=e.message||d.bt("Ой! Произошла ошибка… Нажмите «Продолжить», чтобы повторить попытку.", "Oops! Something went wrong… Click Continue to try again.", "unauth.lineEmailCollect.error", undefined, true);h(o),(0,v.My)("unauth.line_missing_email.signup_failure")})},e=>{h(e.api_error_code===T.bd?e.message:d.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)),(0,v.My)("unauth.line_missing_email.email_exist_api_call_failure")})},onNotNowClick:i})})};var eB=o(227648),eI=o(388011),eF=o(777610),eO=o(361927),eN=o(630089),eD=o(36521);let eW=function({container:e="unknown",creds:t,isAccountSwitch:o,nextUrlParam:i,phoneNumberEnd:a}){let[n,r]=(0,l.useState)(null),[d,c]=(0,l.useState)(""),[_,u]=(0,l.useState)(!1),[h,p]=(0,l.useState)(!1),{isAuthenticated:x,loginState:y}=(0,b.B)(),P=(0,f.ZP)(),k=(0,Y.lO)(),A=(0,G.Z)(),S={container:e,page:null==k?void 0:k.pageType},{logContextEvent:E}=(0,eI.v)();(0,eF.Q)({view_type:565,view_parameter:3731}),(0,l.useEffect)(()=>{!o&&L.ZP.isFullyLoggedIn(x,y)&&L.ZP.handleRedirect(i)},[]);let z=P.bt("Продолжить", "Continue", " - ", undefined, true);return(0,m.jsxs)(s.xu,{width:268,dangerouslySetInlineStyle:{__style:{margin:"18px auto"}},children:[_&&(0,m.jsx)(eD.Z,{rounding:8}),(0,m.jsx)("p",{style:{fontSize:"14px",margin:"24px 0",textAlign:"center"},children:a?(0,eN.nk)(P.bt("На ваш телефон (заканчивается на {{ phoneNumberEnd }}) отправлен код. Введите его в поле ниже, чтобы войти.", "Please check your phone with the number ending in {{ phoneNumberEnd }} for a code and enter it in the field below to log in.", " - ", undefined, true),{phoneNumberEnd:(0,m.jsx)("strong",{children:a},"phone")}):P.bt("На ваш телефон отправлен код. Введите его в поле ниже, чтобы войти.", "Please check your phone for a code and enter it in the field below to log in.", " - ", undefined, true)}),(0,m.jsxs)("form",{method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),E({view_type:565,view_parameter:3731,event_type:101,element:12019});let o=(0,el.Z)(null!=d?d:"",[(0,ea.aH)({message:P.bt("Вы кое-что забыли! Укажите свой код подтверждения.", "You missed a spot! Don't forget to add your verification code.", " - ", undefined, true)}),(0,ea.VC)({message:P.bt("Хм… Это не похоже на код подтверждения.", "Hmm...that doesn't look like a verification code.", " - ", undefined, true)})]);o?(r(o),(0,v.My)("unauth.login.error.CLIENT_ERROR.wrongcode.loginmfa")):(r(null),u(!0),A({creds:{...t,mfa_token:d},loggingOptions:{loggingData:S,loginAttemptContextEvent:{event_type:7534,view_type:565,view_parameter:3731}}}).then(()=>{E({view_type:565,view_parameter:3731,event_type:9992});let e=window.location.pathname===w.lfe||window.location.pathname.startsWith(w.rOJ)?"/":window.location.pathname;L.ZP.handleRedirect(i||e)},e=>{e.message?r(e.message):(0,D.x)(P.bt("К сожалению, произошла ошибка.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),u(!1)}))},children:[(0,m.jsx)(eO.Z,{autoComplete:"off",focused:!0,hasError:!!n,id:"mfaCode",name:"code",onChange:e=>c(e.target.value),placeholder:P.bt("Код проверки", "Verification code", " - ", undefined, true),tooltip:n,type:"text",value:d}),(0,m.jsx)(g.Z,{accessibilityLabel:z,className:"red SignupButton",styleOverrides:{width:"100%",borderRadius:"20px"},type:"submit",children:(0,m.jsx)(s.xu,{children:z})})]}),(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"15px",color:"#333"}},children:(0,eN.nk)(P.bt("Если вы не получили его, мы можем {{ resendCode }}.", "If you didn't get it, we can {{ resendCode }}.", " - ", undefined, true),{resendCode:(0,m.jsx)(s.rU,{display:"inlineBlock",href:"",onClick:({event:e,dangerouslyDisableOnNavigation:o})=>{o(),e.preventDefault(),E({view_type:565,view_parameter:3731,event_type:101,element:12920}),u(!0),A({creds:{...t,mfa_resend:!0},loggingOptions:{loggingData:S,loginAttemptContextEvent:{event_type:7534,view_type:565,view_parameter:3731}}}).then(()=>{u(!1),p(!0)},e=>{u(!1),e.message?r(e.message):(0,D.x)(P.bt("К сожалению, произошла ошибка.", "Sorry! Something went wrong on our end.", " - ", undefined, true))})},underline:"hover",children:(0,m.jsx)(s.xv,{size:"100",weight:"bold",children:P.bt("повторно отправить код", "resend the code", " - ", undefined, true)})},"code")})}),h&&(0,m.jsx)(s.xu,{fit:!0,dangerouslySetInlineStyle:{__style:{bottom:50,left:"50%",transform:"translateX(-50%)"}},paddingX:1,position:"fixed",children:(0,m.jsx)(K.ZP,{onHide:()=>p(!1),text:P.bt("Мы отправили вам новый код.", "We sent you a new code!", "login2fa.resendCode.success", undefined, true),duration:5e3})})]})};var eV=o(380540);let eU={backgroundColor:"#fff",borderRadius:"8px",padding:"22px 0",position:"relative",textAlign:"center",width:"400px",margin:"auto",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},eG=({children:e,noBoxShadow:t})=>{let o={...eU,...t?{boxShadow:"none"}:{}},{viewer:i}=(0,p.B$)(),l=(0,p.Cw)();return"LIMITED_LOGIN"===i.type&&l?(0,m.jsxs)("div",{"data-test-id":"login-modal-default",style:{...o,display:"flex",width:"auto",padding:""},children:[(0,m.jsx)(s.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{borderRadius:"8px 0 0 8px"}},children:(0,m.jsx)(s.xu,{maxWidth:400,height:"100%",dangerouslySetInlineStyle:{__style:{width:"number"==typeof l.height&&"number"==typeof l.width?600*(l.width/l.height||0):0,backgroundSize:"cover",backgroundPosition:"center",backgroundImage:l.url?`url(${l.url})`:""}}})}),(0,m.jsx)(s.xu,{width:400,dangerouslySetInlineStyle:{__style:{padding:"32px 0"}},children:e})]}):(0,m.jsx)("div",{"data-test-id":"login-modal-default",style:{...o,padding:"32px 0"},children:e})},eY=({children:e,email:t,footer:o,handleNotYouClick:i,header:a,noBoxShadow:n,title:r,viewerInfo:d})=>{var c;let{viewer:_}=(0,p.B$)(),u=(0,f.ZP)();return(0,m.jsx)(eG,{noBoxShadow:n,children:(0,m.jsxs)(l.Fragment,{children:[a,(0,m.jsx)("div",{style:{display:"block",margin:"0 auto 16px",width:40,height:40},children:(0,m.jsx)(eC.Z,{size:40})}),(0,m.jsx)("div",{style:{__style:{width:"auto",overflow:"hidden",maxHeight:"150px",margin:"0 48px 16px"}},children:r}),"LIMITED_LOGIN"===_.type&&(0,m.jsx)(s.xu,{marginBottom:4,paddingX:12,children:(0,m.jsx)(eV.Z,{})}),(0,m.jsx)(s.xu,{width:120,dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},children:(0,m.jsx)(eP.qE,{name:d.firstName,src:null!==(c=d.imageUrl)&&void 0!==c?c:void 0})}),(0,m.jsx)(s.xu,{marginBottom:3,children:(0,m.jsx)(s.xv,{align:"center",children:t})}),e,(0,m.jsx)(s.xu,{paddingY:5,children:(0,m.jsx)(s.iz,{})}),(0,m.jsx)(s.xu,{"data-test-id":"login-switch-account",children:(0,m.jsx)(s.iP,{fullWidth:!1,onTap:({event:e})=>{e.preventDefault(),i()},children:(0,m.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:(0,m.jsx)(s.rU,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t()},children:u.bt("Это не вы? Войдите с помощью другого аккаунта", "Not you? Log in with a different account", "Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account", undefined, true)})})})}),(0,m.jsx)(s.xu,{marginBottom:0,marginTop:1,children:o})]})})};var eH=o(300218),e$=o(906215),eq=o(121633);let eK=e=>{e$.Z.resume(eq.LU),(0,v.My)(`web.dismiss_account_switcher.${e}`)};var eX=o(840093),eJ=o(488203),eQ=o(911386),e0=o(712968);let e1={backgroundColor:"#fff",borderRadius:"32px",position:"relative",textAlign:"center",margin:"auto",minHeight:"450px",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},e2={home_page:{...e1,minHeight:"initial"},pinBookmarklet:{...e1,boxShadow:"none"},revamped_business_login_page:{...e1,margin:void 0,textAlign:void 0}},e3={minHeight:"400px",padding:"20px 10px 24px"},e8={margin:"0 auto 22px",width:"270px"},e4=(e,t)=>{switch(t){case"boardInvite":return e.bt("Зарегистрируйтесь, чтобы принять приглашение на доску", "Sign up to accept your board invite", "Sign up copy board invite", undefined, true);case"saveButton":return e.bt("Регистрируйтесь, чтобы увидеть больше", "Sign up to see more", "signup copy save button", undefined, true);case"saveButtonExp":return e.bt("Зарегистрируйтесь в Pinterest, чтобы сохранить эту идею", "Join Pinterest to save this idea", "FullPageSignup.signupTagline.save", undefined, true);case"homePage":return e.bt("Добро пожаловать в Pinterest", "Welcome to Pinterest", "Title on desktop signup modal on home page", undefined, true);case"pinBookmarklet":return e.bt("Зарегистрироваться, чтобы сохранить этот пин", "Sign up to save this Pin!", "signup copy save button from third party website", undefined, true);case"downloadImageBtnDweb":return e.bt("Чтобы больше не терять свои идеи, создайте аккаунт", "Never lose track of your ideas again! Sign up for an account", "mweb.unauth.download_modal.download_value_prop", undefined, true);case"downloadImageBtnUnauth":return e.bt("Зарегистрируйтесь, чтобы скачать", "Sign Up to download", "web.unauth.download_modal.download_value_prop_unauth", undefined, true);case"followButton":return e.bt("Зарегистрируйтесь в Pinterest, чтобы подписаться", "Join Pinterest to follow", "mweb.unauth.follow_modal.follow_value_prop", undefined, true);default:return e.bt("Регистрируйтесь, чтобы увидеть больше", "Sign up to see more", "sigup copy default includes pin click and scrolling", undefined, true)}},e6=(e,t)=>{switch(t){case"boardInvite":return e.bt("Войдите, чтобы принять приглашение на доску", "Log in to accept your board invite", "Login copy board invite", undefined, true);case"homePage":return e.bt("Добро пожаловать в Pinterest", "Welcome to Pinterest", "Title on desktop signup modal on home page", undefined, true);case"pinBookmarklet":return e.bt("Войти, чтобы сохранить этот пин", "Sign in to save this Pin!", "Login copy save button from third party website", undefined, true);default:return e.bt("Войдите, чтобы увидеть больше", "Log in to see more", "Title on desktop login modal", undefined, true)}};function e5({container:e,savePinId:t,customLoginTagline:o,customSignupTagline:i,handleCloseButtonClick:d,handleShowingSignupWelcomeLoading:c,hideAccountSwitchValueProp:_,inviter:u,isAccountSwitch:h=!1,isBusiness:g,nextUrlParam:w,renderBusinessCreateButton:A,showCloseIcon:S,showResponseMessageModal:E,signupRedirectUrl:j,signupSource:T="defaultSource",suppressFocus:L,toggleType:M="DEFAULT_TOGGLE",signupFlow:Z,attributionLabel:R,onRedirectToSignup:B}){var F,O,N;let D=(0,b.B)(),W=(0,f.ZP)(),{viewer:{info:V,type:U}}=(0,p.B$)(),G=(0,r.Z)(),Y=(0,P.Z)(),{checkExperiment:H}=(0,Q.F)(),[$,q]=(0,l.useState)(!1),[K,X]=(0,l.useState)(!1),[J,ee]=(0,l.useState)(!1),[et,eo]=(0,l.useState)("signup"===(0,eQ.Z)().type?{type:"signup"}:Z),{trackConversionUpsell:ei}=(0,k.Z)(),[el,ea]=(0,l.useState)(!1),es=(0,y.Z)(U),{username:en}=(0,a.useParams)(),er=(0,e0.cm)(),ed=en?er(en):null,e_="commentComposerExp"===T&&H("web_unauth_comment_upsell_copy").group,eu="login"===et.type?14212:14214,[eh,ep]=(0,l.useState)(eu),eg=H("dweb_unauth_remove_fb_signup").anyEnabled,[em,ex]=(0,l.useState)(!1),ey="revamped_business_login_page"===e;(0,l.useEffect)(()=>((0,v.My)(`unauth.authentication_modal.shown.${M}.${et.type}`),()=>{h&&((0,eX.Z)("add_account_dismiss",null,e),eK(e))}),[]);let ev=(0,l.useRef)(et.type);(0,l.useEffect)(()=>{ev.current!==et.type&&(ev.current=et.type,(0,v.My)(`unauth.authentication_modal.shown.${M}.${et.type}`))});let ek=(0,l.useRef)(Z);(0,l.useEffect)(()=>{ek.current.type!==Z.type&&(ek.current=Z,eo(Z))});let eA=null!==(F=e2[e])&&void 0!==F?F:e1,eS=()=>w?decodeURIComponent(w):w,eE=e=>eS()?(0,eJ.Z)(e,{next:eS()}):e,ez=e=>eo({type:"EmailCollection",registrationCredentials:e}),eC=e=>eo({type:"socialSignupWithAge",registrationCredentials:e}),eM=(e,t)=>eo({type:"loginMfa",creds:e,phoneNumberEnd:(null==t?void 0:t.phoneNumberEnd)||void 0}),eZ=e=>{(0,v.My)(`unauth.personalized_login.prevent_register.${e}`),ea(!0),X(!1),eo({type:"signup"})},eI=()=>{(0,v.My)("unauth.personalized_login.not_you.click"),(0,v.NC)("click_change_signin_account"),G({aux_data:es,element:10879,event_type:101}),ei({eventType:14689,element:10879})},eF=e=>{(0,v.My)(`unauth.authentication_modal.${e}.${M}.${et.type}`)},eO=e=>{eF("login_toggle_click"),(0,v.NC)("click_toggle_login"),Y({action:"click",item:"login-button"}),ei({eventType:14689,element:13914}),eo({type:"login",email:null==e?void 0:e.email}),ep(14212),ei({eventType:14688,component:14212,element:13914,upsellReason:R,incrementUpsellReasonCounter:!1}),q(!1)},eV=({email:e})=>{if(eF("signup_toggle_click"),(0,v.NC)("click_toggle_signup"),ei({eventType:14689,element:13913}),j){(0,n.Z)(j,!1);return}ep(14214),ei({eventType:14688,component:14214,element:13913,upsellReason:R,incrementUpsellReasonCounter:!1}),eo({type:"signup",email:e})},eG=({email:e})=>(0,m.jsx)(s.iP,{fullWidth:!1,onTap:t=>{let o={event_type:101,element:10880};g?G(o):(t.event.preventDefault(),(0,v.My)("unauth.personalized_login.signup_instead.click"),G({...o,aux_data:es}),eV({email:e}))},children:(0,m.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:(0,m.jsx)(s.xu,{"data-test-id":"need-account-link",children:(0,m.jsx)(s.rU,{href:g?eE("/business/create"):"#",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:W.bt("Нужен аккаунт? Зарегистрируйтесь", "Need an account? Sign up now", "Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account", undefined, true)})})})}),e$=eg?em:void 0,eq=eg?()=>{(0,v.My)("remove_fb_signup.dweb_login_form"),X(!1),ex(!0)}:void 0,e5=S&&(0,m.jsx)(ew,{onClick:d});if(J&&["signup","login","socialSignupWithAge"].includes(et.type))return(0,m.jsx)(eH.Z,{});switch(et.type){case"signup":case"respondMessage":{let o=$?W.bt("С возвращением в Pinterest!", "Welcome back to Pinterest!", "welcoming user back to pinterest in signup modal when we recognize their email", undefined, true):i||e4(W,T),a=u&&!u.is_default_image?u:null,n=(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:e8},width:"login_page"!==e?400:void 0,children:(0,m.jsx)(eL,{container:e,modalType:"signup",titleText:a&&("respondMessage"===Z.type?(W.bt("Зарегистрируйтесь и поделитесь своим мнением с пользователем {{ name }}", "Sign up and let {{ name }} know what you think", "Prompt user to signup to access all Pinterest features", undefined, true)).replace("{{ name }}",a.first_name||a.full_name):(W.bt("Присоединяйтесь к пользователю {{ name }} в Pinterest, чтобы найти больше идей", "Join {{ name }} on Pinterest for more ideas", "Prompt user to signup to access all Pinterest features", undefined, true)).replace("{{ name }}",a.first_name||a.full_name))||(["login_page","home_page","save","download","follow"].includes(e)?o:W.bt("Неограниченный бесплатный доступ к наилучшим идеям со всего мира", "Unlimited free access to the world's best ideas", "FullPageSignup.signupTitle.save", undefined, true))})});return(0,m.jsxs)(s.xu,{"data-test-id":"signup-default-modal",width:484,dangerouslySetInlineStyle:{__style:eA},children:[K&&(0,m.jsx)(eD.Z,{}),(0,m.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:a?{minHeight:"400px",padding:"30px 10px 20px"}:e3},children:[e5,a?(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(s.xu,{width:108,dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},children:(0,m.jsx)(eP.qE,{name:a.first_name||a.full_name,src:a.image_medium_url,verified:"respondMessage"===Z.type})}),n]}):(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(ej,{container:e,fallback:(0,m.jsx)(eT,{large:"homePage"!==T}),savePinId:t,user:ed,signupSource:T}),n,(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:e8},children:!$&&(0,m.jsx)(s.xu,{marginTop:-4,marginBottom:4,children:(0,m.jsx)(s.xv,{size:"300",align:"center",children:"enabled_signup_comment"===e_&&W.bt("Создайте аккаунт, чтобы добавлять комментарии и общаться с сообществом Pinterest", "Create an account to add a comment and connect with the Pinterest community", "dweb.full_page_signup.comment_compose.upsell_text", undefined, true)||"enabled_signup_converse"===e_&&W.bt("Создайте аккаунт, чтобы добавлять комментарии и взаимодействовать с сообществом Pinterest", "Create an account to add a comment and interact with the Pinterest community", "dweb.full_page_signup.comment_compose.upsell_text", undefined, true)||("login_page"!==e&&"home_page"!==e&&"save"!==e&&"download"!==e&&"follow"!==e?o:"downloadImageBtnDweb"===T&&W.bt("Узнайте, как эффективно упорядочивать идеи", "Discover a better way to keep your ideas organized", "mweb.unauth.signup_modal.download_value_prop_subheader", undefined, true)||"downloadImageBtnUnauth"===T&&W.bt("Скачайте это изображения и не только с помощью аккаунта Pinterest", "Download this image and more with a Pinterest Account", "web.unauth.signup_modal.download_value_prop_subheader", undefined, true)||"followButton"===T&&(0,eN.nk)(W.bt("Создайте аккаунт, чтобы подписаться на автора {{ creatorName }}", "Create an account to follow {{ creatorName }}", "mweb.unauth.signup_modal.follow_value_prop_subheader", undefined, true),{creatorName:null==ed?void 0:ed.full_name})||"homePage"===T&&W.bt("Находите новые идеи для вдохновения", "Find new ideas to try", "Value prop on desktop signup modal on home page", undefined, true)||"saveButtonExp"===T&&W.bt("Неограниченный бесплатный доступ к наилучшим идеям со всего мира", "Unlimited free access to the world's best ideas", "FullPageSignup.signupSubTitle.saDDve", undefined, true)||W.bt("Ищите полезное", "Discovery starts here", "Pinterest value proposition on desktop login modal", undefined, true))})})})]}),(0,m.jsx)(s.xu,{"data-test-id":"signup-options",position:"relative",dangerouslySetInlineStyle:{__style:{textAlign:"center",margin:"0 auto"}},children:(0,m.jsx)(ec,{additionalChildren:(0,m.jsx)(z,{layout:"NOT_NOW_BUTTON"===M&&"SIGNUP_LARGE"||"home_page"===e&&"SIGNUP_SMALL"||"SIGNUP_DEFAULT",onClick:()=>eO({email:et.email}),type:"signupToLogin",shouldHideBusinessCreateFooterLink:!!A}),container:e,disablePostSignupNextUrl:!w,email:null!==(O=et.email)&&void 0!==O?O:"",loadingIndicatorCallback:X,nextUrlParam:eS(),onBirthdayUnderage:({birthday:e,email:t})=>{eo({type:"UnderageConfirmation",birthday:e,email:t})},onFBPhoneOnlyConnectVerified:ez,onFBMissingEmail:ez,onLoginWithMfa:eM,setEmail:e=>eo((et.type,{...et,email:e})),showResponseMessageModal:"respondMessage"===Z.type?E:void 0,showSignupWelcomeLoadingFn:e=>{ee(e),c&&c(e)},signupSource:T,suppressFocus:L,switchToSocialSignupWithAgeFlow:eC,component:eh,attributionLabel:R})})]}),A&&A()]})}case"login":{if(!el&&!h&&V&&"AUTH"!==U&&"bottom.right.upsell.email"!==e){let t=V.hasPassword||V.connectedToFacebook||V.connectedToGoogle;return(0,m.jsx)(eY,{email:null!==(N=et.email)&&void 0!==N?N:"",handleNotYouClick:()=>{ea(!0),eI()},noBoxShadow:"pinBookmarklet"===e,header:(0,m.jsxs)(l.Fragment,{children:[K&&(0,m.jsx)(eD.Z,{}),e5]}),viewerInfo:V,title:(0,m.jsx)(eL,{container:e,modalType:"personalizedLogin",titleText:(0,eN.nk)(W.bt("С возвращением, {{name}}!", "Welcome back, {{name}}!", "Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest", undefined, true),{name:V?V.firstName:""}).join("")}),footer:eG({email:et.email}),children:(0,m.jsx)(eB.ZP,{container:e,disablePostSignupNextUrl:!w,email:V.email,hideEmailField:!0,hideFacebookButton:t&&!V.connectedToFacebook,hideGoogleButton:t&&!V.connectedToGoogle,hideLineButton:t,hidePasswordField:t&&!V.hasPassword,hideTermsOfService:!0,loadingIndicatorCallback:X,loginButtonTextOverride:W.bt("Продолжить", "Continue", " - ", undefined, true),nextUrlParam:eS(),onEmailChange:()=>{},onLoginWithMfa:eM,requestContext:D,showResponseMessageModal:"respondMessage"===Z.type?E:void 0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:eZ},shouldHideFBButtonForSignup:e$,disableFBSignup:eq,component:eh,attributionLabel:R})})}let t="enabled_login_comment"===e_?W.bt("Войдите в аккаунт, чтобы оставить комментарий", "Log in to comment", "dweb.unauth.comment_compose.upsell_tagline", undefined, true):o||e6(W,T),i=(0,m.jsx)(s.xu,{height:62,color:"secondary",bottom:!0,left:!0,width:"100%",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 32px 32px"}},children:(0,m.jsx)(s.iP,{fullHeight:!0,onTap:()=>{(0,n.Z)((0,eJ.Z)("/login"),!0),(0,v.My)("unauth.business.login_personal_account.click"),G({event_type:101,component:13096,element:10773,aux_data:{is_revamped_business_login:!0}})},children:(0,m.jsx)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,m.jsx)(s.xv,{weight:"bold",children:W.bt("Войти в личный аккаунт", "Log in to a personal account", "bizsite.revampSignup.redirectToPersonalAccountLogin", undefined, true)})})})});return(0,m.jsxs)(s.xu,{"data-test-id":"login-modal-default",width:ey?480:484,dangerouslySetInlineStyle:{__style:eA},children:[K&&(0,m.jsx)(eD.Z,{}),(0,m.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{...e3,...ey?{padding:"40px"}:{}}},children:[e5,em&&eg&&(0,m.jsx)(eb.Z,{}),!ey&&(0,m.jsx)(eT,{large:"homePage"!==T}),(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:ey?{...e8,width:void 0,marginBottom:"40px"}:e8},width:["login_page","revamped_business_login_page"].includes(e)?void 0:400,children:(0,m.jsx)(eL,{container:e,modalType:"login",titleText:t})}),h&&!_&&(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:e8},children:(0,m.jsx)(s.xu,{marginTop:-4,marginBottom:8,children:(0,m.jsx)(s.xv,{align:"center",size:"300",children:W.bt("У вас есть другой аккаунт Pinterest? Войдите, чтобы удобно переключаться между ними", "Have another Pinterest account? Log in to easily switch between them", "Subtitle on the login modal that explains to a user why they would add an additional account to their profile", undefined, true)})})}),(0,m.jsx)(eB.ZP,{container:e,disablePostSignupNextUrl:!w,email:et.email,isAccountSwitch:h,loadingIndicatorCallback:X,nextUrlParam:eS(),onEmailChange:e=>eo({...et,email:e.target.value}),onRedirectToSignup:B,onFBPhoneOnlyConnectVerified:ez,onLoginWithMfa:eM,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:eC},requestContext:D,showResponseMessageModal:"respondMessage"===Z.type?E:void 0,shouldHideFBButtonForSignup:e$,disableFBSignup:eq,component:eh,attributionLabel:R}),g?!ey&&(0,m.jsxs)(s.kC,{direction:"column",alignItems:"center",children:[(0,m.jsx)(x,{}),(0,m.jsx)(s.xv,{weight:"bold",size:"100",children:(0,m.jsx)(s.rU,{href:eE("/business/create"),children:W.bt("Создать аккаунт", "Create new account", "Link to the page to create a new business account instead of logging in", undefined, true)})})]}):!h&&(0,m.jsx)(z,{layout:"NOT_NOW_BUTTON"===M&&"LOGIN_INLINE"||"SMALL_TOGGLE"===M&&"LOGIN_SMALL"||"LOGIN_DEFAULT",type:"loginToSignup",onClick:()=>{eV({email:et.email})}})]}),ey&&i]})}case"loginMfa":return(0,m.jsx)(s.xu,{"data-test-id":"login-modal-mfa",width:489,dangerouslySetInlineStyle:{__style:eA},children:(0,m.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:e3},children:[e5,(0,m.jsx)(eT,{}),(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...e8,padding:"0 10px"}},width:"100%",children:(0,m.jsx)(eL,{container:e,modalType:"loginMfa",titleText:W.bt("Требуется двухфакторная аутентификация", "Two-factor authentication required", "desktopLoginModal.2fa.title", undefined, true)})}),(0,m.jsx)(eW,{container:e,creds:et.creds,isAccountSwitch:h,nextUrlParam:eS(),phoneNumberEnd:et.phoneNumberEnd})]})});case"socialSignupWithAge":return(0,m.jsx)(s.xu,{"data-test-id":"birthday-collection-modal",dangerouslySetInlineStyle:{__style:eA},minHeight:"0",children:(0,m.jsx)(I,{disablePostSignupNextUrl:!w,handleLoginToggleButtonClick:eO,loadingIndicatorCallback:X,nextUrlParam:eS(),registrationCredentials:et.registrationCredentials,showResponseMessageModal:"respondMessage"===Z.type?E:void 0})});case"EmailCollection":{let e=()=>{eo({type:"signup",email:et.registrationCredentials.signupOptions.email}),X(!1)},t=({email:e})=>eo({type:"EmailAlreadyExist",email:e});return(0,m.jsxs)(s.xu,{"data-test-id":"line"===et.registrationCredentials.type?"signup-modal-line-phone-only":"signup-modal-facebook-phone-only",minHeight:400,dangerouslySetInlineStyle:{__style:e1},children:[K&&(0,m.jsx)(eD.Z,{}),(0,m.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:e3},children:[e5,(0,m.jsx)(eT,{}),(0,m.jsx)(s.xu,{width:310,dangerouslySetInlineStyle:{__style:e8},children:(0,m.jsx)(s.X6,{size:"600",children:W.bt("Укажите свой адрес электронной почты", "What's your email address?", "Prompt for email address in after sign in with line", undefined, true)})}),"line"===et.registrationCredentials.type?(0,m.jsx)(eR,{loadingIndicatorCallback:X,nextUrlParam:w,onNotNowClick:e,registrationCredentials:et.registrationCredentials,showEmailAlreadyExistModal:t,showSocialSignupWithAgeStep:eC}):(0,m.jsx)(ef,{loadingIndicatorCallback:X,nextUrlParam:w,onNotNowClick:e,registrationCredentials:et.registrationCredentials,showEmailAlreadyExistModal:t,showSocialSignupWithAgeStep:eC})]})]})}case"EmailAlreadyExist":return(0,m.jsxs)(s.xu,{"data-test-id":"login-modal-existing-email",dangerouslySetInlineStyle:{__style:eU},children:[K&&(0,m.jsx)(eD.Z,{}),(0,m.jsx)(eT,{}),(0,m.jsx)(s.xu,{overflow:"hidden",maxHeight:120,width:350,dangerouslySetInlineStyle:{__style:e8},children:(0,m.jsx)(eL,{container:e,modalType:"personalizedLogin",titleText:(0,eN.nk)(W.bt("Похоже, вы уже зарегистрированы в Pinterest", "Looks like you're already on Pinterest", "Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest", undefined, true),{name:V?V.firstName:""}).join("")})}),(0,m.jsx)(s.xu,{marginBottom:3,children:(0,m.jsx)(s.xv,{align:"center",children:et.email})}),(0,m.jsx)(eB.ZP,{container:e,disablePostSignupNextUrl:!w,email:et.email,hideEmailField:!0,hideFacebookButton:!0,hideLineButton:!0,hideTermsOfService:!0,loadingIndicatorCallback:X,loginButtonTextOverride:W.bt("Продолжить", "Continue", " - ", undefined, true),nextUrlParam:eS(),onEmailChange:()=>{},onLoginWithMfa:eM,requestContext:D,showResponseMessageModal:"respondMessage"===Z.type?E:void 0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:eZ},shouldHideFBButtonForSignup:e$,disableFBSignup:eq,component:eh,attributionLabel:R}),(0,m.jsx)(s.xu,{paddingY:5,children:(0,m.jsx)(s.iz,{})}),(0,m.jsx)(s.xu,{"data-test-id":"login-switch-account",children:(0,m.jsx)(s.iP,{fullWidth:!1,onTap:({event:e})=>{e.preventDefault(),eo({type:"login"}),ea(!0),eI()},children:(0,m.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:(0,m.jsx)(s.rU,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t()},children:W.bt("Это не вы? Войдите с помощью другого аккаунта", "Not you? Log in with a different account", "Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account", undefined, true)})})})}),(0,m.jsx)(s.xu,{marginBottom:4,marginTop:1,children:eG({email:et.email})}),e5]});case"UnderageConfirmation":return(0,m.jsx)(s.xu,{"data-test-id":"underage-confirmation-modal",dangerouslySetInlineStyle:{__style:eA},children:(0,m.jsx)(C.Z,{birthday:et.birthday,onEditBirthday:()=>{eo({type:"signup",email:et.email}),X(!1)}})});default:return null}}},751222:(e,t,o)=>{o.d(t,{Z:()=>C});var i=o(667294),l=o(883119),a=o(891643),s=o(45818),n=o(38730),r=o(152448),d=o(975601),c=o(536042),_=o(353226),u=o(785893);function h(e){let t=(0,c.ZP)(),{tooltip:o}=e,[a,s]=(0,i.useState)();return(0,u.jsxs)(l.xu,{"data-test-id":"google-connect-button",position:"relative",children:[(0,u.jsx)(n.Z,{onClick:()=>s(!0),type:"button",styleOverrides:{width:"100%",borderRadius:"20px",border:"0px solid"},children:(0,u.jsxs)(l.kC,{alignItems:"center",justifyContent:"center",children:[(0,u.jsx)(l.xu,{height:24,width:24,marginTop:1,children:(0,u.jsx)(_.Z,{size:20})}),(0,u.jsx)(l.xu,{marginStart:2,children:(0,u.jsx)(l.xv,{weight:"bold",children:t.bt("Подключиться через Google", "Connect with Google", "googleConnectButtonWithDisabledSDK.buttonText", undefined, true)})})]})}),!!o&&(0,u.jsx)(l.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:"12px",left:"100%"}},children:(0,u.jsx)(d.ZP,{message:o})}),a&&(0,u.jsx)(r.Z,{type:"google",onDismiss:()=>s(!1)})]})}var p=o(321443),g=o(759495),m=o(95983),x=o(391670),y=o(752977),f=o(315219),b=o(539636),w=o(684113),v=o(324159),P=o(950861),k=o(822123),A=o(245410),S=o(282802),E=o(98736),z=o(272109);let j=({container:e,isAccountSwitch:t,nextUrlParam:o,onLoginWithMfa:n,onLoginWithSuspended:r,onLoginWithVoluntarilyDeactivated:_,showResponseMessageModal:h,socialSignupCallbacks:j,tooltip:C,showLoginRateLimited:T,onClick:L,logo_centered:M=!1})=>{let{viewer:{type:Z}}=(0,a.B$)(),R=(0,g.Z)(),B=(0,x.lO)(),I=(0,c.ZP)(),{checkExperiment:F}=(0,A.F)(),O=(0,v.M)(),N=(0,i.useRef)(null),D=F("dweb_google_button_locale_fix").anyEnabled,{locale:W}=(0,S.B)(),V=D?W:void 0,U=F("dweb_google_no_password",{dangerouslySkipActivation:!0}).anyEnabled;return(0,z.Z)(()=>(window.googleConnectButtonContainer=e||"",()=>{delete window.googleConnectButtonContainer})),(0,z.Z)(()=>{let i=({credential:i,select_by:l})=>{let a=(0,w.mK)((0,w.PL)(l));R({creds:{google_open_id_token:i},loggingOptions:{loggingData:{container:window.googleConnectButtonContainer,page:null==B?void 0:B.pageType,trigger:a},loginAttemptContextEvent:{event_type:7534,element:12981,aux_data:{...(0,m.Z)(Z),signup_login_method:k.Z.GPLUS}}},isAccountSwitch:t}).then(i=>{var l;let a=null==i?void 0:null===(l=i.resource_response.data)||void 0===l?void 0:l.user;t&&a&&(0,y.Z)(a,"google",e),h?h(!1):P.ZP.handleRedirect(o||P.ZP.defaultSocialLoginRedirectUrl()),F("m10n_measurement_pinterest_tag_us").anyEnabled&&(0,p.Z)()},e=>{switch(f.ik.includes(e.api_error_code)&&(null==T||T()),e.api_error_code){case f.E6:null==_||_(e.message);break;case f.Zn:var t;null==n||n({google_open_id_token:i},{phoneNumberEnd:null===(t=e.data)||void 0===t?void 0:t.phone_number_end});break;case f.xN:if("ACCOUNT_RECOVERY"===j.type)j.switchToAccountRecoverySignupFlow("google");else{(0,E.Rp)({event:"start",provider:"google"});let e=(0,b.Z)(i),t={container:window.googleConnectButtonContainer,page:null==B?void 0:B.pageType,trigger:a},o={type:"google",google_open_id_token:i,first_name:e.given_name,last_name:e.family_name,image_url:e.picture};j.switchToSocialSignupWithAgeFlow({type:"google",context:t,signupOptions:{...o}})}break;default:e.api_error_code===f.an&&r?r():(0,s.x)(I.bt("При входе в систему произошла ошибка.", "Sorry, we can't log you in.", "error message when user failed to login caused by suspend/deactivated etc.", undefined, true))}})},l=async()=>{await (null==O?void 0:O.ensureInit("button",i)),(0,w.ru)({buttonRef:N,isDesktop:!0,locale:V,logo_alignment:M?"center":"left"})};return l(),()=>{null==O||O.removeButtonCallback(i)}}),(0,u.jsxs)(l.xu,{"data-test-id":"google-connect-button",position:"relative",children:[(0,u.jsx)(l.xu,{height:44,children:(0,u.jsx)("div",{ref:N,style:{position:"absolute",width:"100%"},onClick:()=>{null==L||L()}})}),!!C&&(0,u.jsx)(l.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:U?"6px":"12px",left:"100%"}},children:(0,u.jsx)(d.ZP,{message:C,color:U?"#0074E8":""})})]})};function C(e){let{checkExperiment:t}=(0,A.F)(),{anyEnabled:o}=t("web_google_disabled");return o?(0,u.jsx)(h,{tooltip:e.tooltip}):(0,u.jsx)(j,{...e})}},380540:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(883119),l=o(583121),a=o(536042),s=o(393599),n=o(785893);let r=({useDefaultText:e})=>{let{limitedLoginModalSubheader:t}=(0,s.H)(),o=(0,a.ZP)();return(0,n.jsx)(i.xv,{align:"center",overflow:"normal",children:e||!t?(0,l.lt)(o):t.text})}},227648:(e,t,o)=>{o.d(t,{OL:()=>U,ZP:()=>Y});var i=o(667294),l=o(883119),a=o(388011),s=o(788241),n=o(228742),r=o(384955),d=o(891643),c=o(45818),_=o(94802),u=o(751222),h=o(794121),p=o(435983),g=o(402833),m=o(759495),x=o(95983),y=o(391670),f=o(604094),b=o(970588),w=o(536042),v=o(906215),P=o(121633),k=o(752977),A=o(315219),S=o(18759),E=o(950861),z=o(822123),j=o(61833),C=o(282802),T=o(785629),L=o(643183),M=o(837792),Z=o(98736),R=o(706874),B=o(565479),I=o(966633),F=o(392881),O=o(785893);function N(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let D=(0,i.lazy)(()=>o.e(92798).then(o.bind(o,892798))),W=M.lfe,V="loginmodal",U="6LeZIo0UAAAAAKFpimHio-ff_ddIT8f_QzpXG0_1";class G extends i.Component{constructor(e){super(e),N(this,"onLoginWithVoluntarilyDeactivated",e=>this.setState({googleValidationError:e})),N(this,"onLoginWithSuspended",()=>{let{loadingIndicatorCallback:e}=this.props;e&&e(!1),this.setState({accountRecoveryModalType:n.w[A.an],loading:!1})}),N(this,"onloadCallback",()=>{try{window.recaptchaIdOne=window.grecaptcha.render("recaptcha_placeholder_1",{sitekey:U,callback:"verifyCaptcha"})}catch(e){}try{window.recaptchaIdTwo=window.grecaptcha.render("recaptcha_placeholder_2",{sitekey:U,callback:"verifyCaptcha"})}catch(e){}}),N(this,"handleButtonClick",(e,t)=>{var o;(0,Z.My)("unauth.login.button.clicked");let{logContextEvent:i,desktopCoreLoginContext:{viewer:l}}=this.props;i({event_type:101,element:30,aux_data:{...(0,x.Z)(l.type),signup_login_method:z.Z.EMAIL}}),this.setState({googleValidationError:null,hideFBGoogleToolTip:!1});let a=(0,I.Z)(null!==(o=this.props.email)&&void 0!==o?o:"",this.emailValidators);if(a)this.setState({emailValidationError:a}),(0,Z.My)(`unauth.login.error.CLIENT_ERROR.malformemail.${V}`);else{this.setState({emailValidationError:null}),a=(0,I.Z)(this.props.password,this.passwordValidators);let e=(0,I.Z)(this.props.password,this.asciiValidators);a?(this.setState({passwordValidationError:a}),(0,Z.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${V}`)):e?(this.setState({passwordValidationError:e}),(0,Z.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${V}`)):(this.setState({passwordValidationError:null}),this.loginUser("email",void 0,t))}}),N(this,"updateAccountRecoveryModal",e=>this.setState({accountRecoveryModalType:e})),N(this,"loadRecaptchaView",()=>{if("undefined"!=typeof document&&document.head){if(document.getElementById("recaptcha-jssdk"))this.onloadCallback();else{let e=document.createElement("script");e.id="recaptcha-jssdk",e.src="https://www.recaptcha.net/recaptcha/api.js?onload=onloadCallback&render=explicit",document.head&&document.head.appendChild(e)}}}),N(this,"handleLoginFailure",(e,t,o)=>{let{email:i,i18n:l,loadingIndicatorCallback:a,setPassword:s,requestContext:r}=this.props;(0,Z.My)(`unauth.login.error.LOGIN_FAILURE.${e}`),a(!1),this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token();let d=t.http_status||t.httpStatus,_=d===T.Ej?T.Ej:t.api_error_code;if(_===A.Zn){var u;E.ZP.handleLoginMfa(o,{phoneNumberEnd:null===(u=t.data)||void 0===u?void 0:u.phone_number_end},this.props.onLoginWithMfa);return}if(d===T.Ej&&_===A.bd&&t.message&&"!"!==t.message[t.message.length-1]&&!E.ZP.isExceedRecaptchaLocalLimit()||_===A._K&&d===T.AB&&!E.ZP.isExceedRecaptchaLocalLimit()){this.loadRecaptchaView(),this.setState({passwordValidationError:l.bt("Ой! Вход выполнен слишком быстро. Повторите попытку с reCAPTCHA.", "Oops! You logged in too quickly. Please try again with the reCAPTCHA.", "Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha", undefined, true),loading:!1});return}let h=l.bt("Кнопка входа с помощью Google", "Log in with Google button", "dweb.login.google_no_password.callout2", undefined, true),p=(0,S.Z)({error:t,source:"login",onClickPasswordReset:()=>{(0,Z.My)("unauth_password_reset_link_tapped"),(0,b.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:i}}).then(()=>this.updateAccountRecoveryModal(E.Ny.PASSWORD_RESET_SENT))}});"enabled_submit"===r.experimentsClient.checkExperiment("dweb_google_no_password").group&&_===A.iK?this.setState({passwordValidationError:t.message,googleValidationError:h}):"enabled_blur_tooltip"===r.experimentsClient.checkExperiment("dweb_google_no_password").group&&_===A.iK?this.setState({emailValidationError:t.message,googleValidationError:h}):"enabled_blur"===r.experimentsClient.checkExperiment("dweb_google_no_password").group&&_===A.iK?this.setState({loading:!1}):p?(this.setState({...p,accountRecoveryModalType:_?n.w[_]:void 0,loading:!1}),p.passwordValidationError&&s("")):((0,c.x)(l.bt("К сожалению, произошла ошибка.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),this.setState({loading:!1}))}),N(this,"verifyCaptcha",()=>{let e=window.grecaptcha.getResponse(window.recaptchaIdOne)||window.grecaptcha.getResponse(window.recaptchaIdTwo);E.ZP.updateRecaptchaTimeStamp(),this.handleButtonClick(void 0,e),E.ZP.isExceedRecaptchaLocalLimit()||(void 0!==window.recaptchaIdOne&&window.grecaptcha.reset(window.recaptchaIdOne),void 0!==window.recaptchaIdTwo&&window.grecaptcha.reset(window.recaptchaIdTwo))}),N(this,"handleEmailChange",e=>{this.props.onEmailChange&&this.props.onEmailChange(e),this.setState({hideFBGoogleToolTip:!0})}),N(this,"handlePasswordChange",e=>{this.state.passwordValidationError&&this.setState({passwordValidationError:null}),this.props.setPassword(e.target.value)}),N(this,"checkGoogleNoPasswordEmailError",e=>{let{container:t,email:o,login:i,pageContext:l,password:a,i18n:s}=this.props;i({creds:{username_or_email:null!=o?o:"",password:null!=a?a:""},loggingOptions:{loggingData:{container:t,page:null==l?void 0:l.pageType},loginAttemptContextEvent:{event_type:7534}}}).catch(t=>{t.api_error_code===A.iK&&"enabled_blur_tooltip"===e?this.setState({hideFBGoogleToolTip:!1,emailValidationError:t.message,googleValidationError:s.bt("Кнопка входа с помощью Google", "Log in with Google button", "dweb.login.google_no_password.callout", undefined, true)}):t.api_error_code===A.iK&&"enabled_blur"===e&&this.setState({emailValidationError:t.message})})}),N(this,"handleBlur",()=>{var e;let{requestContext:t}=this.props,{group:o}=t.experimentsClient.checkExperiment("dweb_google_no_password");o.includes("blur")&&this.checkGoogleNoPasswordEmailError(o),this.setState({googleValidationError:null});let i=(0,I.Z)(null!==(e=this.props.email)&&void 0!==e?e:"",this.asciiValidators);i&&(0,Z.My)(`unauth.login.error.CLIENT_ERROR.nonasciiemail.${V}`),(i=(0,I.Z)(this.props.password,this.asciiValidators))&&(0,Z.My)(`unauth.login.error.CLIENT_ERROR.nonasciipwd.${V}`)}),N(this,"renderSocialButtons",()=>{let{disablePostSignupNextUrl:e,hideFacebookButton:t,hideLineButton:o,hideGoogleButton:a,isAccountSwitch:s,isPersonalizedLoginFlyout:n,loadingIndicatorCallback:r,nextUrlParam:d,onLoginWithMfa:c,onFBPhoneOnlyConnectVerified:h,onFBMissingEmail:p,shouldHideFBButtonForSignup:g,disableFBSignup:m,container:x="unknown",socialSignupCallbacks:y,showResponseMessageModal:b,isLineAuthenticationEnabled:w,trackConversionUpsell:v,requestContext:P}=this.props,{hideFBGoogleToolTip:k}=this.state,A="ACCOUNT_RECOVERY"===y.type?{...y,type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:e=>{"facebook"===e?this.updateAccountRecoveryModal(E.Ny.PREVENT_FACEBOOK_REGISTER):"google"===e&&this.updateAccountRecoveryModal(E.Ny.PREVENT_GOOGLE_REGISTER),y.switchToAccountRecoverySignupFlow(e)}}:y,S=e=>{v({element:e,eventType:14689})},z=P.experimentsClient.checkExperiment("dweb_unauth_remove_all_fb_auth").anyEnabled||P.experimentsClient.checkExperiment("dweb_unauth_remove_fb_signup").anyEnabled&&g,j=!(z||t)&&(0,O.jsx)(_.Z,{container:x,disablePostSignupNextUrl:e,isAccountSwitch:s,loadingIndicatorCallback:r,nextUrlParam:d,onFBPhoneOnlyConnectVerified:h,onFBMissingEmail:p,disableFBSignup:m,onLoginWithMfa:c,onLoginWithSuspended:this.onLoginWithSuspended,socialSignupCallbacks:A,showResponseMessageModal:b,tooltip:null,showLoginRateLimited:()=>this.updateAccountRecoveryModal(E.Ny.RATE_LIMITED),onClick:()=>{S(13505)}}),C=!a&&(0,O.jsx)(u.Z,{container:x,isAccountSwitch:s,nextUrlParam:d,onLoginWithMfa:c,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,showResponseMessageModal:b,tooltip:!k&&this.state.googleValidationError||null,showLoginRateLimited:()=>this.updateAccountRecoveryModal(E.Ny.RATE_LIMITED),socialSignupCallbacks:A,onClick:()=>{S(13504)},logo_centered:"revamped_business_login_page"===x}),T=!o&&w&&(0,O.jsx)(f.Z,{name:"SafeSuspense_LineConnectButton",children:(0,O.jsx)(L.Z,{children:(0,O.jsx)(D,{container:x,loadingIndicatorCallback:r,isAccountSwitch:s,nextUrlParam:d,onLoginWithMfa:c,onLoginWithSuspended:this.onLoginWithSuspended,showResponseMessageModal:b,socialSignupCallbacks:A,showLoginRateLimited:()=>this.updateAccountRecoveryModal(E.Ny.RATE_LIMITED),onClick:()=>{S(13507)}})})}),M=t||a?"0px":"8px";return(0,O.jsxs)(l.xu,{"data-test-id":"login-options",dangerouslySetInlineStyle:{__style:{marginTop:n?"9px":"10px"}},children:[j,(0,O.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{height:n?M:"10px"}}}),C,!o&&w&&(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{height:n?M:"10px"}}}),T]})]})}),N(this,"renderRegisterForm",()=>{let{container:e,disableEmailLogin:t,email:o,hideEmailField:a,hideFacebookButton:s,hideGoogleButton:n,hidePasswordField:r,i18n:d,isAccountSwitch:c,loginButtonTextOverride:_,password:u,suppressFocus:p,logContextEvent:g,requestContext:{isRTL:m},desktopCoreLoginContext:{viewer:y},viewType:f,viewParameter:b,component:w,attributionLabel:v}=this.props,{emailValidationError:P,loading:k,passwordValidationError:A}=this.state,S=_||d.bt("Войти", "Log in", "Copy on the button to log in", undefined, true),E=A&&(0,i.isValidElement)(A)?null:(0,O.jsx)(l.xu,{marginBottom:3,marginTop:2,dangerouslySetInlineStyle:{__style:{float:m?"right":"left"}},children:(0,O.jsx)(l.xv,{size:"200",weight:"bold",children:(0,O.jsx)(l.rU,{href:W+(o?`?ue=${o}`:""),onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,Z.My)("login_modal_forget_account"),(0,Z.NC)("click_forget_password"),g({event_type:101,element:10881,aux_data:{...(0,x.Z)(y.type)}})},children:d.bt("Забыли пароль?", "Forgot your password?", "Desktop login modal link for users to recover their account", undefined, true)})})});return(0,O.jsx)(h.Z,{buttonText:S,container:e,disableEmailLogin:t,email:o,emailText:d.bt("Адрес электронной почты", "Email", "Placeholder text for email field", undefined, true),emailValidationError:P,hideEmailField:a,hideFacebookButton:s,hideGoogleButton:n,hidePasswordField:r,loading:k&&!c,onButtonClick:this.handleButtonClick,onEmailBlur:this.handleBlur,onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,password:u,passwordResetLink:E,passwordText:d.bt("Пароль", "Password", " - ", undefined, true),passwordValidationError:A,suppressFocus:p,component:w,attributionLabel:v,viewType:f,viewParameter:b})}),N(this,"renderOriginalForm",()=>{let{hideFacebookButton:e,hideGoogleButton:t,hidePasswordField:o}=this.props;return(0,O.jsxs)(i.Fragment,{children:[this.renderRegisterForm(),!o&&(!t||!e)&&(0,O.jsx)(r.Z,{}),this.renderSocialButtons()]})}),N(this,"renderButtons",()=>this.renderOriginalForm()),N(this,"renderTextAndLinkToSignup",()=>{let{onRedirectToSignup:e=()=>{}}=this.props;return(0,O.jsxs)(l.xu,{paddingY:6,display:"flex",children:[(0,O.jsx)(l.xv,{weight:"normal",size:"300",children:this.props.i18n.bt("У вас еще нет бизнес-аккаунта?", "Don’t have a business account?", "businessAccountCreate.signupLink.text", undefined, true)}),(0,O.jsx)(l.xu,{marginStart:1,children:(0,O.jsx)(l.rU,{href:"#",display:"inlineBlock",onClick:({event:t,dangerouslyDisableOnNavigation:o})=>{t.preventDefault(),o(),e()},children:(0,O.jsx)(l.xv,{weight:"normal",size:"300",children:this.props.i18n.bt("Создать бесплатно", "Create one for free", "businessAccountCreate.signupLink.CTA", undefined, true)})},0)})]})}),this.state={accountRecoveryModalType:null,emailValidationError:null,passwordValidationError:null,googleValidationError:null,loading:!1,hideFBGoogleToolTip:!1};let{i18n:t}=e,o=t.bt("Вы кое-что забыли! Укажите свой адрес электронной почты.", "You missed a spot! Don't forget to add your email.", " - ", undefined, true),a=t.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm...that doesn't look like an email address.", " - ", undefined, true),s=t.bt("Используйте только сочетания букв, цифр и специальных символов (например: ?, !, $).", "Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "Login.password.onlyASCII", undefined, true);this.emailValidators=[(0,F.aH)({message:o}),(0,F.GT)({message:a})];let d=t.bt("Неправильный пароль.", "The password you entered is incorrect.", " - ", undefined, true);this.passwordValidators=[(0,B.r)({shortPassStr:d,samePasswordStr:d,blackPassStr:d})],this.asciiValidators=[(0,F.oR)({message:s})]}componentDidMount(){let{isAccountSwitch:e,nextUrlParam:t,requestContext:o,showResponseMessageModal:i}=this.props;E.ZP.isFullyLoggedIn(o.isAuthenticated,o.loginState)&&!e&&(i?i(!1):E.ZP.handleRedirect(t)),window.onloadCallback=this.onloadCallback,window.verifyCaptcha=this.verifyCaptcha,void 0===window.recaptchaCount?window.recaptchaCount=1:window.recaptchaCount+=1}componentWillUnmount(){void 0!==window.recaptchaCount&&(window.recaptchaCount-=1)}loginUser(e,t,o){let{container:i="unknown",email:l,flushContextEvents:a,isAccountSwitch:s,loadingIndicatorCallback:n,login:r,pageContext:d,showResponseMessageModal:c,desktopCoreLoginContext:{viewer:_},requestContext:u}=this.props;this.setState({loading:!0}),n(!0);let h=t||{username_or_email:l||"",password:this.props.password},p={container:i,page:d?d.pageType:void 0},g=z.Z.EMAIL;"facebook"===e?g=z.Z.FACEBOOK:"google"===e&&(g=z.Z.GPLUS),v.Z.pause(P.LU),a(),r({creds:h,loggingOptions:{loggingData:p,loginAttemptContextEvent:{event_type:7534,element:"google"===e?12981:void 0,aux_data:{...(0,x.Z)(_.type),signup_login_method:g}}},isAccountSwitch:s,recaptchaV2Token:o,recaptchaV3Token:this.props.recaptchaV3Token||"default"}).then((e={})=>{E.ZP.storeLoginCredentialsToBrowser(h);let t=this.props.nextUrlParam||E.ZP.defaultLoginRedirectUrl(),{anyEnabled:o}=u.experimentsClient.checkExperiment("m10n_measurement_pinterest_tag_us");if(o&&"undefined"!=typeof window&&window.pintrk)try{window.pintrk("track","custom",{lead_type:"Pinterest Login",em:l})}catch(e){}if(s&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){let{user:o}=e.resource_response.data;(0,k.Z)(o,"email",i),t="/"+o.username}else E.ZP.storeLoginCredentialsToBrowser(h);c?c(!1):E.ZP.handleRedirect(t)},t=>this.handleLoginFailure(e,t,h))}render(){let{email:e,container:t}=this.props;return(0,O.jsxs)(l.xu,{width:"revamped_business_login_page"===t?"100%":268,dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},children:[(0,O.jsx)(n.Z,{email:e||"",modalType:this.state.accountRecoveryModalType,onLoginWithMfa:this.props.onLoginWithMfa,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),this.renderButtons(),"revamped_business_login_page"===t&&this.renderTextAndLinkToSignup(),!this.props.hideTermsOfService&&(0,O.jsx)(p.Z,{dark:!0,container:t})]})}}function Y(e){let t=(0,w.ZP)(),{flushContextEvents:o,logContextEvent:l}=(0,a.v)(),n=(0,y.lO)(),{recaptchaV3Token:r,refreshToken:c}=(0,j.D)(),_=(0,d.B$)(),{country:u}=(0,C.B)(),h=(0,m.Z)(),[p,x]=(0,i.useState)(""),{viewType:f,viewParameter:b}=(0,s.SU)(),v=(0,g.g)(),{trackConversionUpsell:P}=(0,R.Z)();return(0,O.jsx)(G,{...e,desktopCoreLoginContext:_,flushContextEvents:o,i18n:t,logContextEvent:l,login:h,pageContext:n,password:p,recaptchaV3Token:r,refreshRecaptchaV3Token:c,isLineAuthenticationEnabled:"JP"===u,setPassword:x,viewType:f,viewParameter:b,unauthDesktopSignupModalPageContext:v,trackConversionUpsell:P})}},794121:(e,t,o)=>{o.d(t,{Z:()=>v});var i=o(667294),l=o(883119),a=o(38730);let s=["gmail.com","hotmail.com","hotmail.com.ar","yahoo.com.ar","live.com.ar","outlook.com","live.com","bigpond.com","yahoo.com","icloud.com","yahoo.com.au","yahoo.com.br","bol.com.br","yahoo.ca","hotmail.ca","web.de","gmx.de","t-online.de","hotmail.de","hotmail.es","yahoo.es","hotmail.fr","orange.fr","yahoo.fr","live.fr","free.fr","laposte.net","wanadoo.fr","outlook.fr","hotmail.co.uk","rediffmail.com","yahoo.co.in","yahoo.in","libero.it","hotmail.it","alice.it","yahoo.co.jp","ezweb.ne.jp","docomo.ne.jp","i.softbank.jp","softbank.ne.jp","live.com.mx","outlook.es","aol.com","outlook.com","comcast.net"];var n=o(682126),r=o(591057),d=o(53234),c=o(536042),_=o(245410),u=o(282802),h=o(98736),p=o(780365),g=o(272939),m=o(785893);function x({birthday:e,birthdayValidationError:t,setBirthdayValidationError:o,onBirthdayChange:a,onCustomizedBirthdayChange:s}){let x=(0,c.ZP)(),[y,f]=(0,i.useState)(""),{checkExperiment:b}=(0,_.F)(),w=b("dweb_new_user_birthday_ui_v0").group,[v,P]=(0,i.useState)(null),{locale:k}=(0,u.B)();(0,i.useEffect)(()=>{(0,h.My)("dweb.signup_age_step",{type:"email",format:"birthday"})},[]);let A=(0,m.jsx)(l.nv,{autoComplete:"bday",errorMessage:t,id:"birthdate",onChange:e=>{a(e),o("")},size:"lg",type:"date",value:e||""}),S=(0,m.jsx)(p.Z,{onChange:()=>o(""),handleChangeBirthday:s,birthdayErrorMessage:t?String(t):"",setValidState:()=>{},hideFieldLabel:"enabled_threefield_nolabel"===w,birthday:y,setBirthday:f}),E=(0,m.jsx)(d.Z,{id:"birthdate",maxDate:new Date,onChange:({value:e})=>{P(e),o(""),e&&s((0,n.qn)(e))},errorMessage:t?String(t):"",selectLists:["month","year"],placeholder:(e=>{let t=(0,g.Z)(e);switch(t){case"YYMMDD":return x.bt("ГГГГ/ММ/ДД", "YYYY/MM/DD", "brithday.placeholder.ymd", undefined, true);case"MMDDYY":return x.bt("ММ/ДД/ГГГГ", "MM/DD/YYYY", "brithday.placeholder.mdy", undefined, true);case"DDMMYY":return x.bt("ДД/ММ/ГГГГ", "DD/MM/YYYY", "brithday.placeholder.dmy", undefined, true);default:return"DD/MM/YYYY"}})(k),value:v});return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(l.xu,{marginBottom:1,marginStart:2,marginTop:2,children:(0,m.jsxs)(l.kC,{children:[(0,m.jsx)(l.xu,{marginEnd:2,children:(0,m.jsx)(l.__,{htmlFor:"birthdate",children:(0,m.jsx)(l.xv,{size:"200",children:w.includes("enabled")?x.bt("Укажите дату рождения ", "Enter birthdate ", "registerForm.label.enterBirthday", undefined, true):x.bt("Дата рождения", "Birthdate", "registerForm.label.birthdate", undefined, true)})})}),(0,m.jsx)(l.u,{idealDirection:"right",text:x.bt("Чтобы позаботиться о безопасности сообщества Pinterest, нам нужно знать дату вашего рождения. Зная вашу дату рождения, мы можем предоставлять вам более персонализированные рекомендации и актуальные объявления. Мы не передаем эту информацию, и она не будет видна в вашем профиле.", "To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We don't share this information and it won't be visible on your profile.", "registerForm.label.birthdate.tooltipDescription", undefined, true),zIndex:r.C,children:(0,m.jsx)(l.JO,{accessibilityLabel:x.bt("Подсказка", "Tooltip", "registerForm.label.birthdate.tooltip.access", undefined, true),icon:"info-circle"})})]})}),(0,m.jsx)(l.xu,{"data-test-id":"signup-birthdate-field",children:w.includes("enabled_threefield")?S:"enabled_datepicker"===w?E:A})]})}var y=o(361927),f=o(630089),b=o(811359),w=o(706874);function v({buttonText:e,buttonTextLabel:t,container:o="",disableEmailLogin:n,email:r,emailFieldHasError:d,emailLabel:_,emailText:u,emailValidationError:p,hideEmailField:g,hideFacebookButton:v,hideGoogleButton:P,hidePasswordField:k,onButtonClick:A,onEmailBlur:S,onEmailChange:E,onPasswordChange:z,password:j,passwordResetLink:C,passwordText:T,passwordValidationError:L,signupForm:M,suppressFocus:Z,component:R}){let B=(0,c.ZP)(),[I,F]=(0,i.useState)(!!M),[O,N]=(0,i.useState)(null),[D,W]=(0,i.useState)(""),{trackConversionUpsell:V}=(0,w.Z)(),U=p;!U&&(k||n)&&(v||P?!v&&P?U=B.bt("Ваш аккаунт связан с Facebook. Войдите с помощью кнопки Facebook", "Your account is connected to Facebook - use the Facebook button to log in", "Customized desktop login for users with Facebook", undefined, true):v&&!P&&(U=B.bt("Ваш аккаунт связан с Google. Войдите с помощью кнопки Google", "Your account is connected to Google - use the Google button to log in", "Customized desktop login for users with Google", undefined, true)):U=B.bt("Ваш аккаунт связан с Facebook и Google. Войдите с помощью кнопок", "Your account is connected to Facebook and Google - use the buttons to log in", "Customized desktop login for users with FB and Google", undefined, true));let G=e=>{V({element:e,eventType:14689})},Y="revamped_business_login_page"===o;return(0,m.jsxs)("form",{"data-test-id":"registerForm",method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),A(e)},children:[!g&&(0,m.jsx)(l.xu,{marginBottom:Y?4:1,marginStart:2,children:(0,m.jsx)(l.__,{htmlFor:"email",children:(0,m.jsx)(l.xv,{size:Y?"300":"200",children:B.bt("Адрес электронной почты", "Email", "registerForm.label.email", undefined, true)})})}),!g&&(0,m.jsx)(l.xu,{"data-test-id":"emailInputField",dangerouslySetInlineStyle:{__style:{marginBottom:Y?36:7}},children:(0,m.jsx)(y.Z,{accessibilityLabel:_,autoComplete:"email",disabled:!!(null!=M&&M.registerRestricted),domainError:O?(0,f.nk)(B.bt("Возможно, вы имели в виду {{ newEmail }}?", "Did you mean {{ newEmail }}?", " - ", undefined, true),{newEmail:(0,m.jsx)(l.xv,{color:"error",inline:!0,size:"200",weight:"bold",children:O},"err_text")}):void 0,focused:!Z,hasError:!!p||!!d,id:"email",name:"id",onBlur:()=>{null==S||S(),M&&(r?M.checkEmailExistsWithCompletion({email:r,handleEmailExists:()=>{(0,h.My)("web.unauth.signup.email_entered"),I&&F(!1)},handleEmailNotExist:async()=>{I||F(!0),await M.checkEmailValidation(r)},handleError:()=>{F(!0)}}):F(!0));let e=e=>{W(e),r===e?N(null):(N(e),(0,h.My)("unauth.email_domain_typo_suggestion.shown"))},t=r&&-1!==r.indexOf("@")?r.split("@"):[];if(r&&r!==D||N(null),r&&t&&r.length<60){if(2===t.length){let o=t[1],i=o&&-1!==o.indexOf(".")?o.split("."):[];if(i.length>=2&&"gmail"===i[0]){if("com"!==i.slice(1).join(".")){let o=t[0]+"@gmail.com";e(o)}else N(null)}}let o=t[1]&&s.includes(t[1])?null:t[1]&&s.map(e=>{let o=(0,b.Z)(e,t[1]);return 2===o||1===o?e:null}).filter(e=>"string"==typeof e);if(o&&o.length){let i=o[0]?`${t[0]}@${o[0]}`:"";e(i)}}},onChange:E,placeholder:u,tooltip:U,type:"email",value:r})}),!k&&(0,m.jsx)(l.xu,{marginBottom:Y?4:1,marginStart:2,marginTop:Y?4:0,children:(0,m.jsx)(l.__,{htmlFor:"password",children:(0,m.jsx)(l.xv,{size:Y?"300":"200",children:B.bt("Пароль", "Password", "registerForm.label.password", undefined, true)})})}),!k&&(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(l.xu,{"data-test-id":"passwordInputField",children:(0,m.jsx)(y.Z,{autoComplete:"new-password",disabled:!!n||!!(null!=M&&M.registerRestricted),hasError:!!L,id:"password",name:"password",onChange:z,onFocus:()=>{(0,h.NC)("focus_password")},placeholder:T,tooltip:L,type:"password",value:j,focused:!!g&&!Z})}),(0,m.jsx)(l.xu,{"data-test-id":"password-reset-button",children:null!=C?C:null})]}),window.recaptchaCount>0?(0,m.jsx)("div",{className:"g-recaptcha",id:`recaptcha_placeholder_${window.recaptchaCount}`,style:{marginTop:"16px",transform:"scale(0.88)",transformOrigin:"0 0"}}):null,M&&(0,m.jsx)(x,{...M.birthdayProps}),(null==M?void 0:M.registerRestricted)&&(0,m.jsx)(l.xu,{marginTop:2,children:(0,m.jsx)(l.xv,{size:"100",color:"error",children:B.bt("На данный момент регистрация в Pinterest недоступна.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "Signup.AgeStep.underageError", undefined, true)})}),!k&&(0,m.jsx)(l.xu,{"data-test-id":"registerFormSubmitButton",children:(0,m.jsx)(a.Z,{accessibilityLabel:t,className:"red SignupButton",disabled:n||!!(null!=M&&M.registerRestricted),onClick:()=>{G(14214===R?12019:30),I?((0,h.NC)("press_signup_continue"),(0,h.Rp)({event:"start",provider:"email"})):((0,h.EX)({event:"start",provider:"email"}),(0,h.NC)("press_login_continue"))},styleOverrides:{width:"100%",borderRadius:"20px",marginTop:Y?"28px":"8px"},type:"submit",children:(0,m.jsx)(l.xu,{children:e})})})]})}},300218:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(883119),l=o(293926),a=o(536042),s=o(785893);let n=()=>{let e=(0,a.ZP)();return(0,s.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",width:"100%",height:"100%",children:(0,s.jsxs)(i.xu,{color:"default",height:600,minWidth:"500px",rounding:2,width:"30%",children:[(0,s.jsxs)(i.xu,{alignItems:"center",direction:"column",display:"flex",height:"99%",justifyContent:"center",padding:12,children:[(0,s.jsx)(i.xu,{alignItems:"center",color:"primary",display:"flex",height:60,justifyContent:"center",marginBottom:4,rounding:"circle",width:60,children:(0,s.jsx)(i.JO,{accessibilityLabel:e.bt("Загрузка данных во время регистрации одним касанием с помощью Google", "Loading state for google one tap registration", " - ", undefined, true),color:"inverse",icon:"pin",size:"28"})}),(0,s.jsx)(i.xu,{paddingY:5,dangerouslySetInlineStyle:{__style:{"text-align":"center"}},children:(0,s.jsx)(i.X6,{children:e.bt("Добро пожаловать в Pinterest!", "Welcome to Pinterest!", "Welcome to Pinterest!", undefined, true)})}),(0,s.jsx)(i.xv,{align:"center",overflow:"normal",children:(0,s.jsx)("span",{className:"deprecatedTextSizeXL",children:e.bt("Ваши ответы на следующие вопросы помогут подобрать идеи для вас", "Your answers to the next questions will help us find the right ideas for you", "loading state description while waiting for google one tap registration to complete", undefined, true)})})]}),(0,s.jsx)(i.xu,{width:"100%",children:(0,s.jsx)(l.Z,{duration:6e3,finalProgress:95,shape:"rounded"})})]})})}},152448:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(883119),l=o(88622),a=o(536042),s=o(785893);function n({type:e,onDismiss:t}){let o=(0,a.ZP)(),n="facebook"===e?o.bt("Ой! Facebook не работает", "Oops! Facebook isn't available", "socialAuthDisabled.facebook.title", undefined, true):o.bt("Ой! Google не работает", "Oops! Google isn't available", "socialAuthDisabled.google.title", undefined, true),r="facebook"===e?o.bt("Похоже, Facebook сейчас не работает. Попробуйте другой вариант или обновите страницу и повторите попытку позже.", "Looks like Facebook isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.facebook.description", undefined, true):o.bt("Похоже, Google сейчас не работает. Попробуйте другой вариант или обновите страницу и повторите попытку позже.", "Looks like Google isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.google.description", undefined, true);return(0,s.jsx)(l.ZP,{accessibilityModalLabel:n,footer:(0,s.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,s.jsx)(i.xu,{paddingX:1,children:(0,s.jsx)(i.zx,{color:"red",onClick:t,text:o.bt("ОК", "OK", "socialAuthDisabled.okButton", undefined, true),size:"md"})})}),heading:n,onDismiss:t,children:(0,s.jsx)(i.xu,{paddingX:5,children:(0,s.jsx)(i.xv,{align:"center",children:r})})})}},435983:(e,t,o)=>{o.d(t,{E:()=>r,Z:()=>c});var i=o(883119),l=o(536042),a=o(630089),s=o(837792),n=o(785893);let r=`
.TermsOfService__light a {
  color: rgba(255,255,255,0.9);
}
`,d={dark:{color:"#767676",width:"224px"},light:{color:"rgba(255,255,255,0.9)",lineHeight:"150%",margin:"10px auto",textShadow:"0 1px rgba(0,0,0,0.18)",width:"272px"},revampedBizSignup:{color:"#5f5f5f",fontSize:"12px",fontWeight:"400"}};function c({dark:e,container:t=""}){let o;let r=(0,l.ZP)();return o="revamped_business_login_page"===t?"revampedBizSignup":e?"dark":"light",(0,n.jsx)("div",{style:{marginTop:"12px"},children:(0,n.jsx)("span",{"data-test-id":"terms-of-service",className:e?"":"TermsOfService__light",color:"revampedBizSignup"===o?"subtle":void 0,style:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",fontSize:"11px",fontWeight:"normal",textAlign:"center",WebkitTransition:"opacity .2s linear",transition:"opacity .2s linear",...d[o]},children:(0,n.jsx)("span",{children:(0,a.nk)(r.bt("Продолжая, вы соглашаетесь с положениями основных документов Pinterest. Это {{ tos }} и {{ privacyPolicy }}. А также подтверждаете, что прочли их. {{ noticeAtCollection }}.", "By continuing, you agree to Pinterest's {{ tos }} and acknowledge you've read our {{ privacyPolicy }}. {{ noticeAtCollection }}.", "termOfService.text", undefined, true),{tos:(0,n.jsx)(i.xu,{"data-test-id":"tos",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{fontWeight:"bold",..."revampedBizSignup"!==o&&{color:"#111"}}},children:(0,n.jsx)(i.rU,{display:"inlineBlock",target:"blank",href:s.U5h,underline:"hover",children:r.bt("Условия предоставления услуг", "Terms of Service", "termOfService.link.tos", undefined, true)},"tos")},"tos"),privacyPolicy:(0,n.jsx)(i.xu,{"data-test-id":"privacy",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{fontWeight:"bold",..."revampedBizSignup"!==o&&{color:"#111"}}},children:(0,n.jsx)(i.rU,{display:"inlineBlock",target:"blank",href:"/_/_/policy/privacy-policy/",underline:"hover",children:r.bt("Политика конфиденциальности", "Privacy Policy", "termOfService.link.privacyPolicy", undefined, true)},"privacy")},"privacy"),noticeAtCollection:(0,n.jsx)(i.xu,{"data-test-id":"noticeAtCollection",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{fontWeight:"bold",..."revampedBizSignup"!==o&&{color:"#111"}}},children:(0,n.jsx)(i.rU,{display:"inlineBlock",target:"blank",href:s.cvl,underline:"hover",children:r.bt("Уведомление", "Notice at collection", "termOfService.link.noticeAtCollection", undefined, true)},"noticeAtCollection")},"noticeAtCollection")})})})})}},361927:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(667294),l=o(883119),a=o(785893);function s({accessibilityLabel:e,autoComplete:t="on",disabled:o,domainError:s,focused:n,hasError:r,helperText:d,id:c,name:_,onBlur:u,onChange:h,onFocus:p,placeholder:g,tooltip:m,type:x,useExperimentalTextfield:y,value:f}){var b;let w=(0,i.useRef)(n),v=(0,i.useRef)(null),P=(0,i.useRef)(r);return(0,i.useEffect)(()=>{if(w.current){var e;null===(e=v.current)||void 0===e||e.focus()}},[]),(0,i.useEffect)(()=>{if(!1===P.current&&r){var e;null===(e=v.current)||void 0===e||e.focus()}P.current=r},[r]),(0,a.jsxs)("fieldset",{style:{position:"relative"},children:[(0,a.jsx)(l.xu,{display:"visuallyHidden",children:(0,a.jsx)(l.__,{htmlFor:c,children:null!==(b=null!=e?e:g)&&void 0!==b?b:""})}),(0,a.jsx)(l.nv,{autoComplete:y?void 0:t,disabled:o,errorMessage:m?y&&s||m:"",helperText:y?void 0:d,id:c,name:_,onBlur:u,onChange:({event:e})=>{h(e)},onFocus:p,placeholder:g,ref:v,size:y?void 0:"lg",type:x,value:f||""})]})}},975601:(e,t,o)=>{o.d(t,{ZP:()=>n,g$:()=>s,m9:()=>a});var i=o(667294),l=o(785893);let a=`.Tooltip_message:before, .Tooltip_message:after {
  border-style: solid;
  content: '';
  display: block;
  margin-top: -8px;
  position: absolute;
  right: 100%;
  top: 17px;
  width: 0;
}
.Tooltip_message:before {
  border-color: transparent rgba(0,0,0,0.48);
  border-width: 8px 10px 8px 0;
}
.Tooltip_message:after {
  border-color: transparent #0074E8;
  border-width: 8px 10px 8px 0;
  margin-right: -1px;
}
.Tooltip_mobileMessage:before, .Tooltip_message:after {
  border-style: solid;
  display: block;
  margin-top: -8px;
  position: absolute;
  right: 100%;
  top: 17px;
  width: 0;
}
.Tooltip_mobileMessage:before {
  border-color: transparent rgba(0,0,0,0.48);
  border-width: 8px 10px 8px 0;
}
.Tooltip_mobileMessage:after {
  border-color: transparent #fff;
  border-width: 8px 10px 8px 0;
  margin-right: -1px;
}
.Tooltip_wrapper {
  position: absolute;
  left: calc(100% + 12px);
  z-index: 1;
}
.Tooltip_mobileWrapper {
  margin-top: 7px;
  z-index: 1;
}`,s=`
.Tooltip_message:before, .Tooltip_message:after {
  border-style: solid;
  content: '';
  display: block;
  margin-top: -8px;
  position: absolute;
  right: 100%;
  top: 17px;
  width: 0;
}
.Tooltip_message:before {
  border-color: transparent rgba(0,0,0,0.48);
  border-width: 8px 10px 8px 0;
}
.Tooltip_message:after {
  border-color: transparent #fff;
  border-width: 8px 10px 8px 0;
  margin-right: -1px;
}
.Tooltip_mobileMessage:before, .Tooltip_message:after {
  border-style: solid;
  display: block;
  margin-top: -8px;
  position: absolute;
  right: 100%;
  top: 17px;
  width: 0;
}
.Tooltip_mobileMessage:before {
  border-color: transparent rgba(0,0,0,0.48);
  border-width: 8px 10px 8px 0;
}
.Tooltip_mobileMessage:after {
  border-color: transparent #fff;
  border-width: 8px 10px 8px 0;
  margin-right: -1px;
}
.Tooltip_wrapper {
  position: absolute;
  left: calc(100% + 12px);
  z-index: 1;
}
.Tooltip_mobileWrapper {
  margin-top: 7px;
  z-index: 1;
}
`;function n({message:e,color:t}){let[o,a]=(0,i.useState)(!t);return(0,i.useEffect)(()=>{let e=setTimeout(()=>{a(!0)},600);return()=>clearTimeout(e)},[]),(0,l.jsx)("div",{className:"Tooltip_wrapper","data-test-id":"tooltip",style:{top:"0px",width:"215px"},children:o&&(0,l.jsx)("div",{className:"Tooltip_message",style:{background:t||"#fff",borderRadius:"6px",WebkitBoxShadow:"0 0 2px rgba(0,0,0,0.38),0 1px 3px rgba(0,0,0,0.32)",boxShadow:"0 0 2px rgba(0,0,0,0.38),0 1px 3px rgba(0,0,0,0.32)",color:t?"#fff":"#000",fontStyle:"normal",fontWeight:"normal",fontSize:t?"14px":"",lineHeight:"150%",padding:"8px 14px",textAlign:"left",maxWidth:"215px",display:"inline-block",float:"left"},children:(0,l.jsx)("span",{dangerouslySetInnerHTML:{__html:e},style:{overflowWrap:"break-word",wordWrap:"break-word"}})})})}},654194:(e,t,o)=>{o.d(t,{Z:()=>g});var i=o(667294),l=o(31397),a=o(883119),s=o(682126),n=o(457628),r=o(791045),d=o(950073),c=o(550140),_=o(536042),u=o(950861),h=o(98736),p=o(785893);let g=({birthday:e,onEditBirthday:t,onConfirmBirthday:o=()=>{}})=>{let g=(0,_.ZP)(),[m,x]=(0,i.useState)(!1),y=e?(0,l.Z)(new Date,(0,d.Z)(e)):0;return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(a.xu,{padding:8,"data-test-id":"underageconfirmation-modal",children:(0,p.jsxs)(a.kC,{direction:"column",justifyContent:"center",alignItems:"center",children:[(0,p.jsx)(a.xu,{width:420,marginBottom:5,"data-test-id":"underageconfirmation-title",children:(0,p.jsx)(a.X6,{align:"center",size:"600",children:(0,s.ew)(y,g)})}),(0,p.jsx)(a.xu,{marginBottom:10,maxWidth:540,children:(0,p.jsx)(a.xv,{align:"center",children:(0,s.Pe)(g)})}),(0,p.jsx)(a.xu,{children:(0,p.jsxs)(a.kC,{children:[(0,p.jsx)(a.xu,{marginEnd:2,children:(0,p.jsx)(a.zx,{text:g.bt("Изменить", "Edit", "signup.underageconfirmation.edit", undefined, true),onClick:()=>{(0,h.My)("dweb.underageconfirmation.edit"),n.t8(r.It,"0",(0,n.kZ)(r.It)),t()}})}),(0,p.jsx)(a.zx,{text:g.bt("Подтвердить", "Confirm", "signup.underageconfirmation.confirm", undefined, true),type:"submit",color:"red",onClick:()=>{x(!0),(0,h.My)("dweb.underageconfirmation.confirm"),o(),setTimeout(()=>{u.ZP.handleRedirect("/")},4e3)}})]})})]})}),m&&(0,p.jsx)(a.xu,{fit:!0,dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},paddingX:1,position:"fixed",children:(0,p.jsx)(c.ZP,{onHide:()=>x(!m),text:g.bt("На данный момент регистрация в Pinterest недоступна.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "signup.underageconfirmation.error", undefined, true),duration:3500})})]})}},45818:(e,t,o)=>{o.d(t,{o:()=>n,x:()=>s});var i=o(667294),l=o(536042);let a=new Set,s=e=>{a.forEach(t=>t(e))},n=e=>{let t=(0,l.ZP)();(0,i.useEffect)(()=>{let o=o=>{e(o||t.bt("Неизвестная ошибка", "Unknown Error", "unauth.error.modal.unknown", undefined, true))};return a.add(o),()=>{a.delete(o)}},[])}},261551:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(560544);let l=e=>({type:"facebook",first_name:e.first_name,last_name:e.last_name,email:e.email,gender:e.gender,image_url:e.picture&&!e.picture.data.is_silhouette?e.picture.data.url:void 0,facebook_id:e.id,facebook_token:e.access_token,birthday:e.birthday?(0,i.Z)(e.birthday):void 0})},321443:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(970588);let l=async()=>{try{var e,t;let o=await (0,i.Z)({url:"/v3/users/me/"}),l=(null===(e=o.resource_response.data)||void 0===e?void 0:e.email)||(null===(t=(o.resource_response.client_context||Object.freeze({})).user)||void 0===t?void 0:t.email);"undefined"!=typeof window&&window.pintrk&&window.pintrk("track","custom",{lead_type:"Pinterest Login",em:l})}catch(e){}},a=l},95983:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o(675689);let l=e=>"UNAUTH"===e?Object.freeze({}):{login_state:"LIMITED_LOGIN"===e?i.Z.LIMITED:i.Z.DEFAULT}},591057:(e,t,o)=>{o.d(t,{C:()=>a,P:()=>l});var i=o(883119);let l=new i.Ry(1e4),a=new i.H3([l])},391670:(e,t,o)=>{o.d(t,{Mi:()=>l,lO:()=>a});var i=o(583592);let{Provider:l,useMaybeHook:a}=(0,i.Z)("pageContext")},949433:(e,t,o)=>{o.d(t,{Z:()=>l,z:()=>a});var i=o(811359);function l(e){let t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){let e=t[1],o=e&&-1!==e.indexOf(".")?e.split("."):[];if(o.length>=2&&"gmail"===o[0]&&"com"!==o.slice(1).join("."))return!0;let l=(0,i.Z)(e,"gmail.com");if("g"===e.charAt(0)&&(1===l||2===l))return!0}return!1}function a(e,t){let o=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2!==o.length)return!1;let l=o[1],a=l&&-1!==l.indexOf(".")?l.split("."):[],s=a[0];if(s===t&&a.length>3)return!0;if(a.length>=2){let e=(0,i.Z)(s,t);return s.charAt(0)===t.charAt(0)&&(1===e||2===e)}return(2!==a.length||s!==t||2!==a[1].length&&"com"!==a[1])&&(a.length,!1)}},447390:(e,t,o)=>{o.d(t,{Z:()=>i});function i(e){e&&e.focus()}},991937:(e,t,o)=>{o.d(t,{Z:()=>l});let i=e=>e.split("").sort(()=>.5-Math.random()).join("");function l(e,t){let o=e.split("@")[0],l="";return(l=(l=o.includes(".")?o.replace("."," "):o.includes("_")?o.replace("_"," "):o).replace(/[0-9]/g,""),"GB"===t)?"User_"+i(l):l=l.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())}},811359:(e,t,o)=>{o.d(t,{Z:()=>i});function i(e,t){let o,i;if(0===e.length)return t.length;if(0===t.length)return e.length;let l=[];for(o=0;o<=t.length;o+=1)l[o]=[o];for(i=0;i<=e.length;i+=1)l[0][i]=i;for(o=1;o<=t.length;o+=1)for(i=1;i<=e.length;i+=1)t.charAt(o-1)===e.charAt(i-1)?l[o][i]=l[o-1][i-1]:l[o][i]=Math.min(l[o-1][i-1]+1,Math.min(l[o][i-1]+1,l[o-1][i]+1));return l[t.length][e.length]}},822123:(e,t,o)=>{o.d(t,{Z:()=>i});let i={EMAIL:1,FACEBOOK:2,GPLUS:3,GOOGLE_ONE_TAP:4,SMARTLOCK:5,MULTIFACTOR:6,SWITCH_ACCOUNT:7,LINE:8}},450667:(e,t,o)=>{o.d(t,{GH:()=>r,JF:()=>x,Jb:()=>h,MI:()=>g,_V:()=>d,sl:()=>_,we:()=>u});var i=o(560544),l=o(970588),a=o(307052),s=o(710197),n=o(98736);let r="274266067164",d=()=>["public_profile","email","user_friends"],c=["picture.type(large)","id","first_name","last_name","email","gender"],_=e=>{e&&(0,n.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,n.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:r,status:!0,xfbml:!0,version:"v2.7"})):e?(0,n.dy)({event:"global_object_not_found",provider:"facebook"}):(0,n.My)("pcons.non_autologin.fb.global_object_not_found")},u=(e,t)=>{t&&(0,n.dy)({event:"load_script_start",provider:"facebook"});let o=(0,a.Z)((0,s.Z)(e),"FACEBOOK");return o.then(()=>_(t))},h=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}),p=({userID:e,accessToken:t,data:{birthday:o,email:l,first_name:a,gender:s,last_name:n,picture:r}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:o?(0,i.Z)(o):void 0,email:l,first_name:a,gender:s,image_url:r&&!r.data.is_silhouette?r.data.url:void 0,last_name:n});async function g(e){let t=await (0,l.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:c}}),o=t.resource_response.data||{};return(0,n.My)(o?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:o.birthday,email:o.email,first_name:o.first_name,gender:o.gender,id:o.id,last_name:o.last_name,picture:o.picture}}let m=(e,t)=>new Promise((o,i)=>{if("connected"!==e.status){i({status:e.status||"unknown"});return}let{userID:l,accessToken:a}=e.authResponse;g(a).then(e=>{o({creds:{facebook_id:l,facebook_token:a,facebook_autologin:(null==t?void 0:t.autologin)||!1},signupOptions:p({userID:l,accessToken:a,data:e})})},i)}),x=()=>new Promise(e=>{window.FB.login(e,{scope:d().join(",")})}).then(e=>m(e))},18759:(e,t,o)=>{o.d(t,{Z:()=>h});var i=o(883119),l=o(536042),a=o(630089),s=o(315219),n=o(785893);let r=({children:e,onClick:t})=>(0,n.jsx)("button",{onClick:t,style:{background:"transparent",border:"none",verticalAlign:"inherit",padding:0},type:"button",children:(0,n.jsx)(i.xv,{color:"error",inline:!0,size:"200",weight:"bold",children:e},"err_text")});function d({apiErrorCode:e,errorMessage:t,onClickPasswordReset:o}){let d=(0,l.ZP)(),c=(e=>{switch(e){case s.yV:case s.$j:return(0,a.nk)(d.bt("Мы заметили странные действия в вашем аккаунте. {{ resetPasswordLink }} или войдите с помощью Facebook либо Google, чтобы вернуться в аккаунт.", "We noticed some strange activity on your account. {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.", "Error message when user is soft banned", undefined, true),{resetPasswordLink:(0,n.jsx)(r,{onClick:o,children:d.bt("Сбросить пароль", "Reset your password", "Link text for password reset", undefined, true)})});case s.iK:return(0,a.nk)(d.bt("Ваш аккаунт уже привязан к Google. Чтобы войти с помощью электронной почты, {{ resetPasswordLink }}.", "Your account is already linked to Google. To log in with email, {{ resetPasswordLink }}", " - ", undefined, true),{resetPasswordLink:(0,n.jsx)(r,{onClick:o,children:d.bt("установите пароль.", "set a password.", "Link text to set password for user with account with only google auth", undefined, true)})});case s.nY:return(0,a.nk)(d.bt("Ваш аккаунт уже привязан к Facebook. Чтобы войти с помощью электронной почты, {{ resetPasswordLink }}.", "Your account is already linked to Facebook. To log in with email, {{ resetPasswordLink }}", " - ", undefined, true),{resetPasswordLink:(0,n.jsx)(r,{onClick:o,children:d.bt("установите пароль.", "set a password.", "Link text to set password for user with account with only facebook auth", undefined, true)})});case s.nf:return(0,a.nk)(d.bt("Ваш аккаунт подключен к Apple. Эта функция работает только в приложении Pinterest для iOS. Чтобы войти в Pinterest здесь, вам нужно {{ resetPasswordLink }}.", "Your account is connected to Apple. This option works only on the Pinterest iOS app. To log into Pinterest here, you’ll need to {{ resetPasswordLink }}", "unauth.web.emailLogin", undefined, true),{resetPasswordLink:(0,n.jsx)(r,{onClick:o,children:d.bt("установить пароль", "set a password.", "Link text to set password for user with account with only apple auth", undefined, true)})});case s.oP:return(0,a.nk)(d.bt("Вы ввели неправильный пароль. Повторите попытку или {{ resetPasswordLink }}.", "The password you entered is incorrect. Try again or {{ resetPasswordLink }}", " - ", undefined, true),{resetPasswordLink:(0,n.jsx)(r,{onClick:o,children:d.bt("Сбросить пароль", "Reset your password", "Link text for password reset", undefined, true)})});default:return[t]}})(e);return(0,n.jsx)(i.xu,{"data-test-id":"touchableErrorMessage",children:c.map((e,t)=>(0,n.jsx)(i.xv,{color:"error",inline:!0,size:"200",children:e},`err_message_${t}`))})}var c=o(785629),_=o(98736);let u=[...s.ZP,c.Ej,s.oP,s.nf].filter(e=>e!==s.RL&&e!==s.an);function h({error:e,onClickPasswordReset:t,source:o}){var i;let l=e.api_error_code;(e.http_status||e.httpStatus)===c.Ej&&(l=c.Ej);let a=l&&u.includes(l)?(0,n.jsx)(d,{apiErrorCode:l,errorMessage:null!==(i=e.message)&&void 0!==i?i:"",onClickPasswordReset:t}):e.message;if(a)switch(l){case s.oP:case s.RL:return{passwordValidationError:a};case s.nY:return{facebookValidationError:a};case s.iK:return{googleValidationError:a};case s.hU:return{emailValidationError:a};case s._K:return{passwordValidationError:a};default:return{emailValidationError:a}}else(0,_.My)(`unauth.login.error.SERVER_ERROR.unknown.${String(l)}.${o}`);return null}},61833:(e,t,o)=>{o.d(t,{D:()=>r,T:()=>n});var i=o(667294),l=o(202858),a=o(785893);let s=(0,i.createContext)({recaptchaV3Token:"",refreshToken:()=>{}});function n({children:e}){let[t,o]=(0,i.useState)(""),n=(0,i.useCallback)(()=>{(0,l.rY)(e=>o(e),e=>{},l.sk)},[]);(0,i.useEffect)(()=>{n();let e=setInterval(n,l.yc);return()=>{clearInterval(e)}},[n]);let r=(0,i.useMemo)(()=>({recaptchaV3Token:t,refreshToken:n}),[t,n]);return(0,a.jsx)(s.Provider,{value:r,children:e})}let r=()=>(0,i.useContext)(s)},706874:(e,t,o)=>{o.d(t,{A:()=>_,Z:()=>c});var i=o(667294),l=o(563962),a=o(788241),s=o(402833),n=o(466946),r=o(860438),d=o(619277);function c(){let{trackConversionUpsellForContext:e}=(0,s.g)()||{},{trackConversionUpsellForContext:t}=(0,n.l)()||{},{viewType:o,viewParameter:i}=(0,a.SU)();return{trackConversionUpsell:({eventType:l,viewType:a,viewParameter:s,element:n,component:r,upsellReason:d,incrementUpsellReasonCounter:c})=>{let _=e||t;_&&_({eventType:l,viewType:a||o||202,viewParameter:s||i,element:n,component:r,upsellReason:d,incrementUpsellReasonCounter:c})}}}function _(){let e=(0,l.Z)(),t=(0,i.useRef)(null),o=()=>r.Z.getItem(d.w0)||0,a=()=>{r.Z.setItem(d.w0,o()+1)};return{trackConversionUpsellForContext:({eventType:i,viewType:l,viewParameter:s,element:n,component:c,upsellReason:_,incrementUpsellReasonCounter:u})=>{14688===i&&(r.Z.setItem(d.bg,_||""),t.current=c,!1!==u&&a()),e({event_type:i,view_type:l,view_parameter:s,element:n,component:t.current,aux_data:{upsell_reason:r.Z.getItem(d.bg)||null,upsell_view_count:o()}})}}}},488203:(e,t,o)=>{o.d(t,{Z:()=>i});let i=(e,t)=>{let o=new URL(e,"https://pinterest.com");return o.search=new URLSearchParams(t).toString(),o.toString().substring(o.origin.length)}},966633:(e,t,o)=>{o.d(t,{Z:()=>i});let i=(e,t)=>{let o;return t.some(t=>{let i=t(e);return i.errors.length>0&&(o=i.errors[0],!0)}),o}},780365:(e,t,o)=>{o.d(t,{Z:()=>m,a:()=>g});var i=o(667294),l=o(824002),a=o(112274),s=o(883119),n=o(682126),r=o(536042),d=o(282802),c=o(549201),_=o(392881),u=o(813586),h=o(272939),p=o(785893);let g=(e,t,o,i)=>{let s=(0,l.Z)(e,"yyyy-MM-dd",new Date);if(!(0,a.Z)(s)){let e=(0,n.Tv)(t,!0,!0,!0);o(e),i("date error");return}if(!(0,n.Cd)(e,u.kx)){let e=(0,n.Uy)(t);o(e),i(e);return}let r=(0,_.a3)(e,[(0,_.C9)({date:new Date(new Date().getFullYear(),0,1),message:t.bt("Недействительная дата", "Invalid date", "signup.emailpasswordstep.birthday.validator_message", undefined, true)})]);o(r),i(r)};function m({disabled:e,handleChangeBirthday:t,setValidState:o,birthdayErrorMessage:a,birthday:_,onChange:u,setBirthday:m,hideFieldLabel:x}){let y=(0,r.ZP)(),f=(0,c.HG)(),b=_?(0,l.Z)(_,"yyyy-MM-dd",new Date):void 0,[w,v]=(0,i.useState)({day:b?b.getDate():void 0,month:b?b.getMonth()+1:void 0,year:b?b.getFullYear():void 0}),[P,k]=(0,i.useState)(!1),[A,S]=(0,i.useState)(!1),[E,z]=(0,i.useState)(!1),[j,C]=(0,i.useState)(""),{locale:T}=(0,d.B)(),L=(0,i.useCallback)(({day:e,month:i,year:l})=>{if(void 0!==l&&(l<n.nN||l>n.cO)?z(!0):z(!1),void 0!==i&&(i>n.Xf||i<n.Oh)?S(!0):S(!1),void 0!==e&&(e<n.p9||e>n.G)?k(!0):k(!1),P||A||E){let e=(0,n.Tv)(y,P,A,E);m(""),t(_),C(e),o("error birthday fields")}else void 0!==i&&void 0!==l&&void 0!==e?(m(l.toString()+"-"+i.toString().padStart(2,"0")+"-"+e.toString().padStart(2,"0")),t(_),g(_,y,C,o)):(m(""),t(_),C(""))},[P,A,E,y,o,m,t,_]);(0,i.useEffect)(()=>{L(w)},[w,L]);let M=(e,t)=>{v({...w,[e.target.name]:t}),null==u||u()},Z=(0,p.jsx)(s.xu,{"data-test-id":"birthday-fields",children:(0,p.jsx)(s.Ki,{disabled:e,name:"day",id:"birthday-day",label:x?"":y.bt("День", "Day", "signup.birthdate.day", undefined, true),onBlur:()=>L(w),onChange:({event:e,value:t})=>{M(e,t)},placeholder:y.bt("ДД", "DD", "signup.birthdate.placeholder.day", undefined, true),value:w.day})}),R=(0,p.jsx)(s.xu,{"data-test-id":"birthday-fields",children:(0,p.jsx)(s.Ki,{disabled:e,name:"month",id:"birthday-month",label:x?"":y.bt("Месяц", "Month", "signup.birthdate.month", undefined, true),onBlur:()=>L(w),onChange:({event:e,value:t})=>{M(e,t)},placeholder:y.bt("ММ", "MM", "signup.birthdate.placeholder.month", undefined, true),value:w.month})}),B=(0,p.jsx)(s.xu,{"data-test-id":"birthday-fields",children:(0,p.jsx)(s.Ki,{disabled:e,name:"year",id:"birthday-year",label:x?"":y.bt("Год", "Year", "signup.birthdate.year", undefined, true),onBlur:()=>L(w),onChange:({event:e,value:t})=>{M(e,t)},placeholder:y.bt("ГГГГ", "YYYY", "signup.birthdate.placeholder.year", undefined, true),value:w.year})}),I=(0,h.Z)(T);return(0,p.jsx)(s.xu,{display:"flex",paddingY:2,marginStart:f?2:3,marginEnd:f?-1:3,children:(0,p.jsx)(s.pg,{id:"birthday-input-fields",legend:y.bt("поля для ввода даты рождения", "birthday input fields", "birthday legend", undefined, true),legendDisplay:"hidden",errorMessage:a||j,children:(0,p.jsxs)(s.kC,{gap:4,children:["YYMMDD"===I?B:"MMDDYY"===I?R:Z,"YYMMDD"===I?R:"MMDDYY"===I?Z:R,"YYMMDD"===I?Z:B]})})})}},272939:(e,t,o)=>{o.d(t,{Z:()=>i});function i(e){let t=new Intl.DateTimeFormat(e).formatToParts(new Date),o=t.map(e=>{switch(e.type){case"day":return"DD";case"month":return"MM";case"year":return"YY";default:return""}}).join("");return o.startsWith("Y")?"YYMMDD":o.startsWith("M")?"MMDDYY":"DDMMYY"}},746613:e=>{e.exports="https://s.pinimg.com/webapp/birthday-08b9de02.png"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/92690.ru_RU-283b03c5fd881438.mjs.map