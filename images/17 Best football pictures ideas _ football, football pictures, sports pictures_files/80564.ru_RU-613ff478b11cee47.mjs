"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[80564],{975363:(e,t,i)=>{i.d(t,{T4:()=>r,ZR:()=>s,tS:()=>n});let n=["guided_search_landing","guided_search_entry"],r="autoselect_first",s=292},243600:(e,t,i)=>{i.d(t,{Z:()=>n});let n='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},468e3:(e,t,i)=>{function n(e){return[0,24,21,26].includes(e)}function r({articleType:e,id:t,title:i}){let n=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${n}/${t}/`:`/discover/article/${n}/${t}/`}i.d(t,{x:()=>r,y:()=>n})},463310:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(965533),r=i(98736),s=i(799665);let o=(e,t)=>{null!=t&&t.disableOriginCheck||(0,s.Z)(e)||(e="/",(0,r.My)("url_reset")),(0,n.Z)(e)}},519677:(e,t,i)=>{i.d(t,{Z:()=>n});let n={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},980124:(e,t,i)=>{function n(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:()=>s});class r{static reportGoogleConversion(e,t,i,n){if(!n){if(void 0===window.gtag_report_conversion){r.queuedGoogleConversions.push({id:e,label:t,url:i});return}window.gtag_report_conversion(e,t,i)}}static reportFacebookConversion(e,t,i){if(void 0===window.fbq){r.queuedFacebookConversions.push({id:e,event:t,data:i});return}i?window.fbq("track",t,i):window.fbq("track",t)}static reportCustomFacebookConversion(e,t,i){if(void 0===window.fbq){r.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:i});return}i?window.fbq("trackCustom",t,i):window.fbq("trackCustom",t)}static reportPinterestConversion(e,t,i){if(void 0===window.pintrk){r.queuedPinterestConversions.push({id:e,event:t,data:i});return}i?window.pintrk("track",t,i):window.pintrk("track",t)}static reportTheTradeDeskConversion(e,t){let i=document.createElement("img");i.setAttribute("height","1"),i.setAttribute("width","1"),i.setAttribute("role","presentation"),i.style.borderStyle="none",i.style.position="absolute",i.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(i,document.body.lastChild)}static reportLinkedInConversion(e,t){let i=document.createElement("img");i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("role","presentation"),i.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),i.style.display="none",document.body.insertBefore(i,document.body.lastChild)}static reportDoubleClickConversion(e,t,i){let n=document.createElement("iframe");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("frameborder","0"),n.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};
    type=${t};cat=${i};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${1e13*Math.random()}?`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static insertGoogleAdWordsTag(e,t){let i=document.createElement("script");t||(i.setAttribute("async",""),i.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),i.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,i){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,i){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==i&&window.location.assign(i)}}),!1};let i=r.queuedGoogleConversions;for(let n=0;n<i.length;n+=1){let s=i[n];s.id===e&&r.reportGoogleConversion(s.id,s.label,s.url,t)}}),document.body.insertBefore(i,document.body.firstChild)}static insertFacebookPixelTag(e){var t,i,n,s,o,l;t=window,i=document,n="script",t.fbq||(s=t.fbq=function(){s.callMethod?s.callMethod.apply(s,arguments):s.queue.push(arguments)},t._fbq||(t._fbq=s),s.push=s,s.loaded=!0,s.version="2.0",s.queue=[],(o=i.createElement(n)).async=!0,o.src="//connect.facebook.net/en_US/fbevents.js",(l=i.getElementsByTagName(n)[0]).parentNode.insertBefore(o,l)),window.fbq("init",e),window.fbq("track","PageView");let a=r.queuedFacebookConversions;for(let t=0;t<a.length;t+=1){let i=a[t];i.id===e&&(i.isCustomEvent?r.reportCustomFacebookConversion(e,i.event,i.data):r.reportFacebookConversion(e,i.event,i.data))}}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};let t=window.pintrk;t.queue=[],t.version="3.0";let i=document.createElement("script");i.async=!0,i.src=e;let n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)}}("https://s.pinimg.com/ct/core.js"),window.pintrk("load",e),window.pintrk("page");let t=r.queuedPinterestConversions;for(let i=0;i<t.length;i+=1){let n=t[i];n.id===e&&r.reportPinterestConversion(e,n.event,n.data)}}}n(r,"queuedGoogleConversions",[]),n(r,"queuedFacebookConversions",[]),n(r,"queuedPinterestConversions",[]);let s=r},777610:(e,t,i)=>{i.d(t,{Q:()=>c,Z:()=>d});var n=i(667294),r=i(682492),s=i.n(r),o=i(563962),l=i(788241),a=i(282802);function c(e,t){let{setViewContextData:i}=(0,l.sV)(),{requestIdentifier:r}=(0,a.B)(),c=(0,o.Z)(),{viewData:d}=(0,l.SU)();(0,n.useEffect)(()=>{if(e){var t;i({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?s()(d,e.view_data):s()({},d),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:r})}},[t])}function d(e){let{children:t,log:i}=e;return c(i),t||null}},758360:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),r=i(973935);function s(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o extends n.Component{constructor(...e){super(...e),s(this,"observer",null),s(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){let e=r.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return n.Children.only(this.props.children)}}let l=o},583462:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),r=i(536042),s=i(785893);function o(){let e=(0,r.ZP)();return(0,s.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,s.jsx)(n.$j,{accessibilityLabel:e.bt("Загрузка формы регистрации", "Loading signup form", " - ", undefined, true),show:!0})})}},583121:(e,t,i)=>{i.d(t,{Bx:()=>r,N4:()=>o,is:()=>l,lt:()=>n,oM:()=>s});let n=e=>e.bt("Последний шаг! Войдите в Pinterest, чтобы получить доступ ко всем ресурсам.", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),r=e=>e.bt("Войдите, чтобы сохранить пин", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),s=e=>e.bt("Войдите, чтобы редактировать пин", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),o=({i18n:e,toFollow:t})=>t?e.bt("Войдите, чтобы подписаться", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt("Войдите, чтобы отписаться", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true),l=e=>e.bt("Войдите, чтобы создать пин или доску", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true)},759495:(e,t,i)=>{i.d(t,{Z:()=>I});var n=i(667294),r=i(690108),s=i(388011),o=i(457628),l=i(791045),a=i(231652),c=i(669894),d=i(31368),u=i(315219),p=i(814247),h=i(440534),g=i(950861),_=i(245410),m=i(617285),x=i(499441),f=i(785629),v=i(626389),y=i(860438),b=i(98736),w=i(284814),j=i(890415),S=i(619277);function I(){let e=(0,p.hq)(),t=(0,m.Z)(),{logContextEvent:i}=(0,s.v)(),I=(0,w.Z)(),P=(0,_.F)();return(0,n.useCallback)(({creds:n,isAccountSwitch:s,loggingOptions:{loggingData:p=Object.freeze({}),loginAttemptContextEvent:_},recaptchaV2Token:m,recaptchaV3Token:w})=>{t();let T=!!(n.facebook_autologin||n.autologin),C=(0,g.eD)(n),E=e=>{let t=n.google_open_id_token?"google":"facebook";T&&(0,b.dy)({event:e,provider:t})},D=e=>{T||(0,b.EX)({event:e,provider:(0,g.nY)(n)})},A=e=>{var t;i({..._,event_type:e,aux_data:{..._.aux_data,upsell_reason:(null===(t=_.aux_data)||void 0===t?void 0:t.upsell_reason)||(T?"autologin":y.Z.getItem(S.bg)||null),upsell_view_count:y.Z.getItem(S.w0)||0}}),7536===e&&y.Z.setItem(S.w0,0)};A(7534),I({action:T?"autologin":"login",event:"attempt",trigger:p.trigger,type:C});let k=e=>{let t="referrer_unknown";try{let e=document.referrer;t=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(e){}let i=p===Object(p)?p.container:"container_unknown";(0,b.My)("login.referrer."+t+"."+C),(0,b.My)("login.container."+String(i)+"."+C),(0,b.My)("login.type."+C);let r=C||"method_unknown",s=p.page||"page_unknown";n.facebook_autologin?((0,b.My)("web_autologin_facebook"),(0,b.My)("new_web_autologin_facebook",{page:s,referrer:t,container:i})):((0,b.My)(`web_login.${r}.success.${s}.${String(i)}.${t}.tier1`),(0,b.My)(`new_web_login.${r}.success`,{page:s,referrer:t,container:i})),(0,x.ko)({country:null==e?void 0:e.country,countryFromHostName:null==e?void 0:e.countryFromHostName,countryFromIp:null==e?void 0:e.countryFromIp,regionFromIp:null==e?void 0:e.regionFromIp,deviceType:"Desktop",eventCategory:"Logins"}),A(7536),I({action:T?"autologin":"login",event:"success",trigger:p&&p.trigger,type:C})},L=({error:e,isCrossDomain:t})=>{if(!e)return;let i=e.http_status===f.Ej?f.Ej:e.api_error_code,n=i;i&&u.qF.has(i)&&(n=u.qF.get(i));let{container:r,trigger:s}=p;(0,b.My)(`${t?"unauth_web_client_cctld_login_api_error":"unauth_web_client_login_api_error"}.${String(n)}.${r||"unknow_container"}.${C}`),A(7535),I({action:T?"autologin":"login",event:"fail",trigger:s,type:C})};if(n.username_or_email&&!n.mfa_resend&&e&&-1!==h.Z.indexOf(e.origin)){let t=e=>(0,b.My)(`web_cross_domain_login.${e}.${(0,g.eD)(n)}`);t("attempt");let{referrer:i,facebookToken:r,unauthId:s}=e;return(0,a.pH)(n,{recaptchaV3Token:w,referrer:i,facebookToken:r,unauthId:s,experimentsClient:P}).then(e=>{let i=e&&e.data;if(i)return t("success_with_token"),(0,a.kv)(i).then(e=>(t("success_token_exchanged"),k(),Promise.resolve()),e=>{throw t("success_token_not_exchanged"),e});throw t("success_without_token"),Error()},e=>{throw t("failure"),L({error:e,isCrossDomain:!0}),e})}E("login_api_call_start"),D("login_api_call_start");let Z=(0,j.OJ)(),R=r.Z.create("UserSessionResource",{...n,...Z?{referrer:Z}:Object.freeze({}),get_user:n.get_user||n.switch_account&&s,app_type_from_client:7===e.appType?7:5,visited_pages_before_login:(0,j.t_)()||null,recaptchaV2Token:m,recaptchaV3Token:w});return R.callCreate({showError:!1,async:!0}).then(e=>{let{country:t,country_from_hostname:i,country_from_ip:n,region_from_ip:r}=(null==e?void 0:e.client_context)||Object.freeze({});return k({country:t,countryFromHostName:i,countryFromIp:n,regionFromIp:r}),E("login_api_call_success"),D("login_api_call_success"),(0,c.B)(!1),(0,d.Z)(),o.zN(l.e7.name),o.zN(l.x3.name),(0,v.D)("login").then(()=>e)},e=>(L({error:e,isCrossDomain:!1}),E("login_api_call_failure"),D("login_api_call_failure"),Promise.reject(e)))},[e,t,i,I,P])}},669894:(e,t,i)=>{i.d(t,{B:()=>o,a:()=>s});var n=i(860438),r=i(619277);let s=()=>!!n.Z.getItem(r.WM),o=e=>{n.Z.setItem(r.WM,!!e)}},33476:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(667294),r=i(702664),s=i(563962),o=i(527386),l=i(216702),a=i(785893);function c(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends n.Component{constructor(...e){super(...e),c(this,"state",{hasCompleted:[],hasDismissed:[]}),c(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:i,viewExperience:n,viewExperienceObject:r}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",r(e)):i?n(e.placement_id,e.experience_id,i):n(e.placement_id,e.experience_id))}),c(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:i,experience:n,isBackendExperience:r,preventRemoval:s,targeting:o}=this.props,l=e||1;if(n&&!this.state.hasCompleted.includes(n.experience_id)){let{placement_id:e,experience_id:a}=n||{},c=s||2===l;(1===l||c)&&e&&a&&(r?i(n,c):o?t(e,a,c,o):t(e,a,c),this.setState(e=>({hasCompleted:[...e.hasCompleted,a]})))}}),c(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:i,isBackendExperience:n,preventRemoval:r,targeting:s}=this.props,{placement_id:o,experience_id:l}=i||{};i&&!this.state.hasDismissed.includes(l)&&(n?t(i):s?e(o,l,!!r,s):e(o,l,!!r),this.setState(e=>({hasDismissed:[...e.hasDismissed,l]})))}),c(this,"isEligibleExperience",()=>{let{experience:e}=this.props;if(!e)return!1;let{eligibleIds:t,eligibleTypes:i,predicate:n,transitionType:r}=this.props,{experience_id:s,type:o}=e;return t&&t.length?t.includes(s):i&&i.length?i.includes(o):n?n(e):!r||r===o})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,i=this.props.experience;i&&this.isEligibleExperience()&&(t&&t.experience_id===i.experience_id||this.view())}render(){let{children:e,experience:t,disableAutoView:i}=this.props;return t&&this.isEligibleExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...i?{view:this.view}:Object.freeze({})}):n.Children.only(e):null}}function u(e){let t=(0,r.useSelector)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),i=(0,r.useDispatch)(),n=(0,o.be)(),c=(0,o.Am)(),u=(0,o.Ig)(),p=(0,s.Z)();return(0,a.jsx)(d,{...e,experience:t,completeExperience:(e,t,r,s)=>i(n(e,t,r,!1,{},s)),completeExperienceObject:(e,t)=>i((0,l.Tl)(p)(e,t)),dismissExperience:(e,t,n,r)=>i(c(e,t,n,void 0,r)),dismissExperienceObject:e=>i((0,l.CF)(e)),viewExperience:(e,t,n)=>i(u(e,t,!1,!1,void 0,n)),viewExperienceObject:e=>i((0,l.dy)(p)(e))})}c(d,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},297776:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var n=i(667294),r=i(883119),s=i(33476),o=i(785893);function l(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a extends n.PureComponent{constructor(...e){super(...e),l(this,"onScroll",()=>{let{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){let{anchor:e,text:t,thumbnails:i,idealDirection:n}=this.props,s=i.slice(-3);return(0,o.jsx)(r.J2,{anchor:e,color:"white",idealDirection:n,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,o.jsxs)(r.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,o.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,o.jsx)(r.xv,{color:"default",weight:"bold",children:t})}),(0,o.jsx)(r.xu,{display:"flex",marginEnd:-2,paddingX:2,children:s.map(e=>(0,o.jsx)(r.xu,{height:60,width:50,paddingX:1,children:(0,o.jsx)(r.zd,{rounding:2,height:60,children:(0,o.jsx)(r.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}var c=i(133149);function d(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u extends n.Component{constructor(...e){super(...e),d(this,"dismissRef",(0,n.createRef)()),d(this,"state",{paused:!1}),d(this,"dismissCb",()=>{var e,t;null===(e=(t=this.dismissRef).current)||void 0===e||e.call(t)}),d(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){let{anchor:e}=this.props;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){e.has_pulsar=null==e.has_pulsar||e.has_pulsar,e.has_tooltip=null==e.has_tooltip||e.has_tooltip}getText(e,t,i){return(t&&e.text.replace("{boardName}",t),i)?i(e):e.text}render(){let{anchor:e,customWrapper:t,experienceIds:i,boardTextOverride:l,flyoutSize:d,fontSize:u,hasFullWidthButton:p=!0,idealDirection:h,useMasonryFlyout:g,noClickToDismiss:_,onClickComplete:m,onClickDismiss:x,placementId:f,positionRelativeToAnchor:v,shouldTimeoutDismiss:y,showCaret:b,textAlign:w,textOverflow:j,textOverrideFn:S,textWeight:I,customizedComplete:P,pulsarZIndex:T,advertiserId:C,dismissButtonLocation:E,dismissButtonColor:D,dismissButtonMarginTop:A}=this.props,k=t||(({children:e})=>g?(0,o.jsx)(r.mh,{children:e}):e);return(0,o.jsx)(s.Z,{eligibleIds:i,placementId:f,eligibleTypes:[8],targeting:C?{advertiserId:parseInt(C,10)}:null,children:({complete:t,dismiss:i,experience:s})=>{let{display_data:{scroll_to_dismiss:f,scroll_to_dismiss_delay_in_seconds:C=0,...L}}=s,Z=f&&e,R=()=>{z(),setTimeout(i,1e3*C)},z=()=>{Z&&(window.removeEventListener("scroll",R),window.removeEventListener("touchmove",R))},M=()=>{z(),t()};if(Z&&(window.addEventListener("scroll",R),window.addEventListener("touchmove",R)),this.setDefaultPulsarTooltip(L),!L.has_pulsar&&!L.has_tooltip)return M(),null;y&&L.disappearTime&&L.disappearTime>0&&(this.timer=setTimeout(()=>(R(),null),L.disappearTime));let O=501041===s.experience_id||505086===s.experience_id;return L.has_tooltip&&!L.has_pulsar&&(this.dismissRef.current=R,null==e||e.addEventListener("click",this.dismissCb)),(0,o.jsxs)(n.Fragment,{children:[L.has_pulsar&&(0,o.jsx)(c.Z,{anchor:e,leftOverride:O?342:void 0,onTouch:()=>this.handlePulsarClick(L.has_tooltip,M),paused:this.state.paused,topOverride:O?-5:void 0,zIndex:T&&T.index()}),L.has_tooltip&&(!L.has_pulsar||this.state.paused)&&(L.thumbnail_urls?(0,o.jsx)(a,{anchor:e,dismiss:R,idealDirection:h||"down",text:L.text,thumbnails:L.thumbnail_urls}):(0,o.jsx)(k,{children:(0,o.jsx)(r.J2,{anchor:e,color:"deprecatedBlue",idealDirection:h||"down",onDismiss:_?()=>{}:R,positionRelativeToAnchor:!g&&v,shouldFocus:!1,_deprecatedShowCaret:b,size:d,children:(0,o.jsxs)(r.xu,{column:12,padding:3,children:[(0,o.jsxs)(r.xv,{align:"right"===w?"end":w,color:"inverse",overflow:j,size:u,weight:I||"bold",children:[this.getText(L,l,S),L.secondary_cta_link&&(0,o.jsx)(r.xu,{display:"inlineBlock",marginStart:1,children:(0,o.jsx)(r.xv,{size:u,weight:"bold",color:"inverse",children:(0,o.jsx)(r.rU,{display:"inlineBlock",target:"blank",href:L.secondary_cta_link.url,underline:"hover",children:L.secondary_cta_link.text})})})]}),L.sub_text&&(0,o.jsx)(r.xu,{paddingY:2,children:(0,o.jsx)(r.xv,{color:"inverse",size:u,children:L.sub_text})}),(L.dismiss_button_text||L.complete_button_text)&&(0,o.jsxs)(r.xu,{display:"flex",alignItems:"center",justifyContent:E||"start",marginTop:A||2,children:[L.dismiss_button_text&&(0,o.jsx)(r.xu,{marginEnd:1,column:6,children:(0,o.jsx)(r.zx,{fullWidth:p,color:D||"blue",onClick:()=>{x&&x(),R()},size:"md",text:L.dismiss_button_text})}),L.complete_button_text&&(0,o.jsx)(r.xu,{column:L.dismiss_button_text?6:12,children:P?(0,o.jsx)(r.iP,{fullHeight:!0,onTap:()=>{M(),m&&m()},rounding:2,children:(0,o.jsx)(r.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,o.jsx)(r.xv,{color:"shopping",weight:"bold",children:L.complete_button_text})})}):(0,o.jsxs)(r.kC,{justifyContent:"center",children:[L.complete_button_cta_url&&(0,o.jsx)(r.ZP,{fullWidth:p,color:"white",href:L.complete_button_cta_url,size:"md",target:L.complete_button_cta_url?"blank":null,text:L.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),M(),m&&m()}}),!L.complete_button_cta_url&&(0,o.jsx)(r.zx,{fullWidth:p,color:"white",size:"md",text:L.complete_button_text,onClick:()=>{M(),m&&m()}})]})})]})]})})}))]})}})}}d(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},696508:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),r=i(883119),s=i(33476),o=i(785893);class l extends n.Component{constructor(...e){var t,i,n;super(...e),i={paused:!1,showPulsar:!1},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?n:String(n))in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}componentDidMount(){this.mountPulsar(),this.props.onExperienceMount&&this.experience&&this.props.onExperienceMount(this.experience)}componentWillUnmount(){clearTimeout(this.timer)}mountPulsar(){if(!this.experience)return;let{display_data:e}=this.experience;e.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){let{anchor:e}=this.props,{paused:t}=this.state;if(!e)return null;let i=e.getBoundingClientRect(),{height:n,width:s}=i;return(0,o.jsx)(r.xu,{position:"absolute",zIndex:new r.Ry(1),dangerouslySetInlineStyle:{__style:{marginTop:-(68+n/2),marginLeft:-(68-s/2),cursor:"pointer",pointerEvents:"none"}},children:(0,o.jsx)(r.o3,{paused:t})})}renderFlyout(e){let{anchor:t,flyoutSize:i,idealDirection:n}=this.props;return(0,o.jsx)(r.Li,{anchor:t,idealDirection:n||"down",onDismiss:()=>{},size:i,message:e})}render(){let{experienceIds:e,placementId:t,shouldTimeoutDismiss:i}=this.props,{showPulsar:n}=this.state;return(0,o.jsx)(s.Z,{eligibleIds:e,placementId:t,eligibleTypes:[8],children:({complete:e,dismiss:t,experience:s})=>{this.experience=s;let{display_data:l}=s;return l.has_pulsar||l.has_tooltip?(i&&l.disappearTime&&l.disappearTime>0&&(this.timer=setTimeout(()=>(t(),null),l.disappearTime)),(0,o.jsxs)(r.xu,{zIndex:new r.Ry(10),children:[n&&this.renderPulsar(),l.has_tooltip&&(!l.has_pulsar||this.state.paused)&&this.renderFlyout(l.text)]})):(e(),null)}})}}},216702:(e,t,i)=>{i.d(t,{CF:()=>l,Tl:()=>o,dy:()=>a});var n=i(690108),r=i(527386);let s=(e,t,i,s)=>(o,l)=>a=>{if(o&&o.id){let c=n.Z.create(e,{placed_experience_id:o.id,extra_context:{}});switch(t){case"dismissed":c.callDelete().then(()=>{a((0,r.fO)()),i&&s&&i({event_type:s,object_id_str:o.id.toString()})});break;case"completed":c.callUpdate().then(()=>{l||a((0,r.fO)()),i&&s&&i({event_type:s,object_id_str:o.id.toString()})});break;case"viewed":c.callUpdate().then(()=>{i&&s&&i({event_type:s,object_id_str:o.id.toString()})})}}},o=e=>s("UserExperienceCompletedResource","completed",e,6567),l=s("UserExperienceResource","dismissed"),a=e=>s("UserExperienceViewedResource","viewed",e,4503)},133149:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(883119),r=i(667294),s=i(785893);let o=(e,t,i,n)=>({horizontalOffset:-(n/2-t/2),verticalOffset:-(i/2-e/2)});function l({anchor:e,children:t,zIndex:i,leftOverride:l,topOverride:a}){let c=(0,r.useRef)(null),[d,u]=(0,r.useState)(0),[p,h]=(0,r.useState)(0),{height:g,width:_}=e.getBoundingClientRect();return(0,r.useEffect)(()=>{let{current:t}=c;if(e&&t){let{height:e,width:i}=t.getBoundingClientRect(),{horizontalOffset:n,verticalOffset:r}=o(g,_,e,i);u(n),h(r)}}),(0,s.jsx)(n.xu,{position:"absolute",zIndex:i?new n.Ry(i):void 0,dangerouslySetInlineStyle:{__style:{left:l||d,top:a||p}},ref:c,children:t})}let a=function(e){let{anchor:t,leftOverride:i,onTouch:r,onMouseEnter:o,paused:a,size:c,topOverride:d,zIndex:u}=e;return t?(0,s.jsx)(l,{anchor:t,leftOverride:i,topOverride:d,zIndex:u,children:(0,s.jsx)(n.iP,{fullWidth:!1,onTap:({event:e})=>r(e),onMouseEnter:o,rounding:"circle",children:(0,s.jsx)(n.o3,{paused:a,size:c})})}):null}},359209:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(667294),r=i(702664),s=i(442279),o=i(40660),l=i(220590),a=i(282802);let c=(0,s.P1)(e=>e.experiences,(e,t)=>t,(e,t)=>e[t]),d=(e,t,i={})=>o.Z.increment(`${e}.${t}`,1,i),u=(e,t)=>"function"==typeof t?t(e):t,p=(e,t={},i=!1)=>{let[s,o]=(0,n.useReducer)(u,t),{isBot:p}=(0,a.B)(),{fetchExperienceForPlacements:h,mountPlacement:g,triggerExperimentsForPlacement:_,unmountPlacement:m}=(0,l.M)();(0,n.useDebugValue)(`Placement Hook ID - ${e}`),(0,n.useEffect)(()=>{let t={...s},n=i&&null!=t&&t.advertiser_id?{advertiserId:t.advertiser_id}:void 0;return g(e,t,n),()=>{m(e)}},[]),(0,n.useEffect)(()=>{Object.keys(s).length>0&&h([e],p,s)},[s]);let x=(0,r.useSelector)(t=>c(t,e)),f=(0,r.useSelector)(t=>t.experiencesMulti[e]),v=x?x.triggerable_placed_exps:[];return(0,n.useEffect)(()=>{let t={platform:"web",placement_id:e,...v};d("experienceservice","placementHookExperimentTrigger.1",t),_(e,s)},[JSON.stringify(v)]),{experience:x,experiencesMulti:f,setExtraContext:o}}},550140:(e,t,i)=>{i.d(t,{UZ:()=>c,Vg:()=>a,ZP:()=>d});var n=i(667294),r=i(883119),s=i(549201),o=i(272109),l=i(785893);let a=200,c=({deviceType:e,hiding:t,visible:i})=>{let n="desktop"===e,r=0,s=n?"translateY(200px)":"translateY(-200px)",o="opacity 0.1s ease-in-out",l="hidden";return i&&!t&&(r=1,s="translateY(0)",o="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",l="visible"),i&&t&&(s="scale(1.1)",o="opacity transform 0.2s"),{opacity:r,pointerEvents:"auto",position:"relative",marginTop:n?10:0,transform:s,transition:o,visibility:l}};function d({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:i,primaryAction:d,dismissButton:u,helperLink:p,thumbnail:h,type:g,dataTestId:_,duration:m=2e3,onHide:x,href:f,onClick:v,openNewPage:y,imageUrl:b}){var w;let j;let S=(0,s.ZP)(),[I,P]=(0,n.useState)(!1),[T,C]=(0,n.useState)(!1),E=(0,n.useRef)(),D=()=>{P(!0),E.current=setTimeout(x,a)},A=()=>{E.current=setTimeout(D,m)},k=()=>{E.current&&clearTimeout(E.current)};(0,o.Z)(()=>(setTimeout(()=>C(!0),100),A(),k)),b&&(j={image:(0,l.jsx)(r.Ee,{alt:"string"==typeof i?i:`${i[0]} ${i[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:b})});let L=(0,l.jsx)(r.FN,{_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,primaryAction:d,text:i,thumbnail:null!==(w=j)&&void 0!==w?w:h,type:g,dismissButton:u,helperLink:p}),{marginTop:Z,opacity:R,pointerEvents:z,position:M,transform:O,transition:B,visibility:F}=c({deviceType:S,hiding:I,visible:T});return(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:O,transition:B,visibility:F,pointerEvents:z}},"data-test-id":null!=_?_:"toast",onMouseEnter:k,onMouseLeave:A,opacity:R,position:M,marginTop:Z,display:"flex",children:f?(0,l.jsx)(r.Tg,{href:f,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{f.startsWith("#")&&(e.preventDefault(),t()),null==v||v(e)},target:y?"blank":null,rounding:"pill",children:L}):L})}},870243:(e,t,i)=>{i.d(t,{qE:()=>l,u_:()=>a.ZP});var n=i(883119),r=i(785893);let s=(e,t)=>{let i=null==e?void 0:e.includes("images/user/default");return!!(i&&t)};function o({accessibilityLabel:e,name:t,outline:i,size:o,src:l,verified:a}){return(0,r.jsx)(n.qE,{accessibilityLabel:e,name:t,outline:i,size:o,src:s(l,t)?void 0:l,verified:a})}o.displayName="Avatar";let l=o;var a=i(88622);i(550140)},24286:(e,t,i)=>{i.d(t,{$H:()=>o,$q:()=>v,D6:()=>c,KN:()=>b,Lo:()=>r,OS:()=>h,P2:()=>m,Wv:()=>y,ZZ:()=>u,g5:()=>p,jC:()=>l,lX:()=>_,nW:()=>g,oX:()=>x,qG:()=>f,tG:()=>s,yF:()=>n,yc:()=>d,yt:()=>a});let n=236,r=2*n/3,s=175,o=24,l=4,a=8,c=2,d=2,u=14,p=16,h=5,g=12,_=16,m=24,x=16,f=-1,v=(e=!1,t=!1)=>e?t?_:g:m,y=({contentVisibleItemCount:e,gap:t,width:i})=>e||i?(i-(e-1)*t)/e:n,b=(e,t,i,n,r=u)=>{let s=e+r,o=`
@media (min-width: ${t*s}px) and (max-width: ${(i+1)*s-1}px) {
  ${n}
}
`;return o}},885931:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e,t){return e.reduce((e,i)=>{let n="function"==typeof t?t(i):i[t];return n in e||(e[n]=[]),e[n].push(i),e},{})}},833122:(e,t,i)=>{i.d(t,{F:()=>a,Z:()=>l});var n=i(667294),r=i(388011),s=i(906215);let o={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600}};function l({carouselData:e,closeupImpressionType:t,closeupNavigationType:i,componentType:l,contextLogData:a,clientTrackingParams:c,elementType:d,impressionAuxFields:u,inImpressionExp:p,impressionType:h,impressionsFramework:g,isPaused:_,loggingId:m,objectIdStr:x,slotIndex:f,trackCarousel:v,viewData:y,viewParameter:b,viewType:w}){let{logContextEvent:j}=(0,r.v)(),S=g||s.Z,I=(0,n.useRef)(null),P=n=>{var r,s,p,g,_,S,P;let T=o[h],C=T.idType,E={clientTrackingParams:c,endTime:n.endTime,[C]:m,slotIndex:f,time:n.startTime,renderDuration:n.endTime-n.startTime,type:t,...u,forcedExit:"removed"===n.forcedExit?0:void 0};"Pin"===h&&(E={...E,pinCellWidth:(null===(r=I.current)||void 0===r?void 0:r.getBoundingClientRect().width)||0,pinCellHeight:(null===(s=I.current)||void 0===s?void 0:s.getBoundingClientRect().height)||0,windowWidth:null===(p=window)||void 0===p?void 0:p.innerWidth,windowHeight:null===(g=window)||void 0===g?void 0:g.innerHeight});let D={component:l,object_id_str:x,view_type:w,view_data:y||{},view_parameter:b};v?e&&j({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...E,carouselDataId:Number(e.id),carouselSlotId:(null===(_=e.carousel_slots)||void 0===_?void 0:_[null!==(S=e.index)&&void 0!==S?S:0])&&Number(e.carousel_slots[null!==(P=e.index)&&void 0!==P?P:0].id),slotIndex:e.index}]},...D,aux_data:{...a}}):j({clientTrackingParams:c,event_type:T.eventType,...D,element:d,event_data:{[T.impressionType]:"Story"===h?E:[E]},aux_data:{closeup_navigation_type:i,...a}})},T=(0,n.useCallback)(()=>{try{I.current instanceof HTMLElement&&S.start(I.current).onExitViewport(P).setDebugId(m||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[I.current]);(0,n.useEffect)(()=>(p&&!S.inExperiment&&S.setExperimentStatus(!0),_||T(),()=>{I.current instanceof HTMLElement&&S.stop(I.current)}),[T]);let C=(0,n.useRef)(_);return(0,n.useEffect)(()=>{C.current&&!_&&T(),C.current=_},[_,T]),I}let a=({children:e,...t})=>e({impressionTrackerRef:l(t)})},550941:(e,t,i)=>{i.d(t,{Di:()=>p,Jl:()=>c,R:()=>d,ZP:()=>x,aU:()=>h,j2:()=>u,pN:()=>g,rL:()=>f,vW:()=>m});var n=i(883119),r=i(870243),s=i(550140),o=i(630089),l=i(739425),a=i(785893);let c=7e3,d="permanent_account_closure",u="account_deletion_email_sent",p="account_deactivated",h="unlink_successful",g="account_switch_to_settings";function _(e,t,i){return(0,a.jsx)(n.xv,{align:i||"center",children:(0,o.nk)(e,{username:(0,a.jsx)(n.xv,{inline:!0,weight:"bold",children:t})})})}function m({i18n:e,message:t,multipleAccounts:i,username:n=""}){switch(t){case d:return e.bt("Ваш аккаунт удален. Жаль, что вы уходите", "Your account has been deleted. We're sad to see you go", "unauthLoginPage.accountDeletedToast.message", undefined, true);case u:if(i)return _(e.bt("Мы отправили вам письмо с последними инструкциями по удалению аккаунта {{username}} и привязанных к нему других аккаунтов", "An email has been sent with final steps to delete your account, {{username}} and its linked accounts", "accountDeletedEmailToast.message.multipleAccounts", undefined, true),n);return _(e.bt("{{username}}, мы отправили вам письмо с последними инструкциями по закрытию аккаунта", "An email has been sent with final steps to delete your account, {{username}}", "accountDeletedEmailToast.message.singleAccount", undefined, true),n);case p:return _(i?e.bt("Аккаунт {{username}} и все привязанные аккаунты отключены.", "The account, {{username}}, and its associated linked accounts have been deactivated", "unauthLoginPage.deactivatedToast.message.multipleAccounts", undefined, true):e.bt("Аккаунт {{username}} отключен.", "The account, {{username}}, has been deactivated", "unauthLoginPage.deactivatedToast.message.singleAccount", undefined, true),n);case h:return _(e.bt("Готово! Бизнес-аккаунт отвязан. Вы вошли в систему как {{username}}.", "Success! You've unlinked this business account. You are currently in {{username}}.", "authHomeFeedPage.unlinkAccountToast.message", undefined, true),n,"start");case g:return _(e.bt("Вы переключились и сейчас находитесь в аккаунте {{username}}", "You've switched into and are currently in the account {{username}}", "accountSettings.switchAccountToAccountChanges", undefined, true),n,"start");default:return""}}function x(e,t,i=""){if(!(t&&t.search))return"";let{message:n}=(0,l.mB)(t.search),r=(0,l.mB)(t.search).username||i,s="true"===(0,l.mB)(t.search).multiple_accounts;return m({i18n:e,message:n,multipleAccounts:s,username:r})}function f({showOneToast:e,i18n:t,location:i,history:n,username:o,fullName:d,avatarUrl:u}){if(!(i&&i.search))return;let p=x(t,i,o||""),{message:_}=(0,l.mB)(i.search),m=_===g||_===h;p&&(e(({hideToast:e})=>(0,a.jsx)(s.ZP,{duration:c,onHide:e,text:p,thumbnail:m?{avatar:(0,a.jsx)(r.qE,{name:d||"",src:u||"",size:"md"})}:void 0})),n.replace(i.hash?`${i.pathname}${i.hash}`:i.pathname))}},752977:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(840093),r=i(514316);let s=e=>{var t;let i={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return(i.fullName&&i.imageMediumUrl&&i.imageLargeUrl||(0,n.Z)("utils.incomplete_user_values"),null!==(t=e.partner)&&void 0!==t&&t.is_create)?{...i,partner:{is_create:!0}}:i},o=(e,t,i)=>{(0,r.r8)({...(0,r.rl)(),[e.id]:s(e)}),t&&i&&(0,n.Z)("new_account_add_success",{method:t,user_added:e.id},i)}},840093:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(172045),r=i(514316),s=i(98736);let o="web_account_switcher",l=()=>{let e=(0,n.Z)();return(0,s.tj)(`${o}.utils.group_created`,{group_id:e,group_count:(0,r.lv)()}),e},a=(e,t,i)=>{let n=(0,r.yW)();n||(n=l(),(0,r.M3)(n));let a={group_count:(0,r.lv)()},c="";i&&(c="account_switcher_modal"===i?"modal.":"flyout."),(0,s.tj)(`${o}.${c}${e}`,{...t,...a})}},950861:(e,t,i)=>{i.d(t,{Ny:()=>u,ZP:()=>h,eD:()=>_,lp:()=>g,nY:()=>m});var n=i(463310),r=i(675689),s=i(860438),o=i(837792),l=i(98736),a=i(198541),c=i(911386),d=i(619277);let u=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class p{static defaultLoginRedirectUrl(){return window.location.pathname===o.lfe||window.location.pathname===o.ZEf||window.location.pathname.startsWith(o.rOJ)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(o.rOJ)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){let e=s.Z.getItem(d.kl);if(e&&e.indexOf("|")>-1){let t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){let e=s.Z.getItem(d.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();let i=(new Date().getTime()/1e3).toString();t.push(i);let n=t.join("|");s.Z.setItem(d.kl,n)}static isFullyLoggedIn(e,t){return e&&t===r.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";let t=(0,c.Z)();if(t){let i=t.next;i&&(e=i,delete t.next),e=(0,a.Z)(e,t)}}(0,n.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){s.Z.setItem(d.F6,Date.now()),!t&&e&&"/"!==e?p.handleRedirect(e):p.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){let t=window.navigator.credentials;if(t&&e.username_or_email)try{let i=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(i).then(()=>{(0,l.My)("navigatorCredentials.store.success")})}catch(e){(0,l.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,i){(0,l.My)("multi_step_login"),p.storeLoginCredentialsToBrowser(e),i?i(e,t):(0,l.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}let h=p;function g(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function _(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":g(e)}function m(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}},643183:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(497088);let r=n.Z},660774:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(667294),r=i(785893);function s({searchDelightText:e,searchDelightConfig:t}){let{text_background_color:i,text_colors:n=[]}=t,s=i?{backgroundColor:i,margin:"-2px",padding:"2px"}:void 0;if(!(n.length>1))return(0,r.jsx)("span",{style:{color:n[0],whiteSpace:"pre-wrap",...s},children:e},`searchDelight-${e}`);{let t=0;return(0,r.jsx)("span",{style:{whiteSpace:"pre-wrap",...s},children:e.split("").map((e,i)=>{let s=n[t];return" "!==e&&(t=(t+1)%n.length),(0,r.jsx)("span",{style:{color:s},children:e},`searchDelight-${i}`)})})}}var o=i(883119);let l=({children:e,gray:t,weight:i="normal"})=>(0,r.jsx)(o.xv,{color:t?"subtle":void 0,inline:!0,weight:i,children:(0,r.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:e})}),a=({allBold:e,searchDelightParts:t,searchDelightConfig:i,text:o,weightPivot:a})=>{let c=t[1],d=o.indexOf(c),u=d+c.length;return a<=d?(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(l,{gray:!0,weight:e?"bold":"normal",children:o.substring(0,a)}),(0,r.jsxs)(l,{weight:"bold",children:[o.substring(a,d),(0,r.jsx)(s,{searchDelightText:c,searchDelightConfig:i}),o.substring(u)]})]}):a<=u?(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(l,{gray:!0,weight:e?"bold":"normal",children:o.substring(0,d)}),(0,r.jsxs)(l,{weight:"bold",children:[(0,r.jsx)(s,{searchDelightText:c,searchDelightConfig:i}),o.substring(u)]})]}):(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(l,{gray:!0,weight:e?"bold":"normal",children:o.substring(0,d)}),(0,r.jsx)(l,{weight:"bold",children:(0,r.jsx)(s,{searchDelightText:c,searchDelightConfig:i})}),(0,r.jsx)(l,{gray:!0,weight:e?"bold":"normal",children:o.substring(u,a)}),(0,r.jsx)(l,{weight:"bold",children:o.substring(a)})]})},c=(e,t)=>{let i=RegExp("\\b"+t+"\\b","i"),n=e.match(i);if(!n)return null;let r=e.toLowerCase().indexOf(t.toLowerCase()),s=e.slice(0,r),o=e.slice(r,r+t.length);return[s,o]},d=(e,t)=>t.map(t=>c(e,t)).filter(Boolean).sort((e,t)=>e&&t?e[0].length-t[0].length:0).shift();function u({allBold:e,searchDelightConfig:t,query:i="",text:s}){let o=s.toLowerCase().startsWith(i.toLowerCase())?i:"",c=o.length,u=t?d(s,t.search_query_list):null;return u&&t?(0,r.jsx)(a,{allBold:e,searchDelightParts:u,searchDelightConfig:t,text:s,weightPivot:c}):(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(l,{gray:!0,weight:e?"bold":"normal",children:s.substr(0,c)}),(0,r.jsx)(l,{weight:"bold",children:s.substr(c)})]})}},369840:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294),r=i(883119),s=i(243600),o=i(536042),l=i(785893);function a({dataTestId:e,focusOptionId:t,isFocused:i,name:a,onBlur:c,onChange:d,onClick:u=()=>{},onFocus:p,onKeyDown:h,onSearchTrigger:g,placeholder:_,value:m,disabled:x=!1}){let f=(0,o.ZP)(),v=(0,n.useRef)(null);return(0,n.useEffect)(()=>{v.current&&g&&v.current.addEventListener("searchTrigger",g)},[]),(0,n.useEffect)(()=>{if(!v.current)return;let e=document.activeElement===v.current;e!==i&&(i?v.current.focus():v.current.blur())},[i]),(0,l.jsxs)(r.xu,{height:"100%",flex:"grow",children:[(0,l.jsx)("input",{autoCapitalize:"off",autoCorrect:"off",autoComplete:"off","aria-activedescendant":t,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-label":f.bt("Поиск", "Search", "searchBox.searchInput.placeholder", undefined, true),"aria-expanded":i,"data-test-id":e,name:a,onBlur:c,onChange:e=>{d(e.target.value)},onClick:u,onFocus:p,onKeyDown:h,placeholder:_||f.bt("Поиск", "Search", "searchBox.searchInput.placeholder", undefined, true),ref:v,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"#333",fontFamily:s.Z,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:m,disabled:x}),(0,l.jsx)(r.xu,{display:"none",id:"searchBoxAccessibleText",children:f.bt("Если доступны результаты автозаполнения, используйте стрелки вверх и вниз для их просмотра и выбора. Если у вас сенсорное устройство, выбирайте варианты с помощью касаний и жестов прокрутки.", "When autocomplete results are available use up and down arrows to review and enter to select. Touch device users, explore by touch or with swipe gestures.", "searchBox.searchInput.accessibleText", undefined, true)})]})}},181437:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(970588);function r({report:e,query:t,suggestions:i,type:r}){return(0,n.Z)({url:"/v3/search/suggestion/report/",method:"POST",data:{report:e,query:t,suggestions:i,type:r}})}},833603:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),r=i(690108);let s=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},o=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};function l({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:i={},value:s}){let l=(0,n.useRef)(!1),a=(0,n.useRef)({}),[c,d]=(0,n.useState)([]),u=function({resourceName:e,resourceOptions:t}){let i=(0,n.useRef)();return i.current||(i.current=function({resourceName:e,resourceOptions:t}){let i={...t,count:"count"in t?t.count:5},n=r.Z.create(e,i),s=new o,l=()=>{n.abort()},a=async(e,t)=>{if(n.isCalling()){var i,r;let s=null===(i=n.options)||void 0===i?void 0:i.term,o=null===(r=n.options)||void 0===r?void 0:r.pin_scope;if(e===s&&t===o)return;l()}let{bookmarks:o,...a}=n.options||{};n.options={...a,term:e,pin_scope:t};let c=await n.callGet({showError:!1}),{data:d}=c.resource_response,u=null==d?void 0:d.items,p=(null==d?void 0:d.hint)||{};return s.set(`${t}-${e}`,{hint:p,items:u}),{term:e,items:u,hint:p}};return async function(e,t){let i=s.get(`${t}-${e}`);if(i){let{items:t}=i;if(t&&t.length){l();let{hint:n}=i;return{hint:n,items:t,term:e}}}return e.length>=0?a(e,t):{hint:{},items:[],term:e}}}({resourceName:e,resourceOptions:t})),i.current}({resourceName:t,resourceOptions:i}),p=i.pin_scope||"pins",h=`${p}-${s}`;return(0,n.useEffect)(()=>{(async()=>{if(null!=s&&(e||l.current)){if(h in a.current)d(a.current[h]);else try{let e=await u(s,p);if(e){let{items:t}=e;a.current[h]=t,d(t)}}catch(e){if("Resource call aborted"===e)return;throw e}}l.current||(l.current=!0)})()},[s,p,h]),c}o.prototype.set=function(e,t){let i=this._uidToData[e];i||(i=new s(e,t),this._uidToData[e]=i,this._numItems+=1),this._moveToFront(i),this._numItems>this._maxNumItems&&this._evict()},o.prototype.get=function(e){let t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},o.prototype.remove=function(e){let t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},o.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},o.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1}},207732:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(845098);function r(e){let{query:t,rs:i,scope:r,guideAdded:s,filters:o,user:l,requestParams:a}=e;if(!t)return"/";let c={q:t,rs:i,...a};if(o&&(c.filters=o),l&&(c.user=l),s&&s.term&&(c.add_refine=`${s.term}|guide|word|${s.index}`),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,n.Z)(c)}`;let d=r;return["pins","buyable_pins","my_pins","boards","users","idea_pins"].includes(d)||(d="pins"),d?`/search/${d}/?${(0,n.Z)(c)}`:`${window.location.pathname}?${(0,n.Z)(c)}`}},118482:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(739425);function r(e){let t;let i=(0,n.mB)(e.search)||{};if(i.q){let i=e.pathname.split("/");t=i.length>2?i[2]:"pins"}if(i.q&&t){let e=Array.isArray(i.q)?i.q.join(" "):i.q,n=Array.isArray(i.rs)?"":i.rs,r=Array.isArray(i.user)?"":i.user;return{filters:i.filters||"",user:r,query:e||"",rs:n||"",scope:"pins"===t||"buyable_pins"===t||"my_pins"===t||"boards"===t||"users"===t||"videos"===t||"idea_pins"===t?t:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},511139:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(468e3),r=i(845098);function s({bubbleId:e,pinId:t,query:i,referringSource:s,storyCategory:o,storyId:l,title:a}){let c=[0,24,21,26].includes(o),d=(0,r.Z)({q:i,rs:s||void 0,b_id:e,source_id:l,top_pin_id:t}),u=c&&a?(0,n.x)({title:a,id:e,articleType:"discover"}):`/discover/article/${e}/`;return c?u:`/search/pins/${d?"?"+d:""}`}},649715:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e){return(e||"").trim().replace(/\s+/g," ")}},637362:(e,t,i)=>{i.d(t,{J:()=>n,Z:()=>r});let n=-1;function r(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},729522:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(540975);let r=/\{\{\s*(\w+)\s*\}\}/g,s=(e,t)=>(0,n.Z)(r,e,t)},686473:(e,t,i)=>{i.d(t,{Z:()=>n});let n=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},540975:(e,t,i)=>{i.d(t,{Z:()=>n});let n=(e,t,i)=>t?t.replace(e,(e,t)=>i&&Object.prototype.hasOwnProperty.call(i,t)?i[t]:""):""},493851:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(729522),r=i(686473);let s=(e,t)=>{let i={};return Object.keys(t).forEach(e=>{i[e]=t[e]?(0,r.Z)(t[e].toString()):""}),(0,n.Z)(e,i)}},371362:(e,t,i)=>{i.d(t,{ZP:()=>n});function n(e,t=80,i="…",n=!1){let r;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||n)r=e.substring(0,t);else{let i=e.lastIndexOf(" ",t);r=e.substring(0,i)}return(r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+i}},99220:(e,t,i)=>{i.d(t,{Z:()=>f});var n=i(667294),r=i(758360),s=i(310561),o=i(282802),l=i(114935),a=i(291986),c=i(583592);let{Provider:d,useMaybeHook:u}=(0,c.Z)("timeSpentContext");var p=i(393729),h=i(525104),g=i(785893);function _(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class m extends n.Component{constructor(e){super(e),_(this,"componentWillUnmount",()=>{this.unregisterComponent()}),_(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:i,objectId:n,timeSpentContext:r,view:s,viewParameter:o}=this.props;return{view:s||(null==r?void 0:r.view),viewParameter:o||(null==r?void 0:r.viewParameter),component:t||(null==r?void 0:r.component),element:i,objectId:n||(null==r?void 0:r.objectId),clientTrackingParams:e||(null==r?void 0:r.clientTrackingParams),getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),_(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),_(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),_(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),_(this,"getTimedPair",()=>this.state.timedPair),_(this,"setTimedPair",e=>this.setState({timedPair:e})),_(this,"isRegistered",!1),_(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),_(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),_(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:i,left:n,right:r,top:s}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===i&&0===n&&0===r&&0===s?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new a.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,l.Z)(e.auxData,this.props.auxData)&&(0,l.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e}=this.props;return(0,g.jsx)(d,{value:this.getContext(),children:(0,g.jsx)(r.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:n.Children.only(e)})})}}function x(e){var t;let i=(0,s.Hv)(),r=u(),l=(0,p.w)(),a=(0,h.H0)(),{requestIdentifier:c=""}=(0,o.B)(),d={app_instance_id:c.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,n.useEffect)(()=>{null==l||l.setHistoryStackContext(i)},[i,l]),(0,n.useEffect)(()=>{null==l||l.setPins(null!=a?a:{})},[a,l]),l?(0,g.jsx)(m,{...e,auxData:d,timeSpentContext:r,timeSpentManager:l,children:e.children}):e.children}x.displayName="TimeSpent";let f=x},3060:(e,t,i)=>{i.d(t,{Ag:()=>s,C0:()=>a,L1:()=>p,Vi:()=>o,YD:()=>u,kS:()=>r,oo:()=>l,p3:()=>h,vC:()=>c,vI:()=>d});var n=i(957286);let r="https://www.pinterest.com/business/hub/",s="https://www.pinterest.com/homefeed/",o="www.pinterest.com",l="https://help.pinterest.com",a=`${(0,n.Z)({site:"www"})}`,c=(0,n.Z)({site:"developers"}),d=`${(0,n.Z)({site:"sterling"})}`,u=`${(0,n.Z)({site:"analytics"})}`,p=`${(0,n.Z)({site:"trends"})}`,h=`${(0,n.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="})}`},286354:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(911386);let r=({url:e})=>{if(e){let t=e.split("?");if(t[1])return(0,n.Z)(t[1])}return(0,n.Z)()}},806681:(e,t,i)=>{i.d(t,{Z:()=>o,q:()=>s});var n=i(667294);let r=()=>{let[e,t]=(0,n.useState)(!1),[i,r]=(0,n.useState)(!1),[s,o]=(0,n.useState)(!1);return{active:e,focused:i,hovered:s,onBlur:()=>{r(!1),t(!1)},onFocus:()=>r(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>{o(!1),t(!1)},onMouseUp:()=>t(!1)}};function s({children:e}){let t=r();return e(t)}let o=r},589665:(e,t,i)=>{i.d(t,{L1:()=>s,Rz:()=>a,WZ:()=>o,cI:()=>r,fe:()=>l,hu:()=>n});let n=64,r=80,s=22,o="HeaderContent",l=671,a={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},328939:(e,t,i)=>{i.d(t,{fv:()=>f,fS:()=>S,Hs:()=>y,Mv:()=>m,uc:()=>x,dL:()=>_,qS:()=>v,Y4:()=>j,HE:()=>w,Cy:()=>b});var n=i(667294),r=i(973935),s=i(388011),o=i(906215),l=i(785893);function a(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c extends n.Component{constructor(...e){super(...e),a(this,"observe",()=>{try{if(this.node=(0,r.findDOMNode)(this),this.node instanceof HTMLElement){let{pinIdStr:e,newsIdStr:t}=this.props.eventData;o.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),a(this,"logImpression",e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}})})}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&o.Z.stop(this.node)}render(){return n.Children.only(this.props.children)}}function d(e){let{logImpression:t}=(0,s.v)();return(0,l.jsx)(c,{...e,logImpression:t})}var u=i(521262),p=i(282802),h=i(567648);function g({auxData:e,component:t,eventData:i,eventType:r,impressionType:l,isPaused:a,objectIdStr:c,viewData:d,viewType:g,viewParameter:_}){let m=(0,n.useRef)(null),{logImpression:x}=(0,s.v)(),f=(0,h.Z)(),v=(0,p.B)(),y=(0,n.useCallback)(()=>{try{if(m.current instanceof HTMLElement){let{pinIdStr:n,newsIdStr:s}=i;o.Z.start(m.current).onExitViewport(n=>{var s,o,a,p,h,y;x({viewData:d||{},viewType:g,viewParameter:_,eventType:r,impressionType:l,auxData:e,component:t,objectIdStr:c,eventData:{endTime:n.endTime,time:n.startTime,pinCellWidth:(null===(s=m.current)||void 0===s?void 0:s.getBoundingClientRect().width)||0,pinCellHeight:(null===(o=m.current)||void 0===o?void 0:o.getBoundingClientRect().height)||0,windowWidth:null===(a=window)||void 0===a?void 0:a.innerWidth,windowHeight:null===(p=window)||void 0===p?void 0:p.innerHeight,...i}});let{attributionSourceId:b,campaignId:w,isPromoted:j,link:S,advertiserId:I}=i;"pinImpressions"===l&&j&&!f&&null!==(h=window.document.featurePolicy)&&void 0!==h&&h.allowsFeature("attribution-reporting")&&(0,u.YS)(l,j,null!=b?b:null,S,w,{appType:v.appTypeDetailed,osType:(0,u.eF)(null!==(y=v.userAgent.osName)&&void 0!==y?y:"Unknown")},null!=I?I:null)}).setDebugId(n||s||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[m.current]);return(0,n.useEffect)(()=>{a||y();let{current:e}=m;return()=>{e instanceof HTMLElement&&o.Z.stop(e)}},[a,y]),m}let _=e=>{let t=g({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},m=e=>{let t=g({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},x=e=>{let t=g({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},f=e=>(0,l.jsx)(d,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),v=e=>{let t=g({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},y=e=>(0,l.jsx)(d,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),b=e=>{let t=g({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},w=e=>{let t=g({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},j=e=>{let t=g({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},S=e=>{let t=g({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3700,impressionType:"boardImpressions",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})}},923632:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(883119),r=i(886365),s=i(785893);let o=new n.Ry(500);function l(){let{appUI:{showTypeaheadOverlay:e}}=(0,r.I)();return e?(0,s.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.4)"}},bottom:!0,left:!0,right:!0,top:!0,position:"fixed",zIndex:o}):null}},251163:(e,t,i)=>{i.d(t,{O:()=>c,Z:()=>d});var n=i(667294),r=i(883119),s=i(536042),o=i(837792),l=i(785893);let a={xs:12,sm:16,md:20,lg:24};function c({children:e}){let t=(0,s.ZP)();return(0,l.jsx)(r.u,{link:(0,l.jsx)(r.rU,{href:o.vBy,target:"blank",children:(0,l.jsx)(r.xv,{color:"inverse",size:"100",weight:"bold",children:t.bt("Подробнее", "Learn more", "verifiedBadge.tooltip.link", undefined, true)})}),text:t.bt("Этот магазин отвечает требованиям Pinterest к продавцам", "This retailer meets Pinterest's Merchant Guidelines", "merchantVerification.badge.tooltip", undefined, true),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:i,showText:o,size:d}){let u=(0,s.ZP)(),p=(0,l.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(r.JO,{accessibilityLabel:u.bt("Значок подтвержденного продавца", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true),color:"shopping",icon:"workflow-status-ok",inline:!0,size:a[d]}),o&&(0,l.jsx)(r.xu,{marginStart:2,children:(0,l.jsx)(r.xv,{color:"shopping",inline:!0,weight:"bold",children:u.bt("Подтвержденный продавец", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})]});return(0,l.jsxs)(n.Fragment,{children:[i&&!t&&(0,l.jsx)(c,{children:p}),i&&t&&p,e&&!i&&(0,l.jsx)(r.JO,{accessibilityLabel:u.bt("Значок подтвержденного домена", "Domain verification icon", "domainVerification.badge.icon", undefined, true),color:"error",icon:"check-circle",size:a[d]})]})}},313398:(e,t,i)=>{i.d(t,{A:()=>o,Z:()=>l});var n=i(667294),r=i(883119),s=i(785893);let o={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function l({backgroundColor:e,children:t,coverImage:i,disableTabIndex:l,height:a,id:c,isHovered:d,onClick:u,onMouseDown:p,onMouseEnter:h,onMouseLeave:g,searchBoxRenderStopwatch:_,url:m,width:x}){var f,v;let[y,b]=(0,n.useState)(!1),w=()=>{h?h():b(!0)},j=()=>{g?g():b(!1)},S=d||y,I=S?o.hoverOverlay:o.bubbleOverlay;return(0,s.jsx)(r.Tg,{href:m,onBlur:j,onFocus:w,onMouseDown:p,onMouseEnter:w,onMouseLeave:j,onTap:()=>{null==u||u(c)},rounding:4,tabIndex:l?-1:void 0,children:(0,s.jsx)(r.zd,{rounding:4,width:x||"100%",height:a,children:null!=i&&i.url?(0,s.jsxs)(r.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(f=i.height)&&void 0!==f?f:1,naturalWidth:null!==(v=i.width)&&void 0!==v?v:1,onLoad:()=>{null==_||_.stop()},role:"presentation",src:i.url,children:[(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:I},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:S}):t]}):(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},470792:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(667294),r=i(883119),s=i(870243),o=i(181437),l=i(493851),a=i(806685),c=i(802071),d=i(313398),u=i(149139),p=i(157987),h=i(328939),g=i(785893);function _({bubble:e,height:t,isHovered:i,onClick:_,onMouseDown:m,onMouseEnter:x,onMouseLeave:f,searchBoxRenderStopwatch:v,showFlag:y,slotIndex:b,storyId:w,storyType:j,viewParameter:S,viewType:I,width:P}){var T,C;let E=(0,c.Z)(),{id:D,title:A,image_urls:k,article_creator_user:L}=e,Z=()=>{(0,o.Z)({query:"",report:A,suggestions:[A],type:u.KH.SEARCH_TRENDING_TEXT})},R=k&&k.length>0?{url:k[0]}:void 0,z=(0,l.Z)(A||"",{});if(!e.title||!e.id)return null;let M=(0,a.T7)(null!==(T=e.feed_source)&&void 0!==T?T:0,null!==(C=e.is_product_pin_feed)&&void 0!==C&&C,e.title,e.id);return(0,g.jsx)(h.Y4,{auxData:{grid_index:b.toString(),today_article_id:D,story_type:j,story_id:w},loggingId:D,objectIdStr:D,slotIndex:b,viewParameter:S||3467,viewType:I,children:({impressionTrackerRef:e})=>(0,g.jsx)(d.Z,{backgroundColor:"gray",coverImage:R,disableTabIndex:!0,height:t,id:D,isHovered:i,onClick:_,onMouseDown:m,onMouseEnter:x,onMouseLeave:f,ref:e,searchBoxRenderStopwatch:v,url:M,width:P,children:({isHovered:i})=>{var o;return(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(r.xu,{alignItems:"end",display:"flex",height:t,justifyContent:"center",padding:3,position:"absolute",top:!0,width:P||"100%",ref:e,children:(0,g.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[t>200?(0,g.jsx)(r.X6,{size:"500",align:"center",color:"light",children:z}):(0,g.jsx)(r.xv,{align:"center",color:"light",weight:"bold",children:z}),L&&L.image_small_url&&L.full_name&&(0,g.jsxs)(r.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,g.jsx)(r.xu,{marginEnd:2,children:(0,g.jsx)(s.qE,{outline:!0,size:"xs",src:L.image_small_url,name:L.full_name})}),(0,g.jsx)(r.xv,{size:"100",color:"light",children:L.full_name})]})]})}),E.isAuth&&E.isEmployee&&y&&(0,g.jsx)(r.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,g.jsx)(p.Z,{handleReport:Z,imgSignature:null!==(o=null==R?void 0:R.url)&&void 0!==o?o:"",isVisible:i})})]})}})})}},695458:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),r=i(883119);let s={transparent:{backgroundColor:"transparent"},transparentHovered:{backgroundColor:"rgba(216, 216, 216, 0.37)"},pog:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},buttonFocus:{outline:"0"}};var o=i(785893);function l(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a extends n.Component{constructor(...e){super(...e),l(this,"state",{hovered:!1}),l(this,"handleMouseEnter",()=>this.setState({hovered:!0})),l(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){let{backgroundHaloSize:e,onClick:t,color:i="subtle"}=this.props,n=Object.freeze({height:e,width:e}),l={border:0,display:"block",background:"transparent",cursor:"pointer",...s.buttonFocus},a={...s.pog,...s.transparent,...this.state.hovered?s.transparentHovered:{}},c={...n,...a};return(0,o.jsx)("button",{type:"button",style:l,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:(0,o.jsx)("div",{style:c,children:(0,o.jsx)(r.xu,{rounding:"circle",children:(0,o.jsx)(r.JO,{accessibilityLabel:"",icon:"flag",size:e/2,color:i})})})})}}let c=a},157987:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(667294),r=i(883119),s=i(970588),o=i(88622),l=i(550140),a=i(536042),c=i(63262),d=i(695458),u=i(613352),p=i(785893);function h(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class g extends n.PureComponent{constructor(...e){var t;super(...e),t=this,h(this,"state",{showModal:!1,reportType:null}),h(this,"handleDismiss",()=>this.setState({showModal:!1})),h(this,"handleClick",()=>{let{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()}),h(this,"reportSuggestionImage",async function(){let{imgSignature:e,reportImage:i}=t.props;t.setState({showModal:!1});let n=await (0,s.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:e}}),r=n.resource_response.data.id;i(r)}),h(this,"reportSuggestionText",()=>{let{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast(({hideToast:e})=>(0,p.jsx)(l.ZP,{onHide:e,text:this.props.i18n.bt("Спасибо за сообщение! Наша команда по вопросам доверия и безопасности рассмотрит его.", "Thanks for your report! This will be reviewed by our Trust and Safety Team", "ReportingFlag.Toast.text", undefined, true)})),this.handleDismiss())}),h(this,"showModal",({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})})}render(){let{showModal:e}=this.state;return(0,p.jsxs)(n.Fragment,{children:[this.props.isVisible&&(0,p.jsx)(d.Z,{onClick:this.showModal,backgroundHaloSize:24}),e&&(0,p.jsx)(o.ZP,{accessibilityModalLabel:this.props.i18n.bt("Жалоба на поисковый запрос", "Report search term", "ReportingFlag.Modal.accessibilityModalLabel", undefined, true),heading:this.props.i18n.bt("Жалоба на поисковый запрос", "Report search term", "ReportingFlag.Modal.heading", undefined, true),onDismiss:this.handleDismiss,size:"sm",children:(0,p.jsxs)(r.xu,{children:[(0,p.jsx)(r.xu,{padding:5,children:(0,p.jsx)(r.xv,{children:this.props.i18n.bt("Если вы отметите этот поисковый запрос, наша команда по вопросам доверия и безопасности рассмотрит его. Если он не соответствует правилам сообщества, то будет заблокирован.", "When you flag this, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.", "ReportingFlag.Box.Text.report", undefined, true)})}),(0,p.jsxs)(r.FX,{id:"reporting-flag-options-group",legend:this.props.i18n.bt("Если вы отметите этот поисковый запрос, наша команда по вопросам доверия и безопасности рассмотрит его. Если он не соответствует правилам сообщества, то будет заблокирован.", "When you flag this, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.", "ReportingFlag.Box.Text.report", undefined, true),legendDisplay:"hidden",children:[(0,p.jsxs)(r.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,p.jsxs)(r.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(r.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,p.jsx)(r.xu,{flex:"grow",children:(0,p.jsx)(r.__,{htmlFor:"textType",children:(0,p.jsx)(r.xu,{paddingX:2,children:(0,p.jsx)(r.xv,{children:"Report search text"})})})})]}),(0,p.jsxs)(r.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(r.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,p.jsx)(r.xu,{flex:"grow",children:(0,p.jsx)(r.__,{htmlFor:"imageType",children:(0,p.jsx)(r.xu,{paddingX:2,children:(0,p.jsx)(r.xv,{children:"Report search image"})})})})]})]}),(0,p.jsx)(r.iz,{}),(0,p.jsxs)(r.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,p.jsx)(r.xu,{margin:2,children:(0,p.jsx)(r.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n.bt("Отмена", "Cancel", "ReportingFlag.Box.Button.text.cancel", undefined, true)})}),(0,p.jsx)(r.xu,{margin:2,children:(0,p.jsx)(r.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n.bt("Пожаловаться", "Report", "ReportingFlag.Box.Button.text.report", undefined, true),disabled:!this.state.reportType})})]})]})]})})]})}}function _(e){let t=(0,a.ZP)(),{reportImage:i}=(0,u.f)();return(0,p.jsx)(g,{...e,i18n:t,reportImage:i,toastManagerContext:(0,c.F9)()})}},385891:(e,t,i)=>{i.d(t,{Z:()=>e0});var n=i(667294),r=i(616550),s=i(883119),o=i(975363),l=i(388011),a=i(536042),c=i(906215),d=i(731048),u=i(988014),p=i(245410),h=i(912208);let{Provider:g,useHook:_}=(0,h.Z)({name:"search_tab_render",sampleRate:1});var m=i(282802),x=i(369840),f=i(207732),v=i(118482),y=i(649715),b=i(700746),w=i(802071),j=i(886365),S=i(149139),I=i(589665),P=i(785893);function T({contentTypes:e,contentTypesAnchor:t,handleSelectFilter:i,onDismiss:n}){return(0,P.jsx)(s.Lt,{anchor:t,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:n,zIndex:new s.Ry(I.fe),children:e.map((e,t)=>(0,P.jsx)(s.Lt.Item,{dataTestId:"search-filter-"+e.dataId,onSelect:()=>i(t),option:{value:e.text,label:e.text},children:(0,P.jsx)(s.xv,{weight:[b.lw.PINS,b.lw.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text))})}let C=e=>{switch(e){case b.lw.PINS:return 220;case b.lw.PINS_MINE:return 223;case b.lw.PINS_VIDEO:return 11399;case b.lw.BOARDS:return 221;case b.lw.USERS:return 222;default:return null}},E=function({currentlySelectedFilter:e,currentQuery:t,handleContentTypeFilterHover:i,handleScopeChange:o}){let{logContextEvent:c}=(0,l.v)(),d=(0,a.ZP)(),u=function(e){let t=[{scope:b.lw.PINS,text:e.bt("Все пины", "All Pins", "All Pins label for content type filters on search bar", undefined, true),dataId:"all-pins"},{scope:b.lw.PINS_MINE,text:e.bt("Ваши пины", "Your Pins", "Your Pins label for content type filters on search bar", undefined, true),dataId:"your-pins"}],i=t.findIndex(e=>e.scope===b.lw.PINS_MINE);return t.push(t.splice(i,1)[0]),t}(d),p=(0,n.useRef)(null),h=(0,r.useHistory)(),[g,_]=(0,n.useState)(e||u[0].scope),[m,x]=(0,n.useState)(!1),[f,v]=(0,n.useState)(!1);(0,n.useEffect)(()=>{_(e)},[e]);let y=()=>{v(!0),i&&i(!0)},w=()=>{v(!1),i&&i(!1)},j=(u[g?u.findIndex(e=>e.scope===g):0]||u[0]).text,I=(0,P.jsx)(s.xu,{"data-test-id":"search-filter",overflow:"hidden",dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:S.XI}},ref:p,children:(0,P.jsxs)(s.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,P.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:j}),(0,P.jsx)(s.xu,{marginStart:2,children:(0,P.jsx)(s.JO,{accessibilityLabel:d.bt("Раскрывающийся список", "Dropdown", " - ", undefined, true),color:"default",icon:"arrow-down",inline:!0,size:12})})]})});return(0,P.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:f?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:S.XI,marginStart:2,position:"relative",rounding:6,children:[(0,P.jsx)(s.iP,{fullHeight:!0,fullWidth:!1,onMouseEnter:()=>y(),onMouseLeave:()=>w(),onTap:({event:e})=>{e&&(e.preventDefault(),e.stopPropagation()),x(!m),c({event_type:101,component:215,aux_data:{entered_query:t}})},rounding:6,children:I}),m&&(0,P.jsx)(T,{contentTypes:u,contentTypesAnchor:p.current,handleSelectFilter:e=>{let i=u[e],n=i.scope;_(n),x(!1),c({event_type:101,component:215,element:C(n),aux_data:{entered_query:t}}),o(n),t&&h.push(`/search/${n}/?q=${encodeURIComponent(t)}&rs=filter`)},onDismiss:()=>x(!1)})]})};var D=i(297776),A=i(549201),k=i(272109),L=i(681557);let Z="all 0.6s cubic-bezier(0.68, -0.6, 0.32, 1.6)",R={transform:"scale(0)",opacity:"0",transition:Z},z={transform:"scale(1)",opacity:"1",transition:Z},M={transform:"scale(1.2)",transition:Z};function O({handleClearMode:e,scope:t,backgroundColorHex:i,iconType:r}){var o,l;let c;let d=(0,a.ZP)(),u=(0,A.HG)(),p=(0,b.Hd)(t,u),[h,g]=(0,n.useState)(!1),_=(0,s.JZ)(),[m,x]=(0,n.useState)(_?z:R),f=(0,n.useRef)();if((0,k.Z)(()=>_?()=>{}:(x(z),()=>{x(R)})),h)c="cancel";else if(6===r)c="person";else{if(1!==r)return null;c="shopping-bag"}return(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(s.xu,{flex:"none",marginEnd:2,marginStart:-3,ref:f,dangerouslySetInlineStyle:{__style:h?M:m},"data-test-id":"mode-icon-wrapper",children:(0,P.jsx)(s.iP,{onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onFocus:()=>g(!0),onBlur:()=>g(!1),onTap:e,rounding:"circle",tapStyle:"compress",children:(0,P.jsx)(s.xu,{padding:3,rounding:"circle",dangerouslySetInlineStyle:{__style:{backgroundColor:null!==(o=i&&i[0])&&void 0!==o?o:void 0}},children:(0,P.jsx)(s.JO,{accessibilityLabel:d.bt("Значок режима поиска", "Search mode icon", "searchBox.modesIcon.accessibilityLabel", undefined, true),icon:c,color:"inverse",size:16})})})}),(null===(l=f.current)||void 0===l?void 0:l.style.transform)!==R.transform&&(0,P.jsx)(D.default,{id:"experience-tooltip",anchor:f.current,hasFullWidthButton:!1,placementId:p,experienceIds:[t===b.lw.USERS?504374:504373],showCaret:!0,textAlign:"center",textWeight:"normal"})]})}function B({handleClearMode:e,scope:t}){let{modeIcon:i}=(0,L.A)().searchContext;if(i)return(0,P.jsx)(n.Suspense,{fallback:null,children:(0,P.jsx)(O,{handleClearMode:e,scope:t,backgroundColorHex:i.backgroundColorHex,iconType:i.iconType})})}var F=i(583592),N=i(170567);let q={recentSaves:[],recentViews:[]};function H(e=q,t){if("FETCH_COMPLETE"===t.type){let{options:i={},resource:n}=t.payload,{data:r}=t.payload.response.resource_response;if("ApiResource"===n&&"/v3/users/me/recent/engaged/pin/stories/"===i.url&&r){let t=r.find(e=>"user_recently_viewed_pins"===e.story_type),i=r.find(e=>"user_recently_saved_pins"===e.story_type),n=(null==t?void 0:t.objects.map(({description:e,id:t,images:i},n)=>({label:e,images:i,resultIndex:n,type:"recent_view",url:`/pin/${t}`})))||[],s=(null==i?void 0:i.objects.map(({description:e,id:t,images:i},n)=>({label:e,images:i,resultIndex:n,type:"recent_save",url:`/pin/${t}`})))||[];return{...e,recentSaves:s,recentViews:n}}}return e}let{Provider:$,useHook:U}=(0,F.Z)("SearchBox");function W({children:e}){let[t,i]=(0,n.useReducer)(H,q);(0,N.Z8)("ApiResource",e=>{i({type:"FETCH_COMPLETE",payload:e})});let r=(0,n.useMemo)(()=>({state:t}),[t]);return(0,P.jsx)($,{value:r,children:e})}var G=i(468e3),Y=i(819079),V=i(511139),K=i(198541);function X({suggestion:e,query:t,lastFocusTime:i=0,filterSelectedTerm:n}){if("explorearticle"===e.type){var r,s;let{story_category:t,query:i,referringSource:n,id:o,storyId:l}=e;return null!==(r=null===(s=e.action)||void 0===s?void 0:s.url)&&void 0!==r?r:(0,V.Z)({storyCategory:t,query:i,referringSource:n,bubbleId:o,storyId:l})}if("todayarticle"===e.type){let{id:t,title:i}=e;return(0,G.x)({title:i,id:t,articleType:"today"})}let o={eq:(0,y.Z)(t)};i&&(o.etslf=String(Date.now()-i)),"inclusive_product_filter_query"===e.type&&n&&(o.filters=n);let l=(0,K.Z)(e.url||"",o);return l}function Q(e,t){return`SuggestionGroup-Option-${e}-${t}`}let J=e=>{let t=0,i=e.map(e=>{var i,n;let r=t;return t+=null!==(i=(null!==(n=e.items)&&void 0!==n?n:[]).length)&&void 0!==i?i:0,r});return i},ee=(e,t)=>{if(null==t)return;let i=J(e);for(let n=0;n<i.length;n+=1)if(e[n].items.length&&t-i[n]<e[n].items.length)return e[n].items[t-i[n]];return null};var et=i(885931),ei=i(833603),en=i(359209),er=i(630089),es=i(99220),eo=i(286354),el=i(604094),ea=i(220590);let ec=(e,t)=>{let i=RegExp("\\b"+t+"\\b","i");return e===t||e.match(i)};function ed({children:e,experiences:t,placementId:i,searchTerm:r,suggestions:s}){let{viewExperience:o}=(0,ea.M)(),[l,a]=(0,n.useState)(null),[c,d]=(0,n.useState)(new Set),u=(null==t?void 0:t.filter(e=>{var t;return(null===(t=e.display_data)||void 0===t?void 0:t.component_type)===3}).map(e=>({...e.display_data,id:e.experience_id})))||[];return(0,n.useEffect)(()=>{if(!r||!s){a(null);return}let e=null==l?void 0:l.search_query_list.find(e=>s.some(({label:t})=>ec(t,e)));if(!e){let e=u.find(e=>{var t;return e.id!==(null==l?void 0:l.id)&&(null===(t=e.search_query_list)||void 0===t?void 0:t.find(e=>s.some(({label:t})=>ec(t,e))))});if(e){a(e);let{id:t}=e;c.has(t)||("number"==typeof t&&o(i,t),d(new Set(c).add(t)))}}},[r]),e({searchDelightConfig:l})}var eu=i(643183),ep=i(660774),eh=i(181437),eg=i(637362),e_=i(28630);function em({suggestions:e}){var t;let i=e[0],n=(0,e_.Z)({url:null===(t=i[0])||void 0===t?void 0:t.action_button_uri});return(0,P.jsxs)(s.xu,{padding:10,children:[(0,P.jsx)(s.xu,{marginBottom:6,children:(0,P.jsx)("span",{style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"},children:i.description})}),(0,P.jsx)(s.Tg,{rel:n?"nofollow":"none",href:i.action_button_uri,rounding:"pill",children:(0,P.jsx)(s.xu,{color:"infoBase",display:"inlineBlock",rounding:"pill",padding:3,children:(0,P.jsx)(s.xv,{color:"inverse",weight:"bold",children:i.action_button_text})})})]})}var ex=i(88622),ef=i(550140),ev=i(63262);function ey({handleReport:e}){let t=(0,a.ZP)(),[i,r]=(0,n.useState)(!1),{showToast:o}=(0,ev.F9)();return(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(s.hU,{accessibilityLabel:t.bt("Пожаловаться", "Report", "Accessibility label for report icon for search term", undefined, true),icon:"flag",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),r(!0)},size:"xs",iconColor:"gray"}),i&&(0,P.jsx)(ex.ZP,{accessibilityModalLabel:t.bt("Жалоба на результат поиска", "Report search", "accessible label for report search modal", undefined, true),heading:t.bt("Жалоба на поисковый запрос", "Report Search Term", "Heading for report searchmodal", undefined, true),onDismiss:()=>r(!1),size:"sm",children:(0,P.jsxs)(s.xu,{children:[(0,P.jsx)(s.xu,{padding:4,children:(0,P.jsx)(s.xv,{children:t.bt("Пометьте этот поисковый запрос, и наша команда по вопросам доверия и безопасности рассмотрит его", "Flag this search term for review by our Trust and Safety team", "What will happen when you report a search term", undefined, true)})}),(0,P.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,P.jsx)(s.xu,{margin:2,children:(0,P.jsx)(s.zx,{fullWidth:!0,onClick:()=>r(!1),text:t.bt("Отмена", "Cancel", "Text for cancel button when reporting search result", undefined, true)})}),(0,P.jsx)(s.xu,{margin:2,children:(0,P.jsx)(s.zx,{fullWidth:!0,color:"red",onClick:()=>{e(),o(({hideToast:e})=>(0,P.jsx)(ef.ZP,{onHide:e,text:t.bt("Спасибо! Ваши отзывы помогают нам заботиться о безопасности сообщества Pinterest.", "Thanks! Your feedback helps keep the Pinterest community safe.", "Toast after reporting a search term", undefined, true)})),r(!1)},text:t.bt("Пожаловаться", "Report", "Button label to report search term", undefined, true)})})]})]})})]})}var eb=i(251163);function ew({id:e,children:t,isHovered:i,url:n,onClick:r,onMouseEnter:o,onMouseLeave:l}){return(0,P.jsx)(s.xu,{id:e,color:i?"secondary":"default","data-test-id":"search-suggestion",role:"option","aria-selected":i?"true":"false",children:(0,P.jsx)(s.Tg,{onMouseEnter:o,onMouseLeave:l,href:n,tabIndex:-1,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.metaKey||e.ctrlKey||(e.preventDefault(),r())},children:(0,P.jsx)(s.xu,{marginBottom:1,paddingX:5,children:t})})})}function ej({highlightMatch:e=!1,iconName:t,imageUrl:i,isVerifiedMerchant:n=!1,label:r,query:o,rounding:l,searchDelightConfig:c,subLabel:d,verified:u=!1}){let p=(0,a.ZP)();return(0,P.jsx)(s.xu,{display:"flex",paddingY:i?1:0,width:"100%","data-test-id":i||t?"enriched-search-suggestion":"regular-search-suggestion",children:(0,P.jsxs)(s.kC,{gap:{row:2,column:0},alignItems:"center",children:[i?(0,P.jsx)(s.xu,{width:40,height:40,overflow:"hidden",rounding:l&&2===l?2:"circle","data-test-id":"enriched-autocomplete-image",children:(0,P.jsx)(s.Ee,{alt:"",role:"presentation",color:"#efefef",fit:"cover",naturalHeight:40,naturalWidth:40,src:i})}):(0,P.jsx)(s.kC,{justifyContent:"center",alignItems:"center",width:40,height:40,children:(0,P.jsx)(s.xu,{marginTop:1,children:(0,P.jsx)(s.JO,{accessibilityLabel:t?(0,er.nk)(p.bt("Значок {{ icon}}", "{{ icon}} icon", "SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon", undefined, true),{icon:t}).join():"",color:"default",icon:t||"search",size:12})})}),(0,P.jsxs)(s.kC,{direction:"column",alignItems:"start",justifyContent:"center",gap:{row:0,column:1},children:[(0,P.jsxs)(s.kC,{alignItems:"center",children:[e&&o?(0,P.jsx)(ep.Z,{searchDelightConfig:c,query:o,text:r||o}):(0,P.jsx)(s.xv,{weight:"bold",children:r}),(u||n)&&(0,P.jsx)(s.xu,{marginStart:1,children:(0,P.jsx)(eb.Z,{hasVerifiedIdentity:u,iconOnly:!0,isVerifiedMerchant:n,size:"xs"})})]}),d&&(0,P.jsx)(s.xv,{size:"100",children:d})]})]})})}var eS=i(618305);let eI=(0,n.lazy)(()=>Promise.all([i.e(67631),i.e(5929)]).then(i.bind(i,841228)));function eP({experiences:e,index:t,focusedIndex:i,onInclusiveProductFilterClick:r,onSuggestionClick:o,onSuggestionMouseEnter:l,onSuggestionMouseLeave:c,query:d,suggestion:u}){let p=(0,a.ZP)(),h=(0,w.Z)(),g="number"==typeof u.identifier_icon_name&&u.identifier_icon_name!==eg.J?(0,eg.Z)(u.identifier_icon_name):void 0,_=()=>{(0,eh.Z)({report:u.label.toLowerCase(),query:d.toLowerCase(),suggestions:[u.label],type:0})};return(0,P.jsx)(ed,{experiences:e,placementId:1000315,searchTerm:d,suggestions:[u],children:({searchDelightConfig:e})=>(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(ew,{id:Q(0,t),url:X({suggestion:u,query:d}),isHovered:i===t,onClick:()=>{o(u,t)},onMouseEnter:()=>{l(t)},onMouseLeave:()=>{c()},children:(0,P.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,P.jsx)(s.xu,{flex:"grow",children:"inclusive_product_filter_query"===u.type?(0,P.jsx)(s.xu,{marginBottom:2,children:(0,P.jsx)(s.xv,{weight:"bold",children:(0,er.nk)(u.eligibleHairPatternFilters?p.bt("Поиск «{{ query }}» по типу волос", "{{ query }} by hair pattern", "SearchSuggestion.HairPatternFilterSuggestion", undefined, true):p.bt("{{ query }} по диапазону оттенков кожи", "{{ query }} by skin tone range", "SearchSuggestion.SkinToneFilterSuggestion", undefined, true),{query:(0,P.jsx)(ep.Z,{searchDelightConfig:e,query:d,text:u.label||d})})})}):(0,P.jsx)(ej,{highlightMatch:!0,iconName:g,imageUrl:u.image,label:u.label,query:d,rounding:2,searchDelightConfig:e,subLabel:u.subLabel})}),h.isAuth&&h.isEmployee&&i===t?(0,P.jsx)(s.xu,{flex:"none",children:(0,P.jsx)(ey,{handleReport:_})}):null]})}),"inclusive_product_filter_query"===u.type&&r&&(0,P.jsx)(s.kC,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:u.eligibleHairPatternFilters?(0,P.jsx)(el.Z,{name:"SafeSuspense_BlendedTypeaheadSuggestion_HairPatternFilters",children:(0,P.jsx)(eu.Z,{children:(0,P.jsx)(s.xu,{display:"flex",marginBottom:-4,overflow:"scrollX",paddingY:2,position:"relative",children:(0,P.jsx)(eI,{eligibleFilters:u.eligibleHairPatternFilters,isUpsell:!0,query:d,onClickApplyFilters:e=>r(u,t,e)})})})}):(0,P.jsx)(eS.Z,{query:d,onClickApplyFilters:e=>r(u,t,e),showHeaderText:!1})})]})})}let eT=({index:e,focusedIndex:t,onSuggestionClick:i,onSuggestionMouseEnter:n,onSuggestionMouseLeave:r,suggestion:s})=>(0,P.jsx)(ew,{id:Q(0,e),url:s.url,isHovered:t===e,onClick:()=>{i(s,e)},onMouseEnter:()=>{n(e)},onMouseLeave:()=>{r()},children:(0,P.jsx)(ej,{imageUrl:s.image,isVerifiedMerchant:s.is_verified_merchant,label:s.label,rounding:"circle",subLabel:s.subLabel,verified:s.verified})},`${s.type}-${s.label}-${s.subLabel||""}`);function eC({focusedIndex:e,onSuggestionClick:t,onSuggestionMouseEnter:i,onSuggestionMouseLeave:n}){let r=(0,a.ZP)(),o=0===e;return(0,P.jsx)(s.xu,{"aria-selected":o?"true":"false",id:"syop_cta",role:"option",children:(0,P.jsxs)(s.xu,{paddingX:6,marginTop:3,children:[(0,P.jsx)(s.iz,{}),(0,P.jsx)(s.xu,{marginTop:4,children:(0,P.jsxs)(s.kC,{justifyContent:"between",alignItems:"center",children:[(0,P.jsx)(s.xv,{weight:"bold",lineClamp:2,children:r.bt("Ищете идеи, которые вы сохранили?", "Looking for ideas you saved?", "searchBox.suggestionsMenu.searchYourPinsCTA", undefined, true)}),(0,P.jsx)(s.kC.Item,{flex:"none",children:(0,P.jsx)(s.iP,{onTap:t,rounding:"pill",onMouseEnter:()=>{i(0)},onMouseLeave:n,children:(0,P.jsx)(s.xu,{rounding:"pill",color:o?"darkWash":"secondary",height:40,paddingX:3,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,P.jsx)(s.xv,{align:"center",weight:"bold",children:r.bt("Поиск ваших пинов", "Search your Pins", "searchBox.suggestionsMenu.searchYourPinsText", undefined, true)})})})})]})})]})})}function eE({experiences:e,suggestion:t,index:i,focusedIndex:n,query:r,onSuggestionClick:s,onSuggestionMouseEnter:o,onSuggestionMouseLeave:l,onInclusiveProductFilterClick:a}){switch(t.type){case"autocompleteupsell":return(0,P.jsx)(em,{suggestions:[t]});case"query":case"enriched_autocomplete":case"inclusive_product_filter_query":return(0,P.jsx)(eP,{experiences:e,index:i,focusedIndex:n,onInclusiveProductFilterClick:a,onSuggestionClick:s,onSuggestionMouseEnter:o,onSuggestionMouseLeave:l,query:r,suggestion:t});case"user":return(0,P.jsx)(eT,{index:i,focusedIndex:n,onSuggestionClick:s,onSuggestionMouseEnter:o,onSuggestionMouseLeave:l,suggestion:t})}return null}var eD=i(702664),eA=i(24286),ek=i(833122),eL=i(313398),eZ=i(157987);function eR({contextLogData:e,dominantColor:t,handleReport:i,height:r,id:o,image:l,isDarkRep:a=!1,isHovered:c,name:d,onMouseEnter:u,onMouseLeave:p,onTap:h,searchBoxRenderStopwatch:g,slotIndex:_,url:m,viewParameter:x,viewType:f,width:v}){let y,b;let j=(0,ek.Z)({contextLogData:e,impressionType:"Article",loggingId:o,slotIndex:_,viewParameter:x,viewType:f}),S=(0,w.Z)(),[I,T]=(0,n.useState)(!1),C=I||c,E=r||80;!v||v>=200?(y=3,b="300"):v>=150?(y=2,b="200"):(y=2,b="100");let D=()=>{u?u():T(!0)},A=()=>{p?p():T(!1)};return(0,P.jsx)(s.xu,{height:E,ref:j,width:v||"100%",children:(0,P.jsx)(s.zd,{wash:!a,rounding:4,children:(0,P.jsx)(s.xu,{dangerouslySetInlineStyle:a?{__style:{backgroundColor:C?"var(--color-gray-roboflow-600)":"var(--color-gray-roboflow-700)"}}:{__style:C?eL.A.lightHoverOverlay:{}},children:(0,P.jsx)(s.st,{children:(0,P.jsxs)(s.Tg,{href:m,onBlur:A,onFocus:D,onMouseEnter:D,onMouseLeave:A,onTap:h,rounding:4,children:[(0,P.jsxs)(s.kC,{direction:"row",children:[(0,P.jsx)(s.zd,{height:E,wash:!0,width:E,children:(0,P.jsx)(s.Ee,{alt:"",color:t,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{null==g||g.stop()},role:"presentation",src:l})}),(0,P.jsx)(s.xu,{alignItems:"center",display:"flex",maxHeight:E,maxWidth:v?v-E:eA.yF-80,padding:4,children:(0,P.jsx)(s.xv,{color:a?"light":void 0,lineClamp:y,size:b,weight:"bold",children:d})})]}),i&&S.isAuth&&S.isEmployee?(0,P.jsx)(s.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,P.jsx)(eZ.Z,{handleReport:i,imgSignature:l,isVisible:null!=C&&C})}):null]})})})})})}var ez=i(777610),eM=i(970588),eO=i(575794),eB=i(470792);let eF=({handleRemove:e,id:t,isHovered:i,label:n,onClick:r,onMouseEnter:o,onMouseLeave:l,removeA11yText:a,url:c})=>(0,P.jsx)(s.xu,{"aria-selected":i?"true":"false","data-test-id":"search-suggestion",id:t,marginBottom:2,marginEnd:2,role:"option",children:(0,P.jsx)(s.Tg,{accessibilityLabel:n,href:c,onMouseEnter:o,onMouseLeave:l,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{e.metaKey||e.ctrlKey||(t(),e.preventDefault(),r())},rounding:"pill",children:(0,P.jsxs)(s.xu,{alignItems:"center",color:i?"darkWash":"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:3,paddingY:1,position:"relative",rounding:"pill",children:[(0,P.jsx)(s.xv,{align:"center",children:n}),(0,P.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,P.jsx)(s.hU,{accessibilityLabel:null!=a?a:"",icon:"cancel",iconColor:"darkGray",onClick:({event:t})=>{t.stopPropagation(),t.preventDefault(),null==e||e(n)},size:"xs"})})]})})}),eN=({id:e,isHovered:t,onClick:i,onMouseEnter:r,onMouseLeave:o,showSeeMoreOverlay:l,suggestion:c,trackClick:d,url:u})=>{var p,h,g,_,m,x;let f=(0,a.ZP)();return(0,P.jsx)(s.xu,{"aria-selected":t?"true":"false","data-test-id":"search-suggestion",id:e,marginBottom:2,paddingX:1,role:"option",children:(0,P.jsx)(s.Tg,{onMouseEnter:r,onMouseLeave:o,href:u||c.url,rounding:3,tabIndex:-1,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),d(),e.metaKey||e.ctrlKey||u||(e.preventDefault(),i())},children:(0,P.jsxs)(s.zd,{height:S.YO,rounding:3,wash:t,width:S.Gh,children:[(0,P.jsx)(s.Ee,{alt:c.label,fit:"cover",naturalHeight:null!==(p=null===(h=c.images["236x"])||void 0===h?void 0:h.height)&&void 0!==p?p:1,naturalWidth:null!==(g=null===(_=c.images["236x"])||void 0===_?void 0:_.width)&&void 0!==g?g:1,src:null!==(m=null===(x=c.images["236x"])||void 0===x?void 0:x.url)&&void 0!==m?m:""}),l&&(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(s.xu,{dangerouslySetInlineStyle:S.H2,height:S.YO,left:!0,position:"absolute",top:!0,width:S.Gh}),(0,P.jsx)(s.xu,{alignItems:"center",display:"flex",height:S.YO,justifyContent:"center",padding:3,position:"absolute",top:!0,width:S.Gh,children:(0,P.jsx)(s.xv,{align:"center",color:"inverse",weight:"bold",children:f.bt("Еще", "See More", "searchBox.suggestionGroups.recentPinRep.seeMoreText", undefined, true)})})]})]})})})},eq=({componentType:e,focusedIndex:t,groupIndex:i,keyPrefix:n,onSuggestionClick:r,onSuggestionMouseEnter:o,onSuggestionMouseLeave:a,seeMoreUrl:c,suggestions:d,title:u})=>{let{logContextEvent:p}=(0,l.v)();return(0,P.jsxs)(s.kC,{direction:"column",gap:S.Lo,children:[(0,P.jsx)(s.kC,{width:"100%",children:(0,P.jsx)(eH,{title:u})}),(0,P.jsx)(s.xu,{display:"flex",wrap:!0,width:"100%",paddingX:S.r5,children:d.map((s,l)=>{let u=l===S.TD-1&&d.length===S.TD;return(0,P.jsx)(eN,{id:Q(i,l),isHovered:t===l,onClick:()=>{r(s,l)},onMouseEnter:()=>{o(l)},onMouseLeave:()=>{a()},showSeeMoreOverlay:u,suggestion:s,trackClick:()=>{p({event_type:101,component:e,element:u?179:12374,view_type:S.Ie,view_parameter:103})},url:u?c:s.url},`${n}-${l}`)})})]})},eH=({title:e})=>(0,P.jsx)(s.xu,{alignItems:"center",display:"flex",marginStart:S.r5,children:(0,P.jsx)(s.xv,{lineClamp:1,weight:"bold",children:e})});function e$({focusedIndex:e,groupIndex:t,onSuggestionClick:i,onSuggestionMouseEnter:n,onSuggestionMouseLeave:r,suggestions:s}){let o=(0,a.ZP)();return(0,ez.Q)({component:13844,view_parameter:103,view_type:S.Ie}),(0,P.jsx)(eq,{componentType:13844,focusedIndex:e,groupIndex:t,keyPrefix:"recent_save",onSuggestionClick:i,onSuggestionMouseEnter:n,onSuggestionMouseLeave:r,seeMoreUrl:"/me/pins/",suggestions:s,title:o.bt("Недавно сохраненные", "Recently saved", "searchBox.recentSavedSuggestions.heading", undefined, true)})}function eU({containerWidth:e,focusedIndex:t,groupIndex:i,onSuggestionClick:n,onSuggestionMouseEnter:r,onSuggestionMouseLeave:o,suggestions:l}){let c=(0,a.ZP)(),d=(0,eD.useDispatch)(),u=async e=>{await (0,eM.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e}}),d((0,eO.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins"}}))},p=c.bt("Удалить", "Remove", "Remove recent search in search typeahead suggestion", undefined, true),h=function({pillLabels:e,maxWidth:t}){let i=e.length;if(!t)return i;let n=0;for(let r=0;r<e.length;r+=1){let s=e[r].length*S.yY+S.Ag+S.Ub;if(s+n<t)n+=s;else{i=r;break}}return i}({pillLabels:l.map(e=>e.label),maxWidth:e});return(0,P.jsxs)(s.kC,{direction:"column",gap:S.Lo,children:[(0,P.jsx)(eH,{title:c.bt("Недавние поисковые запросы", "Recent searches", "Recent searches heading in search autocomplete", undefined, true)}),(0,P.jsx)(s.xu,{display:"flex",overflow:"hidden",paddingX:S.r5,position:"relative",children:l.slice(0,h).map((e,l)=>(0,P.jsx)(s.xu,{"data-test-id":"recent-query",children:(0,P.jsx)(eF,{handleRemove:u,id:Q(i,l),isHovered:t===l,label:e.label,onClick:()=>{n(e,l)},onMouseEnter:()=>{r(l)},onMouseLeave:()=>{o()},removeA11yText:p,url:X({suggestion:e,query:""})})},`${e.type}-${e.label}`))})]})}function eW({focusedIndex:e,groupIndex:t,onSuggestionClick:i,onSuggestionMouseEnter:n,onSuggestionMouseLeave:r,suggestions:s}){let o=(0,a.ZP)();return(0,ez.Q)({component:13843,view_parameter:103,view_type:S.Ie}),(0,P.jsx)(eq,{componentType:13843,focusedIndex:e,groupIndex:t,keyPrefix:"recent_view",onSuggestionClick:i,onSuggestionMouseEnter:n,onSuggestionMouseLeave:r,seeMoreUrl:"/recently-viewed/",suggestions:s,title:o.bt("Недавно просмотренные", "Recently viewed", "searchBox.recentSavedSuggestions.heading", undefined, true)})}function eG({groupIndex:e,focusedIndex:t,onSuggestionClick:i,onSuggestionMouseEnter:n,onSuggestionMouseLeave:r,searchBoxRenderStopwatch:o,suggestions:l}){let a=S.Ie,{id:c,items:d,story_type:u,title:{format:p}}=l,h=d.map(({type:e,id:t})=>e+":"+t).join("|"),g=(0,ek.Z)({viewType:a,componentType:200,viewParameter:3467,loggingId:c,objectIdStr:c,contextLogData:{content_ids:h,story_id:c,story_type:u},impressionType:"Story",slotIndex:e});return(0,P.jsxs)(s.kC,{direction:"column",gap:S.Lo,children:[(0,P.jsx)(eH,{title:p}),(0,P.jsx)(s.xu,{display:"flex",marginBottom:5,paddingX:S.r5,ref:g,wrap:!0,children:d.slice(0,8).map((l,d)=>{let p=t===d;return(0,P.jsx)(s.xu,{"aria-selected":p?"true":"false","data-test-id":"search-suggestion-today-bubble",id:Q(e,d),marginBottom:2,paddingX:1,role:"option",children:(0,P.jsx)(eB.Z,{bubble:l,height:S.Ny,isHovered:p,onClick:()=>{i(l,d)},onMouseEnter:()=>{n(d)},onMouseLeave:()=>{r()},searchBoxRenderStopwatch:o,slotIndex:d,storyId:c,storyType:u,viewParameter:3467,viewType:a,width:S.Ny})},`story--${e}-${d}`)})})]})}function eY({containerWidth:e,focusedIndex:t,groupIndex:i,onSuggestionClick:n,onSuggestionMouseEnter:r,onSuggestionMouseLeave:o,searchBoxRenderStopwatch:a,suggestions:c}){let{logContextEvent:d}=(0,l.v)(),u=S.Ie,{id:p,items:h,story_type:g,title:{format:_}}=c,m=h.map(({type:e,id:t})=>e+":"+t).join("|"),x=(0,ek.Z)({componentType:200,contextLogData:{content_ids:m,story_id:p,story_type:g},impressionType:"Story",loggingId:p,slotIndex:i,viewParameter:3467,viewType:u}),f=e=>64+8*e,v=3,y=(e-f(3))/v;for(;y>1.5*eA.yF;)v+=1,y=(e-f(v))/v;let b=y/2.6;return(0,P.jsxs)(s.kC,{direction:"column",gap:S.Lo,children:[(0,P.jsx)(eH,{title:_}),(0,P.jsx)(s.xu,{display:"flex",paddingX:S.r5,ref:x,direction:"row",wrap:!0,children:"shopping_spotlight"===g?h.map((e,t)=>(0,P.jsx)(eB.Z,{bubble:e,height:S.Ny,onClick:()=>{d({component:200,event_type:101,view_parameter:3467,view_type:2,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_type:g}})},onMouseDown:({event:e})=>e.preventDefault(),slotIndex:t,viewParameter:3467,viewType:2,width:S.Ny},`ss-bubble-${t}`)):h.map((e,l)=>{var c,d;let _=t===l,{aux_fields:x,cover_images:f,dominant_colors:v,id:w,query:j,story_category:I,title:{format:T}}=e;return(0,P.jsx)(s.xu,{"aria-selected":_?"true":"false","data-test-id":"search-suggestion",id:Q(i,l),marginBottom:2,marginEnd:2,role:"option",children:(0,P.jsx)(eR,{contextLogData:{story_type:g,content_ids:m,grid_index:l,story_id:p},dominantColor:v?v[0]:"",handleReport:()=>{(0,eh.Z)({query:"",report:j,suggestions:h.map(e=>e.query),type:2===e.story_category?S.KH.SEARCH_TRENDING_TEXT:S.KH.SEARCH_IDEAS_FOR_YOU})},height:b,id:w,image:f&&f[0]&&((null===(c=f[0]["236x"])||void 0===c?void 0:c.url)||(null===(d=f[0]["474x"])||void 0===d?void 0:d.url))||"",isHovered:_,name:T,onTap:()=>{n(e,l)},onMouseEnter:()=>{r(l)},onMouseLeave:()=>{o()},searchBoxRenderStopwatch:a,slotIndex:l,url:(0,V.Z)({query:T,referringSource:2===I?"trending":"autocomplete_bubble",bubbleId:null!=w?w:"",storyId:p,pinId:null==x?void 0:x.image_pin_id}),viewParameter:3467,viewType:u,width:y})},`story-${null!=I?I:""}-${i}-${w}`)})})]})}var eV=i(965671);let eK={searchSuggestionsContainer:{boxSizing:"content-box",overflowY:"scroll",width:"calc(100% + 17px)"}};function eX({focusIndex:e,maxHeight:t,onInclusiveProductFilterClick:i,onMouseEnter:o,onMouseLeave:l,onSuggestionClick:c,onSuggestionHovered:d,onSyopCtaClick:h,query:g,searchBoxHeight:_,searchBoxRenderStopwatch:m,showSyopHeading:x,suggestionGroups:v,width:y}){let{checkExperiment:b}=(0,p.F)(),w=(0,n.useRef)(),j=(0,a.ZP)(),S=(0,r.useLocation)(),{experiencesMulti:I}=(0,en.Z)(1000315),T=(0,eV.Z)(),C=!(0,u.C$)(S)&&b("dweb_unauth_slp_parity").anyEnabled;function E(){d(void 0)}return(0,P.jsx)(es.Z,{view:2,viewParameter:103,children:v.length>0?(0,P.jsx)(s.xu,{role:"listbox",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",top:_}},overflow:"hidden",position:"absolute",width:y||"100%",id:"SuggestionsMenu",children:(0,P.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:o,onMouseLeave:l,style:{maxHeight:t,...eK.searchSuggestionsContainer},children:(0,P.jsxs)(s.xu,{color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",paddingBottom:"24px",paddingTop:"32px"}},marginStart:T?2:void 0,overflow:"hidden",ref:w,width:"100%",children:[x&&(0,P.jsx)(s.xu,{marginTop:4,marginStart:8,marginBottom:4,children:(0,P.jsx)(s.X6,{size:"500",children:g.length>0?(0,er.nk)(j.bt("Поиск среди ваших пинов по запросу {{ query }}", "Search your Pins for {{ query }}", "searchBox.suggestionsMenu.searchYourPinsForQueryText", undefined, true),{query:g}):j.bt("Поиск ваших пинов", "Search your Pins", "searchBox.suggestionsMenu.searchYourPinsText", undefined, true)})}),v.map((t,n)=>{var r,o,l,a;return t.items.length?(0,P.jsx)(s.kC,{direction:"column",gap:10,children:(0,P.jsx)(s.xu,{children:function(t,n,r){let s=J(v),o=null==e?void 0:e-s[n],l=e=>{d(J(v)[n]+e)};switch(t.type){case"recent_query":return(0,P.jsx)(eU,{containerWidth:r,focusedIndex:o,groupIndex:n,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:E,suggestions:t.items});case"recent_save":return(0,P.jsx)(e$,{focusedIndex:o,groupIndex:n,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:E,suggestions:t.items});case"recent_view":return(0,P.jsx)(eW,{focusedIndex:o,groupIndex:n,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:E,suggestions:t.items});case"story":return C&&"shopping_spotlight"===t.story_type?(0,P.jsx)(eG,{containerWidth:r,focusedIndex:o,groupIndex:n,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:E,searchBoxRenderStopwatch:m,suggestions:t}):(0,P.jsx)(eY,{containerWidth:r,focusedIndex:o,groupIndex:n,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:E,searchBoxRenderStopwatch:m,suggestions:t});case"blended_autocomplete":return(function(e){let t=e.slice(),i=t[0];for(let e of t){var n,r,s,o,l;if(null!==(n=e.modified_filter_eligibility)&&void 0!==n&&n.hair_pattern||null!==(r=e.modified_filter_eligibility)&&void 0!==r&&r.skin_tone){let n=(null===(s=e.modified_filter_eligibility.hair_pattern)||void 0===s?void 0:s.base_query)||(null===(o=e.modified_filter_eligibility.skin_tone)||void 0===o?void 0:o.base_query)||"",r=null===(l=e.modified_filter_eligibility.hair_pattern)||void 0===l?void 0:l.eligible_filters,{rs:a}=(0,eo.Z)({url:e.url}),c={query:n,rs:a},d=(0,f.Z)(c),u="enriched_autocomplete"===i.type&&i.image?1:0,p={eligibleHairPatternFilters:r,label:n,query:n,resultIndex:u,type:"inclusive_product_filter_query",url:d};t.splice(u,0,p),i=t[0];break}}return t})(t.items).map((e,t)=>(0,P.jsx)(eE,{experiences:I,focusedIndex:o,index:t,onInclusiveProductFilterClick:i,onSuggestionClick:c,onSuggestionMouseEnter:l,onSuggestionMouseLeave:E,query:g,suggestion:e},`search-suggestion-${e.label||""}-${e.query||""}-${e.type}-${e.url||""}-${e.image||""}`));case"syop_cta":return(0,P.jsx)(eC,{focusedIndex:o,index:0,onSuggestionClick:h,onSuggestionMouseEnter:l,onSuggestionMouseLeave:E})}return null}(t,n,null!==(l=null===(a=w.current)||void 0===a?void 0:a.getBoundingClientRect().width)&&void 0!==l?l:0)},`${g}-${t.type}-${null!==(r=null===(o=t.title)||void 0===o?void 0:o.format)&&void 0!==r?r:""}`)}):null})]})})}):(0,P.jsx)(s.xu,{})})}function eQ({focusIndex:e,maxHeight:t,onInclusiveProductFilterClick:i,onMouseEnter:r,onMouseLeave:s,onSuggestionClick:o,onSuggestionGroupsUpdate:l,onSuggestionHovered:a,onSyopCtaClick:c,query:d,scope:u,searchBoxHeight:p,suggestionGroups:h,width:g}){let m=_(),x=(0,w.Z)(),f=x.isAuth&&u===b.lw.PINS_MINE;(0,k.Z)(()=>{f||null==m||m.start()});let{data:v}=(0,Y.Z)({name:"SearchTabResource"}),{state:{recentSaves:y,recentViews:j}}=U(),I=function(){let e=(0,w.Z)(),{isLoaded:t,data:i}=(0,Y.Z)(e.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:b.lw.PINS},noCache:!0}:null);return(0,n.useMemo)(()=>{let e=[];return t&&i&&(e=function({newRecentQueries:e}){return e.slice(0,S.P$).map(({label:e,query:t,url:i,type:n},r)=>({label:e,query:t,resultIndex:r,type:n,url:i}))}({newRecentQueries:i.items})),e},[t,i])}(),T=function({query:e,scope:t}){let i=(0,w.Z)(),r=(0,ei.Z)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:t},value:e});return(0,n.useMemo)(()=>{if(i.isAuth)return[{items:r||[],type:"blended_autocomplete"}];let e=(0,et.Z)(r||[],e=>e.type),t=["query","user"].flatMap(t=>e[t]).filter(e=>!!e);return[{items:t,type:"blended_autocomplete"}]},[r,i])}({query:d,scope:u});return(0,n.useEffect)(()=>{let e=x.isAuth?T.concat({items:[{type:"syop_cta",label:"",query:"",resultIndex:0,url:""}],type:"syop_cta"}):T,t=v||[],i=x.isAuth?t.filter(e=>"shopping_spotlight"!==e.story_type):t;l(f?[{items:I,type:"recent_query"},{items:j,type:"recent_view"},{items:y,type:"recent_save"}]:d.length?e:[{items:I,type:"recent_query"},...i||[]])},[T,f,l,d,v,I,y,j,u,x]),(0,P.jsx)(eX,{focusIndex:e,maxHeight:t,onInclusiveProductFilterClick:i,onMouseEnter:r,onMouseLeave:s,onSuggestionClick:o,onSuggestionHovered:a,onSyopCtaClick:c,query:d,searchBoxHeight:p,searchBoxRenderStopwatch:m,showSyopHeading:f,suggestionGroups:h,width:g})}function eJ({handleIconOnlyChange:e,iconOnly:t=!1,isPartner:i=!1,widthType:h="md"}){let{logContextEvent:_}=(0,l.v)(),I=(0,w.Z)(),T=(0,a.ZP)(),C=(0,r.useHistory)(),{isRTL:D}=(0,m.B)(),{checkExperiment:A}=(0,p.F)(),L=(0,r.useLocation)(),Z=(0,u.En)(L);!function(){let e=(0,w.Z)(),{isAuth:t,isLimitedLogin:i}=e,n=t&&!i;(0,Y.Z)(t?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:b.lw.PINS},noCache:!0}:null),(0,Y.Z)({name:"SearchTabResource"}),(0,Y.Z)(n?{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:S.a3.join(","),pin_preview_count:S.sA}}}:null)}();let{query:R,scope:z,rs:M}=(0,v.Z)(L),O=o.tS.includes(M)?"":R,F=null!=O?O:"",[N,q]=(0,n.useState)(F),[H,$]=(0,n.useState)(),U=H&&H.query?H.query:N,W=function(){let e=(0,r.useLocation)(),t=(0,w.Z)(),i=t.isAuth&&e.pathname.startsWith(`/${t.username}/`),n=t.isAuth&&e.pathname.startsWith("/recently-viewed");return i||n}(),G=null!=z?z:b.lw.PINS;W&&(G=b.lw.PINS_MINE),G===b.lw.PINS_BUYABLE&&A("web_shop_inline_content_filter",{dangerouslySkipActivation:!0}).anyEnabled&&(G=b.lw.PINS);let[V,K]=(0,n.useState)(G),et=I.isAuth&&V===b.lw.PINS_MINE,[ei,en]=(0,n.useState)([]),[er,es]=(0,n.useState)(),[eo,el]=(0,n.useState)(!1),[ea,ec]=(0,n.useState)(!1),[ed,eu]=(0,n.useState)(!1),[ep,eh]=(0,n.useState)(!1),[eg,e_]=(0,n.useState)(!1),[em,ex]=(0,n.useState)(0);function ef(){es(void 0),$(void 0)}let ev=ea||ep,{setAppFocusState:ey,toggleTypeaheadOverlay:eb}=(0,j.I)(),[ew,ej]=(0,n.useState)(t);(0,n.useEffect)(()=>{ej(t)},[t]);let[eS,eI]=(0,n.useState)(!1),[eP,eT]=(0,n.useState)();!function({setShouldHideGhostText:e,setSuggestionsMaxHeight:t}){function i(){var i;let n=(null===(i=document.getElementById("searchBoxContainer"))||void 0===i?void 0:i.offsetWidth)||0;e(n<=S.le),t(window.innerHeight-14-S.Fj)}(0,k.Z)(()=>(window.addEventListener("resize",i),i(),()=>{window.removeEventListener("resize",i)}))}({setShouldHideGhostText:eI,setSuggestionsMaxHeight:eT});let eC=I.isAuth&&"shrink"!==h&&(F||W),eE="auto".includes(h)?"8px":0;eC&&(eE="4px");let[eD,eA]=function({shouldHideGhostText:e,isSyop:t,inputFocused:i}){let n=(0,a.ZP)(),r=(0,w.Z)(),{isAuth:s}=r,o=(0,Y.Z)(s?{name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}}:null),l=s?n.bt("Поиск", "Search", "searchBox.placeholder.defaultText", undefined, true):n.bt("Идеи простых блюд на ужин, модных образов и многое другое", "Search for easy dinners, fashion, etc.", " - ", undefined, true),c="";if(!e&&o.isLoaded&&o.data&&o.data.length>0){let e=o.data[0].text;c=o.data[0].query,l=e}return t&&(l=i?n.bt("Введите название или описание", "Try a title or description", "searchBox.placeholder.searchYourOwnPinsFocusedText", undefined, true):n.bt("Поиск ваших пинов", "Search your Pins", "searchBox.placeholder.searchYourOwnPinsText", undefined, true)),[l,c]}({shouldHideGhostText:eS,isSyop:et,inputFocused:ea}),ek=(0,n.useRef)();function eL(){let e=(0,y.Z)(N);if(!e.length)return;let t=(0,f.Z)({query:e,rs:"ac",scope:b.lw.PINS_MINE});C.push(t)}(0,n.useEffect)(()=>{ek.current!==ev&&(ev?c.Z.pause():c.Z.resume(),ey(!ev),ev||(ef(),q(F)),eb(ev),ek.current=ev)},[F,ev,ey,eb]),(0,n.useEffect)(()=>{q(F),K(G),ec(!1),eh(!1)},[F,G]);let eZ=(e,t,i=!1)=>{let n=i?97:101,r={};switch(N&&(r.entered_query=N,r.selected_query=e.query||void 0),e.type){case"inclusive_product_filter_query":case"recent_query":case"query":_({event_type:n,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:"inclusive_product_filter_query"===e.type?"query":e.type,result_index:t,...r}});let s=X({suggestion:e,query:N,lastFocusTime:em});et&&"recent_query"===e.type&&(s=s.replace("pins","my_pins")),C.push(s);break;case"recent_save":C.push(e.url);break;case"enriched_autocomplete":case"board":case"user":_({event_type:n,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:e.type,result_index:t,...r}}),C.push(e.url);break;case"explorearticle":26===e.story_category?_({event_type:101,view_type:2,view_parameter:3467,component:13865,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_id:e.storyId,story_type:"shopping_spotlight",...r}}):_({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:{autocomplete_type:2===e.story_category?"trending":"recommended",result_index:t,...r}}),i&&C.push(X({suggestion:e,query:""}));break;case"todayarticle":_({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_type:"shopping_spotlight",...r}}),i&&C.push(X({suggestion:e,query:""}));break;case"syop_cta":eL()}ef(),ec(!1),eh(!1)},eR=()=>{if(U===F&&V===G)return;let e=(0,y.Z)(U);if(!e.length)return;let t=(0,f.Z)({query:e,rs:"typed",scope:V});C.push(t)};if(ew&&!ea&&!F&&!ev)return(0,P.jsx)(s.xu,{id:"searchBoxContainer",children:(0,P.jsx)(s.hU,{accessibilityLabel:T.bt("Значок поиска", "Search icon", "searchBox.searchIcon.accessibilityLabel", undefined, true),icon:"search",onClick:()=>{ec(!0),ej(!1),e&&e(!1),i&&_({event_type:101,element:11809})},size:"lg",iconColor:"gray"})});let ez=function({suggestionsFocusIndex:e,suggestionGroups:t}){let i,n;let r=J(t);if("number"==typeof e){for(let t=r.length-1;t>=0;t-=1)if(e>=r[t]){i=t,n=e-r[t];break}}return"number"==typeof i&&"number"==typeof n?Q(i,n):""}({suggestionsFocusIndex:er,suggestionGroups:ei}),eM="shrink"===h?"80vw":void 0,eO=h&&Object.keys(S.ht).includes(h)&&"shrink"!==h?S.ht[h]:"auto",eB=(0,P.jsx)(g,{children:(0,P.jsx)(eQ,{focusIndex:er,maxHeight:eP,onInclusiveProductFilterClick:(e,t,i)=>{let n={};N&&(n.entered_query=N),_({event_type:101,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:"query",result_index:t,...n}});let r=X({suggestion:e,query:N,lastFocusTime:em,filterSelectedTerm:i});C.push(r)},onMouseEnter:()=>eh(!0),onMouseLeave:()=>eh(!1),onSuggestionClick:eZ,onSuggestionGroupsUpdate:en,onSuggestionHovered:e=>es(e),onSyopCtaClick:eL,query:N,scope:V,searchBoxHeight:S.XI+4,suggestionGroups:ei,width:eM})});return(0,P.jsx)(s.xu,{flex:"grow",id:"searchBoxContainer",minWidth:eO,paddingX:2,children:(0,P.jsxs)(s.xu,{color:ed?void 0:"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:ed?"#E1E1E1":void 0}},display:"flex",height:S.XI,rounding:6,children:[(0,P.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:D?`0 16px 0 ${eE}`:`0 ${eE} 0 16px`,...ev?{borderRadius:"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{}}},display:"flex",flex:"grow",height:"100%",onMouseEnter:()=>{eu(!0)},onMouseLeave:()=>{eu(!1)},position:"relative",children:[!(U||ea)&&(0,P.jsx)(s.xu,{flex:"none",marginEnd:2,children:(0,P.jsx)(s.JO,{accessibilityLabel:T.bt("Значок поиска", "Search icon", "searchBox.searchIcon.accessibilityLabel", undefined, true),icon:"search",size:16})}),Z&&(0,P.jsx)(B,{handleClearMode:()=>{U===F?C.push(`/search/pins/?q=${F}`):K(b.lw.PINS)},scope:V}),(0,P.jsx)(x.Z,{dataTestId:"search-box-input",focusOptionId:ez,isFocused:ev,name:"searchBoxInput",onBlur:function(){ec(!1)},onChange:function(e){q(e),ef()},onFocus:function(){ex(Date.now()),_({event_type:101,component:43,element:227}),ec(!0)},onKeyDown:e=>{switch(e.keyCode){case d.Z.ENTER:{let t=ee(ei,er);ev&&t&&e.preventDefault(),t&&eo?(eZ(t,t.resultIndex||0,!0),el(!1)):eR();break}case d.Z.ESCAPE:ev&&e.preventDefault(),e.stopPropagation(),ec(!1),eh(!1);break;case d.Z.UP:ev&&e.preventDefault();let[t,i]=function(e,t){let i;let n=e.map(e=>{var t;return null!==(t=e.items.length)&&void 0!==t?t:0}).reduce((e,t)=>e+t,0);i=null==t?n-1:0===t?void 0:t-1;let r=ee(e,i);return[i,r]}(ei,er);es(t),el(!0),$(i);break;case d.Z.DOWN:{ev&&e.preventDefault();let[t,i]=function(e,t){let i;let n=e.map(e=>{var t;return null!==(t=e.items.length)&&void 0!==t?t:0}).reduce((e,t)=>e+t,0);i=null==t?0:t===n-1?void 0:t+1;let r=ee(e,i);return[i,r]}(ei,er);es(t),el(!0),$(i);break}case d.Z.TAB:eA&&!N&&ev&&(e.preventDefault(),e.stopPropagation(),q(eA))}},onSearchTrigger:eR,placeholder:eD,value:U}),U||i&&eC||ev?(0,P.jsx)(s.xu,{flex:"none",marginStart:3,children:(0,P.jsx)(s.xu,{"data-test-id":"search-cancel",children:(0,P.jsx)(s.hU,{accessibilityLabel:T.bt("Удалить поисковый запрос", "Remove search input", "searchBox.removeSearchInput.accessibilityLabel", undefined, true),icon:F?"cancel":"clear",iconColor:"darkGray",onClick:()=>{if(q(""),K(b.lw.PINS),ef(),I.isAuth&&F){let e=(0,f.Z)({query:"",rs:"remove"});C.push(e)}else i&&e&&e(!0)},size:F?"sm":"lg"})})}):null,ev&&eB]}),eC?(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,P.jsx)(E,{currentlySelectedFilter:V,currentQuery:F,handleContentTypeFilterHover:()=>{i&&e_(eg)},handleScopeChange:function(e){K(e),ec(i&&!N),ef()}})]}):null]})})}function e0(e){return(0,P.jsx)(W,{children:(0,P.jsx)(eJ,{...e})})}},149139:(e,t,i)=>{i.d(t,{Ag:()=>h,Fj:()=>d,Gh:()=>v,H2:()=>f,Ie:()=>b,KH:()=>y,Lo:()=>s,Ny:()=>_,P$:()=>u,TD:()=>m,Ub:()=>g,XI:()=>n,YO:()=>x,a3:()=>a,ht:()=>o,le:()=>c,r5:()=>r,sA:()=>l,yY:()=>p});let n=48,r=8,s=4,o={md:407,sm:332,auto:"auto"},l=7,a=["pin.description","pin.id","pin.images[236x]"],c=360,d=76,u=5,p=7.5,h=40,g=24,_=192,m=7,x=116,f={__style:{backgroundColor:"rgba(0,0,0, .4)"}},v=90,y={AUTOCOMPLETE:0,SEARCH_TRENDING_TEXT:2,SEARCH_IDEAS_FOR_YOU:3},b=2},681557:(e,t,i)=>{i.d(t,{A:()=>l,N:()=>a});var n=i(667294),r=i(583592),s=i(785893);let{Provider:o,useHook:l}=(0,r.Z)("ModeIcon");function a({children:e,value:t={modeIcon:null}}){let[i,r]=(0,n.useState)(t),l=(0,n.useMemo)(()=>({searchContext:i,updateSearchContext:r}),[i,r]);return(0,s.jsx)(o,{value:l,children:e})}},946426:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),r=i(806681),s=i(785893);function o({colors:e,isSelected:t,onClick:i}){return(0,s.jsx)(r.q,{children:({hovered:r,onMouseEnter:o,onMouseLeave:l})=>(0,s.jsx)(n.kC,{alignItems:"center",height:64,justifyContent:"start",children:(0,s.jsx)(n.iP,{mouseCursor:"pointer",onMouseEnter:o,onMouseLeave:l,onTap:i,rounding:"pill",children:(0,s.jsx)(n.xu,{alignItems:"center",color:t?"primary":r?"tertiary":void 0,display:"flex",height:64,justifyContent:"center",rounding:"pill",width:92,children:(0,s.jsx)(n.xu,{alignItems:"center",color:"default",display:"flex",height:60,justifyContent:"center",rounding:"pill",width:88,children:(0,s.jsx)(n.xu,{display:"flex",height:56,overflow:"hidden",rounding:"pill",width:84,wrap:!0,children:e.map((e,t)=>(0,s.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:28,width:42},`${e}-${t}`))})})})})})})}},618305:(e,t,i)=>{i.d(t,{W:()=>d,Z:()=>p});var n=i(667294),r=i(883119),s=i(388011),o=i(696508),l=i(536042),a=i(946426),c=i(785893);let d=[["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],["#DEBAB0","#E0999A","#DDA67C","#D98A64"],["#9A6B52","#A25847","#B37143","#BF6951"],["#683929","#34261F","#64281B","#4F2221"]],u=[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}];function p({currentlyAppliedFiltersParamTerm:e,filterTones:t=u,onClickApplyFilters:i,query:p,showHeaderText:h=!0}){let{logContextEvent:g}=(0,s.v)(),_=(0,l.ZP)(),m=(0,n.useRef)(null),x=(0,n.useRef)(null),f=t=>{var n;let r=e===t?"":t;g({event_type:101,component:47,element:10418,view_type:2,aux_data:{entered_query:p,filter_type:"skin_tone",value:r}}),null===(n=x.current)||void 0===n||n.complete(),i(r)},v=e?_.bt("Некоторые идеи в этом диапазоне оттенков кожи", "Some ideas in this skin tone range", "SkinToneFilters.copy.termSelected", undefined, true):_.bt("Выберите диапазон оттенков кожи", "Pick a skin tone range", "SkinToneFilters.copy.noTermSelected", undefined, true);return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsxs)(r.kC,{alignItems:h?"center":"start",direction:"column",justifyContent:"start",children:[h&&(0,c.jsx)(r.xu,{marginBottom:2,children:(0,c.jsx)(r.xv,{color:"default",overflow:"normal",weight:"bold",children:v})}),(0,c.jsx)(r.xu,{display:"flex",flex:"none",paddingX:1,ref:m,children:t.map(({term:t},i)=>(0,c.jsx)(r.xu,{"data-test-id":"skin-tone-option",dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},children:(0,c.jsx)(a.Z,{colors:d[i],isSelected:e===t,onClick:()=>f(t)})},t))})]}),m&&(0,c.jsx)(o.Z,{anchor:m.current,experienceIds:[502978],idealDirection:"right",onExperienceMount:e=>{e.complete&&502978===e.experience_id&&(x.current=e)},placementId:29})]})}},965671:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(245410),r=i(802071);function s(){let{checkExperiment:e}=(0,n.F)(),t=(0,r.Z)();return!!t.isPartner&&e("aid_exp_ia_navigation_update_search").anyEnabled}},578369:(e,t,i)=>{function n(e,t){return t?`${e}?${new URLSearchParams(t).toString()}`:e}function r(e){return n("/admin/",e)}function s(e){return n("/admin/oauth/logout/",e)}function o(e){return n("/today/",e)}i.d(t,{HF:()=>r,Kn:()=>s,tG:()=>o})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/80564.ru_RU-613ff478b11cee47.mjs.map