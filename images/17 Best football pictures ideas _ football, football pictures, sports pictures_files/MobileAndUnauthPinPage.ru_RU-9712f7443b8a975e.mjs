(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[18192,51879,43795,16117,51798,91449,19596,61116,3875,24661,90984,38642,75721,75794,42298,14324,49314,50600,8575,99551,77263,70640,76030,81930,20496,62064,73383,1342,11056,20673,42165,19079,24321,45947,83414,19828],{376030:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ee});var i,l,a={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},r={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},o=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],s={CSS:{},springs:{}};function d(e,t,n){return Math.min(Math.max(e,t),n)}function c(e,t){return e.indexOf(t)>-1}function u(e,t){return e.apply(null,t)}var p={arr:function(e){return Array.isArray(e)},obj:function(e){return c(Object.prototype.toString.call(e),"Object")},pth:function(e){return p.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||p.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return p.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return p.hex(e)||p.rgb(e)||p.hsl(e)},key:function(e){return!a.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function m(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function h(e,t){var n=m(e),i=d(p.und(n[0])?1:n[0],.1,100),l=d(p.und(n[1])?100:n[1],.1,100),a=d(p.und(n[2])?10:n[2],.1,100),r=d(p.und(n[3])?0:n[3],.1,100),o=Math.sqrt(l/i),c=a/(2*Math.sqrt(l*i)),u=c<1?o*Math.sqrt(1-c*c):0,h=c<1?(c*o+-r)/u:-r+o;function g(e){var n=t?t*e/1e3:e;return(n=c<1?Math.exp(-n*c*o)*(1*Math.cos(u*n)+h*Math.sin(u*n)):(1+h*n)*Math.exp(-n*o),0===e||1===e)?e:1-n}return t?g:function(){var t=s.springs[e];if(t)return t;for(var n=1/6,i=0,l=0;;)if(1===g(i+=n)){if(++l>=16)break}else l=0;var a=i*n*1e3;return s.springs[e]=a,a}}function g(e){return void 0===e&&(e=10),function(t){return Math.ceil(d(t,1e-6,1)*e)*(1/e)}}var _=function(){function e(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}function t(e,t,n){return 3*(1-3*n+3*t)*e*e+2*(3*n-6*t)*e+3*t}return function(n,i,l,a){if(0<=n&&n<=1&&0<=l&&l<=1){var r=new Float32Array(11);if(n!==i||l!==a)for(var o=0;o<11;++o)r[o]=e(.1*o,n,l);return function(o){return n===i&&l===a||0===o||1===o?o:e(function(i){for(var a=0,o=1;10!==o&&r[o]<=i;++o)a+=.1;var s=a+(i-r[--o])/(r[o+1]-r[o])*.1,d=t(s,n,l);return d>=.001?function(n,i,l,a){for(var r=0;r<4;++r){var o=t(i,l,a);if(0===o)break;var s=e(i,l,a)-n;i-=s/o}return i}(i,s,n,l):0===d?s:function(t,n,i,l,a){var r,o,s=0;do(r=e(o=n+(i-n)/2,l,a)-t)>0?i=o:n=o;while(Math.abs(r)>1e-7&&++s<10)return o}(i,a,a+.1,n,l)}(o),i,a)}}}}(),y=(i={linear:function(){return function(e){return e}}},l={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=d(e,1,10),i=d(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-i/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/i)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,t){l[e]=function(){return function(e){return Math.pow(e,t+2)}}}),Object.keys(l).forEach(function(e){var t=l[e];i["easeIn"+e]=t,i["easeOut"+e]=function(e,n){return function(i){return 1-t(e,n)(1-i)}},i["easeInOut"+e]=function(e,n){return function(i){return i<.5?t(e,n)(2*i)/2:1-t(e,n)(-2*i+2)/2}},i["easeOutIn"+e]=function(e,n){return function(i){return i<.5?(1-t(e,n)(1-2*i))/2:(t(e,n)(2*i-1)+1)/2}}}),i);function v(e,t){if(p.fnc(e))return e;var n=e.split("(")[0],i=y[n],l=m(e);switch(n){case"spring":return h(e,t);case"cubicBezier":return u(_,l);case"steps":return u(g,l);default:return u(i,l)}}function f(e){try{return document.querySelectorAll(e)}catch(e){return}}function b(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,l=[],a=0;a<n;a++)if(a in e){var r=e[a];t.call(i,r,a,e)&&l.push(r)}return l}function x(e){return e.reduce(function(e,t){return e.concat(p.arr(t)?x(t):t)},[])}function k(e){return p.arr(e)?e:(p.str(e)&&(e=f(e)||e),e instanceof NodeList||e instanceof HTMLCollection)?[].slice.call(e):[e]}function P(e,t){return e.some(function(e){return e===t})}function S(e){var t={};for(var n in e)t[n]=e[n];return t}function w(e,t){var n=S(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function T(e,t){var n=S(e);for(var i in t)n[i]=p.und(e[i])?t[i]:e[i];return n}function A(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function C(e,t){return p.fnc(e)?e(t.target,t.id,t.total):e}function I(e,t){return e.getAttribute(t)}function j(e,t,n){if(P([n,"deg","rad","turn"],A(t)))return t;var i=s.CSS[t+n];if(!p.und(i))return i;var l=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(l),l.style.position="absolute",l.style.width=100+n;var r=100/l.offsetWidth;a.removeChild(l);var o=r*parseFloat(t);return s.CSS[t+n]=o,o}function E(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),l=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?j(e,l,n):l}}function L(e,t){return p.dom(e)&&!p.inp(e)&&(!p.nil(I(e,t))||p.svg(e)&&e[t])?"attribute":p.dom(e)&&P(o,t)?"transform":p.dom(e)&&"transform"!==t&&E(e,t)?"css":null!=e[t]?"object":void 0}function R(e){if(p.dom(e)){for(var t,n=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,l=new Map;t=i.exec(n);)l.set(t[1],t[2]);return l}}function F(e,t,n,i){switch(L(e,t)){case"transform":var l,a;return l=c(t,"scale")?1:0+(c(t,"translate")||"perspective"===t?"px":c(t,"rotate")||c(t,"skew")?"deg":void 0),a=R(e).get(t)||l,i&&(i.transforms.list.set(t,a),i.transforms.last=t),n?j(e,a,n):a;case"css":return E(e,t,n);case"attribute":return I(e,t);default:return e[t]||0}}function D(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=A(e)||0,l=parseFloat(t),a=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return l+a+i;case"-":return l-a+i;case"*":return l*a+i}}function z(e,t){if(p.col(e)){var n,i,l,a;return n=e,p.rgb(n)?(i=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n))?"rgba("+i[1]+",1)":n:p.hex(n)?(l=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i}),"rgba("+parseInt((a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l))[1],16)+","+parseInt(a[2],16)+","+parseInt(a[3],16)+",1)"):p.hsl(n)?function(e){var t,n,i,l=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),a=parseInt(l[1],10)/360,r=parseInt(l[2],10)/100,o=parseInt(l[3],10)/100,s=l[4]||1;function d(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==r)t=n=i=o;else{var c=o<.5?o*(1+r):o+r-o*r,u=2*o-c;t=d(u,c,a+1/3),n=d(u,c,a),i=d(u,c,a-1/3)}return"rgba("+255*t+","+255*n+","+255*i+","+s+")"}(n):void 0}if(/\s/g.test(e))return e;var r=A(e),o=r?e.substr(0,e.length-r.length):e;return t?o+t:o}function M(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function O(e){for(var t,n=e.points,i=0,l=0;l<n.numberOfItems;l++){var a=n.getItem(l);l>0&&(i+=M(t,a)),t=a}return i}function Z(e){var t;if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*I(e,"r");case"rect":return 2*I(e,"width")+2*I(e,"height");case"line":return M({x:I(e,"x1"),y:I(e,"y1")},{x:I(e,"x2"),y:I(e,"y2")});case"polyline":return O(e);case"polygon":return t=e.points,O(e)+M(t.getItem(t.numberOfItems-1),t.getItem(0))}}function N(e,t){var n=t||{},i=n.el||function(e){for(var t=e.parentNode;p.svg(t)&&p.svg(t.parentNode);)t=t.parentNode;return t}(e),l=i.getBoundingClientRect(),a=I(i,"viewBox"),r=l.width,o=l.height,s=n.viewBox||(a?a.split(" "):[0,0,r,o]);return{el:i,viewBox:s,x:s[0]/1,y:s[1]/1,w:r,h:o,vW:s[2],vH:s[3]}}function K(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=z(p.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:p.str(e)||t?i.split(n):[]}}function B(e){return b(e?x(p.arr(e)?e.map(k):k(e)):[],function(e,t,n){return n.indexOf(e)===t})}function U(e){var t=B(e);return t.map(function(e,n){return{target:e,id:n,total:t.length,transforms:{list:R(e)}}})}var H={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,l){if(i.list.set(t,n),t===i.last||l){var a="";i.list.forEach(function(e,t){a+=t+"("+e+") "}),e.style.transform=a}}};function V(e,t){U(e).forEach(function(e){for(var n in t){var i=C(t[n],e),l=e.target,a=A(i),r=F(l,n,a,e),o=D(z(i,a||A(r)),r);H[L(l,n)](l,n,o,e.transforms,!0)}})}function G(e,t){var n=e.length,i=function(e){return e.timelineOffset?e.timelineOffset:0},l={};return l.duration=n?Math.max.apply(Math,e.map(function(e){return i(e)+e.duration})):t.duration,l.delay=n?Math.min.apply(Math,e.map(function(e){return i(e)+e.delay})):t.delay,l.endDelay=n?l.duration-Math.max.apply(Math,e.map(function(e){return i(e)+e.duration-e.endDelay})):t.endDelay,l}var $=0,W=[],q=function(){var e;function t(n){for(var i=W.length,l=0;l<i;){var a=W[l];a.paused?(W.splice(l,1),i--):(a.tick(n),l++)}e=l>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){X.suspendWhenDocumentHidden&&(Y()?e=cancelAnimationFrame(e):(W.forEach(function(e){return e._onDocumentVisibility()}),q()))}),function(){e||Y()&&X.suspendWhenDocumentHidden||!(W.length>0)||(e=requestAnimationFrame(t))}}();function Y(){return!!document&&document.hidden}function X(e){void 0===e&&(e={});var t,n,i,l,o,s,c,u,m,g=0,_=0,y=0,f=0,k=null;function P(e){var t=window.Promise&&new Promise(function(e){return k=e});return e.finished=t,t}var I=(n=w(a,t=e),l=function(e,t){var n=[],i=t.keyframes;for(var l in i&&(t=T(function(e){for(var t=b(x(e.map(function(e){return Object.keys(e)})),function(e){return p.key(e)}).reduce(function(e,t){return 0>e.indexOf(t)&&e.push(t),e},[]),n={},i=0;i<t.length;i++)!function(i){var l=t[i];n[l]=e.map(function(e){var t={};for(var n in e)p.key(n)?n==l&&(t.value=e[n]):t[n]=e[n];return t})}(i);return n}(i),t)),t)p.key(l)&&n.push({name:l,tweens:function(e,t){var n=S(t);if(/^spring/.test(n.easing)&&(n.duration=h(n.easing)),p.arr(e)){var i=e.length;2!==i||p.obj(e[0])?p.fnc(t.duration)||(n.duration=t.duration/i):e={value:e}}var l=p.arr(e)?e:[e];return l.map(function(e,n){var i=p.obj(e)&&!p.pth(e)?e:{value:e};return p.und(i.delay)&&(i.delay=n?0:t.delay),p.und(i.endDelay)&&(i.endDelay=n===l.length-1?t.endDelay:0),i}).map(function(e){return T(e,n)})}(t[l],e)});return n}(i=w(r,t),t),c=G(s=b(x((o=U(t.targets)).map(function(e){return l.map(function(t){return function(e,t){var n=L(e.target,t.name);if(n){var i,l=t.tweens.map(function(n){var l=function(e,t){var n={};for(var i in e){var l=C(e[i],t);p.arr(l)&&1===(l=l.map(function(e){return C(e,t)})).length&&(l=l[0]),n[i]=l}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(n,e),a=l.value,r=p.arr(a)?a[1]:a,o=A(r),s=F(e.target,t.name,o,e),d=i?i.to.original:s,c=p.arr(a)?a[0]:d,u=A(c)||A(s),m=o||u;return p.und(r)&&(r=d),l.from=K(c,m),l.to=K(D(r,c),m),l.start=i?i.end:0,l.end=l.start+l.delay+l.duration+l.endDelay,l.easing=v(l.easing,l.duration),l.isPath=p.pth(a),l.isPathTargetInsideSVG=l.isPath&&p.svg(e.target),l.isColor=p.col(l.from.original),l.isColor&&(l.round=1),i=l,l}),a=l[l.length-1];return{type:n,property:t.name,animatable:e,tweens:l,duration:a.end,delay:l[0].delay,endDelay:a.endDelay}}}(e,t)})})),function(e){return!p.und(e)}),i),u=$,$++,T(n,{id:u,children:[],animatables:o,animations:s,duration:c.duration,delay:c.delay,endDelay:c.endDelay}));function j(){var e=I.direction;"alternate"!==e&&(I.direction="normal"!==e?"normal":"reverse"),I.reversed=!I.reversed,m.forEach(function(e){return e.reversed=I.reversed})}function E(e){return I.reversed?I.duration-e:e}function R(){g=0,_=E(I.currentTime)*(1/X.speed)}function z(e,t){t&&t.seek(e-t.timelineOffset)}function M(e){for(var t=0,n=I.animations,i=n.length;t<i;){var l=n[t],a=l.animatable,r=l.tweens,o=r.length-1,s=r[o];o&&(s=b(r,function(t){return e<t.end})[0]||s);for(var c=d(e-s.start-s.delay,0,s.duration)/s.duration,u=isNaN(c)?1:s.easing(c),p=s.to.strings,m=s.round,h=[],g=s.to.numbers.length,_=void 0,y=0;y<g;y++){var v=void 0,f=s.to.numbers[y],x=s.from.numbers[y]||0;v=s.isPath?function(e,t,n){function i(n){void 0===n&&(n=0);var i=t+n>=1?t+n:0;return e.el.getPointAtLength(i)}var l=N(e.el,e.svg),a=i(),r=i(-1),o=i(1),s=n?1:l.w/l.vW,d=n?1:l.h/l.vH;switch(e.property){case"x":return(a.x-l.x)*s;case"y":return(a.y-l.y)*d;case"angle":return 180*Math.atan2(o.y-r.y,o.x-r.x)/Math.PI}}(s.value,u*f,s.isPathTargetInsideSVG):x+u*(f-x),m&&!(s.isColor&&y>2)&&(v=Math.round(v*m)/m),h.push(v)}var k=p.length;if(k){_=p[0];for(var P=0;P<k;P++){p[P];var S=p[P+1],w=h[P];isNaN(w)||(S?_+=w+S:_+=w+" ")}}else _=h[0];H[l.type](a.target,l.property,_,a.transforms),l.currentValue=_,t++}}function O(e){I[e]&&!I.passThrough&&I[e](I)}function Z(e){var t=I.duration,n=I.delay,i=t-I.endDelay,l=E(e);I.progress=d(l/t*100,0,100),I.reversePlayback=l<I.currentTime,m&&function(e){if(I.reversePlayback)for(var t=f;t--;)z(e,m[t]);else for(var n=0;n<f;n++)z(e,m[n])}(l),!I.began&&I.currentTime>0&&(I.began=!0,O("begin")),!I.loopBegan&&I.currentTime>0&&(I.loopBegan=!0,O("loopBegin")),l<=n&&0!==I.currentTime&&M(0),(l>=i&&I.currentTime!==t||!t)&&M(t),l>n&&l<i?(I.changeBegan||(I.changeBegan=!0,I.changeCompleted=!1,O("changeBegin")),O("change"),M(l)):I.changeBegan&&(I.changeCompleted=!0,I.changeBegan=!1,O("changeComplete")),I.currentTime=d(l,0,t),I.began&&O("update"),e>=t&&(_=0,I.remaining&&!0!==I.remaining&&I.remaining--,I.remaining?(g=y,O("loopComplete"),I.loopBegan=!1,"alternate"===I.direction&&j()):(I.paused=!0,!I.completed&&(I.completed=!0,O("loopComplete"),O("complete"),!I.passThrough&&"Promise"in window&&(k(),P(I)))))}return P(I),I.reset=function(){var e=I.direction;I.passThrough=!1,I.currentTime=0,I.progress=0,I.paused=!0,I.began=!1,I.loopBegan=!1,I.changeBegan=!1,I.completed=!1,I.changeCompleted=!1,I.reversePlayback=!1,I.reversed="reverse"===e,I.remaining=I.loop,f=(m=I.children).length;for(var t=f;t--;)I.children[t].reset();(I.reversed&&!0!==I.loop||"alternate"===e&&1===I.loop)&&I.remaining++,M(I.reversed?I.duration:0)},I._onDocumentVisibility=R,I.set=function(e,t){return V(e,t),I},I.tick=function(e){y=e,g||(g=y),Z((y+(_-g))*X.speed)},I.seek=function(e){Z(E(e))},I.pause=function(){I.paused=!0,R()},I.play=function(){I.paused&&(I.completed&&I.reset(),I.paused=!1,W.push(I),R(),q())},I.reverse=function(){j(),I.completed=!I.reversed,R()},I.restart=function(){I.reset(),I.play()},I.remove=function(e){Q(B(e),I)},I.reset(),I.autoplay&&I.play(),I}function J(e,t){for(var n=t.length;n--;)P(e,t[n].animatable.target)&&t.splice(n,1)}function Q(e,t){var n=t.animations,i=t.children;J(e,n);for(var l=i.length;l--;){var a=i[l],r=a.animations;J(e,r),r.length||a.children.length||i.splice(l,1)}n.length||i.length||t.pause()}X.version="3.2.1",X.speed=1,X.suspendWhenDocumentHidden=!0,X.running=W,X.remove=function(e){for(var t=B(e),n=W.length;n--;)Q(t,W[n])},X.get=F,X.set=V,X.convertPx=j,X.path=function(e,t){var n=p.str(e)?f(e)[0]:e,i=t||100;return function(e){return{property:e,el:n,svg:N(n),totalLength:Z(n)*(i/100)}}},X.setDashoffset=function(e){var t=Z(e);return e.setAttribute("stroke-dasharray",t),t},X.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",i=t.easing?v(t.easing):null,l=t.grid,a=t.axis,r=t.from||0,o="first"===r,s="center"===r,d="last"===r,c=p.arr(e),u=c?parseFloat(e[0]):parseFloat(e),m=c?parseFloat(e[1]):0,h=A(c?e[1]:e)||0,g=t.start||0+(c?u:0),_=[],y=0;return function(e,t,p){if(o&&(r=0),s&&(r=(p-1)/2),d&&(r=p-1),!_.length){for(var v=0;v<p;v++){if(l){var f=s?(l[0]-1)/2:r%l[0],b=s?(l[1]-1)/2:Math.floor(r/l[0]),x=v%l[0],k=Math.floor(v/l[0]),P=f-x,S=b-k,w=Math.sqrt(P*P+S*S);"x"===a&&(w=-P),"y"===a&&(w=-S),_.push(w)}else _.push(Math.abs(r-v));y=Math.max.apply(Math,_)}i&&(_=_.map(function(e){return i(e/y)*y})),"reverse"===n&&(_=_.map(function(e){return a?e<0?-1*e:-e:Math.abs(y-e)}))}return g+(c?(m-u)/y:u)*(Math.round(100*_[t])/100)+h}},X.timeline=function(e){void 0===e&&(e={});var t=X(e);return t.duration=0,t.add=function(n,i){var l=W.indexOf(t),a=t.children;function o(e){e.passThrough=!0}l>-1&&W.splice(l,1);for(var s=0;s<a.length;s++)o(a[s]);var d=T(n,w(r,e));d.targets=d.targets||e.targets;var c=t.duration;d.autoplay=!1,d.direction=t.direction,d.timelineOffset=p.und(i)?c:D(i,c),o(t),t.seek(d.timelineOffset);var u=X(d);o(u),a.push(u);var m=G(a,e);return t.delay=m.delay,t.endDelay=m.endDelay,t.duration=m.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},X.easing=v,X.penner=y,X.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};let ee=X},497621:(e,t,n)=>{"use strict";function i(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function l(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}n.d(t,{Z:()=>a});let a={p:l,P:function(e,t){var n,a=e.match(/(P+)(p+)?/),r=a[1],o=a[2];if(!o)return i(e,t);switch(r){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",i(r,t)).replace("{{time}}",l(o,t))}}},924262:(e,t,n)=>{"use strict";function i(e){return e.getTime()%6e4}function l(e){var t=new Date(e.getTime()),n=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var l=n>0?(6e4+i(t))%6e4:i(t);return 6e4*n+l}n.d(t,{Z:()=>l})},333276:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(619013),l=n(666979),a=n(507032),r=n(13882);function o(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e);return Math.round(((0,l.Z)(t).getTime()-(function(e){(0,r.Z)(1,arguments);var t=(0,a.Z)(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),(0,l.Z)(n)})(t).getTime())/6048e5)+1}},507032:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(619013),l=n(666979),a=n(13882);function r(e){(0,a.Z)(1,arguments);var t=(0,i.Z)(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=(0,l.Z)(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var d=(0,l.Z)(s);return t.getTime()>=o.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}},505230:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(619013),l=n(159025),a=n(983946),r=n(107651),o=n(13882);function s(e,t){(0,o.Z)(1,arguments);var n=(0,i.Z)(e);return Math.round(((0,l.Z)(n,t).getTime()-(function(e,t){(0,o.Z)(1,arguments);var n=t||{},i=n.locale,s=i&&i.options&&i.options.firstWeekContainsDate,d=null==s?1:(0,a.Z)(s),c=null==n.firstWeekContainsDate?d:(0,a.Z)(n.firstWeekContainsDate),u=(0,r.Z)(e,t),p=new Date(0);return p.setUTCFullYear(u,0,c),p.setUTCHours(0,0,0,0),(0,l.Z)(p,t)})(n,t).getTime())/6048e5)+1}},107651:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(983946),l=n(619013),a=n(159025),r=n(13882);function o(e,t){(0,r.Z)(1,arguments);var n=(0,l.Z)(e,t),o=n.getUTCFullYear(),s=t||{},d=s.locale,c=d&&d.options&&d.options.firstWeekContainsDate,u=null==c?1:(0,i.Z)(c),p=null==s.firstWeekContainsDate?u:(0,i.Z)(s.firstWeekContainsDate);if(!(p>=1&&p<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(o+1,0,p),m.setUTCHours(0,0,0,0);var h=(0,a.Z)(m,t),g=new Date(0);g.setUTCFullYear(o,0,p),g.setUTCHours(0,0,0,0);var _=(0,a.Z)(g,t);return n.getTime()>=h.getTime()?o+1:n.getTime()>=_.getTime()?o:o-1}},5267:(e,t,n)=>{"use strict";n.d(t,{Do:()=>r,Iu:()=>a,qp:()=>o});var i=["D","DD"],l=["YY","YYYY"];function a(e){return -1!==i.indexOf(e)}function r(e){return -1!==l.indexOf(e)}function o(e,t,n){if("YYYY"===e)throw RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}},13882:(e,t,n)=>{"use strict";function i(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:()=>i})},666979:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(619013),l=n(13882);function a(e){(0,l.Z)(1,arguments);var t=(0,i.Z)(e),n=t.getUTCDay();return t.setUTCDate(t.getUTCDate()-((n<1?7:0)+n-1)),t.setUTCHours(0,0,0,0),t}},159025:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(983946),l=n(619013),a=n(13882);function r(e,t){(0,a.Z)(1,arguments);var n=t||{},r=n.locale,o=r&&r.options&&r.options.weekStartsOn,s=null==o?0:(0,i.Z)(o),d=null==n.weekStartsOn?s:(0,i.Z)(n.weekStartsOn);if(!(d>=0&&d<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,l.Z)(e),u=c.getUTCDay();return c.setUTCDate(c.getUTCDate()-((u<d?7:0)+u-d)),c.setUTCHours(0,0,0,0),c}},983946:(e,t,n)=>{"use strict";function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:()=>i})},51820:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(983946),l=n(619013),a=n(13882);function r(e,t){(0,a.Z)(2,arguments);var n=(0,l.Z)(e).getTime(),r=(0,i.Z)(t);return new Date(n+r)}},642298:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var i=n(112274),l=n(983975),a=n(491218),r=n(619013);function o(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return(e<0?"-":"")+n}let s={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return o("yy"===t?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):o(n+1,2)},d:function(e,t){return o(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.toUpperCase();case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return o(e.getUTCHours()%12||12,t.length)},H:function(e,t){return o(e.getUTCHours(),t.length)},m:function(e,t){return o(e.getUTCMinutes(),t.length)},s:function(e,t){return o(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length;return o(Math.floor(e.getUTCMilliseconds()*Math.pow(10,n-3)),t.length)}};var d=n(13882),c=n(333276),u=n(507032),p=n(505230),m=n(107651),h={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};function g(e,t){var n=e>0?"-":"+",i=Math.abs(e),l=Math.floor(i/60),a=i%60;return 0===a?n+String(l):n+String(l)+(t||"")+o(a,2)}function _(e,t){return e%60==0?(e>0?"-":"+")+o(Math.abs(e)/60,2):y(e,t)}function y(e,t){var n=e>0?"-":"+",i=Math.abs(e);return n+o(Math.floor(i/60),2)+(t||"")+o(i%60,2)}let v={G:function(e,t,n){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var i=e.getUTCFullYear(),l=i>0?i:1-i;return n.ordinalNumber(l,{unit:"year"})}return s.y(e,t)},Y:function(e,t,n,i){var l=(0,m.Z)(e,i),a=l>0?l:1-l;return"YY"===t?o(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):o(a,t.length)},R:function(e,t){return o((0,u.Z)(e),t.length)},u:function(e,t){return o(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return o(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return o(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){var i=e.getUTCMonth();switch(t){case"M":case"MM":return s.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return o(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){var l=(0,p.Z)(e,i);return"wo"===t?n.ordinalNumber(l,{unit:"week"}):o(l,t.length)},I:function(e,t,n){var i=(0,c.Z)(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):o(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):s.d(e,t)},D:function(e,t,n){var i=function(e){(0,d.Z)(1,arguments);var t=(0,r.Z)(e),n=t.getTime();return t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),Math.floor((n-t.getTime())/864e5)+1}(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):o(i,t.length)},E:function(e,t,n){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){var l=e.getUTCDay(),a=(l-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return o(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){var l=e.getUTCDay(),a=(l-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return o(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,n){var i=e.getUTCDay(),l=0===i?7:i;switch(t){case"i":return String(l);case"ii":return o(l,t.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var i,l=e.getUTCHours();switch(i=12===l?h.noon:0===l?h.midnight:l/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var i,l=e.getUTCHours();switch(i=l>=17?h.evening:l>=12?h.afternoon:l>=4?h.morning:h.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var i=e.getUTCHours()%12;return 0===i&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return s.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):s.H(e,t)},K:function(e,t,n){var i=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):o(i,t.length)},k:function(e,t,n){var i=e.getUTCHours();return(0===i&&(i=24),"ko"===t)?n.ordinalNumber(i,{unit:"hour"}):o(i,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):s.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):s.s(e,t)},S:function(e,t){return s.S(e,t)},X:function(e,t,n,i){var l=(i._originalDate||e).getTimezoneOffset();if(0===l)return"Z";switch(t){case"X":return _(l);case"XXXX":case"XX":return y(l);default:return y(l,":")}},x:function(e,t,n,i){var l=(i._originalDate||e).getTimezoneOffset();switch(t){case"x":return _(l);case"xxxx":case"xx":return y(l);default:return y(l,":")}},O:function(e,t,n,i){var l=(i._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+g(l,":");default:return"GMT"+y(l,":")}},z:function(e,t,n,i){var l=(i._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+g(l,":");default:return"GMT"+y(l,":")}},t:function(e,t,n,i){return o(Math.floor((i._originalDate||e).getTime()/1e3),t.length)},T:function(e,t,n,i){return o((i._originalDate||e).getTime(),t.length)}};var f=n(497621),b=n(924262),x=n(5267),k=n(983946),P=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,S=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w=/^'([^]*?)'?$/,T=/''/g,A=/[a-zA-Z]/;function C(e,t,n){(0,d.Z)(2,arguments);var o=String(t),s=n||{},c=s.locale||l.default,u=c.options&&c.options.firstWeekContainsDate,p=null==u?1:(0,k.Z)(u),m=null==s.firstWeekContainsDate?p:(0,k.Z)(s.firstWeekContainsDate);if(!(m>=1&&m<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=c.options&&c.options.weekStartsOn,g=null==h?0:(0,k.Z)(h),_=null==s.weekStartsOn?g:(0,k.Z)(s.weekStartsOn);if(!(_>=0&&_<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!c.localize)throw RangeError("locale must contain localize property");if(!c.formatLong)throw RangeError("locale must contain formatLong property");var y=(0,r.Z)(e);if(!(0,i.Z)(y))throw RangeError("Invalid time value");var C=(0,b.Z)(y),I=(0,a.Z)(y,C),j={firstWeekContainsDate:m,weekStartsOn:_,locale:c,_originalDate:y};return o.match(S).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,f.Z[t])(e,c.formatLong,j):e}).join("").match(P).map(function(n){if("''"===n)return"'";var i=n[0];if("'"===i)return n.match(w)[1].replace(T,"'");var l=v[i];if(l)return!s.useAdditionalWeekYearTokens&&(0,x.Do)(n)&&(0,x.qp)(n,t,e),!s.useAdditionalDayOfYearTokens&&(0,x.Iu)(n)&&(0,x.qp)(n,t,e),l(I,n,c.localize,j);if(i.match(A))throw RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return n}).join("")}},112274:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(619013),l=n(13882);function a(e){return(0,l.Z)(1,arguments),!isNaN((0,i.Z)(e))}},849526:(e,t,n)=>{"use strict";function i(e){return function(t){var n=t||{},i=n.width?String(n.width):e.defaultWidth;return e.formats[i]||e.formats[e.defaultWidth]}}n.d(t,{Z:()=>i})},688486:(e,t,n)=>{"use strict";function i(e){return function(t,n){var i,l=n||{};if("formatting"===(l.context?String(l.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,r=l.width?String(l.width):a;i=e.formattingValues[r]||e.formattingValues[a]}else{var o=e.defaultWidth,s=l.width?String(l.width):e.defaultWidth;i=e.values[s]||e.values[o]}return i[e.argumentCallback?e.argumentCallback(t):t]}}n.d(t,{Z:()=>i})},276723:(e,t,n)=>{"use strict";function i(e){return function(t,n){var i,l=String(t),a=n||{},r=a.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=l.match(o);if(!s)return null;var d=s[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth];return i="[object Array]"===Object.prototype.toString.call(c)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(c,function(e){return e.test(d)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(c,function(e){return e.test(d)}),i=e.valueCallback?e.valueCallback(i):i,{value:i=a.valueCallback?a.valueCallback(i):i,rest:l.slice(d.length)}}}n.d(t,{Z:()=>i})},360974:(e,t,n)=>{"use strict";function i(e){return function(t,n){var i=String(t),l=n||{},a=i.match(e.matchPattern);if(!a)return null;var r=a[0],o=i.match(e.parsePattern);if(!o)return null;var s=e.valueCallback?e.valueCallback(o[0]):o[0];return{value:s=l.valueCallback?l.valueCallback(s):s,rest:i.slice(r.length)}}}n.d(t,{Z:()=>i})},181991:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function l(e,t,n){var l;return(n=n||{},l="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix)?n.comparison>0?"in "+l:l+" ago":l}},721865:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function l(e,t,n,l){return i[e]}},611950:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(688486),l={ordinalNumber:function(e,t){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,i.Z)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,i.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:(0,i.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,i.Z)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,i.Z)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};let a=l},507219:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(360974),l=n(276723),a={ordinalNumber:(0,i.Z)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,l.Z)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,l.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,l.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,l.Z)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,l.Z)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};let r=a},983975:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n(181991),l=n(849526),a={date:(0,l.Z)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,l.Z)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,l.Z)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},r=n(721865),o=n(611950),s=n(507219),d={code:"en-US",formatDistance:i.Z,formatLong:a,formatRelative:r.Z,localize:o.Z,match:s.Z,options:{weekStartsOn:0,firstWeekContainsDate:1}};let c=d},491218:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(983946),l=n(51820),a=n(13882);function r(e,t){(0,a.Z)(2,arguments);var n=(0,i.Z)(t);return(0,l.Z)(e,-n)}},619013:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(13882);function l(e){(0,i.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},537347:e=>{!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function l(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function a(e,n){function i(){l(a)&&a.a.parentNode&&n(a.g)}var a=e;t(e.b,i),t(e.c,i),l(e)}function r(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var o=null,s=null,d=null,c=null;function u(){return null===c&&(c=!!document.fonts),c}function p(e,t){return[e.style,e.weight,!function(){if(null===d){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}d=""!==e.style.font}return d}()?"":e.stretch,"100px",t].join(" ")}r.prototype.load=function(e,t){var l=this,r=e||"BESbswy",d=0,c=t||3e3,m=(new Date).getTime();return new Promise(function(e,t){if(u()&&!function(){if(null===s){if(u()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);s=!!e&&603>parseInt(e[1],10)}else s=!1}return s}()){var h,g=new Promise(function(e,t){!function n(){(new Date).getTime()-m>=c?t(Error(""+c+"ms timeout exceeded")):document.fonts.load(p(l,'"'+l.family+'"'),r).then(function(t){1<=t.length?e():setTimeout(n,25)},t)}()});Promise.race([new Promise(function(e,t){d=setTimeout(function(){t(Error(""+c+"ms timeout exceeded"))},c)}),g]).then(function(){clearTimeout(d),e(l)},t)}else h=function(){function s(){var t;(t=-1!=_&&-1!=y||-1!=_&&-1!=v||-1!=y&&-1!=v)&&((t=_!=y&&_!=v&&y!=v)||(null===o&&(o=!!(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent))&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=o&&(_==f&&y==f&&v==f||_==b&&y==b&&v==b||_==x&&y==x&&v==x)),t=!t),t&&(k.parentNode&&k.parentNode.removeChild(k),clearTimeout(d),e(l))}var u=new n(r),h=new n(r),g=new n(r),_=-1,y=-1,v=-1,f=-1,b=-1,x=-1,k=document.createElement("div");k.dir="ltr",i(u,p(l,"sans-serif")),i(h,p(l,"serif")),i(g,p(l,"monospace")),k.appendChild(u.a),k.appendChild(h.a),k.appendChild(g.a),document.body.appendChild(k),f=u.a.offsetWidth,b=h.a.offsetWidth,x=g.a.offsetWidth,function e(){if((new Date).getTime()-m>=c)k.parentNode&&k.parentNode.removeChild(k),t(Error(""+c+"ms timeout exceeded"));else{var n=document.hidden;(!0===n||void 0===n)&&(_=u.a.offsetWidth,y=h.a.offsetWidth,v=g.a.offsetWidth,s()),d=setTimeout(e,50)}}(),a(u,function(e){_=e,s()}),i(u,p(l,'"'+l.family+'",sans-serif')),a(h,function(e){y=e,s()}),i(h,p(l,'"'+l.family+'",serif')),a(g,function(e){v=e,s()}),i(g,p(l,'"'+l.family+'",monospace'))},document.body?h():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),h()}):document.attachEvent("onreadystatechange",function e(){("interactive"==document.readyState||"complete"==document.readyState)&&(document.detachEvent("onreadystatechange",e),h())})})},e.exports=r}()},727561:(e,t,n)=>{var i=n(567990),l=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(l,""):e}},567990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:(e,t,n)=>{var i=n(513218),l=n(707771),a=n(14841),r=Math.max,o=Math.min;e.exports=function(e,t,n){var s,d,c,u,p,m,h=0,g=!1,_=!1,y=!0;if("function"!=typeof e)throw TypeError("Expected a function");function v(t){var n=s,i=d;return s=d=void 0,h=t,u=e.apply(i,n)}function f(e){var n=e-m,i=e-h;return void 0===m||n>=t||n<0||_&&i>=c}function b(){var e,n,i,a=l();if(f(a))return x(a);p=setTimeout(b,(e=a-m,n=a-h,i=t-e,_?o(i,c-n):i))}function x(e){return(p=void 0,y&&s)?v(e):(s=d=void 0,u)}function k(){var e,n=l(),i=f(n);if(s=arguments,d=this,m=n,i){if(void 0===p)return h=e=m,p=setTimeout(b,t),g?v(e):u;if(_)return clearTimeout(p),p=setTimeout(b,t),v(m)}return void 0===p&&(p=setTimeout(b,t)),u}return t=a(t)||0,i(n)&&(g=!!n.leading,c=(_="maxWait"in n)?r(a(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),k.cancel=function(){void 0!==p&&clearTimeout(p),h=0,s=m=d=p=void 0},k.flush=function(){return void 0===p?u:x(l())},k}},733448:(e,t,n)=>{var i=n(644239),l=n(637005);e.exports=function(e){return"symbol"==typeof e||l(e)&&"[object Symbol]"==i(e)}},707771:(e,t,n)=>{var i=n(555639);e.exports=function(){return i.Date.now()}},14841:(e,t,n)=>{var i=n(727561),l=n(513218),a=n(733448),r=0/0,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,d=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return r;if(l(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=l(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||d.test(e)?c(e.slice(2),n?2:8):o.test(e)?r:+e}},782677:(e,t,n)=>{"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function o(e){return!!(e&&"function"==typeof e.hasOwnProperty&&(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function s(e,t,n){return Object.keys(e).reduce(function(t,i){var l=""+i;return t.has(l)?t.set(l,n(t.get(l),e[l])):t},t)}n.d(t,{Fv:()=>f,fK:()=>v});var d=function(){function e(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),!e||"string"!=typeof e)throw Error("Expected a string key for Entity, but found "+e+".");var i=n,l=i.idAttribute,r=void 0===l?"id":l,s=i.mergeStrategy,d=void 0===s?function(e,t){return a({},e,t)}:s,c=i.processStrategy,u=void 0===c?function(e){return a({},e)}:c,p=i.fallbackStrategy;this._key=e,this._getId="function"==typeof r?r:function(e){return o(e)?e.get(r):e[r]},this._idAttribute=r,this._mergeStrategy=d,this._processStrategy=u,this._fallbackStrategy=void 0===p?function(e,t){}:p,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce(function(t,n){var i,l=e[n];return a({},t,((i={})[n]=l,i))},this.schema||{})},t.getId=function(e,t,n){return this._getId(e,t,n)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,n,i,l,a){var r=this,o=this.getId(e,t,n),s=this.key;if(s in a||(a[s]={}),o in a[s]||(a[s][o]=[]),a[s][o].some(function(t){return t===e}))return o;a[s][o].push(e);var d=this._processStrategy(e,t,n);return Object.keys(this.schema).forEach(function(t){if(d.hasOwnProperty(t)&&"object"==typeof d[t]){var n=r.schema[t],o="function"==typeof n?n(e):n;d[t]=i(d[t],d,t,o,l,a)}}),l(this,d,e,t,n),o},t.denormalize=function(e,t){var n=this;return o(e)?s(this.schema,e,t):(Object.keys(this.schema).forEach(function(i){if(e.hasOwnProperty(i)){var l=n.schema[i];e[i]=t(e[i],l)}}),e)},l(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),c=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,n){return!this.isSingleSchema&&this._schemaAttribute(e,t,n)},t.inferSchema=function(e,t,n){if(this.isSingleSchema)return this.schema;var i=this.getSchemaAttribute(e,t,n);return this.schema[i]},t.normalizeValue=function(e,t,n,i,l,a){var r=this.inferSchema(e,t,n);if(!r)return e;var o=i(e,t,n,r,l,a);return this.isSingleSchema||null==o?o:{id:o,schema:this.getSchemaAttribute(e,t,n)}},t.denormalizeValue=function(e,t){var n=o(e)?e.get("schema"):e.schema;return this.isSingleSchema||n?t((this.isSingleSchema?void 0:o(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[n]):e},l(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),u=function(e){function t(t,n){if(!n)throw Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,n)||this}r(t,e);var n=t.prototype;return n.normalize=function(e,t,n,i,l,a){return this.normalizeValue(e,t,n,i,l,a)},n.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(c),p=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.normalize=function(e,t,n,i,l,r){var o=this;return Object.keys(e).reduce(function(t,n,s){var d,c=e[n];return null!=c?a({},t,((d={})[n]=o.normalizeValue(c,e,n,i,l,r),d)):t},{})},n.denormalize=function(e,t){var n=this;return Object.keys(e).reduce(function(i,l){var r,o=e[l];return a({},i,((r={})[l]=n.denormalizeValue(o,t),r))},{})},t}(c),m=function(e){if(Array.isArray(e)&&e.length>1)throw Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},h=function(e){return Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t]})},g=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.normalize=function(e,t,n,i,l,a){var r=this;return h(e).map(function(e,o){return r.normalizeValue(e,t,n,i,l,a)}).filter(function(e){return null!=e})},n.denormalize=function(e,t){var n=this;return e&&e.map?e.map(function(e){return n.denormalizeValue(e,t)}):e},t}(c),_=function(e,t,n,i,l,r,o){var s=a({},t);return Object.keys(e).forEach(function(n){var i=e[n],a="function"==typeof i?i(t):i,d=l(t[n],t,n,a,r,o);null==d?delete s[n]:s[n]=d}),s},y=function(e,t,n){if(o(t))return s(e,t,n);var i=a({},t);return Object.keys(e).forEach(function(t){null!=i[t]&&(i[t]=n(i[t],e[t]))}),i},v={Array:g,Entity:d,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce(function(t,n){var i,l=e[n];return a({},t,((i={})[n]=l,i))},this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.apply(void 0,[this.schema].concat(t))},e}(),Union:u,Values:p},f=function(e,t){if(!e||"object"!=typeof e)throw Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var n={};return{entities:n,result:function e(t,n,i,l,a,r){return"object"==typeof t&&t?"object"!=typeof l||l.normalize&&"function"==typeof l.normalize?l.normalize(t,n,i,e,a,r):(Array.isArray(l)?function(e,t,n,i,l,a,r){return e=m(e),h(t).map(function(t,o){return l(t,n,i,e,a,r)})}:_)(l,t,n,i,e,a,r):t}(e,e,null,t,function(e,t,i,l,a){var r=e.key,o=e.getId(i,l,a);r in n||(n[r]={});var s=n[r][o];s?n[r][o]=e.merge(s,t):n[r][o]=t},{})}}},762587:e=>{"use strict";e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var l={};if("string"!=typeof e||0===e.length)return l;var a=/\+/g;e=e.split(t);var r=1e3;i&&"number"==typeof i.maxKeys&&(r=i.maxKeys);var o=e.length;r>0&&o>r&&(o=r);for(var s=0;s<o;++s){var d,c,u,p,m=e[s].replace(a,"%20"),h=m.indexOf(n);(h>=0?(d=m.substr(0,h),c=m.substr(h+1)):(d=m,c=""),u=decodeURIComponent(d),p=decodeURIComponent(c),Object.prototype.hasOwnProperty.call(l,u))?Array.isArray(l[u])?l[u].push(p):l[u]=[l[u],p]:l[u]=p}return l}},712361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,i,l){return(n=n||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e)?Object.keys(e).map(function(l){var a=encodeURIComponent(t(l))+i;return Array.isArray(e[l])?e[l].map(function(e){return a+encodeURIComponent(t(e))}).join(n):a+encodeURIComponent(t(e[l]))}).join(n):l?encodeURIComponent(t(l))+i+encodeURIComponent(t(e)):""}},817673:(e,t,n)=>{"use strict";t.decode=t.parse=n(762587),t.encode=t.stringify=n(712361)},201342:(e,t,n)=>{"use strict";n.d(t,{tn:()=>et,lr:()=>J});var i,l,a,r,o,s,d,c,u,p,m,h,g,_,y=n(667294),v=n.t(y,2);/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function b(e,t){if(!1===e||null==e)throw Error(t)}function x(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw Error(t)}catch(e){}}}function k(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}(i=c||(c={})).Pop="POP",i.Push="PUSH",i.Replace="REPLACE",(l=u||(u={})).data="data",l.deferred="deferred",l.redirect="redirect",l.error="error";let P=/^:\w+$/,S=e=>"*"===e;function w(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function T(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t)+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}let A=e=>e.join("/").replace(/\/\/+/g,"/"),C=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),I=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,Symbol("deferred");let{useState:E,useEffect:L,useLayoutEffect:R,useDebugValue:F}=v;"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,v.useSyncExternalStore;let D=y.createContext(null),z=y.createContext(null),M=y.createContext(null),O=y.createContext(null),Z=y.createContext({outlet:null,matches:[]}),N=y.createContext(null);function K(){return(K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function B(){return null!=y.useContext(O)}function U(){return B()||b(!1),y.useContext(O).location}function H(){let e=function(){var e;let t,n,i;let l=y.useContext(N),a=(m.UseRouteError,(t=y.useContext(z))||b(!1),t),r=(m.UseRouteError,(i=((n=y.useContext(Z))||b(!1),n).matches[n.matches.length-1]).route.id||b(!1),i.route.id);return l||(null==(e=a.errors)?void 0:e[r])}(),t=null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null;return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},n):null,null)}class V extends y.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?y.createElement(Z.Provider,{value:this.props.routeContext},y.createElement(N.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G(e){let{routeContext:t,match:n,children:i}=e,l=y.useContext(D);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Z.Provider,{value:t},i)}function $(e){b(!1)}function W(e){let{basename:t="/",children:n=null,location:i,navigationType:l=c.Pop,navigator:a,static:r=!1}=e;B()&&b(!1);let o=t.replace(/^\/*/,"/"),s=y.useMemo(()=>({basename:o,navigator:a,static:r}),[o,a,r]);"string"==typeof i&&(i=k(i));let{pathname:d="/",search:u="",hash:p="",state:m=null,key:h="default"}=i,g=y.useMemo(()=>{let e=w(d,o);return null==e?null:{location:{pathname:e,search:u,hash:p,state:m,key:h},navigationType:l}},[o,d,u,p,m,h,l]);return null==g?null:y.createElement(M.Provider,{value:s},y.createElement(O.Provider,{children:n,value:g}))}function q(e){let{children:t,location:n}=e,i=y.useContext(D);return function(e,t){let n;B()||b(!1);let{navigator:i}=y.useContext(M),l=y.useContext(z),{matches:a}=y.useContext(Z),r=a[a.length-1],o=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let d=U();if(t){var u;let e="string"==typeof t?k(t):t;"/"===s||(null==(u=e.pathname)?void 0:u.startsWith(s))||b(!1),n=e}else n=d;let p=n.pathname||"/",m=function(e,t,n){void 0===n&&(n="/");let i=w(("string"==typeof t?k(t):t).pathname||"/",n);if(null==i)return null;let l=function e(t,n,i,l){void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===l&&(l="");let a=(t,a,r)=>{let o={relativePath:void 0===r?t.path||"":r,caseSensitive:!0===t.caseSensitive,childrenIndex:a,route:t};o.relativePath.startsWith("/")&&(b(o.relativePath.startsWith(l),'Absolute route path "'+o.relativePath+'" nested under path "'+l+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(l.length));let s=A([l,o.relativePath]),d=i.concat(o);if(t.children&&t.children.length>0&&(b(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),e(t.children,n,d,s)),null!=t.path||t.index){var c;let e,i;n.push({path:s,score:(c=t.index,i=(e=s.split("/")).length,e.some(S)&&(i+=-2),c&&(i+=2),e.filter(e=>!S(e)).reduce((e,t)=>e+(P.test(t)?3:""===t?1:10),i)),routesMeta:d})}};return t.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of function e(t){let n=t.split("/");if(0===n.length)return[];let[i,...l]=n,a=i.endsWith("?"),r=i.replace(/\?$/,"");if(0===l.length)return a?[r,""]:[r];let o=e(l.join("/")),s=[];return s.push(...o.map(e=>""===e?r:[r,e].join("/"))),a&&s.push(...o),s.map(e=>t.startsWith("/")&&""===e?"/":e)}(e.path))a(e,t,n);else a(e,t)}),n}(e);!function(e){e.sort((e,t)=>{var n,i;return e.score!==t.score?t.score-e.score:(n=e.routesMeta.map(e=>e.childrenIndex),i=t.routesMeta.map(e=>e.childrenIndex),n.length===i.length&&n.slice(0,-1).every((e,t)=>e===i[t])?n[n.length-1]-i[i.length-1]:0)})}(l);let a=null;for(let e=0;null==a&&e<l.length;++e)a=function(e,t){let{routesMeta:n}=e,i={},l="/",a=[];for(let e=0;e<n.length;++e){let r=n[e],o=e===n.length-1,s="/"===l?t:t.slice(l.length)||"/",d=function(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(e,t)=>(i.push(t),"/([^\\/]+)"));return e.endsWith("*")?(i.push("*"),l+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":""!==e&&"/"!==e&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),i]}(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let a=l[0],r=a.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:i.reduce((e,t,n)=>{if("*"===t){let e=o[n]||"";r=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return x(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(o[n]||"",t),e},{}),pathname:a,pathnameBase:r,pattern:e}}({path:r.relativePath,caseSensitive:r.caseSensitive,end:o},s);if(!d)return null;Object.assign(i,d.params);let c=r.route;a.push({params:i,pathname:A([l,d.pathname]),pathnameBase:C(A([l,d.pathnameBase])),route:c}),"/"!==d.pathnameBase&&(l=A([l,d.pathnameBase]))}return a}(l[e],function(e){try{return decodeURI(e)}catch(t){return x(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}(i));return a}(e,{pathname:"/"===s?p:p.slice(s.length)||"/"}),h=function(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}let i=e,l=null==n?void 0:n.errors;if(null!=l){let e=i.findIndex(e=>e.route.id&&(null==l?void 0:l[e.route.id]));e>=0||b(!1),i=i.slice(0,Math.min(i.length,e+1))}return i.reduceRight((e,a,r)=>{let o=a.route.id?null==l?void 0:l[a.route.id]:null,s=null;n&&(s=a.route.ErrorBoundary?y.createElement(a.route.ErrorBoundary,null):a.route.errorElement?a.route.errorElement:y.createElement(H,null));let d=t.concat(i.slice(0,r+1)),c=()=>{let t=e;return o?t=s:a.route.Component?t=y.createElement(a.route.Component,null):a.route.element&&(t=a.route.element),y.createElement(G,{match:a,routeContext:{outlet:e,matches:d},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===r)?y.createElement(V,{location:n.location,component:s,error:o,children:c(),routeContext:{outlet:null,matches:d}}):c()},null)}(m&&m.map(e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:A([s,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?s:A([s,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,l||void 0);return t&&h?y.createElement(O.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:c.Pop}},h):h}(i&&!t?i.router.routes:function e(t,n){void 0===n&&(n=[]);let i=[];return y.Children.forEach(t,(t,l)=>{if(!y.isValidElement(t))return;let a=[...n,l];if(t.type===y.Fragment){i.push.apply(i,e(t.props.children,a));return}t.type!==$&&b(!1),t.props.index&&t.props.children&&b(!1);let r={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(r.children=e(t.props.children,a)),i.push(r)}),i}(t),n)}(a=p||(p={})).UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",(r=m||(m={})).UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",(o=h||(h={}))[o.pending=0]="pending",o[o.success=1]="success",o[o.error=2]="error",new Promise(()=>{});var Y=n(616550);function X(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(e=>[n,e]):[[n,i]])},[]))}function J(e){let t=y.useRef(X(e)),n=y.useRef(!1),i=U(),l=y.useMemo(()=>(function(e,t){let n=X(e);if(t)for(let e of t.keys())n.has(e)||t.getAll(e).forEach(t=>{n.append(e,t)});return n})(i.search,n.current?null:t.current),[i.search]),a=function(){B()||b(!1);let{basename:e,navigator:t}=y.useContext(M),{matches:n}=y.useContext(Z),{pathname:i}=U(),l=JSON.stringify(n.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0).map(e=>e.pathnameBase)),a=y.useRef(!1);return y.useEffect(()=>{a.current=!0}),y.useCallback(function(n,r){if(void 0===r&&(r={}),!a.current)return;if("number"==typeof n){t.go(n);return}let o=function(e,t,n,i){let l,a;void 0===i&&(i=!1),"string"==typeof e?l=k(e):(b(!(l=f({},e)).pathname||!l.pathname.includes("?"),T("?","pathname","search",l)),b(!l.pathname||!l.pathname.includes("#"),T("#","pathname","hash",l)),b(!l.search||!l.search.includes("#"),T("#","search","hash",l)));let r=""===e||""===l.pathname,o=r?"/":l.pathname;if(i||null==o)a=n;else{let e=t.length-1;if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;l.pathname=t.join("/")}a=e>=0?t[e]:"/"}let s=function(e,t){let n;void 0===t&&(t="/");let{pathname:i,search:l="",hash:a=""}="string"==typeof e?k(e):e;return{pathname:i?i.startsWith("/")?i:(n=t.replace(/\/+$/,"").split("/"),i.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"):t,search:I(l),hash:j(a)}}(l,a),d=o&&"/"!==o&&o.endsWith("/"),c=(r||"."===o)&&n.endsWith("/");return!s.pathname.endsWith("/")&&(d||c)&&(s.pathname+="/"),s}(n,JSON.parse(l),i,"path"===r.relative);"/"!==e&&(o.pathname="/"===o.pathname?e:A([e,o.pathname])),(r.replace?t.replace:t.push)(o,r.state,r)},[e,t,l,i])}(),r=y.useCallback((e,t)=>{let i=X("function"==typeof e?e(l):e);n.current=!0,a("?"+i,t)},[a,l]);return[l,r]}"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,(s=g||(g={})).UseScrollRestoration="useScrollRestoration",s.UseSubmitImpl="useSubmitImpl",s.UseFetcher="useFetcher",(d=_||(_={})).UseFetchers="useFetchers",d.UseScrollRestoration="useScrollRestoration";let Q=!!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement),ee=Q?y.useLayoutEffect:()=>{};function et(e){let{children:t}=e,n=(0,Y.useHistory)(),[i,l]=y.useState(()=>({location:n.location,action:n.action}));return ee(()=>{n.listen((e,t)=>l({location:e,action:t}))},[n]),y.createElement(W,{navigationType:i.action,location:i.location,navigator:n},y.createElement(q,null,y.createElement($,{path:"*",element:t})))}},52511:function(e,t,n){var i;e=n.nmd(e),function(l){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n.g&&n.g;a.global===a||a.window===a||a.self;var r,o=/^xn--/,s=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},u=Math.floor,p=String.fromCharCode;function m(e){throw RangeError(c[e])}function h(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function g(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+h((e=e.replace(d,".")).split("."),t).join(".")}function _(e){for(var t,n,i=[],l=0,a=e.length;l<a;)(t=e.charCodeAt(l++))>=55296&&t<=56319&&l<a?(64512&(n=e.charCodeAt(l++)))==56320?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),l--):i.push(t);return i}function y(e){return h(e,function(e){var t="";return e>65535&&(e-=65536,t+=p(e>>>10&1023|55296),e=56320|1023&e),t+=p(e)}).join("")}function v(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function f(e,t,n){var i=0;for(e=n?u(e/700):e>>1,e+=u(e/t);e>455;i+=36)e=u(e/35);return u(i+36*e/(e+38))}function b(e){var t,n,i,l,a,r,o,s,d,c,p,h=[],g=e.length,_=0,v=128,b=72;for((i=e.lastIndexOf("-"))<0&&(i=0),l=0;l<i;++l)e.charCodeAt(l)>=128&&m("not-basic"),h.push(e.charCodeAt(l));for(a=i>0?i+1:0;a<g;){for(r=_,o=1,s=36;a>=g&&m("invalid-input"),((d=(t=e.charCodeAt(a++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36)>=36||d>u((2147483647-_)/o))&&m("overflow"),_+=d*o,!(d<(c=s<=b?1:s>=b+26?26:s-b));s+=36)o>u(2147483647/(p=36-c))&&m("overflow"),o*=p;b=f(_-r,n=h.length+1,0==r),u(_/n)>2147483647-v&&m("overflow"),v+=u(_/n),_%=n,h.splice(_++,0,v)}return y(h)}function x(e){var t,n,i,l,a,r,o,s,d,c,h,g,y,b,x,k=[];for(r=0,g=(e=_(e)).length,t=128,n=0,a=72;r<g;++r)(h=e[r])<128&&k.push(p(h));for(i=l=k.length,l&&k.push("-");i<g;){for(o=2147483647,r=0;r<g;++r)(h=e[r])>=t&&h<o&&(o=h);for(o-t>u((2147483647-n)/(y=i+1))&&m("overflow"),n+=(o-t)*y,t=o,r=0;r<g;++r)if((h=e[r])<t&&++n>2147483647&&m("overflow"),h==t){for(s=n,d=36;!(s<(c=d<=a?1:d>=a+26?26:d-a));d+=36)x=s-c,b=36-c,k.push(p(v(c+x%b,0))),s=u(x/b);k.push(p(v(s,0))),a=f(n,y,i==l),n=0,++i}++n,++t}return k.join("")}r={version:"1.3.2",ucs2:{decode:_,encode:y},decode:b,encode:x,toASCII:function(e){return g(e,function(e){return s.test(e)?"xn--"+x(e):e})},toUnicode:function(e){return g(e,function(e){return o.test(e)?b(e.slice(4).toLowerCase()):e})}},void 0!==(i=(function(){return r}).call(t,n,t,e))&&(e.exports=i)}(0)},608575:(e,t,n)=>{"use strict";var i=n(52511),l=n(762502);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){return(l.isString(e)&&(e=v(e)),e instanceof a)?e.format():a.prototype.format.call(e)},t.Url=a;var r=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["'"].concat(["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","	"])),c=["%","/","?",";","#"].concat(d),u=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(817673);function v(e,t,n){if(e&&l.isObject(e)&&e instanceof a)return e;var i=new a;return i.parse(e,t,n),i}a.prototype.parse=function(e,t,n){if(!l.isString(e))throw TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),o=-1!==a&&a<e.indexOf("#")?"?":"#",v=e.split(o);v[0]=v[0].replace(/\\/g,"/");var f=e=v.join(o);if(f=f.trim(),!n&&1===e.split("#").length){var b=s.exec(f);if(b)return this.path=f,this.href=f,this.pathname=b[1],b[2]?(this.search=b[2],t?this.query=y.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=r.exec(f);if(x){var k=(x=x[0]).toLowerCase();this.protocol=k,f=f.substr(x.length)}if(n||x||f.match(/^\/\/[^@\/]+@[^@\/]+/)){var P="//"===f.substr(0,2);P&&!(x&&g[x])&&(f=f.substr(2),this.slashes=!0)}if(!g[x]&&(P||x&&!_[x])){for(var S,w,T=-1,A=0;A<u.length;A++){var C=f.indexOf(u[A]);-1!==C&&(-1===T||C<T)&&(T=C)}-1!==(w=-1===T?f.lastIndexOf("@"):f.lastIndexOf("@",T))&&(S=f.slice(0,w),f=f.slice(w+1),this.auth=decodeURIComponent(S)),T=-1;for(var A=0;A<c.length;A++){var C=f.indexOf(c[A]);-1!==C&&(-1===T||C<T)&&(T=C)}-1===T&&(T=f.length),this.host=f.slice(0,T),f=f.slice(T),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var j=this.hostname.split(/\./),A=0,E=j.length;A<E;A++){var L=j[A];if(L&&!L.match(p)){for(var R="",F=0,D=L.length;F<D;F++)L.charCodeAt(F)>127?R+="x":R+=L[F];if(!R.match(p)){var z=j.slice(0,A),M=j.slice(A+1),O=L.match(m);O&&(z.push(O[1]),M.unshift(O[2])),M.length&&(f="/"+M.join(".")+f),this.hostname=z.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=i.toASCII(this.hostname));var Z=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+Z,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==f[0]&&(f="/"+f))}if(!h[k])for(var A=0,E=d.length;A<E;A++){var K=d[A];if(-1!==f.indexOf(K)){var B=encodeURIComponent(K);B===K&&(B=escape(K)),f=f.split(K).join(B)}}var U=f.indexOf("#");-1!==U&&(this.hash=f.substr(U),f=f.slice(0,U));var H=f.indexOf("?");if(-1!==H?(this.search=f.substr(H),this.query=f.substr(H+1),t&&(this.query=y.parse(this.query)),f=f.slice(0,H)):t&&(this.search="",this.query={}),f&&(this.pathname=f),_[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Z=this.pathname||"",V=this.search||"";this.path=Z+V}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":")+"@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",a=!1,r="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(r=y.stringify(this.query));var o=this.search||r&&"?"+r||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||_[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),i&&"#"!==i.charAt(0)&&(i="#"+i),o&&"?"!==o.charAt(0)&&(o="?"+o),t+a+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(o=o.replace("#","%23"))+i},a.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(l.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,i=Object.keys(this),r=0;r<i.length;r++){var o=i[r];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),d=0;d<s.length;d++){var c=s[d];"protocol"!==c&&(n[c]=e[c])}return _[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!_[e.protocol]){for(var u=Object.keys(e),p=0;p<u.length;p++){var m=u[p];n[m]=e[m]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var y=n.pathname||"",v=n.search||"";n.path=y+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var f=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=b||f||n.host&&e.pathname,k=x,P=n.pathname&&n.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],S=n.protocol&&!_[n.protocol];if(S&&(n.hostname="",n.port=null,n.host&&(""===P[0]?P[0]=n.host:P.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),x=x&&(""===h[0]||""===P[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,P=h;else if(h.length)P||(P=[]),P.pop(),P=P.concat(h),n.search=e.search,n.query=e.query;else if(!l.isNullOrUndefined(e.search)){if(S){n.hostname=n.host=P.shift();var w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");w&&(n.auth=w.shift(),n.host=n.hostname=w.shift())}return n.search=e.search,n.query=e.query,l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!P.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=P.slice(-1)[0],A=(n.host||e.host||P.length>1)&&("."===T||".."===T)||""===T,C=0,I=P.length;I>=0;I--)"."===(T=P[I])?P.splice(I,1):".."===T?(P.splice(I,1),C++):C&&(P.splice(I,1),C--);if(!x&&!k)for(;C--;C)P.unshift("..");x&&""!==P[0]&&(!P[0]||"/"!==P[0].charAt(0))&&P.unshift(""),A&&"/"!==P.join("/").substr(-1)&&P.push("");var j=""===P[0]||P[0]&&"/"===P[0].charAt(0);if(S){n.hostname=n.host=j?"":P.length?P.shift():"";var w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");w&&(n.auth=w.shift(),n.host=n.hostname=w.shift())}return(x=x||n.host&&P.length)&&!j&&P.unshift(""),P.length?n.pathname=P.join("/"):(n.pathname=null,n.path=null),l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},762502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},889424:e=>{"use strict";var t,n,i,l,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[l],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};a.hash="bc8b32c56a4a58de585c9a05ae69bd9c",e.exports=a,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(a)},485508:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Attribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"StoryPinDescription_pin"},{args:null,kind:"FragmentSpread",name:"MusicAttribution_pin"}],type:"Pin",abstractKey:null};t.hash="073d579cf70fb0330fe26977d9b9f41a",e.exports=t},774049:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionPhotoAttribution_pin",selections:[{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="5dff28be2de95106e382c42d78ad1833",e.exports=n},7202:e=>{"use strict";var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},t,{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionPhotoAttribution_pin"}],type:"Pin",abstractKey:null};i.hash="51f05a8beaf6713f324e1123be70167b",e.exports=i},943149:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetailsBasicsLayout_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:t=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="b8f25f1b5aa21f88bc1091e219609eb8",e.exports=n},229985:e=>{"use strict";var t,n,i,l,a,r=(a=[{args:null,kind:"FragmentSpread",name:"CloseupDetails_user"}],{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"},{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupDetails_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:l=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:l,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[t,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[n],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:a,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttribution_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDetailsBasicsLayout_pin"},{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipe_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"CloseupSavedAttribution_pin"},{args:null,kind:"FragmentSpread",name:"PinFeaturedInArticleCard_pin"},{args:null,kind:"FragmentSpread",name:"VaseFullBleedModal_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescription_pin"},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"},{args:null,kind:"FragmentSpread",name:"useReactionCountsFragment_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{condition:"isAuth",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"ProductDetails_pin"}]},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProductDescriptionDropdown_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"PinFeedbackButton_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CommentThreadContainer_pin"}]}],type:"Pin",abstractKey:null});r.hash="ca42cbdd9e5fc303c321c27b939275e0",e.exports=r},179461:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetails_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null};t.hash="c9713d85ef89281fa5ad27120a1c71f9",e.exports=t},849947:e=>{"use strict";var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupFullDetail_pin",selections:[{args:null,kind:"FragmentSpread",name:"ImageViewer_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBar_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBarOptionsButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupModals_pin"},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthCloseupRelatedPins_pin"}]},{args:null,kind:"FragmentSpread",name:"CommentModule_pin"}],type:"Pin",abstractKey:null};t.hash="38f2636099d309e9c211d80723788491",e.exports=t},284014:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainIframe_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"736x")'}],type:"Pin",abstractKey:null};t.hash="040479189b5808c581351271292cad96",e.exports=t},360142:e=>{"use strict";var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"},{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupMainPinDetail_pin",selections:[{args:null,kind:"FragmentSpread",name:"ProductCarousel_pin"},{args:null,kind:"FragmentSpread",name:"CloseupMainIframe_pin"},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"},{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupDetails_pin"},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"LeafSnippet_pin"}]}],type:"Pin",abstractKey:null};t.hash="7fa629ded275b5b0f24ecd3f0c5a586b",e.exports=t},526859:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImage_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectionType",storageKey:null}],storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null};n.hash="58c9e451c4a9137c97a305211d673869",e.exports=n},680178:e=>{"use strict";var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupMainPinStoryPin_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupStoryPinBlock_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinCloseup_pin"},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnMobile_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnDesktop_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinCloseupDetailsOnDesktop_pin"}]}],type:"Pin",abstractKey:null};t.hash="33567d57b67b5a49be2253f636baf23e",e.exports=t},403309:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPin_pin",selections:[{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipsToUserCountry",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupMainPinImage_pin"},{args:null,kind:"FragmentSpread",name:"CloseupVideo_pin"},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null};n.hash="06eced87026c6b69525d8bab07089fd7",e.exports=n},325168:e=>{"use strict";var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupPageContainer_pin",selections:[{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthContextMenuController_pin"}],type:"Pin",abstractKey:null};t.hash="4f6345abad9348df2ae456106d4b9c44",e.exports=t},162247:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPageViewAndTimeSpent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null};t.hash="5b01543e9ace6cf2b437348f6b1a3a64",e.exports=t},907673:e=>{"use strict";var t,n,i,l={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupPage_pin",selections:[{alias:null,args:null,concreteType:"CreatorClass",kind:"LinkedField",name:"creatorClass",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CreatorClassInstance",kind:"LinkedField",name:"creatorClassInstance",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"videoUrls",storageKey:null}],storageKey:null},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"Closeup_pin"}],type:"Pin",abstractKey:null};l.hash="a58b8b966069793cc65d32416a70af71",e.exports=l},737304:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupSavedAttribution_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="62fd54709d3c18c78af173903ab765f1",e.exports=t},947715:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupStoryPinBlock_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"pageId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinBlock_page"}],type:"Pin",abstractKey:null};t.hash="d344c68f5098c99fd60af6ae84bd46ae",e.exports=t},273043:e=>{"use strict";var t,n,i,l,a,r,o,s,d,c,u,p,m,h,g,_,y,v,f,b,x,k,P,S,w,T,A,C,I,j,E,L,R,F,D,z,M,O,Z,N,K,B,U,H,V,G,$,W,q,Y,X,J,Q,ee,et,en,ei,el,ea,er,eo,es,ed,ec,eu,ep=(t={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},n={defaultValue:null,kind:"LocalArgument",name:"pinId"},i=[{kind:"Variable",name:"pin",variableName:"pinId"}],a=[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],p={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},g=[r={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},u={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"xCoord",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"yCoord",storageKey:null}],storageKey:null},p,{alias:null,args:null,concreteType:"TextStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},{alias:null,args:null,concreteType:"Font",kind:"LinkedField",name:"font",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"defaultSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"letterSpacing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lineHeight",storageKey:null},h],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fontSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hexColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"highlightColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verticalAlignment",storageKey:null}],storageKey:null}],v={alias:"imageSpec_750x",args:_=[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:y=[o,h,s],storageKey:'images(spec:"750x")'},f=[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],x={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null},P=[b={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],w={alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},R=[r,S={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[o,s,d,c,{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null},w,T,A,{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null}],F={alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},D=[r],z=[l,E],O={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},Z=[{kind:"Literal",name:"spec",value:"236x"}],N=[{kind:"Literal",name:"spec",value:"1200x"}],K=[{kind:"Literal",name:"spec",value:"orig"}],B={alias:null,args:null,kind:"ScalarField",name:"shouldMute",storageKey:null},U={alias:null,args:null,concreteType:"MusicAttribute",kind:"LinkedField",name:"musicAttributions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isrc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailImageUrl",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},G={kind:"InlineFragment",selections:V=[p],type:"TextBlock",abstractKey:null},$={kind:"InlineFragment",selections:V,type:"ParagraphBlock",abstractKey:null},W={kind:"InlineFragment",selections:V,type:"HeadingBlock",abstractKey:null},q={kind:"InlineFragment",selections:V,type:"LinkBlock",abstractKey:null},Y={kind:"InlineFragment",selections:V,type:"StoryPinImageBlock",abstractKey:null},X={kind:"InlineFragment",selections:V,type:"StoryPinVideoBlock",abstractKey:null},J={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},Q=[h],ee={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},et={alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},en={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},ei={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},el={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},er={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},eo=[J,E],es={alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},ed={alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},ec={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},eu=[x],{fragment:{argumentDefinitions:[t,n],kind:"Fragment",metadata:null,name:"CloseupStoryPinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[l,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:[{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupStoryPin_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t],kind:"Operation",name:"CloseupStoryPinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"pageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"storyPageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[l,{kind:"InlineFragment",selections:g,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:g,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:[r,u,v,p],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[r,u,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormatted",kind:"LinkedField",name:"videoData",plural:!1,selections:[{alias:null,args:f,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[b,o,x,h,s,k],storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'}],storageKey:null},p,{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:P,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:P,storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:[r,S,w,T,A,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[C,I,j,E],storageKey:null}],type:"StoryPinMentionStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:null,args:null,kind:"ScalarField",name:"interactiveStickerType",storageKey:null},S,w,{alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null},T,{alias:null,args:null,kind:"ScalarField",name:"isValid",storageKey:null},A,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"stickerData",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},L],type:"GenericInteractiveStickerStoryBoardData",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"questionCommentId",storageKey:null},L],type:"GenericInteractiveStickerStoryQuestionData",abstractKey:null}],storageKey:null}],type:"StoryPinGenericInteractiveStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:R,type:"StoryPinProductStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:R,type:"StoryPinVirtualTryOnMakeupStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[p,r],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:[p,r,{alias:null,args:null,kind:"ScalarField",name:"srcUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canonicalUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"normalizedUrl",storageKey:null}],type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:[r,F,m,{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],type:"IngredientBlock",abstractKey:null},{kind:"InlineFragment",selections:[r,F,m],type:"SupplyBlock",abstractKey:null},{kind:"InlineFragment",selections:D,type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:z,storageKey:null},{alias:"musicBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[l,{kind:"InlineFragment",selections:[r,{alias:null,args:null,concreteType:"Audio",kind:"LinkedField",name:"audio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artistName",storageKey:null},M,E],storageKey:null}],type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null},{alias:"videoBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[l,{kind:"InlineFragment",selections:D,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},O,{alias:null,args:null,kind:"ScalarField",name:"dominantColorAdjusted",storageKey:null},v,{alias:"imageSpec_236x",args:Z,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:y,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:N,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:y,storageKey:'images(spec:"1200x")'},{alias:"imageSpec_orig",args:K,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:y,storageKey:'images(spec:"orig")'},{alias:"imageAdjustedSpec_750x",args:_,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:y,storageKey:'imagesAdjusted(spec:"750x")'},{alias:"imageAdjustedSpec_236x",args:Z,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:y,storageKey:'imagesAdjusted(spec:"236x")'},{alias:"imageAdjustedSpec_1200x",args:N,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:y,storageKey:'imagesAdjusted(spec:"1200x")'},{alias:"imageAdjustedSpec_orig",args:K,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:y,storageKey:'imagesAdjusted(spec:"orig")'},B,{alias:null,args:null,kind:"ScalarField",name:"imageSignatureAdjusted",storageKey:null},{alias:null,args:null,concreteType:"PageStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[s,o,x,h],storageKey:null}],storageKey:null}],storageKey:null},U],storageKey:null},E,{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canvasAspectRatio",storageKey:null},{alias:null,args:null,concreteType:"StoryPinRecipeMetadataField",kind:"LinkedField",name:"recipeData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cookingTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prepTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"servingSize",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[l,{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[H,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[l,{kind:"InlineFragment",selections:[H,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[l,G,$,W,q,Y,X],storageKey:null}],type:"StoryPinListBlock",abstractKey:null},G,W,$,q,Y,X],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},J],storageKey:null},J,{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:Q,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},C,I,E,ee,et,J,en,ei,el,j,ea,er],storageKey:null},{alias:"imageSpec_236x",args:Z,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:Q,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[J,E,{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},O,{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[ee,et,J,en,C,ei,el,j,ea,I,er,E],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:eo,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[J,C,I,E],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},M,{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:eo,storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},L],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:eo,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:a,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:eo,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:Q,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:Q,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:Q,storageKey:'images(spec:"170x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:Q,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:Q,storageKey:'images(spec:"564x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:Q,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:K,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:Q,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},es,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[el,E],storageKey:null},E],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:z,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[J,E,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:a,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[J,I,E,el,ed,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},ea,ee,ec,C,er],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},U,B,E,{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[ei]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:a,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:"imageSpec_750x",args:_,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"750x")'},{alias:"imageSpec_236x",args:Z,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:N,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"1200x")'},{alias:"imageSpec_orig",args:K,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"orig")'}],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[l,{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[k],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormatted",kind:"LinkedField",name:"videoData",plural:!1,selections:[{alias:"videoListMobile",args:f,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:eu,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:eu,storageKey:null}],storageKey:'videoList(version:"V_720P")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[ed,ec],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[m],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},m,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[es,{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[F,m],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"TodayArticleWithPath",kind:"LinkedField",name:"relatedArticle",plural:!1,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mainImageUrl",storageKey:null},M,{alias:null,args:null,kind:"ScalarField",name:"urlPath",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[m,h],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null}]}],storageKey:null}],type:"V3GetPin",abstractKey:null},{kind:"TypeDiscriminator",abstractKey:"__isError"}],storageKey:null}]},params:{id:"9b18b2efe7b752829ed745ed489a1622006c3ce3f46ff47d224dc5dae3cf4428",metadata:{},name:"CloseupStoryPinQuery",operationKind:"query",text:null}});ep.hash="0fc4770b382aee80c94c86d66000808a",e.exports=ep,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(ep)},440433:e=>{"use strict";var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupStoryPin_pin",selections:[{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinStream_pin"}]},{args:[{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupMainPinStoryPin_pin"}],type:"Pin",abstractKey:null};t.hash="4597a5267d66159a656998151fa41ab0",e.exports=t},357285:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupTitle_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null}],type:"Pin",abstractKey:null};n.hash="e77b42ec174b43e9b7604897d7df5144",e.exports=n},69039:e=>{"use strict";var t,n,i,l,a,r,o,s,d=(n=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"Closeup_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},t],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:n,storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"136x136")'},{alias:null,args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[i],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isV1IdeaPin",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i],storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[a,s={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:o=[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[t,i],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainVerified",storageKey:null},t],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[r,{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:o,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:o,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupPageViewAndTimeSpent_pin"},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"CloseupPageContainer_pin"},{args:null,kind:"FragmentSpread",name:"CloseupMainPin_pin"},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"useCommerceData_pin"}],type:"Pin",abstractKey:null});d.hash="b088a8d1e2f98e2063fd4f3d2cea4f1b",e.exports=d},244785:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentComposerModalEntryPoint_pin",selections:[{args:null,kind:"FragmentSpread",name:"CommentThreadModal_pin"}],type:"Pin",abstractKey:null};t.hash="b78f0667f69c1a0526a3aea69dda48b0",e.exports=t},643321:e=>{"use strict";var t,n,i=(n=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentModule_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},t],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},t],storageKey:null},{args:null,kind:"FragmentSpread",name:"CommentComposerModalEntryPoint_pin"},{args:null,kind:"FragmentSpread",name:"SingleCommentPreview_pin"}],type:"Pin",abstractKey:null});i.hash="426e0b6541bc49e1a020426291ec2aa3",e.exports=i},125555:e=>{"use strict";var t,n,i={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"CommentReactionUnitedSocialModulePinReactionCountQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useReactionCountsFragment_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"CommentReactionUnitedSocialModulePinReactionCountQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"534cc4fd914eda4ab97f06d103fcaaf156a58d4ab66808c7091ffc3772bcb6c5",metadata:{},name:"CommentReactionUnitedSocialModulePinReactionCountQuery",operationKind:"query",text:null}};i.hash="617006b89ee9f57921e57d3c9098adff",e.exports=i,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(i)},371446:e=>{"use strict";var t,n,i=(n=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},t,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});i.hash="6e4bec581cece19361386d6124ddde90",e.exports=i},249117:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadModalEntryPoint_pin",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CommentThreadModal_pin"}],type:"Pin",abstractKey:null};t.hash="8870c13169c2c3853d298396ebbb7276",e.exports=t},871354:e=>{"use strict";var t,n,i,l,a,r,o=(t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],n=[{kind:"Variable",name:"pin",variableName:"pinId"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r=[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"CommentThreadModalQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CommentThreadModal_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"CommentThreadModalQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},l,a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[i],storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},a],storageKey:null},l,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null},a],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"a71a94cbb6bbc3b1d7072276b1e8983469142306de0d3eccfa151ce12464ea17",metadata:{},name:"CommentThreadModalQuery",operationKind:"query",text:null}});o.hash="3ab6a98b978f52a8036f26117e2bd229",e.exports=o,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(o)},553703:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadModal_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CommentThreadContainer_pin"}],type:"Pin",abstractKey:null};n.hash="94f7ae778628b666925a4aab3ebc789a",e.exports=n},341057:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CoverPage_story_pin_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColorAdjusted",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:t=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useStoryPinPageImages"}],type:"StoryPinPage",abstractKey:null};n.hash="9329e2351d4ff22c3541173b9fb9d26d",e.exports=n},535424:e=>{"use strict";var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IdeaPinActionBar_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"IdeaPinVisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CommentThreadModalEntryPoint_pin"}],type:"Pin",abstractKey:null};i.hash="f35f3a341c8184bf99bf7b8193bb56b7",e.exports=i},927190:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IdeaPinVideoScrubber_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldMute",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:t,storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="77263a73db576ada99ff387fd2f080b7",e.exports=n},738319:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IdeaPinVisitButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null};t.hash="c4f99b4a897525ceeb600a989bc21a22",e.exports=t},91997:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IngredientsPage_story_pin_page",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],type:"IngredientBlock",abstractKey:null}],storageKey:null}],type:"StoryPinPage",abstractKey:null};t.hash="55064042cd1ba8a517e02b413ac45570",e.exports=t},766131:e=>{"use strict";var t,n,i,l={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"LazyLoadPinBreadcrumbsQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"LazyLoadPinBreadcrumbsQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"f5c2a4544d75592cedbb5c841969c7b7f7d1b38bf96dd6d0ab116107bfa90978",metadata:{},name:"LazyLoadPinBreadcrumbsQuery",operationKind:"query",text:null}};l.hash="c8e65ee18cda32864e9b7635744f253f",e.exports=l,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(l)},88960:e=>{"use strict";var t,n,i,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MediaPage_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"storyPageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColorAdjusted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:i=[t={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{alias:null,args:null,kind:"ScalarField",name:"srcUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canonicalUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"normalizedUrl",storageKey:null}],type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useStoryPinPageImages"}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="74d7004491fe9a51e0aa578ce9aebc55",e.exports=l},624937:e=>{"use strict";var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MusicAttribution_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"shouldMute",storageKey:null},n={alias:null,args:null,concreteType:"MusicAttribute",kind:"LinkedField",name:"musicAttributions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isrc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailImageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},n,t],type:"Pin",abstractKey:null};i.hash="4b6b65f5a09a6a83ab2a4dc6550ee39f",e.exports=i},584473:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttributionText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="17ee7538a8ba5a468f69f85d06121f1d",e.exports=t},268511:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttribution_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"}],type:"Pin",abstractKey:null};t.hash="a9ae8d2f405ccc3f5679c216f90313c8",e.exports=t},463146:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarMoreOptions_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="57a329cbbb02bd406276ee6031be91b9",e.exports=n},179419:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarOptionsButton_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"VaseSection_pin"},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null};t.hash="b01402e9eb5ee4124874a409ef3b9bb5",e.exports=t},157035:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarVisitButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null};t.hash="2ed8f79733cbeedba9e8a7ed03435228",e.exports=t},272245:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBar_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinActionBarOptionsButton_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBarVisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CommentThreadModalEntryPoint_pin"}],type:"Pin",abstractKey:null};n.hash="03cf62005de03cbd9768d464b7dbfb2b",e.exports=n},327511:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinFeaturedInArticleCard_pin",selections:[{alias:null,args:null,concreteType:"TodayArticleWithPath",kind:"LinkedField",name:"relatedArticle",plural:!1,selections:[{alias:"_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mainImageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"urlPath",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="a7aa8ca2a9aab89cbe065401dfa9e30d",e.exports=t},761952:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipeRating_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="0cd4ab994109a00e8277b7cf95fc202d",e.exports=t},24789:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},t],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="0399d1e5d3138c8784dabc45eac4492b",e.exports=n},842931:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};t.hash="60d3a4ecde70765f103974d4f860b9bd",e.exports=t},916356:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionDropdown_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"useStructuredDescriptionFragment_pin"}],type:"Pin",abstractKey:null};t.hash="e49c269bff73cba5691f5113b6f00759",e.exports=t},382545:e=>{"use strict";var t,n,i,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetails_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isMerchant",storageKey:null}],storageKey:null},n,i={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[n,i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipsToUserCountry",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},t,{args:null,kind:"FragmentSpread",name:"useStructuredDescriptionFragment_pin"},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"},{args:null,kind:"FragmentSpread",name:"ProductPrice_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviews_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"}],type:"Pin",abstractKey:null};l.hash="b639ad8304c02a9fd1c0f79c8910f000",e.exports=l},894235:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductPrice_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:t=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};n.hash="2d8f315013487d39e45789c61794f121",e.exports=n},825090:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsCollapsible_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],type:"Pin",abstractKey:null};t.hash="a663d52f0626cc8887103d9e1a8a78c2",e.exports=t},802195:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsModal_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="a942edb09f07e93186cbbfed0b8031a7",e.exports=t},670782:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsPreview_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="25e031a9439a0eef8418850148f49a45",e.exports=t},94109:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviews_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductReviewsCollapsible_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviewsPreview_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviewsModal_pin"}],type:"Pin",abstractKey:null};t.hash="c2f4c93600298edcacdd3b6d3a62ab79",e.exports=t},599271:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null};t.hash="8d0233fe1acbc77ec2b5a1754e0a6e36",e.exports=t},295971:e=>{"use strict";var t,n,i,l,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[l],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"9444c7d899b56b0d3f582ffd76e4aa03c97bb76a403a805aeb20150c64ee61d7",metadata:{},name:"ShareInviteCreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};a.hash="1fbbd3a52281ca7385d39618818c9f5c",e.exports=a,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(a)},134167:e=>{"use strict";var t,n,i,l,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_category"},{defaultValue:null,kind:"LocalArgument",name:"url"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCategory",variableName:"invite_category"},{kind:"Literal",name:"name",value:""},{kind:"Variable",name:"url",variableName:"url"}],concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,concreteType:"ShareLink",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3CreateShareLink",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"ClientError",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[l],type:"V3CreateShareLink",abstractKey:null}],storageKey:null}]},params:{id:"1a2c34659f0fc64fb8a13ad996b008dbd6b92e50c9b051a13ea424a4eeda7cb4",metadata:{},name:"ShareInviteCreateShareLinkGraphQLQuery",operationKind:"query",text:null}};a.hash="811d4ea697a4e7e3aa559549b7762835",e.exports=a,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(a)},541507:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SingleCommentPreview_pin",selections:[{args:null,kind:"FragmentSpread",name:"CommentThreadModal_pin"}],type:"Pin",abstractKey:null};t.hash="e4098241d62707526add1ad0a8117ad9",e.exports=t},747103:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinBasicsLayout_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:t=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttribution_pin"}],type:"Pin",abstractKey:null};n.hash="9bd82ee705047a24dfa595bf581f4c96",e.exports=n},261618:e=>{"use strict";var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinBlock_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"storyPageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},n={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"xCoord",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"yCoord",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinParagraphBlock_block"}],type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinHeadingBlock_block"}],type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinImageBlock_block"}],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinVideoBlock_block"}],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinMentionStickerBlock_block"}],type:"StoryPinMentionStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:null,args:null,kind:"ScalarField",name:"interactiveStickerType",storageKey:null},n,{args:null,kind:"FragmentSpread",name:"StoryPinGenericInteractiveStickerBlock_block"}],type:"StoryPinGenericInteractiveStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinProductStickerBlock_block"}],type:"StoryPinProductStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinVirtualTryOnMakeupStickerBlock_block"}],type:"StoryPinVirtualTryOnMakeupStickerBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinGenericInteractiveStickerBlock_pin"}],type:"Pin",abstractKey:null};i.hash="f5ec4ea9be50b222f7c0ef2806d58324",e.exports=i},692985:e=>{"use strict";var t,n,i,l,a,r,o,s=(r={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinCloseup_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:n=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canvasAspectRatio",storageKey:null},{alias:null,args:null,concreteType:"StoryPinRecipeMetadataField",kind:"LinkedField",name:"recipeData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cookingTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prepTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"servingSize",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"pageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:"musicBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[r,{alias:null,args:null,concreteType:"Audio",kind:"LinkedField",name:"audio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artistName",storageKey:null},o],storageKey:null}],type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null},{alias:"videoBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[r],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CoverPage_story_pin_page"},{args:null,kind:"FragmentSpread",name:"IngredientsPage_story_pin_page"},{args:null,kind:"FragmentSpread",name:"SuppliesPage_story_pin_page"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[t,i,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},o,{args:null,kind:"FragmentSpread",name:"useReactionCountsFragment_pin"},{args:null,kind:"FragmentSpread",name:"IdeaPinActionBar_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinPage_pin"},{args:null,kind:"FragmentSpread",name:"MediaPage_pin"},{args:null,kind:"FragmentSpread",name:"Attribution_pin"},{args:null,kind:"FragmentSpread",name:"IdeaPinVideoScrubber_pin"},{args:null,kind:"FragmentSpread",name:"MusicAttribution_pin"}],type:"Pin",abstractKey:null});s.hash="dadc93f538d9cfb658d18b28d7c8469d",e.exports=s},66593:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinPreviewText_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinListModal_pin"}],type:"Pin",abstractKey:null};t.hash="698f60983e1f329c15da35026da26ed3",e.exports=t},169741:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinGenericInteractiveStickerBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interactiveStickerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isValid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"stickerData",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"GenericInteractiveStickerStoryBoardData",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"questionCommentId",storageKey:null},t],type:"GenericInteractiveStickerStoryQuestionData",abstractKey:null}],storageKey:null}],type:"StoryPinGenericInteractiveStickerBlock",abstractKey:null};n.hash="020b8c3f71cd0246bb11c20ad3ede297",e.exports=n},79145:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinGenericInteractiveStickerBlock_pin",selections:[{args:null,kind:"FragmentSpread",name:"StoryPinStickerBlock_pin"}],type:"Pin",abstractKey:null};t.hash="2d13cb1f75d0bf3742ddb8f141ea022a",e.exports=t},178365:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinHeadingBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},{alias:null,args:null,concreteType:"Font",kind:"LinkedField",name:"font",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"defaultSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"letterSpacing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lineHeight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fontSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hexColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"highlightColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verticalAlignment",storageKey:null}],storageKey:null}],type:"HeadingBlock",abstractKey:null};t.hash="af07b7cdd16e1077cabeda3ca6145d1b",e.exports=t},556079:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinImageBlock_block",selections:[{alias:"imageSpec_750x",args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"750x")'}],type:"StoryPinImageBlock",abstractKey:null};t.hash="724c999686603f1e98f5d4626b40c50d",e.exports=t},962435:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinListModal_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinRecipeMetadataField",kind:"LinkedField",name:"recipeData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cookingTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prepTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"servingSize",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinList_pin"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinBasicsLayout_pin"}],type:"Pin",abstractKey:null};t.hash="b408927eb9f996106daef1a0ce894de9",e.exports=t},334494:e=>{"use strict";var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinList_pin",selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],type:"IngredientBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n],type:"SupplyBlock",abstractKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinData",abstractKey:null};i.hash="58ca192c8da31187227f6d6d9370c6ca",e.exports=i},688599:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinMentionStickerBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null}],type:"StoryPinMentionStickerBlock",abstractKey:null};t.hash="9754fdf299e8958fcc42660ffe6c6155",e.exports=t},756157:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinPage_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"storyPageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldMute",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColorAdjusted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignatureAdjusted",storageKey:null},{alias:null,args:null,concreteType:"PageStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:t=[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinBlock_page"}],type:"Pin",abstractKey:null};n.hash="b66792a47f0a1f6f3458affee6280c35",e.exports=n},519484:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinParagraphBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},{alias:null,args:null,concreteType:"Font",kind:"LinkedField",name:"font",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"defaultSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"letterSpacing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lineHeight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fontSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hexColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"highlightColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verticalAlignment",storageKey:null}],storageKey:null}],type:"ParagraphBlock",abstractKey:null};t.hash="b8a348287be5b70818ef7b7ccb39d819",e.exports=t},639242:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinPreviewText_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"extractPreviewText_basics"}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null}],type:"Pin",abstractKey:null};t.hash="e90c3859c7387fc3b0a3a59572bac234",e.exports=t},336090:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinProductStickerBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null}],type:"StoryPinProductStickerBlock",abstractKey:null};t.hash="084531623b2f67777d2e474859ff21c2",e.exports=t},464442:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinStickerBlock_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};t.hash="97a6e17f21fa95eedecad1971f9f2ea5",e.exports=t},952879:e=>{"use strict";var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinVideoBlock_block",selections:[{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormatted",kind:"LinkedField",name:"videoData",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null};i.hash="ec4888678fb26782fcb93aa6df7ecdc9",e.exports=i},589316:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinVirtualTryOnMakeupStickerBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null}],type:"StoryPinVirtualTryOnMakeupStickerBlock",abstractKey:null};t.hash="2c07e1a8942151e5386e2c2786701f8e",e.exports=t},997572:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SuppliesPage_story_pin_page",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"SupplyBlock",abstractKey:null}],storageKey:null}],type:"StoryPinPage",abstractKey:null};t.hash="73f16c3292b301b8d4f16a586c454df1",e.exports=t},80259:e=>{"use strict";var t,n,i,l,a,r,o,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteCode"}],kind:"Fragment",metadata:null,name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l,a,r,o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},o],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"4610a8b7fe41310eb2db231b8c1171930d91f797fbc7fd321ec6682cb48a3711",metadata:{},name:"UnauthCloseupInviteUpsellQuery",operationKind:"query",text:null}};s.hash="6932152931fe069ad54b218e36e66908",e.exports=s,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(s)},140109:e=>{"use strict";var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthContextMenuController_pin",selections:[{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthContextMenu_pin"}],type:"Pin",abstractKey:null};t.hash="9cbce2e5d42ba48125c1151e618b033c",e.exports=t},586188:e=>{"use strict";var t,n,i,l,a,r,o=(l=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],r={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:l,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:a,storageKey:null},t,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:a,storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},r,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:a,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});o.hash="0c601e5a81932b7e4ed3919f8fd378ef",e.exports=o},823722:e=>{"use strict";var t,n,i,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"}],type:"Pin",abstractKey:null};l.hash="9927ced98afae08f50c02180203fa8b0",e.exports=l},717988:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null};t.hash="594237c2ea6ccfb8bbc0e3e8c62cac9f",e.exports=t},114572:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseFullBleedModal_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="2e464db34007ea4c1c0752bf62bbb542",e.exports=t},298262:e=>{"use strict";var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};i.hash="dda341dce5f1fa956d1837dec35496de",e.exports=i},389432:e=>{"use strict";var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"extractPreviewText_basics",selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:n=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinBasics",abstractKey:null};i.hash="70e84f7d1d0b4c8f0d2d282682155e30",e.exports=i},782194:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="35075da6e1f4b526ac4314727015c44d",e.exports=t},567045:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useClickthrough_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"useCommerceData_pin"}],type:"Pin",abstractKey:null};t.hash="3f29ffb1fba341866459b5981697a556",e.exports=t},46844:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCommerceData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null}],type:"Pin",abstractKey:null};t.hash="1b446350cec79dea7b3946321fdb0a52",e.exports=t},347787:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};t.hash="461a57fcc8f7958e3742c217e4cc45a2",e.exports=t},150682:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="a3cbf6d55cf89d97d6e04c32195968d9",e.exports=n},417429:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImageUrls_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};n.hash="b7ea441f2c20a68b323088ebe3847835",e.exports=n},587741:e=>{"use strict";var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:n=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};i.hash="6588018e2880f2695fc6c4ba45aab606",e.exports=i},611338:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useReactionCountsFragment_pin",selections:[{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="11d828252f89045bc37e6aa5eb3fbea6",e.exports=t},765763:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};n.hash="b49953855cdc69f6ee2c8d4925149d23",e.exports=n},277248:e=>{"use strict";var t,n,i,l,a,r,o,s,d,c,u,p,m,h,g,_,y,v,f,b,x,k,P,S,w,T,A,C,I,j,E=(t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"seoViewCount",storageKey:null},c={alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:d=[{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],storageKey:null},p=[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},s,u={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},r,o],m=[{kind:"Literal",name:"spec",value:"orig"}],h=[{kind:"Literal",name:"spec",value:"originals"}],g=[s,r,o],v=[_={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],x={kind:"InlineFragment",selections:b=[_,f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"IngredientBlock",abstractKey:null},k={kind:"InlineFragment",selections:b,type:"SupplyBlock",abstractKey:null},S={kind:"InlineFragment",selections:P=[y,_],type:"HeadingBlock",abstractKey:null},A={alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},j=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichSnippetPin_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},t,n,{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"priceCurrency",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i,l],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[a,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[c,{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:d,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},u],storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:m,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"orig")'},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:"imageSpec_orig",args:h,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:g,storageKey:'images(spec:"originals")'},{alias:"imageAdjustedSpec_orig",args:h,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:g,storageKey:'imagesAdjusted(spec:"originals")'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:v,type:"TextBlock",abstractKey:null},x,k,{kind:"InlineFragment",selections:[_,y,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormatted",kind:"LinkedField",name:"videoData",plural:!1,selections:[a,{alias:"videoListMobile",args:[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:d,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoListEXP3",args:[{kind:"Literal",name:"version",value:"V_EXP3"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:d,storageKey:null}],storageKey:'videoList(version:"V_EXP3")'},{alias:"videoListEXP4",args:[{kind:"Literal",name:"version",value:"V_EXP4"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:d,storageKey:null}],storageKey:'videoList(version:"V_EXP4")'},{alias:"videoListEXP5",args:[{kind:"Literal",name:"version",value:"V_EXP5"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:d,storageKey:null}],storageKey:'videoList(version:"V_EXP5")'},{alias:"videoListEXP6",args:[{kind:"Literal",name:"version",value:"V_EXP6"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:d,storageKey:null}],storageKey:'videoList(version:"V_EXP6")'},{alias:"videoListEXP7",args:[{kind:"Literal",name:"version",value:"V_EXP7"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:d,storageKey:null}],storageKey:'videoList(version:"V_EXP7")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[c],storageKey:'videoList(version:"V_720P")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:[_,y,{alias:"imageSpec_orig",args:m,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:g,storageKey:'images(spec:"orig")'}],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:v,type:"ParagraphBlock",abstractKey:null},S],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},_,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[w={kind:"InlineFragment",selections:P,type:"TextBlock",abstractKey:null},x,k,T={kind:"InlineFragment",selections:P,type:"ParagraphBlock",abstractKey:null},S,{kind:"InlineFragment",selections:[_,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[w,x,k,T,S],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[n,t,r,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[A,C,I],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"total",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"prep",plural:!1,selections:j,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[I,A,{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},C],storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},f],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[f,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shareCount",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[l,i,{alias:null,args:null,kind:"ScalarField",name:"profileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"seoCanonicalUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoCanonicalDomain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[r],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null});E.hash="e0b4011327d258b0f5b84f847b58863b",e.exports=E},939592:e=>{"use strict";var t,n,i,l,a,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoryPinPageImages",selections:[{alias:"imageSpec_750x",args:t=[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"750x")'},{alias:"imageSpec_236x",args:i=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:l=[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"1200x")'},{alias:"imageSpec_orig",args:a=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:"imageAdjustedSpec_750x",args:t,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:n,storageKey:'imagesAdjusted(spec:"750x")'},{alias:"imageAdjustedSpec_236x",args:i,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:n,storageKey:'imagesAdjusted(spec:"236x")'},{alias:"imageAdjustedSpec_1200x",args:l,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:n,storageKey:'imagesAdjusted(spec:"1200x")'},{alias:"imageAdjustedSpec_orig",args:a,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:n,storageKey:'imagesAdjusted(spec:"orig")'}],type:"StoryPinPage",abstractKey:null};r.hash="c766f3f12008fe7e57798edf4ada1bd0",e.exports=r},157222:e=>{"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStructuredDescriptionFragment_pin",selections:[{alias:null,args:null,concreteType:"FormattedCloseupDescription",kind:"LinkedField",name:"formattedCloseupDescription",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:"stringContent",args:null,kind:"ScalarField",name:"content",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"DescriptionString",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:"pointsContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionPoints",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:"specsContent",args:null,concreteType:"DescriptionSpecDetail",kind:"LinkedField",name:"content",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],type:"DescriptionSpecs",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:"tableContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionTable",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="be1864520883fcc12e69e99c1323d274",e.exports=n},914939:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(702664),l=n(690108),a=n(76008),r=n(738318),o=n(952239),s=n(541268),d=n(826260),c=n(274796);let u={[r.o.aggregatedComment]:"AggregatedCommentReplyResource",[r.o.pin]:"AggregatedCommentResource",[r.o.didIt]:"DidItCommentsResource"};function p(){let e=(0,i.useDispatch)(),{aggregatedCommentCreated:t,updateCommentCount:n}=(0,a.nf)();return async({force:i=!0,fromUnifiedComment:a,objectId:r,objectType:p,orbacSubjectId:m,pinId:h,replyToCommentId:g,tags:_,text:y})=>{let v=u[p],f={force:i,objectId:r,pinId:h,tags:_,text:y,replyToCommentId:g,...m?{orbacSubjectId:m}:{}},b=c.Z.AGGREGATED_COMMENTS;a&&(b="pin"===p?c.Z.UNIFIED_COMMENTS:c.Z.AGGREGATED_COMMENT_REPLIES);let x=await l.Z.create(v,f).callCreate({showError:!1}),k=x.resource_response.data;return t(r,k),e((0,s.vX)({feedType:b,feedId:r,itemIds:[k.id],itemType:k.type,prepend:!0})),"pin"===p&&h?e((0,d.R)(h,1)):"aggregatedComment"===p?n(r,1):e((0,o.L8)(r,1)),k.id||x}}},932845:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(702664),l=n(690108),a=n(123228),r=n(76008),o=n(952239),s=n(541268),d=n(826260),c=n(274796);function u(){let e=(0,i.useDispatch)(),{aggregatedCommentDeleted:t,updateCommentCount:n}=(0,r.nf)();return async({aggregatedCommentId:i,aggregatedPinId:r,feedType:u,orbacSubjectId:p,parentId:m,type:h,updateParentCommentCount:g,pinId:_})=>{await l.Z.create("AggregatedCommentResource",{commentId:i,...p?{orbacSubjectId:p}:{}}).callDelete({showError:!1}),m&&(e((0,s.EX)({feedId:r||m,feedType:u||c.Z.AGGREGATED_COMMENTS,itemIds:[i],itemType:"aggregatedcomment"})),t(m,i),g&&(h||0===h)&&(h===a.Rv.TOP&&_?e((0,d.R)(_,-1)):h===a.Rv.REPLY_TO_AGGREGATED?n(m,-1):e((0,o.L8)(m,-1))))}}},939809:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(667294),l=n(883119),a=n(785893);function r({accessibilityLabel:e,handleClick:t,icon:n,iconColor:r,iconOnly:o,testId:s,buttonText:d,tabIndex:c}){let[u,p]=(0,i.useState)(!1),m=(0,i.useRef)(null),h=()=>{p(e=>!e),t()},g=e=>{var t;m&&e.target instanceof Element&&!(null!==(t=m.current)&&void 0!==t&&t.contains(e.target))&&p(!1)};return(0,i.useEffect)(()=>(window.addEventListener("mousedown",g),()=>{window.removeEventListener("mousedown",g)}),[]),(0,a.jsx)(l.xu,{"data-test-id":s||"closeup-action-bar-button",children:(0,a.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(l.hU,{accessibilityLabel:e,iconColor:r||"darkGray",onClick:h,selected:u,icon:n,size:o?"md":"lg",ref:m,tabIndex:c}),d&&(0,a.jsx)(l.iP,{onTap:h,rounding:2,children:(0,a.jsx)(l.X6,{color:"light",overflow:"normal",size:"400",children:d})})]})})}},164671:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var i=n(667294),l=n(616550),a=n(245410);function r({surfaceType:e}){let{checkExperiment:t}=(0,a.F)();return"flashlight"===e&&(t("web_flashlight_cta").anyEnabled||t("web_flashlight_cta_expansion").anyEnabled)||"stela"===e&&(t("web_stela_cta").anyEnabled||t("web_stela_cta_expansion").anyEnabled)}var o=n(536042),s=n(282802),d=n(883119),c=n(477288),u=n(785893);function p({buttonText:e,onButtonClick:t,handleAnimationEnd:n,iconType:i,styleOptions:l,textRef:a,textColor:r}){let s=(0,o.ZP)();return(0,u.jsx)(d.iP,{accessibilityLabel:s.bt(",   ", "Click to shop", "closeup.shopButton", undefined, true),onTap:t,rounding:"circle",children:(0,u.jsx)(d.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)"}},"data-test-id":"shop-button",display:"flex",justifyContent:"center",minHeight:c.Nv,minWidth:c.Nv,onAnimationEnd:n,padding:3,position:"relative",rounding:"pill",children:(0,u.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:l.buttonStyle},children:e&&(0,u.jsx)(d.xu,{ref:null!=a?a:void 0,dangerouslySetInlineStyle:{__style:l.textStyle},children:(0,u.jsx)(d.xv,{color:r,weight:"bold",children:e})})}),(0,u.jsx)(d.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{bottom:(c.Nv-c.ZG)/2,right:(c.Nv-c.ZG)/2}},children:(0,u.jsx)(d.JO,{accessibilityLabel:s.bt(",   ", "Click to shop", "closeup.shopButton", undefined, true),color:"default",icon:i,size:c.ZG})})]})})})}var m=n(563962),h=n(874261),g=n(824439),_=n(657482),y=n(272109);function v({actionUrl:e,animateShopButton:t,id:n,imageSignature:a,onAnimationComplete:d,surfaceType:c}){let v=(0,i.useRef)(),f=(0,m.Z)(),b=r({surfaceType:c}),x=(0,l.useHistory)(),[k,P]=(0,i.useState)(),[S,w]=(0,i.useState)(),[T,A]=(0,i.useState)(),C=function({surfaceType:e,showButton:t}){let n=(0,o.ZP)(),{isAuthenticated:i}=(0,s.B)(),l=r({surfaceType:e});if(!t)return null;if(!i)return n.bt("  ", "Image search", "closeup.visualSearchButton.flashlightVariant1", undefined, true);if(l)return n.bt("  ", "Image search", "closeup.shopButton.similarProducts", undefined, true);switch(e){case"stela":return n.bt("  ", "Shop similar items", "closeup.shopButton.similarProducts", undefined, true);case"stl":return n.bt(" ", "Shop this look", "closeup.overlay.stl.shopButtonText", undefined, true);case"flashlight":return"";default:return null}}({surfaceType:c,showButton:t});return(0,y.Z)(()=>{"stl"===c?f({event_type:120,element:11963,view_type:3,aux_data:{image_signature:a}}):f({event_type:120,component:128,element:234,view_type:3,aux_data:{image_signature:a}})}),(0,i.useEffect)(()=>{if(v.current&&!k&&t){let e=v.current.getBoundingClientRect().width;e&&P(e)}},[v,k,t]),(0,i.useEffect)(()=>{t&&(w("shopButtonSlideInThenOut 3s ease-in-out forwards"),A("stelaSlideInThenOut 3s ease-in-out forwards"))},[t]),(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(h.Z,{unsafeCSS:(0,g.Z)(k||0)}),(0,u.jsx)(p,{buttonText:C,handleAnimationEnd:d,iconType:"flashlight"===c||b?"flashlight":"shopping-bag",onButtonClick:()=>{_.Z.setItem("VISUAL_SEARCH_SOURCE","FLASH_LIGHT_BUTTON"),["flashlight","stela"].includes(c)&&f({event_type:101,component:128,element:234,view_type:3,aux_data:{image_signature:a}}),e&&null!=c?x.push(e):x.push(function({surfaceType:e,imageSignature:t,id:n}){switch(e){case"flashlight":return`/pin/${n}/visual-search/${t?`?imageSignature=${t}`:""}`;case"stela":case"stl":return`/pin/${n}/related-products/?entrySource=shopping${t?`&imageSignature=${t}`:""}`}return""}({surfaceType:c,imageSignature:a,id:n}))},styleOptions:{buttonStyle:{animation:S},textStyle:{animation:T,whiteSpace:"nowrap"}},textColor:"default",textRef:v})]})}},561574:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(667294),l=n(883119),a=n(536042),r=n(245410),o=n(282802),s=n(785893);function d({collapsed:e,displayViewState:t,forceTappableHeader:n,headerPaddingRight:d,headerPreview:c,heading:u,onClick:p,showArrow:m}){let h=(0,a.ZP)(),{checkExperiment:g}=(0,r.F)(),{isAuthenticated:_}=(0,o.B)(),y=_?g("auth_closeup_redesign").anyEnabled:g("unauth_closeup_redesign").anyEnabled;return(0,s.jsx)(i.Fragment,{children:n||null!==t?(0,s.jsx)(l.iP,{onTap:p,children:(0,s.jsxs)(l.kC,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",justifyContent:"between",children:[(0,s.jsx)(l.X6,{align:"start",size:y?"300":"400",accessibilityLevel:2,id:"comments-heading",children:u}),(0,s.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingRight:d}},direction:"row",display:"flex",children:[e&&c,m&&(0,s.jsx)(l.xu,{"data-test-id":"collapse-button",display:"flex",marginStart:c?4:0,width:48,alignItems:"center",justifyContent:"center",children:(0,s.jsx)(l.JO,{accessibilityLabel:h.bt(" ", "Expand icon", "accordion.actionButton", undefined, true),color:"default",icon:e?"arrow-down":"arrow-up"})})]})]})}):(0,s.jsx)(l.X6,{align:"start",size:"400",accessibilityLevel:2,id:"comments-heading",children:u})})}},477780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(883119),l=n(47034),a=n(617733),r=n(785893);function o({description:e,userMentionTags:t}){let n=e=>e.replace(/\s+/g," "),o=e.split(/\n/)||[];return o.map((e,o)=>t&&0===o?(0,r.jsx)(a.Z,{description:n(e),userMentionTags:t}):(0,r.jsx)(i.xu,{children:(0,l.Z)(e)}))}},318583:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(667294),l=n(883119),a=n(342693),r=n(536042),o=n(622050),s=n(269021),d=n(785893);function c({isDarkMode:e,onPress:t,testID:n,label:i}){return(0,d.jsx)(l.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:e?"black":"white"}},"data-test-id":n,children:(0,d.jsx)(l.iP,{fullWidth:!1,onTap:t,children:(0,d.jsxs)(l.xv,{size:a.n,weight:"bold",children:["\xa0...\xa0",i]})})})}function u({children:e,isDarkMode:t,descriptionDir:n}){let u=(0,i.useRef)(null),[p,m]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1,showToggle:!1}),{isFirstLoad:h,isTruncated:g,showToggle:_}=p,y=(0,r.ZP)();return(0,i.useEffect)(()=>{if(h&&u.current){var e;let t=(0,o.xW)(u.current),n=(e=u.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth;m({isTruncated:n,isFirstLoad:!1,showToggle:t>=3&&n})}},[h,g]),(0,d.jsx)(l.xu,{position:"relative","data-test-id":"truncated-description",flex:"grow",children:(0,d.jsx)(s.Z,{dir:n,children:(0,d.jsxs)(l.xv,{size:a.n,ref:u,lineClamp:h||g?3:0,align:"ltr"===n?"forceLeft":void 0,children:[e,_?(0,d.jsx)(i.Fragment,{children:g?(0,d.jsx)(l.xu,{position:"absolute",bottom:!0,right:!0,children:(0,d.jsx)(c,{label:y.bt("", "more", "storyPin.previewText.more", undefined, true),onPress:()=>m({...p,isTruncated:!1}),testID:"more-description-container",isDarkMode:t})}):(0,d.jsx)(c,{label:y.bt("", "less", "storyPin.previewText.less", undefined, true),onPress:()=>m({...p,isTruncated:!0}),testID:"less-description-container",isDarkMode:t})}):null]})})})}},879352:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(667294),l=n(883119),a=n(987867),r=n(388011),o=n(536042),s=n(634923),d=n(785893);class c extends i.PureComponent{constructor(...e){var t,n,i;super(...e),t="startAudiblePlayTime",n=this.props.muted?null:new Date,(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidUpdate(e){e.muted!==this.props.muted&&(this.startAudiblePlayTime=this.props.muted?null:new Date)}componentWillUnmount(){let{musicRecordingId:e,muted:t,pinId:n,video:i}=this.props;if(e&&!t&&this.startAudiblePlayTime){let t=new Date-this.startAudiblePlayTime;if(t>=2e3){var l,a,r,o,d,c,u;let{hlsv3:t,mp4:p}=(0,s.Z)({vEXP3:null===(l=i.video_list)||void 0===l?void 0:l.V_EXP3,vEXP4:null===(a=i.video_list)||void 0===a?void 0:a.V_EXP4,vEXP5:null===(r=i.video_list)||void 0===r?void 0:r.V_EXP5,vEXP6:null===(o=i.video_list)||void 0===o?void 0:o.V_EXP6,vEXP7:null===(d=i.video_list)||void 0===d?void 0:d.V_EXP7,v720P:null===(c=i.video_list)||void 0===c?void 0:c.V_720P,vHLSV3MOBILE:null===(u=i.video_list)||void 0===u?void 0:u.V_HLSV3_MOBILE})||{},m=p||t,h=(null==m?void 0:m.duration)||0;this.props.logContextEvent({event_type:8999,object_id_str:e,aux_data:{pin_id:n,story_pin_music_duration:h}})}}}render(){var e,t,n,i,r,o,c,u;let{activePageIndex:p,blockHeight:m,blockWidth:h,closeupStoryPinViewability:g,customEndCard:_,isPlaying:y,muted:v,onEnded:f,onUpdateVideoInfo:b,pageIndex:x,pinId:k,roundCorners:P=!0,video:S,videoThumbnailStartTime:w}=this.props,{hlsv3:T,mp4:A}=null!==(e=(0,s.Z)({vEXP3:null===(t=S.video_list)||void 0===t?void 0:t.V_EXP3,vEXP4:null===(n=S.video_list)||void 0===n?void 0:n.V_EXP4,vEXP5:null===(i=S.video_list)||void 0===i?void 0:i.V_EXP5,vEXP6:null===(r=S.video_list)||void 0===r?void 0:r.V_EXP6,vEXP7:null===(o=S.video_list)||void 0===o?void 0:o.V_EXP7,v720P:null===(c=S.video_list)||void 0===c?void 0:c.V_720P,vHLSV3MOBILE:null===(u=S.video_list)||void 0===u?void 0:u.V_HLSV3_MOBILE}))&&void 0!==e?e:{},C=A||T;if(!C)return null;let{height:I,thumbnail:j,width:E}=C,L=(null!=E?E:1)/(null!=I?I:1),R={height:"100%",left:"0",top:"0",width:"100%"},F=h/m;if(Math.abs(F-L)>.01){if(F<L){let e=100*L/F;R.width=`${e}%`,R.left=`-${(e-100)/2}%`}else if(F>L){let e=100*F/L;R.height=`${e}%`,R.top=`-${(e-100)/2}%`}}let D="number"==typeof p&&x<=p+3;return(0,d.jsx)(l.xu,{height:m,overflow:"hidden",position:"relative",width:h,children:(0,d.jsx)(l.xu,{height:"100%",position:"absolute",width:"100%",children:D||y||w?(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:R},position:"absolute",children:(0,d.jsx)(a.Z,{loop:!1,autoplay:y,closeupStoryPinViewability:g,contextLogData:{component:0===x?227:228,element:10957,objectId:k,story_pin_page_id:x,view:3,viewParameter:157},customThumbnail:j,customEndCard:_,isPromoted:!1,muted:v,pinId:k,showControls:"never",variant:"storyPin",preferMp4:!!A,objectFit:A?"cover":void 0,roundingOverride:P?null:0,video:{id:S.id,hlsv3:T,mp4:A},onTimeChange:({time:e})=>{if(b&&"number"==typeof C.duration&&C.duration>0){let t=C.duration/1e3;b({currentTime:e,duration:t})}},onEnded:()=>{f&&f(x)},videoThumbnailStartTime:w})}):(0,d.jsx)(l.Ee,{alt:this.props.i18n.bt(" ", "Video cover image", "closeup.storyPin.videoCover", undefined, true),fit:"cover",naturalHeight:null!=I?I:1,naturalWidth:null!=E?E:1,src:null!=j?j:""})})})}}function u(e){let{logContextEvent:t}=(0,r.v)(),n=(0,o.ZP)();return(0,d.jsx)(c,{...e,i18n:n,logContextEvent:t})}},319828:(e,t,n)=>{"use strict";n.d(t,{_B:()=>Z,Xw:()=>N,tD:()=>K,ZP:()=>H});var i=n(883119),l=n(616550),a=n(388011),r=n(819079),o=n(196039),s=n(785893);let d=({block:{block_style:{height:e=0,width:t=0,x_coord:n=0,y_coord:d=0,rotation:c=0}={},original_comment_id:u},pageAspectRatio:p,scaleFactor:m})=>{let{logContextEvent:h}=(0,a.v)(),g=Z/p,_=(0,l.useHistory)(),{data:y}=(0,r.Z)({name:"AggregatedCommentResource",options:{commentId:u,field_set_key:"comment_reply_sticker"}});return(0,s.jsx)(i.xu,{display:"flex",dangerouslySetInlineStyle:{__style:{left:n*Z*m/100,top:d*g*m/100,transform:`rotate(${c}deg)`}},height:e*g*m/100,position:"absolute",width:t*Z*m/100,rounding:2,zIndex:o.B5,padding:1,margin:-1,children:(0,s.jsx)(i.iP,{onTap:()=>{h({event_type:102,view_type:1,component:227,element:12541,aux_data:{comment_id:u}}),null!=y&&y.pin_id&&_.push(`/pin/${y.pin_id}/comments/${u||""}`)},rounding:"pill"})})};var c=n(397352),u=n(657672);function p({src:e,fallbackSrc:t,...n}){let i=(0,u.Z)(e);return(0,s.jsx)(c.Z,{...n,src:i?e:t})}var m=n(702664);function h({isUseCache:e,signature:t}){return(0,m.useSelector)(({pinbuilder:n})=>{let{storyPinItemBlocks:i}=n;if(!e)return null;for(let e of Object.keys(i)){var l,a;if((null===(l=i[e].media)||void 0===l?void 0:l.signatureEdited)===t||(null===(a=i[e].media)||void 0===a?void 0:a.signature)===t)return i[e]}return null})}var g=n(667294),_=n(914939),y=n(340906),v=n(88622),f=n(536042),b=n(738318);let x=({aggregatedCommentId:e,onDismiss:t})=>{let n=(0,f.ZP)(),l=(0,y.Z)(),a=(0,_.Z)(),[r,o]=(0,g.useState)(""),d=(0,s.jsx)(i.kC,{justifyContent:"end",children:(0,s.jsx)(i.zx,{color:"red",disabled:!r,onClick:()=>{(async()=>{await a({fromUnifiedComment:!0,objectType:b.o.aggregatedComment,objectId:e,tags:"[]",text:r})})(),t()},text:n.bt("", "Post", "ideapin.questionsticker.replymodal.postbutton", undefined, true)})});return(0,s.jsx)(v.ZP,{accessibilityModalLabel:"reply to creator Q and A question",align:"start",footer:d,heading:n.bt("", "Reply", "ideapin.questionsticker.replymodal", undefined, true),onDismiss:t,children:(0,s.jsx)(i.xu,{paddingX:8,paddingY:1,children:(0,s.jsx)(i.Kx,{id:"ideaPinQuestionStickerReplyModalTextArea",onChange:({value:e})=>{o(e)},placeholder:l?n.bt("         .", "Your reply will show up as a public comment on this Pin.", "pin.questionsticker.replymodal.placeholder", undefined, true):n.bt("         -.", "Your reply will show up as a public comment on this Idea Pin.", "ideapin.questionsticker.replymodal.placeholder", undefined, true),value:r})})})};var k=n(870243),P=n(630089),S=n(245410),w=n(463031),T=n(551897);function A({block:e,elementType:t,onFlyoutOpen:n,pageAspectRatio:d,pageIndex:c,productPins:u,scaleFactor:p,tooltipElementType:m,videoPinProgress:h}){var _;let{logContextEvent:y}=(0,a.v)(),[v,b]=(0,g.useState)(!1),[A,C]=(0,g.useState)(!1),I=(0,g.useRef)(null),j=(0,l.useHistory)(),E=(0,f.ZP)(),{checkExperiment:L}=(0,S.F)(),{block_style:{height:R=0,width:F=0,x_coord:D=0,y_coord:z=0,rotation:M=0}={},end_time:O,error_message:B,interactive_sticker_type:U=null,is_removed:H,is_valid:V,start_time:G,sticker_data:$,type:W}=e,q=e.pin_id,Y=(u||[]).find(e=>[e.id,e.cacheable_id].includes(q))||{},{board_id:X,question_comment_id:J}=$||{},{image_small_url:Q,full_name:ee,username:et=""}=null!==(_=e.user)&&void 0!==_?_:{},en=null,ei=V&&5===U&&!!X,el=V&&7===U&&!!J,ea=(0,r.Z)(X&&ei?{name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:X}}:null),{is_collaborative:er,pin_count:eo,url:es}=ea.data||{};W===w.h8.PRODUCT_STICKER?en=q?`/pin/${q}/`:"/":W===w.h8.MENTION_STICKER?en=`/${et}/`:ei&&(en=ea.isLoaded?`${es}`:null);let ed=Z/d,{currentTime:ec}=h||{},eu=!(0,T.Z)({currentTime:ec,endTime:O,startTime:G}),ep=()=>{y({event_type:123,component:228,element:m,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:c}}),b(!1)},em=({event:e})=>{y({event_type:120,component:228,element:m,view_type:3,view_parameter:157,aux_data:{error_message:!V&&B?B:null,story_pin_page_id:c}}),b(!0),n&&(e.stopPropagation(),n())};(0,g.useEffect)(()=>(document.addEventListener("scroll",()=>{b(!1)}),()=>document.removeEventListener("scroll",()=>{b(!1)})),[]);let eh=()=>[5].includes(U)?V?ea.isLoaded?(0,s.jsxs)(g.Fragment,{children:[(0,s.jsxs)(i.xu,{flex:"grow",paddingX:2,children:[(0,s.jsx)(i.xv,{weight:"bold",size:"100",lineClamp:1,children:er?E.bt("   ", "Explore this group board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true):E.bt("  ", "Explore this board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true)}),(0,s.jsx)(i.xv,{size:"100",children:(!!eo||0===eo)&&(0,P.nk)(E.nbt(["{{ pinCount }}", "{{ pinCount }}", "{{ pinCount }}"], eo, "closeup.StoryPin.stickerBlock.boardSticker.boardLabel", true),{pinCount:eo})})]}),(0,s.jsx)(i.xu,{flex:"none",children:(0,s.jsx)(i.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]}):(0,s.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,s.jsx)(i.xu,{marginEnd:1,paddingX:2,children:(0,s.jsx)(i.xv,{color:"subtle",size:"100",lineClamp:1,children:E.bt(" ", "Loading board...", "closeup.StoryPin.stickerBlock.boardSticker.loadingText", undefined, true)})}),(0,s.jsx)(i.$j,{accessibilityLabel:E.bt(" ", "Board is loading", "closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText", undefined, true),size:"sm",show:!0})]}):(0,s.jsx)(i.xu,{paddingX:2,paddingY:2,children:(0,s.jsx)(i.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:B})}):(0,s.jsx)(i.xu,{paddingX:2,paddingY:2,children:(0,s.jsx)(i.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:E.bt("   ", "Sticker not supported yet", "closeup.StoryPin.stickerBlock.genericStickerError", undefined, true)})}),eg=()=>{let e=null;switch(W){case w.h8.PRODUCT_STICKER:let{grid_title:t,images:n,rich_summary:l,description:a}=Y||{},r=(n||{})["236x"]||{},{display_name:o,products:d}=l||{},c=((d||[])[0]||{}).offer_summary||{},{price:u,max_price:p}=c||{},m=o||t||a;e=(0,s.jsxs)(g.Fragment,{children:[(0,s.jsx)(i.xu,{flex:"none",children:(0,s.jsx)(i.zd,{wash:!0,height:40,width:40,rounding:3,children:(0,s.jsx)(i.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:r.url||""})})}),(0,s.jsx)(i.xu,{flex:"grow",paddingX:2,children:c&&(u||p)?(0,s.jsxs)(i.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,s.jsx)(i.xv,{size:"100",lineClamp:1,weight:"bold",color:"shopping",children:u}),(0,s.jsx)(i.xv,{size:"100",lineClamp:1,children:m})]}):(0,s.jsx)(i.xv,{size:"100",lineClamp:1,children:m})}),(0,s.jsx)(i.xu,{flex:"none",children:(0,s.jsx)(i.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case w.h8.MENTION_STICKER:e=(0,s.jsxs)(g.Fragment,{children:[(0,s.jsx)(i.xu,{flex:"none",children:(0,s.jsx)(k.qE,{size:"sm",name:null!=ee?ee:"",src:null!=Q?Q:void 0})}),(0,s.jsx)(i.xu,{flex:"grow",paddingX:2,children:(0,s.jsx)(i.xv,{weight:"bold",size:"200",lineClamp:1,children:ee})}),(0,s.jsx)(i.xu,{flex:"none",children:(0,s.jsx)(i.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case w.h8.GENERIC_STICKER:e=eh();break;case w.h8.VTO_MAKEUP_STICKER:e=(0,s.jsx)(i.xv,{weight:"bold",size:"300",children:E.bt("     !", "Try this sticker on your phone!", "closeup.storyPin.vtoMakeupSticker", undefined, true)})}return(0,s.jsx)(i.xu,{alignItems:"center","data-test-id":W,display:"flex",justifyContent:"center",padding:W===w.h8.PRODUCT_STICKER?1:3,width:"100%",children:H?(0,s.jsx)(i.xv,{color:"subtle",weight:"bold",size:"200",children:E.bt(" .", "Tag removed!", "closeup.storyPin.stickerBlock", undefined, true)}):e})};return(0,s.jsx)(g.Fragment,{children:eu?null:(0,s.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{left:D*Z*p/100,top:z*ed*p/100,transform:`rotate(${M}deg)`}},"data-test-id":(W||"")+"_container",display:"flex",height:R*ed*p/100+2*N,margin:-1,padding:1,position:"absolute",ref:I,rounding:2,width:F*Z*p/100+2*N,zIndex:o.B5,children:[(0,s.jsx)(i.iP,{onTap:v?ep:({event:e})=>{!eu&&(y({event_type:101,component:228,element:t,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:c}}),el?L("web_question_sticker_display").anyEnabled&&C(!0):em({event:e}))},rounding:"pill",disabled:eu}),v&&(0,s.jsx)(i.mh,{zIndex:K,children:(0,s.jsx)(i.J2,{anchor:I.current,idealDirection:"up",onDismiss:ep,positionRelativeToAnchor:!1,_deprecatedShowCaret:!0,size:H?"flexible":"sm",children:H?eg():(0,s.jsx)(i.iP,{onTap:({event:e})=>{e.preventDefault(),H||(y({event_type:101,component:228,element:m,object_id_str:q,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:c}}),en?j.push(en):ep())},fullWidth:!0,children:eg()})})}),!!J&&A&&(0,s.jsx)(x,{aggregatedCommentId:J,onDismiss:()=>{C(!1)}})]})})}var C=n(448509),I=n(586046),j=n(622050),E=n(834074);function L({block:e,fontsLoaded:t,pageAspectRatio:n,scaleFactor:l,thumbnail:a}){let{block_style:r,style:o=w.Cc,text:d}=e,{alignment:c,font:u,font_size:p,highlight_color:m,vertical_alignment:h=w.Cc.vertical_alignment}=o,{hex_color:_=w.Cc.hex_color}=null!=o?o:{},[y,v]=(0,g.useState)(0),[f,b]=(0,g.useState)([]),x=u||w.Cc.font,{name:k,default_size:P,letter_spacing:S,line_height:T}=x,A=(0,E.Z)(x),L=Math.round(100*((null==r?void 0:r.width)||100))/1e4,R=Math.round(100*((null==r?void 0:r.height)||100))/1e4,F=Math.round(100*((null==r?void 0:r.x_coord)||0))/1e4,D=Math.round(100*((null==r?void 0:r.y_coord)||0))/1e4;(0,g.useEffect)(()=>{if(t){let e=(0,j.KV)({text:d,boxHeight:I.U*R,boxWidth:I.q8*L,font:A,startFontSize:Math.floor(p||P||24)});b(e.lines),v(e.fontSize)}},[t,d]);let z=y*l,M=m?(0,w.pE)(z,T):{x:0,y:0},O=L*I.q8*l+2*M.x,Z=R*I.U*l+2*M.y,N=F*I.q8*l-M.x,K=a?`${100*D}%`:D*(I.q8/n)*l-M.y;return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{left:N,top:K}},display:"flex",height:Z,position:"absolute",width:O,children:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:(0,C.RK)({alignment:c,verticalAlignment:h})},children:(0,s.jsx)(i.xu,{display:"inlineBlock",maxWidth:"100%",children:(0,s.jsx)("p",{style:(0,C.BN)({fontSize:z,hexColor:_,letterSpacing:S,lineHeight:T,name:k}),children:f.map((e,t)=>(0,s.jsx)("span",{style:(0,C.xm)({fontSize:z,hasText:e.text.length>0,highlightColor:m||null,lineHeight:T}),children:t===f.length-1?e.text:(0,s.jsxs)(g.Fragment,{children:[e.text," ",(0,s.jsx)("br",{})]})},`paragraphLine-${t}-${(null!=d?d:"").substr(0,9)}`))})})})})}var R=n(879352),F=n(802071);function D({ownerId:e}){let t=(0,f.ZP)(),n=(0,F.Z)(),l=n.isAuth&&n.id===e;return(0,s.jsxs)(i.xu,{alignItems:"center",color:"tertiary",direction:"column",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:[(0,s.jsx)(i.xv,{color:"inverse",children:l?t.bt(" .", "Your video is processing!", "closeup.storyPin.videoPlaceholder", undefined, true):t.bt("    .", "This video is still processing!", "closeup.storyPin.videoPlaceholder", undefined, true)}),(0,s.jsx)(i.xv,{color:"inverse",children:t.bt("   .", "Check back in a few minutes.", "closeup.storyPin.videoPlaceholder", undefined, true)})]})}var z=n(41162),M=n(719540),O=n(335263);let Z=375,N=4,K=new i.Ry(3);function B({block:e,isActive:t,pwtTrackImageLoad:n,thumbnail:i}){var l,a,r,o,d,u,m,g,_,y,v,b;let x=(0,f.ZP)(),k=(null===(l=e.image)||void 0===l?void 0:null===(a=l.images)||void 0===a?void 0:a["750x"])||(null===(r=e.image)||void 0===r?void 0:null===(o=r.images)||void 0===o?void 0:o["474x"]),P=h({isUseCache:!0,signature:e.image_signature});if(!k&&!P)return null;let S=i?"cover":"none";return P?(0,s.jsx)(p,{alt:x.bt(" -", "Story pin image", "closeup.storypin.renderer", undefined, true),fallbackSrc:null!==(d=null===(u=P.media)||void 0===u?void 0:u.src)&&void 0!==d?d:"",isActive:t,naturalHeight:null!==(m=null==k?void 0:k.height)&&void 0!==m?m:1,naturalWidth:null!==(g=null==k?void 0:k.width)&&void 0!==g?g:1,src:null!==(_=null==k?void 0:k.url)&&void 0!==_?_:"",onLoad:n,fit:S}):(0,s.jsx)(c.Z,{alt:x.bt(" -", "Story pin image", "closeup.storypin.renderer", undefined, true),isActive:t,naturalHeight:null!==(y=null==k?void 0:k.height)&&void 0!==y?y:1,naturalWidth:null!==(v=null==k?void 0:k.width)&&void 0!==v?v:1,src:null!==(b=null==k?void 0:k.url)&&void 0!==b?b:"",onLoad:n,fit:S})}function U({activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:l,isActive:a,isSplitLayout:r=!1,musicRecordingId:o,muted:d,onEnded:c,onUpdateVideoInfo:u,ownerId:p,pageAspectRatio:m,pageDimensions:g,pageIndex:_,pinId:y,scaleFactor:v,stillLoading:f,videoThumbnailStartTime:b,thumbnail:x=!1}){var k,P;let{block_style:{height:S=100,width:w=100,x_coord:T=0,y_coord:A=0}={},video:C}=t,I=Z/m,{height:j,width:E}=g,L=w*Z*v/100,F=S*I*v/100,z=w<100?Math.min(Math.max(100,w)-Math.abs(T),w):Math.min(Math.max(w-Math.abs(T),0),100),M=S<100?Math.min(Math.max(100,S)-Math.abs(A),S):Math.min(Math.max(S-Math.abs(A),0),100),O=M*I*v/100,N=z*Z*v/100,K=Math.max(A,0)*I*v/100,B=Math.max(T,0)*Z*v/100,U=h({isUseCache:!C,signature:t.video_signature});if(f)return null;let{media:H}=U||{},{duration:V,src:G}=H||{},$=!!G&&!!V;if(!C&&!$)return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{left:B,top:K}},height:O,position:"absolute",width:N,children:(0,s.jsx)(D,{ownerId:p})});let W=(null==C?void 0:null===(k=C.video_list)||void 0===k?void 0:k.V_HLSV3_MOBILE)||(null==C?void 0:null===(P=C.video_list)||void 0===P?void 0:P.V_720P)||$;return!!W&&(0,s.jsx)(i.xu,{height:r?"50%":"100%",overflow:"hidden",position:"relative",children:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{left:B,top:K}},height:x?j:O,overflow:"hidden",position:"absolute",width:x?E:N,children:(0,s.jsx)(R.Z,{activePageIndex:e,blockHeight:x?j:F,blockWidth:x?E:L,closeupStoryPinViewability:n,customEndCard:l,isPlaying:a,musicRecordingId:o,muted:d,onEnded:c,onUpdateVideoInfo:u,pageIndex:_,pinId:y,roundCorners:F>=j&&L>=E,video:C||{video_list:{V_EXP7:{duration:V?1e3*V:0,url:G}}},videoThumbnailStartTime:b})})})}function H({activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:l,fontsLoaded:a,isActive:r,isSplitLayout:o=!1,musicRecordingId:c,muteVideos:u,onEnded:p,onFlyoutOpen:m,onImageLoaded:h,onUpdateVideoInfo:g,ownerId:_,pageAspectRatio:y,pageHeight:v,pageIndex:f,pageWidth:b,pinId:x,previewOnly:k,productPins:P,stillLoading:S=!1,thumbnail:T=!1,transform:C,videoPinProgress:I,videoThumbnailStartTime:j}){let{block_style:{height:E=100,width:R=100,x_coord:F=0,y_coord:D=0}={},interactive_sticker_type:N=null}=t,K=(0,M.g)(),H=(0,z.E)();if(0===E||0===R)return null;let V=b/Z;switch(t.type){case w.h8.PARAGRAPH:case w.h8.HEADING:return(0,s.jsx)(L,{block:t,fontsLoaded:a,scaleFactor:V,pageAspectRatio:y,thumbnail:T});case w.h8.VIDEO:return(0,s.jsx)(U,{activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:l,isActive:r,isSplitLayout:o,musicRecordingId:c,muted:u,onEnded:p,onUpdateVideoInfo:g,ownerId:_,pageAspectRatio:y,pageDimensions:{height:v,width:b},pageIndex:f,pinId:x,scaleFactor:V,stillLoading:S,videoThumbnailStartTime:j,thumbnail:T});case w.h8.IMAGE:let{scaleX:G=1,scaleY:$=1}=C||{};return(0,s.jsx)(i.xu,{overflow:"hidden",position:"absolute",dangerouslySetInlineStyle:{__style:{height:`${E}%`,left:`${F*G}%`,top:`${D*$}%`,width:`${R}%`}},children:(0,s.jsx)(B,{block:t,isActive:r,pwtTrackImageLoad:()=>{K&&r&&(K.addBinaryAnnotation("pin.id",x,"STRING"),K.addBinaryAnnotation("video",!1,"BOOL"),K.stop()),H&&r&&(H.addBinaryAnnotation("pin.id",x,"STRING"),H.addBinaryAnnotation("video",!1,"BOOL"),H.removeConstraint(O._z),H.markConstraintComplete(O.pM)),h&&h()},thumbnail:T})});case w.h8.MENTION_STICKER:return!k&&(0,s.jsx)(A,{block:{...t},elementType:12120,onFlyoutOpen:m,pageAspectRatio:y,pageIndex:f,scaleFactor:V,tooltipElementType:12121,videoPinProgress:I});case w.h8.GENERIC_STICKER:return!k&&(e=>{let t=5===N;return(0,s.jsx)(A,{block:{...e},elementType:t?12827:12858,onFlyoutOpen:m,pageIndex:f,pageAspectRatio:y,scaleFactor:V,tooltipElementType:t?12828:12859,videoPinProgress:I})})(t);case w.h8.PRODUCT_STICKER:return!k&&(0,s.jsx)(A,{block:{...t},elementType:12223,onFlyoutOpen:m,pageAspectRatio:y,pageIndex:f,productPins:P,scaleFactor:V,tooltipElementType:12224,videoPinProgress:I});case w.h8.VTO_MAKEUP_STICKER:return!k&&(0,s.jsx)(A,{block:{...t},elementType:12561,onFlyoutOpen:m,pageAspectRatio:y,pageIndex:f,scaleFactor:V,tooltipElementType:12561,videoPinProgress:I});case w.h8.COMMENT_REPLY_STICKER:return t.type===w.h8.COMMENT_REPLY_STICKER&&!k&&(0,s.jsx)(d,{block:t,scaleFactor:V,pageAspectRatio:y});default:return null}}},635408:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(463031);let l=[i.h8.COMMENT_REPLY_STICKER,i.h8.GENERIC_STICKER,i.h8.HEADING,i.h8.IMAGE,i.h8.MENTION_STICKER,i.h8.PARAGRAPH,i.h8.PRODUCT_STICKER,i.h8.VIDEO,i.h8.VTO_MAKEUP_STICKER];function a({storyPinBlocks:e=[],blocksToRender:t=l}){let n=[],a=[],r=[];return e.forEach(e=>{t.includes(e.type)?e.type===i.h8.PARAGRAPH||e.type===i.h8.HEADING?a.push(e):r.push(e):n.push(e)}),r.push(...a),{nonRenderableBlocks:n,textBlocks:a,blocks:r}}},101789:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(667294),l=n(883119),a=n(561574),r=n(245410),o=n(282802),s=n(549201),d=n(785893);function c({children:e,displayViewState:t,forceTappableHeader:n,headerPaddingRight:c,headerPreview:u,heading:p}){let m=(0,s.ml)(),{checkExperiment:h}=(0,r.F)(),{isAuthenticated:g,isBot:_}=(0,o.B)(),y=m&&h(g?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group||"",v=["no_collapse_by_default","collapse_by_default"].includes(y),f="collapse_by_default"===y,[b,x]=(0,i.useState)(v&&!_&&f||[1,2].includes(t));return(0,d.jsxs)(l.kC,{direction:"column",dataTestId:"collapsible-layout",gap:4,children:[(0,d.jsx)(a.Z,{collapsed:b,displayViewState:t,forceTappableHeader:n,headerPaddingRight:c,headerPreview:u,heading:p,onClick:()=>{x(!b)},showArrow:!0}),!b&&(0,d.jsx)(l.xu,{children:e})]})}},342693:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});let i="300"},44081:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294),l=n(883119),a=n(342693),r=n(536042),o=n(785893);function s({children:e,maxLines:t=10}){let n=(0,i.useRef)(null),[s,d]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1}),c=(0,r.ZP)(),{isFirstLoad:u,isTruncated:p}=s;return(0,i.useEffect)(()=>{var e;u&&n.current&&((e=n.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&d({isFirstLoad:!1,isTruncated:!0})},[u,p]),(0,o.jsxs)(l.xu,{position:"relative","data-test-id":"truncated-text",children:[(0,o.jsx)(l.xv,{ref:n,lineClamp:u||p?t:0,inline:!0,children:e}),p&&(0,o.jsx)(l.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,o.jsxs)(l.kC,{flex:"grow",children:[(0,o.jsx)(l.xu,{display:"inlineBlock",width:"120px",height:"14px"}),(0,o.jsx)(l.xu,{"data-test-id":"more-button",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:"white"}},children:(0,o.jsx)(l.iP,{fullWidth:!1,onTap:()=>d({...s,isTruncated:!1}),children:(0,o.jsx)(l.xv,{inline:!0,size:a.n,weight:"bold",children:c.bt(" ", "  more", "closeup.TruncatedTextContent.moreLabel", undefined, true)})})}),(0,o.jsx)(l.xu,{display:"inlineBlock",flex:"grow",dangerouslySetInlineStyle:{__style:{background:"white"}}})]})})]})}},47034:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(883119),l=n(785893);function a(e,t="300"){return e.split(new RegExp(/(#\S*)/)).map((e,n)=>{let a=`${n}-${e}`;return e.includes("#")?(0,l.jsx)(i.xv,{size:t,color:"link",inline:!0,children:(0,l.jsx)(i.rU,{underline:"none",display:"inline",href:`/search/pins/?q=${encodeURIComponent(e.replace("#",""))}`,children:e})},a):(0,l.jsx)("span",{children:e},a)})}},340906:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(245410),l=n(549201),a=n(802071),r=n(329689),o=n(384722);let s=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function d(e){let t=(0,l.HG)(),{checkExperiment:n}=(0,i.F)(),d=(0,r.Z)(),c=(0,a.Z)(),u=(0,o.lJ)(c,d),p=s[t?"dweb":"mweb"];return e&&!u&&(n("sce_lightswitch_organic"),n("sce_lightswitch_monetized")),!u&&(n(p.organic).anyEnabled||n(p.monetized).anyEnabled)}},617733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(342693),l=n(151658),a=n(785893);let r=({description:e,userMentionTags:t})=>(0,a.jsx)(l.Z,{description:e,mentionLinkColor:"link",shouldAdjustOffset:!0,shouldMakeHashtagLinksFromText:!0,textSize:i.n,userMentionTags:t})},151658:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),l=n(883119),a=n(47034),r=n(388011),o=n(785893);let s=e=>e.replace(/\s+/g," "),d=e=>null!=e&&e>-1,c=(e,t)=>{let n=t.substr(0,e);return(null!=e?e:0)-(n.length-s(n).length)},u=({color:e,mention:t,tagObjectId:n,tagType:i,textSize:a})=>{let{logContextEvent:s}=(0,r.v)();return(0,o.jsx)(l.rU,{underline:"none",href:`/${t.substr(1)}`,display:"inlineBlock",onClick:({event:e})=>{e.stopPropagation(),s({event_type:101,element:11915,aux_data:{tag_id:n,tag_type:i}})},children:(0,o.jsx)(l.xv,{size:a,color:e,inline:!0,weight:"bold",overflow:"normal",children:t})},n)},p=({description:e,mentionLinkColor:t,shouldAdjustOffset:n,shouldMakeHashtagLinksFromText:r,textSize:s,userMentionTags:p})=>{if(0===p.length)return(0,o.jsx)(i.Fragment,{children:e});let m=0,h=[],g=[...p].map(t=>{var i;return n?{...t,offset:c(null!==(i=t.offset)&&void 0!==i?i:0,e)}:t}).sort((e,t)=>{var n,i;return(null!==(n=e.offset)&&void 0!==n?n:0)-(null!==(i=t.offset)&&void 0!==i?i:0)}).filter(e=>d(e.offset)&&d(e.length));return g.forEach(n=>{var i,l;let a=null!==(i=n.offset)&&void 0!==i?i:0,r=null!==(l=n.length)&&void 0!==l?l:0,d=e.substr(m,a-m),c=e.substr(a,r);h.push(d),h.push((0,o.jsx)(u,{color:t,mention:c,tagObjectId:n.objectId,tagType:n.tagType,textSize:s})),m=a+r}),h.push(e.substr(m)),(r?h.flatMap(e=>"string"!=typeof e?e:(0,a.Z)(e)):h).reduce((e,t)=>(0,o.jsxs)(l.xv,{size:s,inline:!0,children:[e,t]}),null)}},438723:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(667294),l=n(883119),a=n(388011),r=n(536042),o=n(41162),s=n(534139),d=n(356332),c=n(293017),u=n(785893);let p=({onOpen:e,structuredDescription:t,type:n})=>{let a=(0,r.ZP)(),p=(0,o.E)(),m=(0,i.useCallback)(()=>{p&&p.markConstraintComplete("description")},[p]),h=(0,i.useRef)(null),[g,_]=(0,i.useState)(!1);(0,i.useEffect)(()=>{var e;(h.current&&((e=h.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)||t.length>1)&&_(!0)},[h,t]);let y="expandable"===n&&t[0].type===c.X.PARAGRAPH,v=y?(0,u.jsx)(l.xv,{ref:h,lineClamp:1,size:"200",children:t[0].content}):null,f=a.bt("", "Product Details", "productDetails.accordionHeader.text", undefined, true);return!g&&v?(0,u.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}},paddingY:3,children:[(0,u.jsx)(l.xu,{paddingY:1,children:(0,u.jsx)(l.xv,{weight:"bold",size:"300",children:f})}),(0,u.jsx)(l.xu,{marginEnd:6,marginBottom:1,children:v})]}):(0,u.jsx)(s.Z,{hasBorder:!0,header:f,content:(0,u.jsx)(l.xu,{paddingY:y?0:1,children:(0,u.jsx)(d.Z,{descriptions:t,onLoad:m})}),onOpen:e,previewContent:v,previewContentHeight:y?20:0,shouldToggleOnBodyTap:!0,arrowDirection:"expandable"===n?"arrow-down":"arrow-forward"})},m=({isOpen:e,onOpen:t,structuredDescription:n})=>{var a;let[s,c]=(0,i.useState)(!1),p=(0,r.ZP)(),m=(0,i.useRef)(null),h=(0,o.E)(),g=(0,i.useCallback)(()=>{h&&m.current&&h.markConstraintComplete("description")},[h]),_=s&&!e,y=e?p.bt(" ", "See less", "productDescription.productDescriptionPreview.cta", undefined, true):p.bt(" ", "See more", "productDescription.productDescriptionPreview.cta", undefined, true);return(0,i.useLayoutEffect)(()=>{!(!m.current||Number.isNaN(m.current.offsetHeight)||150>Number(m.current.offsetHeight))&&(s||c(!0))},[s,null===(a=m.current)||void 0===a?void 0:a.offsetHeight]),(0,u.jsxs)(l.xu,{display:m.current?"block":"visuallyHidden",paddingY:1,"data-test-id":"product-description-preview",children:[(0,u.jsx)(l.xv,{size:"300",weight:"bold",children:p.bt("", "Product Details", "productDescription.productDescriptionPreview.header", undefined, true)}),(0,u.jsxs)(l.xu,{marginTop:2,marginBottom:_?0:2,position:"relative",children:[(0,u.jsx)(l.xu,{height:_?150:"auto",overflow:_?"hidden":"visible",ref:m,children:(0,u.jsx)(d.Z,{descriptions:n,onLoad:g})}),s&&(0,u.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(to bottom, rgba(255, 255, 255, 0), #ffffff)",transition:"opacity 200ms ease"}},height:150,opacity:_?1:0,position:"absolute",width:"100%"})]}),s&&(0,u.jsx)(l.iP,{onTap:t,children:(0,u.jsx)(l.xv,{size:"200",weight:"bold",children:y})})]})};function h(e){let{commerceData:t,structuredDescription:n,type:l="accordion",viewParameter:r}=e,{logContextEvent:o}=(0,a.v)(),[s,d]=(0,i.useState)(!1);(0,i.useEffect)(()=>{o({event_type:120,component:13597,view_type:3,view_parameter:r,aux_data:{...t}})},[]);let c=()=>{d(!s),o({event_type:101,component:13597,view_type:3,element:s?13278:13277,view_parameter:r,aux_data:{...t}}),o({event_type:101,component:13597,view_type:3,element:10492,view_parameter:r,aux_data:{...t}})};return 0===n.length?null:"preview"===l?(0,u.jsx)(m,{...e,isOpen:s,onOpen:c}):(0,u.jsx)(p,{...e,onOpen:c})}},355182:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(883119),l=n(341027),a=n(536042),r=n(785893);function o({colorOverride:e,isSoldOut:t,isStale:n,productDetails:o,showSalesPrice:s,type:d,weight:c="bold"}){let{maxPrice:u,minPrice:p,price:m,standardPrice:h}=o,g=!!m&&!!h&&m!==h,_="100";"pdpPlusHeading"===d?_="400":"heading"===d?_="500":"pdpPlusMobileHeading"===d&&(_="300");let y=(0,a.ZP)(),v=y.bt("   -", "See price on site", "product.price.stale", undefined, true),f=y.bt("", "Sold out", "product.price.soldOut", undefined, true);return n?(0,r.jsx)(i.xv,{size:_,color:"subtle",weight:"bold",children:v}):(0,r.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[t&&(0,r.jsx)(i.xu,{"data-test-id":"product-sold-out-text",marginEnd:2,children:(0,r.jsx)(i.xv,{size:_,color:"subtle",weight:"bold",children:f})}),(!!m||!!p||!!u)&&(0,r.jsx)(i.xv,{color:e||(g?"shopping":"default"),size:_,weight:c,children:(0,r.jsx)("span",{children:(0,l.Z)({maxPrice:u,minPrice:p,price:m})})}),g&&!s&&(0,r.jsx)(i.xu,{marginStart:1,children:(0,r.jsx)(i.xv,{color:"subtle",size:_,weight:["pdpPlusHeading","pdpPlusMobileHeading"].includes(d)?"normal":c,children:(0,r.jsx)("span",{style:{textDecoration:"line-through"},children:h})})})]})}},139488:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(883119),l=n(667294),a=n(536042),r=n(630089),o=n(993926),s=n(549201),d=n(196039),c=n(785893);function u(){let e=(0,a.ZP)();return e.bt(" ", "Free shipping", "closeup.product.shipping", undefined, true)}function p({freeShippingPrice:e}){let t=(0,a.ZP)();return(0,r.nk)(t.bt("      {{ shippingPrice }}", "Free shipping with {{ shippingPrice }}+", "closeup.product.shipping", undefined, true),{shippingPrice:e}).join("")}function m(){let e=(0,a.ZP)();return e.bt("  ", "Shipping info", "closeup.product.shipping", undefined, true)}function h({clickthroughFn:e}){let t=(0,a.ZP)(),[n,r]=(0,l.useState)(!1),o=(0,s.HG)(),u=(0,l.useRef)(null),p=()=>{r(!n)},m=t.bt("         .", "Check the merchant's site for shipping to your region", "closeup.product.shipping", undefined, true),h=t.bt(" -", "Visit site", "closeup.product.shipping", undefined, true),g=o?(0,c.jsx)(i.J2,{anchor:u.current,onDismiss:p,idealDirection:"right",children:(0,c.jsx)(i.xu,{padding:5,rounding:4,children:(0,c.jsx)(i.xv,{children:m})})}):(0,c.jsx)(i.Io,{onDismiss:p,zIndex:d.lp,size:"auto",heading:"",children:(0,c.jsxs)(i.xu,{alignItems:"center",direction:"column",marginStart:10,marginEnd:10,display:"flex",children:[(0,c.jsx)(i.xu,{marginBottom:5,children:(0,c.jsx)(i.xv,{size:"400",weight:"bold",align:"center",children:m})}),(0,c.jsx)(i.zx,{text:h,accessibilityLabel:h,size:"lg",onClick:e})]})});return(0,c.jsxs)(i.xu,{display:"flex",alignItems:"center",marginStart:1,children:[(0,c.jsx)(i.iP,{ref:u,onTap:p,children:(0,c.jsx)(i.JO,{accessibilityLabel:t.bt("   ", "Show shipping information", "closeup.product.shipping", undefined, true),color:"default",icon:"info-circle",size:14})}),n&&g]})}function g({clickthroughFn:e,customStyles:t,showPrevDot:n,freeShippingPrice:l,freeShippingValue:a,showShippingCountryDisclaimer:r}){let s;let d=n?[""]:[],{color:g="subtle",size:_="200"}=t||{};return Number.isFinite(a)||r?(0===a?s=(0,c.jsx)(u,{}):l?s=(0,c.jsx)(p,{freeShippingPrice:l}):r&&(s=(0,c.jsx)(m,{})),s&&d.push((0,c.jsxs)(i.kC,{direction:"row",children:[s,r&&(0,c.jsx)(h,{clickthroughFn:e})]})),0===d.length)?null:(0,c.jsx)(i.xv,{color:g,size:_,children:(0,c.jsx)(o.Z,{color:g,items:d})}):null}var _=n(734417),y=n(31407),v=n(282802);function f({count:e,rating:t}){return!!(t&&"None"!==t&&Number.isFinite(e))}let b=({rating:e,textSize:t,type:n})=>{if("single"===n){let n=parseFloat(e);return Number.isNaN(n)?null:(0,c.jsxs)(i.kC,{alignItems:"center",children:[(0,c.jsx)(y.A,{fill:"full",width:12}),(0,c.jsx)(i.xv,{size:t,children:n.toFixed(1)})]})}return(0,c.jsx)(y.Z,{rating:e,width:12})},x=({bracket:e,count:t,countFormat:n,countType:l,marginStart:o,textSize:s,underline:d})=>{let{locale:u}=(0,v.B)(),p=(0,a.ZP)(),m=(0,_.Z)();if(null==t)return null;let h=m(u,t,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===n){let e="review"===l?p.nbt(["{{ count }}", "{{ count }}", "{{ count }}"], t, "webapp.app.www-unified.productStarRatings.RatingCountText", true):p.nbt(["{{ count }} ", "{{ count }} ", "{{ count }} "], t, "webapp.app.www-unified.productStarRatings.RatingCountText", true);h=(0,r.nk)(e,{count:t}).join("")}return e&&(h=`(${h})`),(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:d?"1px solid gray":"none"}},marginStart:o,children:(0,c.jsx)(i.xv,{color:d?"subtle":"default",size:s,underline:d,children:(0,c.jsx)(i.xu,{"data-test-id":"ratings-count-text",display:"inlineBlock",children:h})})})};function k({bracket:e,count:t,countFormat:n,countType:l,rating:a,textSize:r,underline:o}){let s=f({count:t,rating:a});return s?(0,c.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(b,{rating:a,textSize:r,type:"multiple"}),(0,c.jsx)(x,{bracket:e,count:t,countFormat:n,countType:l,textSize:r,underline:o})]}):null}let P=({count:e,countFormat:t,ratingValue:n,shippingInfo:l})=>(0,c.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,c.jsx)(k,{count:e,countFormat:t,rating:n,textSize:"200"}),(0,c.jsx)(i.xu,{marginTop:f({count:e,rating:n})?1:0,children:(0,c.jsx)(g,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:null==l?void 0:l.freeShippingPrice,freeShippingValue:null==l?void 0:l.freeShippingValue})})]}),S=({clickthroughFn:e,count:t,countType:n,countFormat:l,hideSeparationDot:a,bracket:r,ratingValue:o,shippingInfo:s,shipsToUserCountry:d})=>(0,c.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,c.jsx)(k,{bracket:r,count:t,countFormat:l,countType:n,rating:o,textSize:"300"}),(0,c.jsx)(i.xu,{marginStart:f({count:t,rating:o})&&a?2:0,children:(0,c.jsx)(g,{clickthroughFn:e,customStyles:{color:"default",size:"300"},showPrevDot:f({count:t,rating:o})&&!a,freeShippingPrice:null==s?void 0:s.freeShippingPrice,freeShippingValue:null==s?void 0:s.freeShippingValue,showShippingCountryDisclaimer:!1===d})})]});function w(e){return e.isGridView?(0,c.jsx)(P,{...e}):(0,c.jsx)(S,{...e})}},341027:(e,t,n)=>{"use strict";function i({maxPrice:e,minPrice:t,price:n}){return e&&t?`${t}-${e}`:n}n.d(t,{Z:()=>i})},820623:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(939809),l=n(536042),a=n(550766),r=n(785893);function o({controllerOptions:e,iconColor:t,iconOnly:n,buttonText:o,tabIndex:s=0}){let d=(0,l.ZP)();return(0,r.jsx)(a.Z,{...e,children:({handleSendShareFlyoutButtonClick:e})=>(0,r.jsx)(i.Z,{accessibilityLabel:d.bt("", "Send", "Accessible label for button to send this pin", undefined, true),buttonText:o,handleClick:()=>e(),icon:"share",iconColor:t,iconOnly:n,tabIndex:s,testId:"closeup-share-button"})})}},649413:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var i=n(667294),l=n(883119),a=n(690108);async function r({userId:e,blockSource:t,blockContext:n,logContextEvent:i}){let l=a.Z.create("UserBlockResource",{blocked_user_id:e,block_source:t,block_context:n});await l.callCreate(),i({event_type:54,object_id_str:e})}var o=n(330325),s=n(914205),d=n(560954),c=n(536042),u=n(630089),p=n(837792),m=n(785893);let h=p.K_Y+"?source=block_dialogue";function g(e){return e.map(({full_name:e})=>e)}let _=function({users:e,onClose:t,onSubmit:n}){let i=(0,c.ZP)(),a=(0,m.jsx)("strong",{children:(0,d.Z)(g(e),i)},"userlist");return(0,m.jsxs)("form",{method:"post",children:[(0,m.jsxs)(l.xu,{padding:8,children:[(0,m.jsx)(l.xv,{children:(0,u.nk)(i.bt("    {{ users }},        ,       .            .", "If you block {{ users }}, you wont be able to follow each other or interact with each others Pins.", "description of blocking users", undefined, true),{users:a})}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(0,m.jsx)(l.xv,{children:(0,m.jsx)(l.rU,{display:"inlineBlock",href:h,underline:"hover",children:i.bt("", "Learn more", "link to learn more about blocking", undefined, true)})})]}),(0,m.jsx)(l.xu,{padding:2,children:(0,m.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"end",gap:{row:1,column:0},children:[(0,m.jsx)(l.zx,{fullWidth:!0,onClick:t,text:i.bt("", "Cancel", "UserBlock.Cancel", undefined, true)}),(0,m.jsx)(l.zx,{fullWidth:!0,color:"red",onClick:()=>{n()},text:i.bt("", "Block", "UserBlock.Submit", undefined, true),type:"submit"})]})})]})};var y=n(563962),v=n(802071);let f=({deleteAndCloseConversation:e,flagReason:t,flagType:n,onClose:a,selectedReason:h,status:f,users:b,blockContext:x})=>{let k=(0,c.ZP)(),P=(0,y.Z)(),[S,w]=(0,i.useState)({}),{setModalTitle:T,setStatus:A}=(0,o.d)(),C=(0,v.Z)(),{id:I}=C.isAuth?C:{},j=b.filter(({id:e})=>S[e]),E=j.length>0,L=()=>{let e;[s.qb.SUBMITTED,s.qb.PROCESSING].includes(f)?e=k.nbt(["  ?", "  ?", "  ?"], j.length, "BlockAndUnfollow", true):n===s.Vm.CONVERSATION&&(e=f===s.qb.COMPLETED?(0,u.nk)(k.bt("   {{usernames}}", "Youve blocked {{usernames}}", "BlockAndUnfollow", undefined, true),{usernames:(0,d.Z)(g(j),k).join("")}).join(""):k.bt("  !", "Thanks for your report", "BlockAndUnfollow", undefined, true)),T(e)};(0,i.useEffect)(()=>{L()},[f]),(0,i.useEffect)(()=>{A(E?s.qb.SELECTED:s.qb.STARTED)},[S]);let R=b.filter(({id:e})=>e!==I),F=[s.qb.STARTED,s.qb.COMPLETED].includes(f);return(0,m.jsx)("form",{method:"post",children:[s.qb.SUBMITTED,s.qb.PROCESSING].includes(f)?(0,m.jsx)(_,{onClose:()=>{A(s.qb.SELECTED)},onSubmit:()=>(A(s.qb.PROCESSING),Promise.all(Object.keys(S).filter(e=>S[e]).map(e=>r({userId:e,blockSource:"message_report",blockContext:x,logContextEvent:P}))).finally(()=>{A(s.qb.COMPLETED)})),users:j}):(0,m.jsxs)(l.xu,{padding:8,children:[(0,m.jsx)(l.xu,{children:f!==s.qb.COMPLETED?(()=>{let e;"harassingOther"===h?e=(0,u.nk)(k.bt("  ,       ,      .  ,   ,     . : {{ communityGuidelines }}.", "We remove content that identifies and attacks private people because we consider it to be bullying. We also dont allow content that reveal someones personally identifiable information. Learn more about our {{ communityGuidelines }}.", "confirmation message after reporting harassment", undefined, true),{communityGuidelines:(0,m.jsx)(l.rU,{display:"inlineBlock",href:p.MsG,underline:"hover",children:k.bt(" ", "Community Guidelines", "link to community guidelines for harassment", undefined, true)},"policyLink")}):"harassingPublicFigure"===h?e=k.bt(",          .", "Please note that we wont necessarily take down stuff that attacks public figures.", "message shown after reporting harrassment", undefined, true):"harassingFriend"===h?e=k.bt("    ,     ,    . ,       .", "Before we can review this Pin, we need to hear from the person whos being harassed. Please have your friend report this Pin to us.", "message shown after reporting harrassment", undefined, true):["spam","policies","hurtfulContent"].includes(t)&&(e=k.bt("      ,      Pinterest.", "Well take a look at this Pin and delete it if it goes against our policies.", "confirmation message after reporting a pin", undefined, true));let n=k.nbt(["     .", "     .", "     ."], R.length, "description to block people", true);return(0,m.jsxs)(i.Fragment,{children:[e&&(0,m.jsx)(l.xu,{marginBottom:8,children:(0,m.jsx)(l.xv,{children:e})}),(0,m.jsx)(l.xu,{marginBottom:8,children:(0,m.jsx)(l.xv,{children:n})}),(0,m.jsx)(l.xu,{marginBottom:8,children:R.map(({id:e,full_name:t})=>(0,m.jsx)(l.XZ,{id:"blockPinner"+e,checked:!!S[e],label:(0,u.nk)(k.bt(" {{ pinnerName }}", "Block {{ pinnerName }}", "BlockAndUnfollow", undefined, true),{pinnerName:t}).join(""),onChange:({checked:t})=>{w({...S,[e]:t})},helperText:k.bt("      ,        .", "You wont be able to send each other messages or interact with each others Pins.", "BlockAndUnfollow", undefined, true)},e))})]})})():E&&(0,m.jsx)(l.xu,{marginBottom:8,children:(0,m.jsx)(l.xv,{children:k.bt("        ,       .            .", "You wont be able to follow each other or interact with each others pins.", "BlockAndUnfollow", undefined, true)},"blockingConfirmation")})}),(0,m.jsxs)(l.xu,{children:[f!==s.qb.COMPLETED&&(0,m.jsx)(l.xu,{marginBottom:8,children:(0,m.jsx)(l.xv,{size:"100",children:(0,u.nk)(k.bt(" : {{ linkToTopic }}.", "Learn more about {{ linkToTopic }}", "BlockAndUnfollow", undefined, true),{linkToTopic:(0,m.jsx)(l.rU,{display:"inlineBlock",href:p.K_Y,underline:"hover",children:k.bt("", "blocking", "BlockAndUnfollow", undefined, true)},"policyLink")})})}),(0,m.jsx)(l.xu,{children:(0,m.jsx)(l.zx,{fullWidth:!0,color:"red",onClick:F?()=>{a(),f===s.qb.COMPLETED&&(null==e||e())}:()=>{w(S),A(s.qb.SUBMITTED)},text:F?k.bt("", "Done", "Block.Complete", undefined, true):k.bt("", "Block", "BlockAndUnfollow", undefined, true)})})]})]})})};function b({flagOptions:e,flow:t,handleClose:n,handleNext:i,selectedReason:a,showPrimaryAction:r,submitButton:o}){let d=(0,c.ZP)();if(t===s.Zw.REPORT){var u;if(s.qb.PROCESSING===status||null!==(u=e.getFlagOption(a))&&void 0!==u&&u.isTerminalReason)return o;if(r)return(0,m.jsx)(l.zx,{fullWidth:!0,color:"red",disabled:void 0===a,onClick:i,text:d.bt("", "Next", "go to the next view in the report flow", undefined, true)})}else if(t===s.Zw.END)return(0,m.jsx)(l.zx,{fullWidth:!0,color:"red",onClick:n,text:d.bt("!", "Got it", "confirm reporting flow is done & close modal", undefined, true)});return null}function x({flow:e,flagReason:t}){let n=(0,c.ZP)();if(e===s.Zw.REPORT){if("attacks"===t)return(0,m.jsx)(l.xv,{size:"100",children:(0,u.nk)(n.bt(": {{ linkToTopic }}", "Learn more about our {{ linkToTopic }}", "footer link to learn more about community guidelines", undefined, true),{linkToTopic:(0,m.jsx)(l.rU,{target:"blank",href:p.MsG,children:(0,m.jsx)(l.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:n.bt(" ", "Community Guidelines", "name of footer link to community guidelines", undefined, true)})},"policyLink")})});if("policies"===t)return(0,m.jsxs)("p",{children:[(0,m.jsx)(l.xv,{size:"100",children:(0,u.nk)(n.bt("   {{ linkToTopic }}", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,m.jsx)(l.rU,{target:"blank",href:p.MsG+"#sub-section-adult-content",children:(0,m.jsx)(l.xv,{inline:!0,color:"error",size:"100",children:n.bt(",     ", "our nudity policies", "name of footer link to policy", undefined, true)})},"policyLink")})}),(0,m.jsx)(l.xv,{size:"100",children:(0,u.nk)(n.bt("   {{ linkToTopic }}", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,m.jsx)(l.rU,{target:"blank",href:p.MsG+"#sub-section-dangerous-goods-and-activities",children:(0,m.jsx)(l.xv,{inline:!0,color:"error",size:"100",children:n.bt(",    ", "our policies on hurtful content", "name of footer link to policy", undefined, true)})},"policyLink")})}),(0,m.jsx)(l.xv,{size:"100",children:(0,u.nk)(n.bt("   {{ linkToTopic }}", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,m.jsx)(l.rU,{target:"blank",href:p.MsG+"#sub-section-violence",children:(0,m.jsx)(l.xv,{inline:!0,color:"error",size:"100",children:n.bt(",    ", "our policies on gore", "name of footer link to policy", undefined, true)})},"policyLink")})})]});if("spam"===t||void 0===t)return(0,m.jsx)(l.xv,{size:"100",children:(0,u.nk)(n.bt("   {{ linkToTopic }}", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,m.jsx)(l.rU,{target:"blank",href:p.MsG,children:(0,m.jsx)(l.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:"spam"===t?n.bt(",  ", "our spam policies", "name of footer link to policy", undefined, true):n.bt("", "our policies", "name of footer link to policy", undefined, true)})},"policyLink")})})}return null}function k({arrayOfData:e,handleSelectReason:t,selectedReason:n}){let i=(0,c.ZP)();return(0,m.jsx)(l.xu,{padding:2,children:(0,m.jsx)(l.FX,{id:"flag-option-radio-group",legend:i.bt(" ", "Flag legends", "flag_legend", undefined, true),legendDisplay:"hidden",children:e.map((e,i)=>{let{condition:a}=e;return void 0===a||a?function(e,t,n,i){let{text:a,value:r,category:o}=e;return(0,m.jsx)(l.xu,{paddingY:2,children:(0,m.jsx)(l.FX.RadioButton,{checked:n===r,id:r,onChange:({checked:e})=>t(e,r,o),name:"flagReason",value:r,label:a})},i)}(e,t,n,i):null})})})}class P{constructor(e){this.config=e,this.configMap=function(e){let t={};for(let n in e){let i=e[n];i.forEach(e=>{let{value:i}=e;if(Object.prototype.hasOwnProperty.call(t,i))throw Error("Duplicate key in FlagOptions config: "+i);t[i]={...e,parentOption:n}})}return t}(e)}getFlagOption(e){return e?this.configMap[e]:null}renderFlagLabels(e){let{flagReason:t,onSelectReason:n,selectedReason:i}=e;return(0,m.jsx)(k,{arrayOfData:this.config[t],handleSelectReason:n,selectedReason:i})}}var S=n(88622);function w(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends i.Component{constructor(...e){super(...e),w(this,"flagOptions",new P(this.props.flagOptionsConfig)),w(this,"renderContent",()=>{let{content:e,flow:t,onSelectReason:n,selectedReason:i}=this.props;return e||(t===s.Zw.REPORT?this.flagOptions.renderFlagLabels({flagReason:this.props.flagReason||"__default",onSelectReason:n,selectedReason:i}):t===s.Zw.END?(0,m.jsx)(l.xv,{children:this.props.i18n.bt("     Pinterest  .", "Well use your feedback to make your Pinterest experience better.", "final message in reporting flow", undefined, true)}):void 0)})}componentDidUpdate(e){let{flow:t,onCompletedReport:n,onCompletedBlock:i}=e;if(this.props.flow!==t)switch(t){case s.Zw.REPORT:n&&n();break;case s.Zw.BLOCK:i&&i()}}render(){let{accessibilityModalLabel:e,deleteAndCloseConversation:t,flagType:n,flow:i,status:a,modalTitle:r,onClose:o,selectedReason:d,submitButton:c,flagReason:u,showPrimaryAction:p,users:h,blockContext:g}=this.props;return(0,m.jsx)(S.ZP,{accessibilityModalLabel:e,heading:r,onDismiss:o,size:"md",footer:i!==s.Zw.BLOCK?(0,m.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,m.jsx)(l.xu,{flex:"grow",children:(0,m.jsx)(x,{flagReason:u,flow:i})}),(0,m.jsx)(l.xu,{padding:1,children:i===s.Zw.REPORT?(0,m.jsx)(l.zx,{fullWidth:!0,onClick:void 0===u?this.props.onClose:()=>{var e,t;null===(e=(t=this.props).onRevert)||void 0===e||e.call(t)},text:void 0===u?this.props.i18n.bt("", "Cancel", "cancel form", undefined, true):this.props.i18n.bt("", "Back", "previous step in a form", undefined, true)}):null}),(0,m.jsx)(l.xu,{padding:1,children:(0,m.jsx)(b,{flagOptions:this.flagOptions,flow:i,handleClose:this.props.onClose,handleNext:()=>{var e,t;null===(e=(t=this.props).onNext)||void 0===e||e.call(t)},selectedReason:d,showPrimaryAction:!!p,submitButton:c})})]}):void 0,children:(0,m.jsx)(l.xu,{children:i===s.Zw.BLOCK?(0,m.jsx)(f,{deleteAndCloseConversation:t,flagReason:u,flagType:n,onClose:o,selectedReason:d,status:a,users:h,blockContext:g}):this.renderContent()})})}}function A(e){let t=(0,c.ZP)();return(0,m.jsx)(T,{...e,i18n:t})}},330325:(e,t,n)=>{"use strict";n.d(t,{N:()=>d,d:()=>s});var i=n(667294),l=n(914205),a=n(583592),r=n(785893);let{Provider:o,useHook:s}=(0,a.Z)("Flag"),d=({children:e})=>{let[t,n]=(0,i.useState)(),[a,s]=(0,i.useState)(l.Zw.REPORT),[d,c]=(0,i.useState)(l.qb.STARTED),[u,p]=(0,i.useState)(),[m,h]=(0,i.useState)(),g=(0,i.useMemo)(()=>({flagReason:m,flow:a,status:d,selectedReason:u,modalTitle:t,setFlagReason:h,setFlow:s,setModalTitle:n,setStatus:c,setSelectedReason:p}),[t,a,d,u,m]);return(0,r.jsx)(o,{value:g,children:e})}},281203:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(667294),l=n(702664),a=n(883119),r=n(649413),o=n(330325),s=n(914205),d=n(536042),c=n(837792),u=n(198541),p=n(952239),m=n(785893);let h="policies";function g({aggregatedPinDataId:e,didItDataId:t,onClose:n,pinId:g,username:_,users:y}){let v=(0,d.ZP)(),[f,b]=(0,i.useState)([]),[x,k]=(0,i.useState)(),[P,S]=(0,i.useState)(),w=(0,l.useDispatch)(),T=(e,t,n,i,l)=>w((0,p.Th)(e,t,n,i,l)),{flow:A,modalTitle:C,selectedReason:I,setFlow:j,setModalTitle:E,setSelectedReason:L,setStatus:R,status:F}=(0,o.d)(),D=()=>{if(A===s.Zw.REPORT)switch(P){case"attacks":return v.bt(" ?", "What's going on?", "title for report content flow", undefined, true);case h:return v.bt("     ?", "What's wrong with this Try?", "title for report content flow", undefined, true);case"IP":return v.bt(" ", "Intellectual Property", "title for report content flow for IP complaints", undefined, true);default:return v.bt("     ?", "What's wrong with this Try?", "title for the report content flow", undefined, true)}else if(A===s.Zw.END&&f.includes("notUseful"))return v.bt(",   !", "Thanks for letting us know!", "title at end of report flow when content is not useful", undefined, true);return""};(0,i.useEffect)(()=>{E(D())},[f,A,P]);let z=(0,m.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:()=>{if(R(s.qb.PROCESSING),"ignoreThisPin"===I)j(s.Zw.BLOCK),R(s.qb.STARTED);else{let n=[...f,I];b(n),T(e,n,t,x,_),f.includes("notUseful")?j(s.Zw.END):j(s.Zw.BLOCK),R(s.qb.STARTED)}},text:v.bt("  ", "Report content", "button to report content", undefined, true)});return(0,m.jsx)(r.Z,{accessibilityModalLabel:v.bt("  ", "Report conversation", "Pin.DidIt.Report", undefined, true),content:"IP"===P?(0,m.jsx)(a.xu,{mdDisplay:"flex",justifyContent:"center",children:(0,m.jsxs)(a.xu,{mdColumn:9,children:[(0,m.jsx)(a.xu,{padding:2,marginStart:2,children:(0,m.jsx)(a.xv,{align:"center",color:"default",weight:"bold",children:v.bt(" , ,   ,    ,   ,  .", "If youve found content that you believe violates your intellectual property, you can fill out our copyright complaint form.", "explanation of IP complaint process", undefined, true)})}),(0,m.jsx)(a.xu,{padding:2,children:(0,m.jsx)(a.ZP,{href:(0,u.Z)(c.GEi,{pin_id:g,user_did_it_id:t}),color:"red",text:v.bt("", "File a report", "link to DMCA form", undefined, true),target:"blank"})})]})}):null,flagType:s.Vm.DID_IT,flow:A,modalTitle:C,onClose:n(!0),onNext:()=>{S(I),b([...f,I]),L()},onRevert:()=>{let e=f[f.length-1],t=f.slice(0,-1);L(e),S(t[t.length-1]),b(t),k(),R(void 0===e?s.qb.STARTED:s.qb.SELECTED)},onSelectReason:(e,t,n)=>{e&&(L(t),R(s.qb.SELECTED),k(n))},showPrimaryAction:"IP"!==P,submitButton:z,status:F,selectedReason:I,flagReason:P,users:y,blockContext:null!=e?e:"",flagOptionsConfig:{__default:[{text:v.bt("       ", "It isn't useful or relevant", "tried-it reporting flow", undefined, true),value:"ignoreThisPin",isTerminalReason:!0,category:"ignoreThisPin"},{text:v.bt("     Pinterest", "It shouldn't be on Pinterest", "tried-it reporting flow", undefined, true),value:h,isTerminalReason:!1},{text:v.bt(" ", "It's spam", "tried-it reporting flow", undefined, true),value:"spam",isTerminalReason:!0,category:"spam"},{text:v.bt("   ", "It's my intellectual property", "tried-it reporting flow", undefined, true),isTerminalReason:!1,value:"IP"}],ignoreThisPin:[],policies:[{text:v.bt("   ", "It's sexually explicit", "tried-it reporting flow", undefined, true),value:"nudity",isTerminalReason:!0,category:"nudity"},{text:v.bt(" ", "It's self-harm", "an option on tried-it reporting flow", undefined, true),value:"self-harm",isTerminalReason:!0,category:"self-harm"},{text:v.bt(" ", "It's hate speech", "tried-it reporting flow", undefined, true),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"},{text:v.bt("  ", "It's harassment or bullying", "tried-it reporting flow", undefined, true),value:"attacks",isTerminalReason:!1,category:"attacks"},{text:v.bt(" ", "It's graphic violence", "tried-it reporting flow", undefined, true),value:"gore",isTerminalReason:!0,category:"graphic-violence"}],attacks:[{text:v.bt("    ", "It's a photo of me or my child", "tried-it reporting flow", undefined, true),value:"harassingMeOrMyChild",isTerminalReason:!0,category:"attacks"},{text:v.bt("         ", "It identifies and attacks me or someone I know", "tried-it reporting flow", undefined, true),value:"harassingMeOrAFriend",isTerminalReason:!0,category:"attacks"},{text:v.bt("", "Something else", "tried-it reporting flow", undefined, true),value:"harassingOther",isTerminalReason:!0,category:"attacks"}],IP:[],spam:[]}})}},914205:(e,t,n)=>{"use strict";n.d(t,{Vm:()=>a,Zw:()=>i,qb:()=>l});let i={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},l={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},a={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},987867:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var i=n(667294),l=n(883119),a=n(40660),r=n(820623),o=n(388011),s=n(133636),d=n(536042),c=n(785893);function u(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p={overlay:{__style:{backgroundColor:"#000"}}};class m extends i.PureComponent{constructor(...e){super(...e),u(this,"handleRestartVideo",({event:e})=>{var t,n;e.stopPropagation(),null===(t=(n=this.props).onRestartVideo)||void 0===t||t.call(n,{event:e}),a.Z.increment("web.video.endcard.share",1,{status:"restart",variant:"enabled_send_first"})}),u(this,"handleShareVideo",()=>{let{onToggleFlyout:e,isFlyoutOpen:t,pinId:n,requireAuth:i,logContextEvent:l}=this.props;if(t&&a.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"}),l({event_type:101,component:179,object_id_str:n,view_type:3,view_parameter:156,element:11731}),i){i();return}e&&e()}),u(this,"handleExternalSend",()=>{a.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"})}),u(this,"renderReplayButton",()=>(0,c.jsx)(l.iP,{accessibilityLabel:this.props.i18n.bt(" ", "Watch again", "Button when pressed restarts the video", undefined, true),onTap:this.handleRestartVideo,rounding:2,children:(0,c.jsxs)(l.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,c.jsx)(l.xu,{marginEnd:3,children:(0,c.jsx)(l.JO,{accessibilityLabel:this.props.i18n.bt(" ", "Watch again", "Button when pressed restarts the video", undefined, true),icon:"refresh",color:"inverse",size:18})}),(0,c.jsx)(l.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n.bt(" ", "Watch again", "Clickable label when pressed restarts the video", undefined, true)})]})})),u(this,"renderShareButton",()=>{let{gridDescription:e,imageSrc:t,isFlyoutOpen:n,onFlyoutDismiss:i,pinId:a}=this.props;return(0,c.jsx)(l.iP,{accessibilityLabel:this.props.i18n.bt("", "Send", "end.video.send.icon.label", undefined, true),onTap:this.handleShareVideo,rounding:2,children:(0,c.jsxs)(l.xu,{alignItems:"center",display:"flex",padding:2,justifyContent:"center",children:[(0,c.jsx)(r.default,{controllerOptions:{flyoutDisplayOptions:{shownWithinMasonry:!0},loggingOptions:{component:179,element:72,onExternalSend:this.handleExternalSend,viewType:3},isFlyoutOpen:n,onFlyoutDismiss:i,onToggleFlyout:()=>{},sendObject:{type:"pin",description:e,id:a,imageUrl:t,url:`/pin/${a}/`}},iconOnly:!0,iconColor:"white",tabIndex:-1}),(0,c.jsx)(l.xu,{children:(0,c.jsx)(l.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n.bt("", "Send", "end.video.send.icon.label", undefined, true)})})]})})})}componentDidMount(){let{pinId:e,logContextEvent:t}=this.props;a.Z.increment("web.video.endcard.share",1,{status:"land",variant:"enabled_send_first"}),t({event_type:13,component:179,object_id_str:e,view_type:3,view_parameter:156,element:11731})}render(){let{backgroundImage:e,naturalHeight:t,naturalWidth:n,pinTitle:i}=this.props;return(0,c.jsx)(l.xu,{children:(0,c.jsxs)(l.Ee,{alt:i||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,c.jsx)(l.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:p.overlay}),(0,c.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column",children:(0,c.jsxs)(l.xu,{position:"absolute",children:[(0,c.jsx)(l.xu,{children:this.renderShareButton()}),(0,c.jsx)(l.xu,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}function h(e){let{logContextEvent:t}=(0,o.v)(),n=(0,d.ZP)(),i=(0,s.Z)();return(0,c.jsx)(m,{...e,i18n:n,requireAuth:i,logContextEvent:t})}let g=({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:a})=>{let r=(0,d.ZP)();return(0,c.jsx)(l.xu,{children:(0,c.jsxs)(l.Ee,{alt:a||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,c.jsx)(l.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:p.overlay}),(0,c.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",children:(0,c.jsx)(l.xu,{children:(0,c.jsx)(l.iP,{onTap:i,rounding:2,children:(0,c.jsxs)(l.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,c.jsx)(l.hU,{accessibilityLabel:r.bt("", "Replay", "closeupVideo.endCard.ReplayButton", undefined, true),icon:"refresh",iconColor:"white",size:"md"}),(0,c.jsx)(l.X6,{color:"light",overflow:"normal",size:"400",children:r.bt("", "Replay", "closeupVideo.endCard.ReplayButton", undefined, true)})]})})})})]})})};var _=n(969327),y=n(41162),v=n(719540),f=n(622200),b=n(282802),x=n(463031),k=n(634004),P=n(911386),S=n(886365),w=n(335263),T=n(714557),A=n(197083);function C(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let I=e=>!!e&&e.endsWith(".gif"),j=e=>e&&document.querySelector(`video[poster="${e}"]`)||null;class E extends i.Component{constructor(...e){super(...e),C(this,"state",{controls:"always"===this.props.showControls&&!this.props.disabled,fullscreen:!1,playing:!(0,_.G6)(this.props.requestContext.userAgent.browserName)&&!!this.props.autoplay&&!this.props.disabled,ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted||this.props.shouldMute?0:1,videoStartTime:this.props.videoStartTime||0}),C(this,"setVideoPwtLoadingStop",(e=!1)=>{if(!f.Z)return;let{storyPinStepStopwatch:t,pinId:n,pwtSurfaceContext:i}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",n,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:f.Z.now()}),t.stop()),i&&(e||i.addAnnotation("video.startup.end"),i.addBinaryAnnotation("pin.id",n,"STRING"),i.addBinaryAnnotation("video",!0,"BOOL"),i.markConstraintComplete(w._z),i.addSubspan("perceived_video_load",null,f.Z.now()),"story_pin"===i.getMetricId().segment&&i.removeConstraint(w.pM))}),C(this,"componentDidMount",()=>{let{customThumbnail:e,video:t,preferMp4:n}=this.props,{mp4:i}=t,l=t.hlsv3||t.hls||null,{thumbnail:a}=n&&i||l||{},r=j(e||a);(null==r?void 0:r.ready)===4&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))}),C(this,"componentDidUpdate",(e,t)=>{this.props.videoStartTime&&this.props.videoStartTime!==e.videoStartTime&&this.setState({videoStartTime:this.props.videoStartTime}),!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:"never"!==this.props.showControls}),e.isPlaying&&!1===this.props.isPlaying&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1}),"never"===this.props.showControls&&t.controls&&this.setState({controls:!1}),(t.controls||t.playing)&&this.props.disabled&&this.setState({playing:!1,controls:!1}),!t.playing&&this.state.playing&&this.props.onPlay&&this.props.onPlay()}),C(this,"handleTouch",()=>{let{seeking:e}=this.state,{disabled:t}=this.props;e||t||this.setState(e=>({playing:!e.playing}))}),C(this,"handleShowControls",()=>this.setState({controls:!0})),C(this,"handleHideControls",()=>this.setState({controls:!1})),C(this,"handleReady",()=>{let{ready:e,playing:t}=this.state,{autoplay:n,disabled:i}=this.props;n&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0}),(0,_.G6)(this.props.requestContext.userAgent.browserName)&&!t&&n&&!i&&this.setState({playing:!0})}),C(this,"handleEnded",({event:e})=>{let{customThumbnail:t,customEndCard:n,pinId:i,setCurrentVideo:l,loop:a,onEnded:r}=this.props;e.stopPropagation(),!a&&(this.setState({playing:!1}),I(t)||n||(this.setState({showEndCard:!0,videoStartTime:0}),l({pinId:i,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),r&&r()}),C(this,"handlePause",({event:e})=>{e.stopPropagation(),this.setState({playing:!1})}),C(this,"handlePlay",({event:e})=>{e.stopPropagation(),this.setState({playing:!0})}),C(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})}),C(this,"handlePlayheadDown",()=>{this.setState({seeking:!0})}),C(this,"handlePlayheadUp",()=>{setTimeout(()=>{this.setState({seeking:!1})},500)}),C(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),C(this,"handleShareRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),C(this,"handleVolumeChange",({event:e,volume:t})=>{let{shouldMute:n}=this.props;e.stopPropagation(),n||this.setState({volume:t})}),C(this,"exitFullscreen",()=>{let{document:e}=window;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())}),C(this,"renderCloseupVideoEndCard",(e,t,n,i)=>{let l={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleShareRestartVideo},a={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:r}=this.props,o={gridDescription:r?r.gridDescription:"",imageSrc:r?r.imageSrc:"",isFlyoutOpen:!!r&&r.isFlyoutOpen,onFlyoutDismiss:r?r.onFlyoutDismiss:()=>{},onToggleFlyout:r?r.onToggleFlyout:()=>{},pinId:r?r.pinId:""};return i?(0,c.jsx)(g,{...a}):(0,c.jsx)(h,{...o,...l})})}render(){let e;let{autoplay:t,closeupStoryPinViewability:n,contextLogData:i={component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:a,isPromoted:r,loop:o,onTimeChange:s,objectFit:d,preferMp4:u,preload:p,requestContext:m,roundingOverride:h,showControls:g,variant:y,video:v,captions:f,videoThumbnailStartTime:b}=this.props;i.is_closeup_video=!0;let{controls:k,fullscreen:P,playing:S,showEndCard:w,volume:C,videoStartTime:I}=this.state,j=v.hlsv3||v.hls||null;if(!j&&!v.mp4)return null;let{mp4:E}=v,L=u&&E&&E.url||j&&[{type:"video/m3u8",src:j.url}]||void 0,{height:R,thumbnail:F,width:D}=u&&E||j||{},z=a||F;return e=null!=h?h:"default"===y?0:"storyPin"===y?x.yR:2,(0,c.jsx)(l.zd,{willChangeTransform:!((0,_.G6)(m.userAgent.browserName)&&P),rounding:e,wash:!0,children:w?this.renderCloseupVideoEndCard(null!=z?z:"",null!=R?R:1,null!=D?D:1,r):(0,c.jsx)(l.iP,{accessibilityLabel:this.props.i18n.bt("   ", "Pause or play video", "pin.closeup.video.tap", undefined, true),onMouseEnter:"hover"===g?this.handleShowControls:void 0,onMouseLeave:"hover"===g?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:(0,c.jsx)(A.ZP,{contextLogData:{...i,video_id:this.props.video.id},aspectRatio:(null!=D?D:1)/(null!=R?R:1),closeupStoryPinViewability:n,captions:f,controls:k,hlsConfig:{startLevel:T.V},isAutoPlay:!!t,objectFit:d,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:s,onVolumeChange:this.handleVolumeChange,preferMp4:u,playing:S,onPlay:()=>{},onPlayError:()=>{},preload:p,poster:z,src:L,videoStartTime:I||b,volume:C,loop:o})})})}}function L(e){var t,n;let l=(0,d.ZP)(),a=(0,b.B)(),r=(0,v.g)(),o=(0,y.E)(),{seekTime:s}=(0,k.Hx)(),{pinId:u,isPromoted:p,video:m}=e,{appUI:h,setCurrentVideo:g}=(0,S.I)(),{videosAutoplaying:_}=h,{organicVideosAutoplaying:f,promotedVideosAutoplaying:x}=_,w=a.locale.toLowerCase(),T=null!==(t=null===(n=m.mp4)||void 0===n?void 0:n.captions_urls)&&void 0!==t?t:{},A=w&&T[w]||Object.values(T)[0]||"",C=p?x[u]:f[u],I=(0,P.Z)(),j=parseInt(I.t||0,10),[L,R]=(0,i.useState)((null==C?void 0:C.currentTime)||0);return(0,i.useEffect)(()=>{let e=L;j>0&&(e=j),s&&(e=s),R(e)},[s,j,L]),(0,c.jsx)(E,{...e,i18n:l,isPlaying:!C||!C.paused,captions:String(A)||"",pwtSurfaceContext:o,requestContext:a,setCurrentVideo:g,storyPinStepStopwatch:r,videoStartTime:L})}C(E,"defaultProps",{loop:!1,showControls:"hover"})},411132:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(667294),l=n(883119),a=n(88622),r=n(536042),o=n(630089),s=n(785893);let d=({cancelBlockCallback:e,onBlock:t,onBlockCallback:n,openModalCallback:d,size:c,user:u})=>{let p=(0,r.ZP)(),[m,h]=(0,i.useState)(!1),g=()=>{h(!1)},{username:_,full_name:y,blocked_by_me:v}=null!=u?u:{};return(0,s.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:!v&&(0,s.jsxs)(l.xu,{"data-test-id":"block-button-container",children:[(0,s.jsx)(l.iP,{onTap:()=>{h(!0),null==d||d()},children:(0,s.jsx)(l.X6,{size:c||"400",children:p.bt("", "Block", "BlockButton.Heading.Block", undefined, true)})}),(0,s.jsxs)(a.ZP,{accessibilityModalLabel:"",isOpen:m,onDismiss:g,mobileHideCloseIcon:!0,type:"block_button",children:[(0,s.jsx)(l.xu,{paddingX:3,paddingY:5,children:(0,s.jsx)(l.X6,{accessibilityLevel:1,size:"500",children:(0,o.nk)(p.bt("  {{ full_name }}?", "Block {{ full_name }}?", "BlockButton.FullName.Block", undefined, true),{full_name:y})})}),(0,s.jsx)(l.xu,{marginBottom:3,marginStart:2,marginEnd:2,children:(0,s.jsx)(l.xv,{children:(0,o.nk)(p.bt("    {{full_name}} ({{username}}),              .", "If you block {{full_name}} ({{username}}), you wont be able to follow each other or interact with each others Pins.", "BlockButton.Description.Block", undefined, true),{full_name:y,username:_})})}),(0,s.jsx)(l.xu,{marginBottom:2,marginStart:2,marginEnd:2,children:(0,s.jsx)(l.zx,{fullWidth:!0,color:"red",text:p.bt("", "Block", "BlockButton.Action.Block", undefined, true),onClick:()=>{if(u){let{id:e,first_name:n=""}=u;null==t||t(e,n,p)}g(),null==n||n()}})}),(0,s.jsx)(l.xu,{marginStart:2,marginEnd:2,children:(0,s.jsx)(l.zx,{fullWidth:!0,color:"gray",text:p.bt("", "Cancel", "BlockButton.Action.Cancel", undefined, true),onClick:()=>{g(),null==e||e()}})})]})]})})}},40045:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},874261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a}),n(441143);var i=n(785893);class l{static factory(e){return e instanceof l?e:new l(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function a(e){let{css:t,unsafeCSS:n,...a}=e,r=String(t||"")||n||"",o=!!r;return o?(0,i.jsx)("style",{...a,dangerouslySetInnerHTML:{__html:String(l.factory(r))}}):null}},633917:(e,t,n)=>{"use strict";n.d(t,{N:()=>r,Z:()=>a});var i=n(883119),l=n(785893);function a({children:e,fullWidth:t}){return(0,l.jsx)(i.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},children:e})}function r({children:e,enabled:t}){return t?(0,l.jsx)(a,{children:e}):e}},670640:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var i,l,a=n(167912),r=n(690108),o=n(125715),s=n(970588),d=n(49387),c=n(17330),u=n(198541),p=n(911386);let m={open(e){var t;let n=m._validParams.reduce((t,n)=>(e&&Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]),t),{}),i=m._getDialogType(e),l=m.generateFbRef(null!==(t=e.unauthId)&&void 0!==t?t:""),a=e.object_type&&e.object_id&&"feed"===i,r=(0,c.Z)(e.path),h=(0,p.Z)();if(h.ptrf&&(r=(0,u.Z)(r,{ptrf:h.ptrf})),a&&(r=(0,u.Z)(r,{fb_ref:l})),n.method=i,"feed"===n.method){let t=(0,o.Z)({width:e.width,height:e.height}),i="http://www.facebook.com/sharer/sharer.php?u="+r;n.picture&&(i+="&picture="+n.picture),n.name&&(i+="&title="+n.name),n.description&&(i+="&description="+n.description),n.caption&&(i+="&caption="+n.caption),window.open(encodeURI(i),"sharer",t)}else"send"===n.method?n.link=r:"share"===n.method&&(n.href=r),(0,d.default)(t=>{t.getLoginStatus(()=>{if("send"===n.method){let i;t.ui(n);let l=10,a=setInterval(()=>{((i=function(){if(!document)return;let e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe")).reduce((e,t)=>t instanceof HTMLIFrameElement?e.concat([t]):e,[]);if(e.length)return e.slice(0,e.length-1).forEach(e=>{var t;return null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e)}),e[e.length-1]}())||!l)&&(clearInterval(a),i&&m.executeMessengerCallback(i,e.callback)),l-=1},1e3)}else"share"===n.method&&t.ui(n,t=>{a&&t&&!t.error_message&&(0,s.Z)({url:`/v3/log/facebook/feed_share/${e.object_type||""}/${e.object_id||""}/${l}`,method:"PUT",data:{showError:!1}}),e.callback&&e.callback(t)})})},e.viewer)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10,i=setInterval(()=>{let{width:t}=e.style;"0px"!==t&&n||(clearInterval(i),e.style.width="575px"),n-=1},1e3);t&&t()},generateFbRef(e){let t="";for(;t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return e+":"+t},_getDialogType(e){let t=m._validOptions.includes(e.type),n=t?e.type:"feed";return n}},h=function(e,t){let n=window.screen.width,i=window.screen.height,l=Math.round((n-e)/2),a=i>t?Math.round((i-t)/2):0;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+l+",top="+a};function g(e,t,n){let i=h(t,n);window.open(e,void 0,i)}let _={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){let t=_._getWindowUrl(e.share_path,e.share_text);g(t,_.DIALOG_WIDTH,_.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,u.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,c.Z)(e):void 0,text:t})},y={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){let t=y._getWindowUrl(e.tweet_path,e.tweet_text);g(t,y.DIALOG_WIDTH,y.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,u.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,c.Z)(e):void 0,text:t||void 0})},v=void 0!==i?i:i=n(295971),f=void 0!==l?l:l=n(134167),b=()=>{let e=(0,a.useRelayEnvironment)();return async(t,n)=>await new Promise((i,l)=>(0,a.fetchQuery)(e,f,{invite_category:n.toString(),url:t}).subscribe({next:e=>{var t,n,l,a,r,o,s,d,c;return i({invite_code:null!==(t=null===(n=e.v3CreateShareLinkQuery)||void 0===n?void 0:null===(l=n.data)||void 0===l?void 0:l.inviteCode)&&void 0!==t?t:"",invite_url:null!==(a=null===(r=e.v3CreateShareLinkQuery)||void 0===r?void 0:null===(o=r.data)||void 0===o?void 0:o.inviteUrl)&&void 0!==a?a:"",title:null!==(s=null===(d=e.v3CreateShareLinkQuery)||void 0===d?void 0:null===(c=d.data)||void 0===c?void 0:c.title)&&void 0!==s?s:""})},error:e=>l(e)}))},x=()=>{let e=(0,a.useRelayEnvironment)();return async(t,n,i,l)=>{let r={invite_category:t,invite_object:n,invite_channel:i};return await new Promise((t,n)=>(0,a.fetchQuery)(e,v,{inviteType:JSON.stringify(r),objectId:l}).subscribe({next:e=>{var n,i,l,a,r,o,s,d,c;return t({invite_code:null!==(n=null===(i=e.v3InviteUserExternalQuery)||void 0===i?void 0:null===(l=i.data)||void 0===l?void 0:l.inviteCode)&&void 0!==n?n:"",invite_url:null!==(a=null===(r=e.v3InviteUserExternalQuery)||void 0===r?void 0:null===(o=r.data)||void 0===o?void 0:o.inviteUrl)&&void 0!==a?a:"",title:null!==(s=null===(d=e.v3InviteUserExternalQuery)||void 0===d?void 0:null===(c=d.data)||void 0===c?void 0:c.title)&&void 0!==s?s:""})},error:e=>n(e)}))}};function k(){let e={pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},t=b(),n=x();function i(t,n){let i=e[t.object_type]||0,l=t.invite_channel,a=null==t.invite_category?3:t.invite_category,o=t.object_id,s=r.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:a,invite_object:i,invite_channel:l},invite_code:n,object_id:o,client_tracking_params:t.client_tracking_params});return s.callCreate()}function l(i){let l=e[i.object_type]||0,a=i.invite_channel,r=null==i.invite_category?3:i.invite_category;return 10===r&&i.path?t(i.path,r):n(r,l,a.toString(),i.object_id)}return{ObjectTypeToInviteObject:e,logShareInvite:function(e,t){t&&i(e,t.invite_code)},createShareInviteData:l,shareFacebookInvite:function(e){let{options:t,unauthId:n,viewer:a}=e;return l(t).then(e=>{let l=e.invite_url,r=e.invite_code;if(l){let o={type:"share",object_type:t.object_type,object_id:t.object_id,name:t.name,caption:e.title,description:t.description,path:l,picture:t.picture,callback(e){e&&!e.error_message&&i(t,r)}};m.open({...o,display:"popup",unauthId:n,viewer:a})}return Promise.resolve(e)},e=>Promise.reject(e))},shareTwitterInvite:function(t){let n=e[t.object_type]||0;return l(t).then(e=>{let l=e.invite_url,a=e.invite_code,r=t.description;return 6===n&&t.name&&(r=t.name),r.trim()||(r=`${e.title}
`),l&&y.openDialog({tweet_path:l,tweet_text:r}),i(t,a),Promise.resolve(e)},e=>Promise.reject(e))},shareLineInvite:function(t){let n=e[t.object_type]||0;return l(t).then(e=>{let l=e.invite_url,a=e.invite_code,r=t.description;return 6===n&&t.name&&(r=t.name),r.trim()||(r=`${e.title}
`),l&&_.openDialog({share_path:l,share_text:r}),i(t,a),Promise.resolve(e)},e=>Promise.reject(e))},shareFbMessengerInvite:function(e){let{options:t,unauthId:n,viewer:a}=e;return l(t).then(e=>{let l=e.invite_url,r=e.invite_code;return l&&m.open({type:"send",object_type:t.object_type,object_id:t.object_id,name:t.name,caption:e.title,description:t.description,path:l,picture:t.picture,callback(e){e&&e.success&&i(t,r)},display:"popup",unauthId:n,viewer:a}),Promise.resolve(e)},e=>Promise.reject(e))}}}},824439:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(477288);let l=e=>`@keyframes shopButtonSlideInThenOut {
    0% {
      width: 0px;
    }

    15% {
      width: ${e+i.I6}px;
    }

    85% {
      width: ${e+i.I6}px;
    }

    100% {
      width: 0px;
    }
  }

  @keyframes revealShopText {
    from {
      clip-path: inset(0 100% 0 0);
    }
    to {
      clip-path: inset(0 0 0 0);
    }
  }

@keyframes stelaSlideInThenOut {
    0% {
      opacity: 0;
    }

    15% {
      opacity: 0;
    }

    25% {
      opacity: 1;
    }

    50% {
      opacity: 1;
    }

    75% {
      opacity: 1;
    }

    85% {
      opacity: 0;
    }

    100% {
      opacity: 0;
    }
}


@keyframes stelaGrowInAndOut {
  0% {
    transform: scale(0);
    opacity: 0;
  }

  10% {
    transform: scale(1);
    opacity: 1;
  }

  90% {
    transform: scale(1);
    opacity: 1;
  }

  100% {
    transform: scale(0);
    opacity: 0;
  }
}

  `},477288:(e,t,n)=>{"use strict";n.d(t,{I6:()=>l,Nv:()=>i,RZ:()=>a,ZG:()=>s,b9:()=>o,s0:()=>r});let i=44,l=24,a=446,r=.05,o=36,s=20},882973:(e,t,n)=>{"use strict";n.d(t,{Pw:()=>i,SB:()=>l,ZP:()=>r,x9:()=>a});let i=80,l=56,a=e=>"phone"===e?l:i;function r(e,t){return t?0:a(e)}},94080:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h}),n(167912);var i,l=n(883119),a=n(803817),r=n(536042),o=n(630089),s=n(98736),d=n(618569),c=n(272109),u=n(785893);let p=void 0!==i?i:i=n(114572);function m({pin:e,onClose:t,zIndex:n}){var i,a,p,m;let h=null==e?void 0:null===(i=e.board)||void 0===i?void 0:i.name,g=(null==e?void 0:null===(a=e.board)||void 0===a?void 0:a.privacy)==="protected"?null:null==e?void 0:null===(p=e.board)||void 0===p?void 0:p.url,_=(0,r.ZP)(),y=(0,d.Z)(),v=g&&h?{boardName:h,boardUrl:g,username:g.split("/")[1]}:null;return(0,c.Z)(()=>{var t;null!=e&&null!==(t=e.description)&&void 0!==t&&t.trim()||v||(0,s.My)("lop.dweb.plp.more_info.empty")}),(0,u.jsx)("div",{"data-test-id":"more-information-modal",style:{backgroundColor:"rgba(85, 85, 85, 0.9)",color:"#333",height:"100vh",left:0,position:"fixed",top:0,WebkitFontSmoothing:"antialiased",width:"100vw",zIndex:n||2},onClick:()=>{y({action:"click",item:"close-more-information-modal"}),t()},children:(0,u.jsxs)(l.xu,{as:"section",color:"default",dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, calc(-50% - 32px))",paddingBottom:"10px"}},onClick:e=>e.stopPropagation(),position:"absolute",rounding:2,width:414,children:[(0,u.jsxs)(l.xu,{display:"flex",height:60,justifyContent:"end",dangerouslySetInlineStyle:{__style:{borderBottom:"solid 1px #efefef",padding:"0 24px"}},children:[(0,u.jsx)("div",{onClick:()=>t(),onKeyUp:()=>t(),role:"button",style:{cursor:"pointer",fill:"#767676",marginTop:"20px"},tabIndex:"0",children:(0,u.jsx)(l.xu,{"data-test-id":"close-more-information-modal",children:(0,u.jsx)(l.JO,{accessibilityLabel:_.bt("", "Cancel", "close modal icon", undefined, true),icon:"cancel",inline:!0,size:18})})}),(0,u.jsx)(l.xu,{marginTop:5,position:"absolute",dangerouslySetInlineStyle:{__style:{fontSize:"21px",fontWeight:"bold",left:"50%",transform:"translateX(-50%)"}},children:_.bt("...", "More information", "more information label", undefined, true)})]}),(0,u.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{maxHeight:"calc(60vh - 60px)",overflowY:"auto",padding:"0 24px 24px 24px"}},children:[!!(null!=e&&e.description)&&(0,u.jsx)("h2",{style:{fontSize:"16px",marginTop:"15px"},children:e.description}),!!v&&(0,u.jsx)(l.xu,{marginTop:3,children:(0,u.jsx)(l.xv,{children:(0,o.nk)(_.bt("       {{ board_link }}  {{ profile_link }}.", "Find this Pin and more on {{ board_link }} by {{ profile_link }}.", "Link to pin's board and board's owner", undefined, true),{board_link:(0,u.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,u.jsx)(l.rU,{display:"inlineBlock",href:v.boardUrl,onClick:()=>(0,s.NC)("click_vase_modal_board",!0),underline:"hover",children:v.boardName},"board-link")}),profile_link:(0,u.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,u.jsx)(l.rU,{display:"inlineBlock",href:`/${v.username}/`,onClick:()=>(0,s.NC)("click_vase_modal_profile",!0),underline:"hover",children:(null==e?void 0:null===(m=e.pinner)||void 0===m?void 0:m.fullName)||v.username},"profile-link")})})})})]})]})})}function h({pinKey:e,...t}){let{data:n}=(0,a.sr)(p,e,{type:"pin",useLegacyAdapter:e=>({board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},description:e.description,pinner:e.pinner&&{fullName:e.pinner.full_name}})});return n&&(0,u.jsx)(m,{...t,pin:n})}},793085:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(667294),l=n(883119),a=n(563962),r=n(536042),o=n(262600),s=n(785893);let d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:t,showText:n,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:p}){let m=(0,r.ZP)(),[h,g]=(0,i.useState)(!1),{dangerousInlineStyle:_,iconColor:y}=(0,o.W)(!!e),v=(0,a.Z)();return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(l.iP,{onTap:()=>{v({component:13534,element:11717,event_type:102}),g(!0)},rounding:"circle",children:(0,s.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:_,display:"flex","data-test-id":"verified-badge-icon",children:[(0,s.jsx)(l.JO,{accessibilityLabel:e?m.bt("  ", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true):m.bt(" ", "Badge icon", "merchantVerification.badge.icon", undefined, true),icon:"workflow-status-ok",color:y,inline:!0,size:d[t]}),n&&!c&&(0,s.jsx)(l.xu,{marginStart:2,children:(0,s.jsx)(l.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:_,children:m.bt(" ", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})})]})}),(e||n&&!c)&&(0,s.jsx)(o.Z,{showModal:h,setShowModal:g,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},262600:(e,t,n)=>{"use strict";n.d(t,{W:()=>u,Z:()=>p});var i=n(667294),l=n(883119),a=n(770130),r=n(563962),o=n(88622),s=n(536042),d=n(837792),c=n(785893);let u=e=>{let t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:n,setShowModal:p}){let m=(0,s.ZP)(),[h,g]=(0,i.useState)(!0),{dangerousInlineStyle:_,iconColor:y}=u(!0),v=(0,r.Z)();return(0,i.useEffect)(()=>{n&&h&&(g(!1),v({event_type:13,component:13534}))},[n]),(0,c.jsx)(o.ZP,{accessibilityModalLabel:m.bt("   ", "Verified merchant information", "creator.verifiedMerchant.accessibilityModalLabel", undefined, true),isOpen:n,mobileAccessibilityCloseIconLabel:m.bt("", "Close", "Close modal window", undefined, true),onDismiss:()=>{v({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,c.jsx)(l.xu,{padding:3,children:(0,c.jsxs)(l.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,c.jsx)(l.xu,{display:"flex",dangerouslySetInlineStyle:_,justifyContent:"center",children:(0,c.jsx)(l.JO,{accessibilityLabel:m.bt("  ", "Merchant verification badge icon", "creator.verifiedMerchant.modalIcon", undefined, true),color:y,icon:"workflow-status-ok",size:24})}),(0,c.jsx)(l.xu,{marginTop:4,children:(0,c.jsx)(l.xv,{color:"shopping",weight:"bold",align:"center",children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:_,children:m.bt(" ", "Verified merchant", "creator.verifiedMerchant.modalHeader", undefined, true)})})}),(0,c.jsx)(l.xu,{marginTop:4,marginBottom:4,children:(0,c.jsx)(l.xv,{align:"center",overflow:"normal",children:m.bt("    Pinterest  ", "This retailer meets Pinterest's Merchant Guidelines", "creator.verifiedMerchant.modalText.", undefined, true)})}),e.map(e=>(0,c.jsxs)(l.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,c.jsx)(l.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsx)(l.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,c.jsx)(l.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,a.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,c.jsx)(l.xu,{marginTop:2,children:(0,c.jsx)(l.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id)),(0,c.jsx)(l.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,c.jsx)(l.ZP,{accessibilityLabel:m.bt("", "Learn more", "creator.verifiedMerchant.buttonText", undefined, true),target:"blank",size:"lg",href:d.vBy,text:m.bt("", "Learn more", "creator.verifiedMerchant.buttonText", undefined, true)})})]})})})}},78309:(e,t,n)=>{"use strict";n.d(t,{$N:()=>h,Cu:()=>_,GY:()=>d,MZ:()=>r,NR:()=>u,Vn:()=>c,bC:()=>g,fm:()=>i,kM:()=>a,q6:()=>l,qp:()=>s,uV:()=>p,ug:()=>m,xL:()=>o});let i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},l={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},a={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},r={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud"},o={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},s={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY"},d={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},c={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},u={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},p="604800",m="86400",h={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},g="click",_="view"},521262:(e,t,n)=>{"use strict";n.d(t,{YS:()=>r,eF:()=>o,m_:()=>a});var i=n(40660),l=n(78309);function a(e,t,n,i,a){let r=new URLSearchParams,o=null!=e?e:"0";return r.append(l.NR.SOURCE_EVENT_ID,o),r.append(l.NR.DESTINATION,function(e){let t;try{t=decodeURIComponent(e)}catch(n){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(i){let n=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(n&&n.length>1)return n[1];return e}}(t)||""),r.append(l.NR.EXPIRY,n?l.uV:l.ug),r.append(l.NR.PRIORITY,n?l.NR.CLICK_PRIORITY:l.NR.VIEW_PRIORITY),a&&r.append(l.NR.ADVERTISER_ID,a),i&&r.append(l.NR.CAMPAIGN_ID,i),r.append(l.NR.SOURCE_EVENT_TYPE,n?l.bC:l.Cu),"/attribution_source/?"+r.toString()}async function r(e,t,n,l,r,o,s){let{appType:d,osType:c}=o||{};if(["Pin","pinImpressions"].includes(e)&&t&&l){i.Z.increment("webapp.arapi.view.funnel",.1,{status:"start",appType:d,osType:c});try{var u;if(!(null!==(u=window.document.featurePolicy)&&void 0!==u&&u.allowsFeature("attribution-reporting"))){i.Z.increment("webapp.arapi.view.funnel",.1,{status:"skipped",message:"attribution-reporting is not enabled",appType:d,osType:c});return}let e=a(n,l||"",!1,r,s),t=await window.fetch(e,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}});if(!t.ok)throw Error("server request failed.");i.Z.increment("webapp.arapi.view.funnel",.1,{status:"success",appType:d,osType:c})}catch(e){i.Z.increment("webapp.arapi.view.funnel",.1,{status:"failed",error:e.name,appType:d,osType:c})}}else i.Z.increment("webapp.arapi.view.funnel",.1,{status:"missing_param",appType:d,osType:c})}function o(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},387977:(e,t,n)=>{"use strict";function i(e){return("undefined"==typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e&&e()})})}n.d(t,{Z:()=>i})},798198:(e,t,n)=>{"use strict";n.d(t,{CC:()=>l,Ll:()=>r,XF:()=>a});let i=(e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}),l=(e,t)=>{let n=2*Math.random()*Math.PI;return i(t/2,e/2,n)},a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,r=e=>["@-webkit-keyframes","@keyframes"].map(t=>e.map(e=>t+" "+e).join("\n")).join("\n")},651575:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m}),n(167912);var i,l=n(883119),a=n(803817),r=n(536042),o=n(98736),s=n(618569),d=n(785893);let c=void 0!==i?i:i=n(327511),u=()=>{let e=(0,r.ZP)();return(0,d.jsx)(l.xv,{size:"300",children:e.bt("   Pinterest", "Featured in Pinterest's article", "Title of suggesting articles module in the pin.", undefined, true)})};function p({isDesktop:e,pin:t}){let n=(0,r.ZP)(),i=(0,s.Z)(),{_id:a,mainImageUrl:c,title:p,urlPath:m}=(null==t?void 0:t.relatedArticle)||{};if(!a&&!c&&!p&&!m)return null;let h=()=>{(0,o.tj)("mweb.unauth.featured_in_article_text.plp.touch",{article_id:a}),i({action:"click",item:"pin-featured-in-article"})};return(0,d.jsxs)(l.xu,{marginTop:10,children:[(0,d.jsx)(l.iz,{}),!e&&(0,d.jsx)(l.xu,{marginTop:4,marginBottom:-2,children:(0,d.jsx)(u,{})}),(0,d.jsxs)(l.xu,{display:"flex",direction:"row",marginBottom:4,marginTop:4,children:[(0,d.jsx)(l.xu,{alignSelf:"center",children:(0,d.jsx)(l.zd,{width:48,height:48,rounding:3,children:c&&(0,d.jsx)(l.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:c})})}),(0,d.jsxs)(l.xu,{marginStart:2,marginEnd:2,alignSelf:"center",children:[e&&(0,d.jsx)(u,{}),(0,d.jsx)(l.rU,{href:m||"",underline:"none",tapStyle:"compress",onClick:()=>h(),children:(0,d.jsx)(l.xv,{size:"300",weight:"bold",overflow:"normal",children:p})})]}),(0,d.jsx)(l.xu,{"data-test-id":"view-button",marginStart:"auto",children:(0,d.jsx)(l.ZP,{fullWidth:!0,href:m||"",size:"lg",text:n.bt("", "View", "Button that takes the user from a pin to the article the pin is featured on", undefined, true),onClick:()=>h()})})]})]})}let m=({pinKey:e,...t})=>{let{data:n}=(0,a.sr)(c,e,{type:"pin",useLegacyAdapter:e=>({relatedArticle:e.related_article&&{_id:e.related_article.id,mainImageUrl:e.related_article.main_image_url,title:e.related_article.title,urlPath:e.related_article.url_path}})});return n&&(0,d.jsx)(p,{...t,pin:n})}},969327:(e,t,n)=>{"use strict";n.d(t,{G6:()=>a,i7:()=>r,oi:()=>i,u$:()=>l,un:()=>s,vU:()=>o});let i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),l=e=>e?e.includes("Chrome")?i.CHROME:e.includes("Safari")?i.SAFARI:e.includes("Firefox")?i.FIREFOX:e.includes("Opera")?i.OPERA:e.includes("IE")?i.IE:e.includes("Edge")?i.EDGE:i.OTHER:i.OTHER;function a(e){return l(e)===i.SAFARI}function r(e){return l(e)===i.CHROME}function o(e){return l(e)===i.FIREFOX}function s(e){return l(e)===i.EDGE}},865173:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l,v:()=>i});let i=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function l(){if(!i())return[];try{let e=await navigator.getInstalledRelatedApps();return e}catch(e){return[]}}},603801:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294);function l(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function a(){return window.innerWidth}function r(){return window.innerHeight}function o(){return null}function s(){let e=(0,i.useSyncExternalStore)(l,r,o),t=(0,i.useSyncExternalStore)(l,a,o);return null!==e&&null!==t?{height:e,width:t}:null}},770130:(e,t,n)=>{"use strict";n.d(t,{Bu:()=>h,Dm:()=>o,I:()=>y,NG:()=>p,QP:()=>c,S4:()=>d,Xe:()=>u,_f:()=>m,eT:()=>g,hm:()=>_,yQ:()=>s,ym:()=>v});var i=n(9507);let l=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),a=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),r=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),o=[...Object.keys(l).map(e=>l[e]),...Object.keys(a).map(e=>a[e])],s=[...Object.keys(r).map(e=>r[e])],d=3,c=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:c[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",m="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function h({verifiedMerchant:e}){var t,n;let i=null==e?void 0:e.isVerifiedMerchant,l=null==e?void 0:null===(t=e.inspirational_signal)||void 0===t?void 0:t.is_inspirational,a=null==e?void 0:null===(n=e.inspirational_signal)||void 0===n?void 0:n.is_eligible_for_storefront_badges;return!!(i&&l&&a)}function g(e){return e.badge_details?e.badge_details.map(e=>e.id):[]}function _(e){return(null==e?void 0:e.profile_badges)||[]}function y(e,t,n){return t&&n?t.map(e=>n.find(t=>t.id===e.trim())).filter(Boolean):[]}function v(e){let t=e||c[0];return{backgroundColor:t,color:function(e){let t=(0,i.oo)(e);if(!t)return"white";let[n,l,a]=t,r=(0,i.DW)(n,l,a);return r<=i.I?"white":"black"}(t)}}},346190:(e,t,n)=>{"use strict";function i(e,t=!1){var n;return e&&null!==(n=[...t?[e["736x"],e["564x"]]:[e["564x"],e["736x"]],e["474x"],e["236x"]].find(e=>null==e?void 0:e.url))&&void 0!==n?n:null}n.d(t,{Z:()=>i})},324509:(e,t,n)=>{"use strict";n.d(t,{P:()=>p,Z:()=>u});var i,l,a,r,o=n(167912),s=n(450600),d=n(128340),c=n(803817);function u(e){let{childDataKey__DEPRECATED:t}=(0,s.u)(void 0!==r?r:r=n(347787),e,{useLegacyAdapter:()=>({})}),u=function(e){var t,l;let{data:a}=(0,s.u)(void 0!==i?i:i=n(150682),e,{useLegacyAdapter:e=>{var t,n,i;return{carouselData:e.carousel_data&&{entityId:null!==(t=e.carousel_data.id)&&void 0!==t?t:"",index:e.carousel_data.index,carouselSlots:null!==(n=null===(i=e.carousel_data.carousel_slots)||void 0===i?void 0:i.map(e=>{var t,n,i,l;return{details:e.details,imageSignature:e.image_signature,image236x:(null===(t=e.images)||void 0===t?void 0:t["236x"])&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width},image474x:(null===(n=e.images)||void 0===n?void 0:n["474x"])&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},image564x:(null===(i=e.images)||void 0===i?void 0:i["564x"])&&{height:e.images["564x"].height,url:e.images["564x"].url,width:e.images["564x"].width},image736x:(null===(l=e.images)||void 0===l?void 0:l["736x"])&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width},slotId:e.id,title:e.title}}))&&void 0!==n?n:[]}}}});return null!=a&&a.carouselData?{index:a.carouselData.index,carouselId:a.carouselData.entityId,carouselSlots:null!==(t=null===(l=a.carouselData.carouselSlots)||void 0===l?void 0:l.map(({details:e,imageSignature:t,image236x:n,image474x:i,image564x:l,image736x:a,slotId:r,title:o})=>({details:e,imageSignature:t,imageSizeMap:[["236x",n],["474x",i],["564x",l],["736x",a]].reduce((e,[t,n])=>({...e,[t]:n}),{}),slotId:r,title:o})))&&void 0!==t?t:[]}:null}(t),p=function({pinKey:e,index:t}){let i;return i=null==e?{type:"deprecated",data:null}:"graphqlRef"===e.type?e:{type:"deprecated",data:e.data},(0,c.Zm)(void 0!==a?a:a=n(587741),i,{useGraphQLAdapter:e=>{var i,a;let r=null===(i=e.richMetadata||e.richSummary)||void 0===i?void 0:null===(a=i.products)||void 0===a?void 0:a[0],s=function(e){let t=(0,o.useFragment)(void 0!==l?l:l=n(765763),e);if(!t)return[];let i={},{image236x:a,image474x:r,image564x:s,image736x:d}=t;return[[a,"236x"],[r,"474x"],[s,"564x"],[d,"736x"]].forEach(([e,t])=>{(null!=e?e:[]).forEach(({canonicalImage:e,imageSignature:n})=>{n&&e&&(i={...i,[n]:{...i[n],[t]:{height:e.height,url:e.url,width:e.width}}})})}),Object.entries(i).map(([e,t])=>({imageSignature:e,imageSizeMap:t}))}(r);return r&&s.length?{carouselId:r.productId,carouselSlots:[{imageSignature:null,imageSizeMap:[["236x",e.image236x],["474x",e.image474x],["564x",e.image564x],["736x",e.image736x]].reduce((e,[t,n])=>({...e,[t]:n&&{height:n.height,url:n.url,width:n.width}}),{})},...s],index:t}:null},useLegacyAdapter:e=>{var n,i,l;let a=null===(n=(null==e?void 0:e.rich_metadata)||(null==e?void 0:e.rich_summary))||void 0===n?void 0:null===(i=n.products)||void 0===i?void 0:i[0],r=(null!==(l=null==a?void 0:a.additional_images)&&void 0!==l?l:[]).reduce((e,{canonical_images:t,image_signature:n})=>e.concat(t&&n?[{imageSignature:n,imageSizeMap:Object.keys(t).reduce((e,n)=>t[n]?{...e,[n]:{height:t[n].height,url:t[n].url,width:t[n].width}}:e,{})}]:[]),[]);return e&&a&&r.length?{carouselId:a.id,carouselSlots:[...e.images?[{imageSignature:null,imageSizeMap:(0,d.b)(e.images)}]:[],...r],index:t}:null}}).data}({pinKey:t,index:null==u?void 0:u.index});return p?{...p,carouselSlots:p.carouselSlots.map(e=>({...e,details:null,slotId:null,title:null}))}:u}function p({children:e,pinKey:t}){return e(u(t))}},946618:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(739425);let l=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,a=(e,t)=>t?e.substring(t.length).split("/")[0]:e,r=({boardUrl:e,path:t,pinId:n,pinnerUserName:r,query:o,search:s,storyPinDataId:d})=>{var c;if(!t)return"";let u="";switch(t){case"/":case"/homefeed/":return"UserHomefeedResource";case r&&`/${r}/pins/`:return"UserPinsResource";case r&&`/${r}/`:case/\/_activity\//.test(t)&&t:return"UserActivityPinsResource";case/\/_created\//.test(t)&&t:return d?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(t)&&t:return"UserDiscoveredPinsResource";case/\/_shop\//.test(t)&&t:return"StoreFrontFeedResource";case/\/_saved\//.test(t)&&t:return"BoardlessPinsResource";case r&&`/${r}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(t)&&t:return"VisualLiveSearchResource";case/\/pin\//.test(t)&&t:u="/pin/";let p=a(t,u);if(n!==p)return`RelatedPinFeedResource_${p}`;break;case/\/search\//.test(t)&&t:if(s){let e=(0,i.mB)(s,{shouldDecode:!1}).q||"";return`SearchResource_${e.toLowerCase()}`}if(o)return`SearchResource_${encodeURIComponent(o.q||"").toLowerCase()}`;break;case/\/categories\//.test(t)&&t:u="/categories/";let m=a(t,u);return`CategoryFeedResource_${m}`;case/\/discover\/topics\//.test(t)&&t:return"CategoryFeedResource";case/\/news_hub\//.test(t)&&t:u="/news_hub/";let h=a(t,u);return`NewsHubDetailsResource_${h}`;case/\/_tools\/more-ideas\//.test(t)&&t:return"BoardContentRecommendationResource";case/\/topics\//.test(t)&&t:u="/topics/";let g=a(t,u);return`TopicFeedResource_${g}`;case r&&`/${r}/products/`:return"StoreFrontFeedResource";case/\/source\//.test(t)&&t:u="/source/";let _=a(t,u);return`DomainFeedResource_${_}`;case/\/explore\//.test(t)&&t:u="/explore/";let y=a(t,u);return`SearchResource_${y}`;case e:case!!e&&/\/more_ideas\//.test(t)&&t:return"BoardFeedResource";case e&&t.indexOf(e)>-1&&t:return"BoardSectionPinsResource";case/\/brand_catalog\//.test(t)&&t:return"BrandCatalogFeedResource";case l.test(t)&&t:let v=(null===(c=t.match(l))||void 0===c?void 0:c[2])||"unknown";return`TodayArticleFeedResource_${v}`;case/\/today\//.test(t):return"TodayTabResource";case/\story_feed\//.test(t)&&t:if(s){let{feed_type:e,request_params:t}=(0,i.mB)(s);return`StoryFeedResource_${e}_${t}`}}return""},o=e=>{let t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""},s=({boardUrl:e,location:t,pinId:n,pinnerUserName:i,previousHistory:l,storyPinDataId:a,trackingParams:s,trackingParamsMap:d={}})=>{let c,u;if(!n||!s||!t)return;if(!d)return`${null!=s?s:""}~0`;let{pathname:p,search:m,query:h}=t,g=r({boardUrl:e,path:p,pinId:n,pinnerUserName:i,query:h,search:m,storyPinDataId:a,trackingParams:s,trackingParamsMap:d}),_=Object.keys(d),y=(p||"").startsWith("/pin/");if(y){let e=_.find(e=>"PinResource"!==e);c=e?d[e]:d.PinResource}else c=d[g];if(!c&&l&&l.length){let t=o(l[l.length-1].location);u=r({boardUrl:e,path:t,pinId:n,pinnerUserName:i,query:h,search:m,storyPinDataId:a,trackingParams:s,trackingParamsMap:d}),c=d[u]}return c||(c=`${s||""}~0`),c}},222443:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(616550),l=n(946618),a=n(525104);function r(){let e=(0,a.S6)(),t=(0,i.useLocation)();return(n,i)=>{let a;let r=e(n);if(null!=i&&i.shouldTrackForPrevLocation){let e=(null==r?void 0:r.tracking_params_map)||{},t=Object.keys(e),n=t.find(e=>"PinResource"!==e);r&&(a=n?e[n]:e.PinResource)}else if(r){var o,s;a=(0,l.Z)({boardUrl:null===(o=r.board)||void 0===o?void 0:o.url,location:t,pinId:r.id,pinnerUserName:null===(s=r.pinner)||void 0===s?void 0:s.username,storyPinDataId:r.story_pin_data_id,trackingParams:r.tracking_params,trackingParamsMap:r.tracking_params_map})}return a}}},59089:(e,t,n)=>{"use strict";function i({isHiddenPin:e,isUnsafePin:t}){return!e&&!t}n.d(t,{Z:()=>i})},9507:(e,t,n)=>{"use strict";n.d(t,{DW:()=>a,I:()=>l,oo:()=>i,zI:()=>r});let i=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},l=.18,a=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2,r=e=>{let t=e.replace("#",""),n=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),l=parseInt(t.substr(4,2),16);return(299*n+587*i+114*l)/1e3<155}},448861:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(883119),l=n(870243),a=n(536042),r=n(785893);let o=({isQuestion:e,name:t,size:n,src:o})=>{let s=(0,a.ZP)();return(0,r.jsxs)(i.xu,{position:"relative","data-test-id":"comment-avatar-container",children:[(0,r.jsx)(l.qE,{size:n,src:o,name:t}),e&&(0,r.jsxs)(i.xu,{position:"absolute",right:!0,bottom:!0,marginEnd:-1,marginBottom:-1,width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",children:[(0,r.jsx)(i.xu,{position:"absolute",children:(0,r.jsx)(i.JO,{icon:"speech",color:"dark",accessibilityLabel:s.bt("    ", "Q and A comment", "comment.userAvatar.creator.q&aIndicator", undefined, true)})}),(0,r.jsx)(i.xu,{position:"absolute",children:(0,r.jsx)(i.JO,{icon:"question-mark",color:"light",size:8,accessibilityLabel:s.bt("    ", "Q and A comment", "comment.userAvatar.creator.q&aIndicator", undefined, true)})})]})]})}},618762:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f}),n(167912);var i,l=n(883119),a=n(81660),r=n(536042),o=n(630089),s=n(467763),d=n(497088),c=n(251951),u=n(154500),p=n(525104),m=n(220271),h=n(785893);let g=void 0!==i?i:i=n(125555),_=({aggregatedPinDataId:e,commentCount:t,commentsDisabled:n,inCommentModuleExp:i,isEligibleForPinReactions:a,isInCommentModule:d,nativePinType:p,onCancel:m,pinUid:g,reactionCounts:_,refetchReactionCount:y})=>{let v=(0,r.ZP)(),{clientTrackingParams:f}=(0,c.R)();return(0,h.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:d?void 0:"1px solid var(--color-gray-roboflow-200)"}},display:"flex",justifyContent:"between",paddingX:d?0:4,paddingY:d?0:5,marginBottom:d?4:0,marginTop:d?0:1,children:[(0,h.jsxs)(l.kC,{alignItems:"center",gap:{row:4,column:0},children:[!!m&&(0,h.jsx)(l.iP,{onTap:m,dataTestId:"comment-reaction-united-cancel",children:(0,h.jsx)(l.JO,{accessibilityLabel:v.bt("", "cancel", "commentThreadModal.header.cancel", undefined, true),color:"default",icon:"cancel"})}),(0,h.jsx)(l.xu,{"data-test-id":"comment-reaction-united-header-with-count",children:(0,h.jsx)(l.xv,{weight:"bold",children:t&&!n?(0,o.nk)(v.nbt(["{{ commentCount }}", "{{ commentCount }}", "{{ commentCount }}"], t, "pinCloseup.commentThread.header", true),{commentCount:t}):v.bt(" ?", "What do you think?", "pinCloseup.commentThread.header", undefined, true)})})]}),a&&(0,h.jsxs)(l.kC,{alignItems:"center",gap:{column:0,row:i?2:3},dataTestId:"reaction-aggregation-and-picker-container",children:[(0,h.jsx)(s.Z,{isBold:!1,inCommentModuleExp:i,isInCommentModule:d,paddingY:0,pinId:g,reactionCounts:_}),(0,h.jsx)(u.default,{aggregatedPinDataId:e,clientTrackingParams:f,hasBackground:!i,inCommentModuleExp:i,isInCommentModule:d,isTrayPositionRelative:!1,onReactionUpdated:()=>{y&&y()},nativePinType:p,pinId:g})]})]})};function y(e){var t;let{data:n,refetch:i}=(0,a.Z)(g,{pinId:e.pinUid},{suspendOnRefetch:!1}),l=(0,m.Z)(null===(t=n.v3GetPinQuery)||void 0===t?void 0:t.data);return(0,h.jsx)(_,{...e,reactionCounts:l,refetchReactionCount:i})}function v(e){let t=(0,p.S6)()(e.pinUid);return(0,h.jsx)(_,{...e,reactionCounts:null==t?void 0:t.reaction_counts})}function f({shouldUseGraphQL:e,...t}){return e?(0,h.jsx)(d.Z,{children:(0,h.jsx)(y,{...t})}):(0,h.jsx)(v,{...t})}},668166:(e,t,n)=>{"use strict";n.d(t,{Z:()=>en});var i=n(883119),l=n(667294),a=n(702664),r=n(473727),o=n(914939),s=n(330325),d=n(281203),c=n(448861),u=n(536042),p=n(785893);let m=({color:e,isMarkedHelpful:t})=>{let n=(0,u.ZP)();return(0,p.jsx)(i.JO,{color:t?"brandPrimary":e,accessibilityLabel:n.bt("", "Helpful", "comment.button.helpful", undefined, true),icon:void 0,size:12,dangerouslySetSvgPath:{__path:"M21 13.5C21 14.604 20.104 15.5 19 15.5C20.104 15.5 21 16.396 21 17.5C21 18.604 20.104 19.5 19 19.5H16.75C17.717 19.5 18.5 20.284 18.5 21.25C18.5 22.216 17.717 23 16.75 23H10.5C6.357 23 3 19.642 3 15.5C3 13.386 3.878 11.479 5.286 10.116C7.357 7.907 8.502 5.034 8.502 2C8.502 0.896 9.396 0 10.502 0C11.605 0 12.502 0.896 12.502 2C12.502 3.906 12.147 5.758 11.504 7.5H19C20.104 7.5 21 8.396 21 9.5C21 10.604 20.104 11.5 19 11.5C20.104 11.5 21 12.396 21 13.5ZM21 13.5C21 14.604 20.104 15.5 19 15.5C20.104 15.5 21 16.396 21 17.5C21 18.604 20.104 19.5 19 19.5H16.75C17.717 19.5 18.5 20.284 18.5 21.25C18.5 22.216 17.717 23 16.75 23H10.5C6.357 23 3 19.642 3 15.5C3 13.386 3.878 11.479 5.286 10.116C7.357 7.907 8.502 5.034 8.502 2C8.502 0.896 9.396 0 10.502 0C11.605 0 12.502 0.896 12.502 2C12.502 3.906 12.147 5.758 11.504 7.5H19C20.104 7.5 21 8.396 21 9.5C21 10.604 20.104 11.5 19 11.5C20.104 11.5 21 12.396 21 13.5Z"},inline:!0})};var h=n(932845),g=n(123228),_=n(388011),y=n(550140),v=n(245410),f=n(63262),b=n(802071),x=n(329689),k=n(421461),P=n(384722),S=n(76008),w=n(952239),T=n(16393),A=n(274796),C=n(613352);let I=({aggregatedPinDataId:e,anchor:t,closeupAttributionId:n,comment:r,dismiss:o,isOpen:s,isReply:d,onEdit:c,onShowBlockUserModal:m,parentId:I,pinnerId:j,pinId:E})=>{let L=(0,u.ZP)(),R=(0,a.useDispatch)(),{logContextEvent:F}=(0,_.v)(),{showToast:D}=(0,f.F9)(),{checkExperiment:z}=(0,v.F)(),{anyEnabled:M}=z("web_m10n_business_access_orbac_ga"),{toggleAggregatedCommentHighlight:O}=(0,S.nf)(),Z=(0,h.Z)(),[N,K]=(0,l.useState)(!1);(0,l.useEffect)(()=>{K(s)},[s,K]);let B=(0,b.Z)(),U=(0,x.Z)(),H=(0,k.Z)(),{reportComment:V}=(0,C.f)(),G=null!=n?n:"",$=r.user.id,W=B.isAuth&&G===B.id,q="userdiditdata"===r.type,Y=(0,P.q6)(B,null!=j?j:"",M?U:{}),X=(0,P.D3)(B,$,M?U:{}),J=(0,P.D3)(B,G,M?U:{}),Q=B.isAuth&&(r.tagged_users||[]).filter(({id:e})=>e===B.id).length>0,ee=async e=>{try{await O({aggregatedCommentId:r.id,pinId:E,isHighlighted:e}),F({event_type:101,component:13712,element:e?12475:12474,view_type:220,aux_data:{creator_id:$}}),D(({hideToast:t})=>(0,p.jsx)(y.ZP,{primaryAction:{accessibilityLabel:L.bt("      ", "Undo comment highlight or comment highlight removal", "unifiedComment.unifiedCommentContainer.commentHighlightToast.a11yUndoButton", undefined, true),label:L.bt("", "Undo", "unifiedComment.unifiedCommentContainer.commentHighlightToast.undoButton", undefined, true),size:"lg",onClick:()=>{O({aggregatedCommentId:r.id,pinId:E,isHighlighted:!e})}},onHide:t,text:e?L.bt(" ", "Highlight removed", "unifiedComment.unifiedCommentContainer.commentHighlightRemovalToast", undefined, true):L.bt(" ", "Comment highlighted", "unifiedComment.unifiedCommentContainer.commentHighlightToast", undefined, true)}))}catch(e){e.message&&D(({hideToast:t})=>(0,p.jsx)(y.ZP,{onHide:t,text:e.message,type:"error"}))}},et=e=>()=>void ee(e),en=e=>()=>{e(),o(!0)};if(!s)return null;let ei={highlight:L.bt("", "Highlight", "Highlight a community post or comment", undefined, true),removeHighlight:L.bt(" ", "Remove highlight", "Remove highlight for a community post or comment", undefined, true),edit:L.bt("", "Edit", "Edit a community post or comment", undefined, true),delete:L.bt("", "Delete", "Delete a community post or comment", undefined, true),reportContent:L.bt("   ", "Report this content", "Report a community post or comment", undefined, true),removeMention:L.bt(" @", "Remove @mention", "closeup.activityItem.removeMention", undefined, true),reportForNetzDG:L.bt("     NetzDG", "Report comment for NetzDG", "commentOverflowMenu.option.reportForNetzDG", undefined, true),blockUser:L.bt(" ", "Block user", "closeup.activityItem.blockUser", undefined, true)},el=new i.Ry(1);return N&&(0,p.jsx)(i.xu,{onFocus:e=>e.stopPropagation(),children:(0,p.jsx)(i.Lt,{id:"comment-overflow-popover",anchor:t,idealDirection:"down",onDismiss:()=>o(!1),isWithinFixedContainer:!1,zIndex:el,children:B.isAuth?(0,p.jsxs)(l.Fragment,{children:[!d&&W&&!r.highlighted_by_pin_owner&&!q&&(0,p.jsx)(i.Lt.Item,{onSelect:en(et(!1)),option:{label:ei.highlight,value:ei.highlight},dataTestId:"dropdown-item-highlight"}),!d&&W&&r.highlighted_by_pin_owner&&!q&&(0,p.jsx)(i.Lt.Item,{onSelect:en(et(!0)),option:{label:ei.removeHighlight,value:ei.removeHighlight},dataTestId:"dropdown-item-remove-highlight"}),X&&(0,p.jsx)(i.Lt.Item,{onSelect:en(c),option:{label:ei.edit,value:ei.edit},dataTestId:"dropdown-item-edit"}),(X||J)&&(0,p.jsx)(i.Lt.Item,{onSelect:en(()=>{"aggregatedcomment"===r.type?Z({aggregatedCommentId:r.id,aggregatedPinId:null!=e?e:"",feedType:d?"aggregatedComments":A.Z.UNIFIED_COMMENTS,orbacSubjectId:H,parentId:I,type:d?g.Rv.REPLY_TO_AGGREGATED:g.Rv.TOP,updateParentCommentCount:!0,pinId:E}):R((0,w.lg)({aggregatedPinDataId:null!=e?e:"",feedType:A.Z.UNIFIED_COMMENTS,id:r.id,isOwnedByMe:!0,pinId:null!=E?E:"",username:r.user.username,updateParentDidItCount:!0}))}),option:{label:ei.delete,value:ei.delete},dataTestId:"dropdown-item-delete"}),!X&&!Y&&(0,p.jsx)(i.Lt.Item,{onSelect:en(()=>{V(r.id,I,r.type)}),option:{label:ei.reportContent,value:ei.reportContent},dataTestId:"dropdown-item-report"}),Q&&(0,p.jsx)(i.Lt.Item,{onSelect:en(()=>{R((0,T.Q)(r.id)),D(({hideToast:e})=>(0,p.jsx)(y.ZP,{onHide:e,text:L.bt("@ .", "@mention removed!", "unifiedComment.unifiedCommentContainer.mentionRemovalToast", undefined, true)}))}),option:{label:ei.removeMention,value:ei.removeMention},dataTestId:"dropdown-item-remove-mention"}),!X&&(0,p.jsx)(i.Lt.Item,{onSelect:en(()=>{K(!1),m(),F({component:14349,event_type:9406})}),option:{label:ei.blockUser,value:ei.blockUser},dataTestId:"dropdown-item-block-user"})]}):(0,p.jsx)(i.Lt.Link,{href:"https://policy.pinterest.com/de/netzdg/",option:{label:ei.reportForNetzDG,value:ei.reportForNetzDG},dataTestId:"dropdown-item-report-for-netzdg"})})})},j={containerStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)"},helpfulLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",right:"50%",transform:"translateX(50%)"},helpfulStyle:{backgroundImage:"url(https://s.pinimg.com/webapp/commentHelpfulOutline-7f59f782.svg)"},lovedLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translateX(-50%)"},lovedStyle:{backgroundImage:"url(https://s.pinimg.com/webapp/commentLovedOutline-97205606.svg)"}},E=({setHelpful:e,setLoved:t})=>{let n=(0,u.ZP)(),[a,r]=(0,l.useState)(!1),[o,s]=(0,l.useState)(!1),d=e=>()=>{r(e)},c=e=>()=>{s(e)};return(0,p.jsxs)(i.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:j.containerStyle},"data-test-id":"comment-reaction-tray-background",display:"flex",height:25,justifyContent:"center",padding:1,position:"relative",rounding:"pill",width:43,children:[(0,p.jsx)(i.iP,{fullHeight:!0,onMouseDown:t,onMouseEnter:c(!0),onMouseLeave:c(!1),children:(0,p.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:j.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:18,marginBottom:o?3:1,position:"absolute",width:18,children:o&&(0,p.jsx)(i.xu,{top:!0,color:"selected",dangerouslySetInlineStyle:{__style:j.lovedLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",children:(0,p.jsx)(i.xv,{color:"inverse",overflow:"noWrap",size:"100",weight:"bold",children:n.bt(" !", "Love", "comment.button.loved", undefined, true)})})})}),(0,p.jsx)(i.iP,{fullHeight:!0,onMouseDown:e,onMouseEnter:d(!0),onMouseLeave:d(!1),children:(0,p.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:j.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:18,marginBottom:a?3:1,position:"absolute",width:18,children:a&&(0,p.jsx)(i.xu,{top:!0,color:"selected",dangerouslySetInlineStyle:{__style:j.helpfulLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",children:(0,p.jsx)(i.xv,{color:"inverse",overflow:"noWrap",size:"100",weight:"bold",children:n.bt("", "Helpful", "comment.button.helpful", undefined, true)})})})})]})};var L=n(870243);let R="https://s.pinimg.com/webapp/commentHelpful-99007872.svg",F="https://s.pinimg.com/webapp/commentLoved-7942dc4f.svg",D={helpfulStyle:{backgroundImage:`url(${R})`},lovedStyle:{backgroundImage:`url(${F})`}},z=({response:e})=>{let t=14===e.reaction_type,n=1===e.reaction_type,l=e.user.is_private_profile?e.user.first_name:e.user.full_name;return(0,p.jsxs)(i.kC,{alignItems:"center",children:[(0,p.jsx)(i.Tg,{href:`/${e.user.username}/`,children:(0,p.jsxs)(i.kC,{alignItems:"center",children:[(0,p.jsx)(i.xu,{maxWidth:40,children:(0,p.jsx)(L.qE,{outline:!0,accessibilityLabel:"",name:l,size:"sm",src:e.user.image_medium_url})}),(0,p.jsx)(i.xu,{marginStart:2,maxWidth:80,children:(0,p.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:l})})]})}),(0,p.jsxs)(i.xu,{alignContent:"end",display:"flex",padding:2,children:[n&&(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:D.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:16,width:16}),t&&(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:D.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:16,width:16})]})]})};var M=n(819079);let O=["userreaction.id","userreaction.reaction_type","userreaction.user()","user.first_name","user.full_name","user.id","user.image_medium_url","user.is_private_profile","user.username"],Z=({commentId:e,isMarkedHelpfulByMe:t,isLovedByMe:n,isTry:a})=>{var r,o;let s=(0,b.Z)(),d=(0,M.Z)({name:"ApiResource",options:{url:a?`/v3/did_it/${e}/reacted_by/`:`/v3/aggregated_comments/${e}/reacted_by/`,field_sets:O}}),c=null===(r=d.data)||void 0===r?void 0:r.filter(e=>e.user.id!==s.id);if((n||t)&&c){let t={id:e,reaction_type:n?1:14,user:{first_name:s.isAuth?s.firstName:"",full_name:s.isAuth?s.fullName:"",id:s.isAuth?s.id:"",image_medium_url:s.isAuth?s.imageMediumUrl:"",is_private_profile:!!s.isAuth&&!!s.isPrivateProfile,username:s.isAuth?s.username:""}};c=[t,...c]}let u=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let{current:e}=u,t=()=>{d.isFetching||(d.isAtEnd?null==e||e.removeEventListener("scroll",t):d.fetchMore())};return null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}},[d]),(0,p.jsx)(i.xu,{color:"selected",maxHeight:140,overflow:"scroll",ref:u,rounding:2,width:180,children:null===(o=c)||void 0===o?void 0:o.map(e=>(0,p.jsx)(i.xu,{"data-test-id":"reaction-list-single-user",margin:3,children:(0,p.jsx)(z,{response:e})},e.id))})};var N=n(154522);let K=({commentId:e,dismissReactionList:t,helpfulCount:n,isMarkedHelpfulByMe:a,isLovedByMe:r,isReactionListOpen:o,isTry:s,lovedCount:d,onReactionCountHover:c,onToggleHelpful:m,onToggleLove:h})=>{let g=(0,u.ZP)(),_=(0,l.useRef)(),[y,v]=(0,l.useState)(!1),f=!1,b=(d||0)+(n||0);a&&r&&(b-=1);let x=e=>()=>{v(e)},k=()=>{f=!0,c()},P=()=>{f=!1,setTimeout(()=>{f||t()},1e3)},S=(0,p.jsx)(i.xu,{"data-test-id":"comment-reaction-container-entry-point",children:y?(0,p.jsx)(i.iP,{onMouseLeave:x(!1),onMouseDown:x(!1),children:(0,p.jsx)(E,{setHelpful:m(!0),setLoved:h(!0)})}):(0,p.jsx)(i.iP,{onMouseEnter:x(!0),children:(0,p.jsx)(i.JO,{accessibilityLabel:g.bt("", "React", "comment.actionbar.react", undefined, true),color:"subtle",icon:"heart-outline",size:16})})});return(0,p.jsxs)(i.kC,{alignItems:"center",gap:{row:1,column:0},children:[a||r?(0,p.jsx)(i.iP,{onMouseDown:()=>{m(!1)(),h(!1)()},children:(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${r?F:R})`}},"data-test-id":r?"comment-reaction-container-loved-emoji":"comment-reaction-container-helpful-emoji",height:16,width:16})}):S,b>0&&(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(i.iP,{onMouseEnter:k,onMouseLeave:P,children:(0,p.jsx)(i.xu,{"data-test-id":"comment-reaction-container-reaction-count",ref:_,children:(0,p.jsx)(i.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:b})})}),o&&(0,p.jsx)(i.mh,{zIndex:N.lI,children:(0,p.jsx)(i.J2,{anchor:_.current,idealDirection:"down",onDismiss:t,positionRelativeToAnchor:!1,children:(0,p.jsx)(i.iP,{onMouseEnter:k,onMouseLeave:P,children:(0,p.jsx)(Z,{commentId:e,isMarkedHelpfulByMe:a,isLovedByMe:r,isTry:s})})})})]})]})};var B=n(394366),U=n(630089);function H(e){let{featuredCommentId:t,parentId:n,parentType:r,isDesktop:o,isLoading:s,isReadOnly:d,openOverflowMenu:c,replyingToCommentId:m,toggleHelpful:h,toggleLike:g,toggleReplyComposer:_,isORBACProfileManager:y,isVideo:v,storyPinDataId:f,pinId:b,closeupAttributionId:x,aggregatedPinDataId:k,closeupAttributionUsername:P,pinnerId:w,reactionListCommentId:T,showReactionListForComment:C,viewParameter:I}=e,j=(0,u.ZP)(),E=(0,S.lV)(),L=(0,a.useSelector)(({feeds:e})=>{let t=e[`${A.Z.AGGREGATED_COMMENT_REPLIES}:${n}`]||[],i=e[`${A.Z.AGGREGATED_COMMENTS}:${n}`]||[],l=t.concat(i);return l.reduceRight((e,{id:t})=>{let n=E[t];return n?[...e,n]:e},[])}),[R,F]=(0,l.useState)(1),D=R===L.length;return(0,p.jsxs)(l.Fragment,{children:[L.length>1&&(0,p.jsx)(i.iP,{onTap:()=>{F(D?0:L.length)},children:(0,p.jsxs)(i.xu,{marginBottom:4,children:[(0,p.jsx)(i.xu,{display:"inlineBlock",marginEnd:2,children:(0,p.jsx)(i.xv,{color:"subtle",size:"200",weight:"bold",children:""})}),(0,p.jsx)(i.xv,{inline:!0,color:"subtle",size:"100",weight:"bold",children:D?j.bt(" ", "Hide replies", "comment.button.hideReplies", undefined, true):(0,U.nk)(j.nbt([" {{ commentCount }}", " {{ commentCount }}", " {{ commentCount }}"], L.length, "comment.button.showReplies", true),{commentCount:L.length})})]})}),(0,p.jsx)(en,{comments:L.slice(0,R),commentsDisabled:!1,featuredCommentId:t,gapSize:2,isDesktop:o,isLoading:s,isReadOnly:d,openOverflowMenu:c,toggleReplyComposer:_,parentId:n,parentType:r,replyingToCommentId:m,toggleHelpful:h,toggleLike:g,userAvatarSize:"sm",isORBACProfileManager:y,isVideo:v,storyPinDataId:f,pinId:b,closeupAttributionId:x,aggregatedPinDataId:k,closeupAttributionUsername:P,pinnerId:w,showReactionListForComment:C,reactionListCommentId:T,viewParameter:I})]})}var V=n(606900),G=n(62152),$=n(315219),W=n(282802),q=n(575794),Y=n(738318),X=n(94339),J=n(953595),Q=n(446191);function ee(e){var t,n,h,k;let T;let{aggregatedPinDataId:A,closeupAttributionId:C,closeupAttributionUsername:j,comment:E,featuredCommentId:L,isDesktop:R,isReadOnly:F,isVideo:D,openOverflowMenu:z,toggleReplyComposer:M,parentId:O,parentType:Z=Y.o.pin,pinId:N,storyPinDataId:ee,replyingToCommentId:et,showReactionListForComment:en,toggleHelpful:ei,toggleLike:el,userAvatarSize:ea,isORBACProfileManager:er,pinnerId:eo,reactionListCommentId:es,viewParameter:ed}=e,{user:{id:ec,first_name:eu,id:ep,image_medium_url:em,username:eh},id:eg,image_signatures:e_,is_translatable:ey,comment_count:ev,helpful_count:ef,tags:eb=[]}=E,[ex,ek]=(0,l.useState)(!1),eP=ex&&E.translatedText||E.text,eS=!ey||""===E.translatedText,ew=!1,eT=0,eA=!1,eC=!!E.marked_helpful_by_me,eI=[E.user],ej="",eE=new Date;"aggregatedcomment"===E.type?(ew=E.highlighted_by_pin_owner,eT=E.reaction_counts[1],eA=E.reaction_by_me>0,eI.push(...E.tagged_users),ej=`${eh} ${eP}`,eE=new Date(E.created_at)):(eT=E.like_count,eA=E.liked_by_me,T=(E.images[0]||{})["150x150"],ej=`${eh} ${E.details}`,eE=new Date(E.done_at));let eL=(0,u.ZP)(),eR=(0,b.Z)(),{logContextEvent:eF}=(0,_.v)(),{country:eD,isBot:ez}=(0,W.B)(),{checkExperiment:eM}=(0,v.F)(),{showToast:eO}=(0,f.F9)(),eZ=(0,a.useDispatch)(),eN=(0,l.useRef)(),{anyEnabled:eK}=eM("web_m10n_business_access_orbac_ga"),eB=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"].includes(eD),eU=1===E.comment_tag,eH=(0,x.Z)(),eV=eK?(0,P.lJ)(eR,eH):"",{nativeEngagementsHiddenForUser:eG}=(0,X.G)(),{aggregatedCommentsHiddenForUser:e$,translateAggregatedComment:eW,updateAggregatedComment:eq}=(0,S.nf)(),eY=(0,o.Z)(),eX="userdiditdata"===E.type,eJ=(0,G.Z)(),eQ=ey&&eM("dweb_comment_translations").anyEnabled,e0=eX&&eM("dweb_photo_commenting").anyEnabled,e1=eX&&R&&eM("dweb_photo_comment_replies").anyEnabled,e2=eX&&!R&&eM("mweb_photo_comment_replies").anyEnabled,e3=eX&&eM("mweb_photo_commenting").anyEnabled,e6=!F&&!er&&eX,e5=e6&&R&&eM("dweb_photo_comment_reactions").anyEnabled,e4=e6&&!R&&eM("mweb_photo_comment_reactions").anyEnabled,e8=[{offset:0,length:eh.length,color:"darkGray"},...eb.map(e=>({...e,offset:(e.offset||0)+eh.length+1,color:"shopping"}))],e9={SHOW_TRANSLATION:eL.bt(" ", "Show translation", "comment.translateButton.showTranslation", undefined, true),TRANSLATING:eL.bt(" ", "Translating...", "comment.translateButton.translating", undefined, true),SHOW_ORIGINAL:eL.bt(" ", "Show original", "comment.translateButton.showOriginal", undefined, true)},e7=(0,l.useRef)(e9.SHOW_TRANSLATION),[te,tt]=(0,l.useState)(!1),[tn,ti]=(0,l.useState)(!1),[tl,ta]=(0,l.useState)(!1),[tr,to]=(0,l.useState)(!1),[ts,td]=(0,l.useState)(!1),[tc,tu]=(0,l.useState)(!1),[tp,tm]=(0,l.useState)(g.A9.NONE),th=e=>()=>{ti(e)};(0,l.useEffect)(()=>{eQ&&eF({event_type:10416,view_type:3,view_parameter:ed,component:"pin"===Z?13696:13697})},[eF,Z,eQ,ed]),(0,l.useEffect)(()=>{ev>0&&!ez&&eZ((0,q.U)("aggregatedcomment"===E.type?"AggregatedCommentReplyFeedResource":"DidItCommentsResource",{options:{isUnifiedComment:!0,objectId:eg,redux_normalize_feed:!0}}))},[E.type,eg]);let tg=Z.toLowerCase()===Y.o.aggregatedComment.toLowerCase()||Z.toLowerCase()===Y.n.didIt.toLowerCase(),t_=Object.values(Y.n).includes(Z.toLowerCase()),ty=E.user.first_name||"",tv=async({contentMarkdown:e,force:t,tags:n})=>{let i,l;to(!0);let a=E.id;if(tg&&(i=Z.toLowerCase()===Y.n.didIt,a=O,l=E.id),a)try{await eY({force:t,fromUnifiedComment:!0,objectType:eX||i?Y.o.didIt:Y.o.aggregatedComment,objectId:a,orbacSubjectId:eV,tags:n,text:e,replyToCommentId:l})}catch(e){if([$.ky,$.LJ].includes(e.code)&&R)return tm(e.code===$.ky?g.A9.WARNING:g.A9.BLOCK),to(!1),!1}return M&&M(void 0),to(!1),!0},tf=async({contentMarkdown:e,force:t,tags:n})=>{ta(!0);try{e0?await eZ((0,w.IU)({id:E.id,details:e,pinId:null!=N?N:"",image_signatures:null!=e_?e_:[]})):await eq({commentId:E.id,force:t,orbacSubjectId:eV,tags:n,text:e})}catch(e){if([$.ky,$.LJ].includes(e.code)&&R)return tm(e.code===$.ky?g.A9.WARNING:g.A9.BLOCK),ta(!1),!1}return ti(!1),ta(!1),!0},tb=e=>()=>{tt(e),tu(e),e||eF({component:14349,event_type:9408})},tx=()=>{tm(g.A9.NONE)},tk=()=>{ex||E.translatedText||eW(E.id),ex||e7.current!==e9.SHOW_TRANSLATION?ex&&e7.current===e9.SHOW_ORIGINAL&&eF({event_type:10418,view_type:3,view_parameter:ed,component:"pin"===Z?13696:13697}):eF({event_type:10417,view_type:3,view_parameter:ed,component:"pin"===Z?13696:13697}),ek(!ex)};(0,l.useEffect)(()=>{ex&&eS&&(ek(!ex),eO(({hideToast:e})=>(0,p.jsx)(y.ZP,{onHide:e,text:eL.bt(":   ", "Error - couldn't translate", "comment.couldNotTranslate.toast", undefined, true),type:"error"})))},[ex,eS]),ex?e7.current=E.translatedText?e9.SHOW_ORIGINAL:e9.TRANSLATING:e7.current=e9.SHOW_TRANSLATION;let tP=T&&(0,p.jsx)(i.xu,{marginTop:1,marginBottom:!R&&e3?2:4,children:(0,p.jsx)(i.zd,{width:150,height:150,rounding:2,wash:!0,children:(0,p.jsx)(i.Ee,{alt:null!==(t=T.url)&&void 0!==t?t:"",src:null!==(n=T.url)&&void 0!==n?n:"",color:"#efefef",naturalWidth:null!==(h=T.width)&&void 0!==h?h:1,naturalHeight:null!==(k=T.height)&&void 0!==k?k:1},T.url)})});return(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(i.$j,{show:tl,accessibilityLabel:"Loading comment"}),!tn&&!tl&&(0,p.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,p.jsx)(i.xu,{marginEnd:2,children:(0,p.jsx)(r.rU,{to:`/${eh}/`,children:(0,p.jsx)(c.Z,{isQuestion:eU,name:eu||eh||"",size:ea,src:null!=em?em:""})})}),(0,p.jsxs)(i.kC,{flex:"grow",justifyContent:"start",direction:"column",children:[(0,p.jsxs)(i.kC,{justifyContent:"between",children:[(0,p.jsx)(i.kC.Item,{minWidth:0,children:(0,p.jsxs)(i.kC,{direction:"column",dataTestId:"author-and-comment-container",children:[!R&&e3&&tP,(0,p.jsx)(V.Z,{isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:eI,tags:e8,text:ej}),(R||!R&&!e3)&&tP,eQ&&(0,p.jsx)(i.xu,{marginTop:2,marginBottom:2,children:(0,p.jsx)(i.iP,{onTap:()=>tk(),children:(0,p.jsx)(i.xv,{color:"subtle",size:"300",weight:"bold",children:e7.current})})})]})}),L===eg&&(0,p.jsx)(i.xu,{alignSelf:"center",color:"primary",height:8,rounding:"pill",minWidth:8})]}),ew&&(0,p.jsx)(i.xu,{marginTop:4,marginBottom:3,children:(0,p.jsx)(i.xv,{size:"100",children:(0,U.nk)(eL.bt(",   : @{{ closeupAttributionUsername }}", "Highlighted by @{{ closeupAttributionUsername }}", "comment.highlighted.label", undefined, true),{closeupAttributionUsername:j})})}),(!F||eB)&&(0,p.jsxs)(i.xu,{alignItems:"center",display:"flex",height:25,justifyContent:"between",position:"relative",children:[(0,p.jsxs)(i.kC,{alignItems:"center",gap:{row:5,column:0},children:[!F&&(0,p.jsx)(i.xu,{"data-test-id":"comments-time-passed",children:(0,p.jsx)(i.xv,{color:"subtle",size:"200",children:eJ(eE,!0)})}),!F&&(!er||eK)&&(!eX||e1||e2)&&(0,p.jsx)(i.xu,{"data-test-id":"comment-reply-button-container",children:(0,p.jsx)(i.iP,{onTap:()=>{M&&M(E,O,Z)},children:(0,p.jsx)(i.xv,{color:"subtle",size:"200",weight:"bold",children:eL.bt("", "Reply", "comment.button.reply", undefined, true)})})}),!F&&!er&&(!eX||e5||e4)&&(R?(0,p.jsx)(K,{commentId:eg,dismissReactionList:()=>{en(void 0)},helpfulCount:ef,isMarkedHelpfulByMe:eC,isLovedByMe:eA,isTry:eX,lovedCount:eT,onReactionCountHover:()=>{en(eg),eF({event_type:9906,component:"pin"===Z?13696:13697,view_type:3,view_parameter:ed})},onToggleHelpful:e=>()=>{eC!==e&&ei(eg,!e,eX)()},onToggleLove:e=>()=>{eA!==e&&el(eg,!e,eX)()},isReactionListOpen:es===eg}):(0,p.jsxs)(i.xu,{display:"flex",alignItems:"center","data-test-id":"reactions-likeWithCountButton",children:[(0,p.jsx)(i.hU,{accessibilityLabel:eL.bt("", "Like", "comment.button.like", undefined, true),icon:"heart",iconColor:eA?"red":"gray",size:"xs",onClick:el(eg,eA,eX)}),eT>0&&(0,p.jsx)(i.xu,{"data-test-id":"love-count-container",children:(0,p.jsx)(i.xv,{color:"subtle",size:"100",weight:"bold",children:eT})})]})),!(eR.id===ep&&eU)&&(!er||eK)&&(0,p.jsx)(i.xu,{ref:eN,"data-test-id":"comment-more-options",children:(0,p.jsx)(i.hU,{accessibilityLabel:eL.bt("", "More", "comment.button.more", undefined, true),icon:"ellipsis",iconColor:"gray",size:"xs",onClick:()=>{R?tt(!te):z&&z(E)}})})]}),!F&&!er&&!R&&(!eX||e4)&&(0,p.jsx)(i.xu,{marginStart:6,children:(0,p.jsx)(i.iP,{fullWidth:!1,onTap:ei(eg,eC,eX),children:(0,p.jsxs)(i.kC,{height:"100%",alignItems:"center",gap:{row:1,column:0},dataTestId:"helpful-reaction",children:[(0,p.jsx)(m,{color:"subtle",isMarkedHelpful:eC}),(0,p.jsx)(i.xv,{color:"subtle",size:"200",weight:"bold",children:eL.bt("", "Helpful", "comment.button.helpful", undefined, true)}),ef>0&&(0,p.jsx)(i.xu,{"data-test-id":"helpful-count-container",children:(0,p.jsx)(i.xv,{color:"subtle",size:"100",weight:"bold",children:ef})})]})})})]})]})]}),R&&(0,p.jsxs)(l.Fragment,{children:[tn&&(0,p.jsx)(i.xu,{marginTop:3,children:(0,p.jsx)(B.Z,{commentWarningModalState:tp,dismissCommentWarningModal:tx,initialText:"aggregatedcomment"===E.type?E.text:E.details,initialTags:E.tags,isReplyEditor:t_,onAddItem:tf,onCancelItem:th(!1),objectType:Y.o.aggregatedComment,postedPhoto:T,showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:ed})}),et===eg&&(0,p.jsx)(i.xu,{marginTop:3,marginStart:tg?0:12,children:(0,p.jsx)(B.Z,{commentWarningModalState:tp,dismissCommentWarningModal:tx,initialText:tg?`${ty} `:"",initialTags:tg?[{offset:0,object_id:ec,length:ty.length,tag_type:1}]:[],isReplyEditor:t_,onAddItem:tv,onCancelItem:()=>{M&&M()},objectType:Y.o.aggregatedComment,showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:ed})})]}),(ev>0||tr)&&(0,p.jsx)(i.xu,{marginStart:12,marginTop:4,children:(0,p.jsx)(H,{featuredCommentId:L,isDesktop:R,isLoading:tr,isReadOnly:F,parentId:eg,parentType:E.type,replyingToCommentId:et,toggleReplyComposer:M,openOverflowMenu:z,toggleHelpful:ei,toggleLike:el,isORBACProfileManager:er,pinId:N,closeupAttributionId:C,isVideo:D,storyPinDataId:ee,aggregatedPinDataId:A,closeupAttributionUsername:j,pinnerId:eo,showReactionListForComment:en,reactionListCommentId:es,viewParameter:ed})}),R&&(!F||eB)&&(0,p.jsx)(I,{anchor:eN.current,comment:E,dismiss:e=>{tt(!1),e||eF({component:14349,event_type:10128})},isOpen:te,isReply:tg,onEdit:th(!0),onShowBlockUserModal:tb(!0),parentId:O,closeupAttributionId:C,pinnerId:eo,pinId:N,aggregatedPinDataId:A}),ts&&(0,p.jsx)(s.N,{children:(0,p.jsx)(d.Z,{aggregatedPinDataId:A,didItDataId:eg,onClose:e=>()=>{td(!e)},pinId:null!=N?N:"",username:eh,users:[E.user]})}),tc&&(0,p.jsx)(J.Z,{firstName:null!=eu?eu:"",onBlockUser:()=>{eZ((0,Q.Ge)({id:ec,orbacSubjectId:eV,blockSource:"comment",blockContext:eg,logContextEvent:eF})),e$(ec),eG(ec),eF({event_type:101,component:13712,element:87,view_type:220,aux_data:{creator_id:eR.isAuth?eR.id:null}}),eF({component:14349,event_type:9407}),tu(!1),eO(({hideToast:e})=>(0,p.jsx)(y.ZP,{onHide:e,text:(0,U.nk)(eL.bt("   {{ username }}", "You've blocked {{ username }}", "comment.blockAuthor.toast", undefined, true),{username:eh}).join("")}))},onClearModal:tb(!1)})]})}var et=n(833122);function en(e){let t;let{aggregatedPinDataId:n,comments:l,commentsDisabled:a,featuredCommentId:r,gapSize:o=6,isDesktop:s,isLoaded:d=!1,isLoading:c=!1,isReadOnly:m,openOverflowMenu:h,toggleReplyComposer:g,parentId:_,parentType:y,replyingToCommentId:v,toggleHelpful:f,toggleLike:b,userAvatarSize:x,isORBACProfileManager:k,isVideo:P,storyPinDataId:S,pinId:w,closeupAttributionId:T,closeupAttributionUsername:A,pinnerId:C,showReactionListForComment:I,reactionListCommentId:j,viewParameter:E}=e,L=(0,u.ZP)();return(t=S?"story":P?"video":"pin",a)?(0,p.jsx)(i.xu,{alignSelf:"center",width:"100%","data-test-id":"comments-disabled-label",children:(0,p.jsx)(i.xv,{align:s?"start":"center",color:"subtle",children:L.bt("    ", "Comments are turned off for this Pin", "commentThread.disabledState.message", undefined, true)})}):l.length>0?(0,p.jsxs)(i.kC,{dataTestId:"aggregated-comment-list",direction:"column",gap:{row:0,column:o},maxHeight:"100%",width:"100%",children:[l.map((e,l)=>(0,p.jsx)(et.F,{impressionAuxFields:{commentId:e.id,pinId:w,pinOwnerUserId:T,pinType:t,parentId:_,parentType:y,commentType:"aggregatedComment"},componentType:"pin"===y?13696:13697,impressionType:"Comment",loggingId:e.id,slotIndex:l,viewType:s?3:98,children:({impressionTrackerRef:t})=>(0,p.jsx)(i.xu,{ref:t,"data-test-id":"commentThread-comment",children:(0,p.jsx)(ee,{comment:e,isDesktop:s,featuredCommentId:r,isReadOnly:m,parentId:_,parentType:y,openOverflowMenu:h,replyingToCommentId:v,toggleReplyComposer:g,toggleHelpful:f,toggleLike:b,userAvatarSize:x,isORBACProfileManager:k,aggregatedPinDataId:n,closeupAttributionUsername:A,closeupAttributionId:T,pinId:w,storyPinDataId:S,isVideo:P,pinnerId:C,showReactionListForComment:I,reactionListCommentId:j,viewParameter:E})})},e.id)),(0,p.jsx)(i.$j,{accessibilityLabel:L.bt(" ", "Comments loading", " - ", undefined, true),show:c})]}):(0,p.jsxs)(i.xu,{alignSelf:"center",width:"100%",children:[(0,p.jsx)(i.$j,{accessibilityLabel:L.bt(" ", "Comments loading", " - ", undefined, true),show:c}),d&&(0,p.jsx)(i.xv,{align:s?"start":"center",color:"subtle",children:L.bt("    .  ,   .", "No comments yet! Add one to start the conversation.", "commentThread.emptyState.message", undefined, true)})]})}},394366:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(667294),l=n(497088),a=n(785893);let r=(0,i.lazy)(()=>Promise.all([n.e(46210),n.e(68649)]).then(n.bind(n,243231)));function o(e){return(0,a.jsx)(l.Z,{fallback:null,children:(0,a.jsx)(r,{...e})})}},606900:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294),l=n(883119),a=n(377234),r=n(536042),o=n(785893);let s=({hasManyComments:e,isFirstTaggedUserAuthor:t,isInCommentModule:n,shouldShowFirstNameOnly:s,tags:d,taggedUsers:c,text:u})=>{let p=(0,r.ZP)(),m=(0,i.useRef)(null),[h,g]=(0,i.useState)(!1),_=p.bt("... ", "...view", "comment.module.toggle.view", undefined, true),y=p.bt("...  ", "...view all", "comment.module.toggle.viewAll", undefined, true);(0,i.useEffect)(()=>{m.current&&g(m.current.scrollHeight>m.current.offsetHeight)},[m,g,u]);let v=(e,t)=>(0,o.jsx)(l.xv,{inline:!0,overflow:"normal",children:(0,o.jsx)("span",{className:"text-container",children:e})},t),f=(e,i,a,r)=>{let d=s||0===a&&t?c[a].first_name||c[a].username[0]:i;return(0,o.jsx)(l.xv,{color:e,inline:!0,weight:"bold",overflow:"normal",children:n?d:(0,o.jsx)(l.rU,{href:`/${c[a].username}`,display:"inlineBlock",underline:"hover",children:d})},r)};return(0,o.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:(()=>{if(!d.length||!c||d.length!==c.length)return v(u,"1");let t=0,i=[];return d.forEach((e,n)=>{let l=u.substring(t,e.offset);t=e.offset+e.length;let a=u.substring(e.offset,t);i=i.concat(v(l,`${n}a`)).concat(f(e.color,a,n,`${n}b`))}),i=i.concat(v(u.substring(t),"2")),(0,o.jsx)(l.xu,{position:"relative",marginEnd:3,children:(0,o.jsxs)(l.xv,{inline:!0,lineClamp:n?2:void 0,ref:m,children:[i,n&&(0,o.jsx)(l.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:(0,a.Yc)()?"black":"white"}},position:h?"absolute":void 0,bottom:!!h||void 0,right:!!h||void 0,children:(0,o.jsxs)(l.xv,{weight:"bold",children:["\xa0",e?y:_]})})]})})})()})}},123228:(e,t,n)=>{"use strict";n.d(t,{A9:()=>s,LH:()=>l,Rv:()=>a,TJ:()=>r,iB:()=>i,pW:()=>o});let i=48,l=i+8,a=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),r="comment_featured_ids",o="did_it_featured_ids",s={NONE:"none",WARNING:"warning",BLOCK:"block"}},560954:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m,w:()=>h});var i=n(630089);let l=e=>e.bt("{{ first }}", "{{ first }}", "Generic message that lists 1 item", undefined, true),a=e=>e.bt("{{ first }}  {{ second }}", "{{ first }} and {{ second }}", "Generic message that lists 2 items", undefined, true),r=e=>e.bt("{{ first }}, {{ second }}  {{ third }}", "{{ first }}, {{ second }} and {{ third }}", "Generic message that lists 3 items", undefined, true),o=e=>e.bt("{{ first }}, {{ second }}, {{ third }}  {{ fourth }}", "{{ first }}, {{ second }}, {{ third }} and {{ fourth }}", "Generic message that lists 4 items", undefined, true),s=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}  {{ fifth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}", "Generic message that lists 5 items", undefined, true),d=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}  {{ sixth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}", "Generic message that lists 6 items", undefined, true),c=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }}  {{ seventh }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}", "Generic message that lists 7 items", undefined, true),u=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}   {{ remaining }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others", "Generic message that lists more than 6 items", undefined, true),p=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }}   {{ remaining }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others", "Generic message that lists more than 7 items", undefined, true);function m(e,t){let n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,i.nk)(l(t),n);case 2:return(0,i.nk)(a(t),n);case 3:return(0,i.nk)(r(t),n);case 4:return(0,i.nk)(o(t),n);case 5:return(0,i.nk)(s(t),n);case 6:return(0,i.nk)(d(t),n);default:return(0,i.nk)(u(t),n)}}function h(e,t){let n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,i.nk)(l(t),n);case 2:return(0,i.nk)(a(t),n);case 3:return(0,i.nk)(r(t),n);case 4:return(0,i.nk)(o(t),n);case 5:return(0,i.nk)(s(t),n);case 6:return(0,i.nk)(d(t),n);case 7:return(0,i.nk)(c(t),n);default:return(0,i.nk)(p(t),n)}}},388011:(e,t,n)=>{"use strict";n.d(t,{B:()=>s,v:()=>o});var i=n(788241),l=n(583592),a=n(785893);let{Provider:r,useHook:o}=(0,l.Z)("ContextLogger");function s({children:e,value:t}){let{setViewContextData:n}=(0,i.sV)();return t.injectSetViewContextDataFromHook=n,(0,a.jsx)(r,{value:t,children:e})}},563962:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(388011);let l=()=>(0,i.v)().logContextEvent},541842:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=()=>1e6*Date.now()},377234:(e,t,n)=>{"use strict";n.d(t,{F6:()=>u,Hs:()=>c,Yc:()=>s,vs:()=>d});var i=n(667294),l=n(611756),a=n(98736);let r="theme",o="dark"===(0,l.qn)(r),s=()=>o;function d(){let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(s())},[t]),e}let c=()=>{(0,l.Nh)(r,"dark"),(0,a.My)("mweb.dark_mode.enable"),window.location.reload()},u=()=>{(0,l.L_)(r),(0,a.My)("mweb.dark_mode.disable"),window.location.reload()}},117651:(e,t,n)=>{"use strict";function i(e){let t=Math.round(e/1e3),n=Math.floor(t/60),i=t%60;return n+":"+(i<10?"0":"")+i}n.d(t,{Z:()=>i})},560544:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>Math.floor(new Date(e).getTime()/1e3)},758360:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(667294),l=n(973935);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r extends i.Component{constructor(...e){super(...e),a(this,"observer",null),a(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){let e=l.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}let o=r},583121:(e,t,n)=>{"use strict";n.d(t,{Bx:()=>l,N4:()=>r,is:()=>o,lt:()=>i,oM:()=>a});let i=e=>e.bt(" !   Pinterest,      .", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),l=e=>e.bt(",   ", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),a=e=>e.bt(",   ", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),r=({i18n:e,toFollow:t})=>t?e.bt(",  ", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt(",  ", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true),o=e=>e.bt(",     ", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true)},402833:(e,t,n)=>{"use strict";n.d(t,{g:()=>r,t:()=>a});var i=n(667294);let l=(0,i.createContext)(null),a=l.Provider,r=()=>(0,i.useContext)(l)},243370:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(667294),l=n(616550),a=n(402833),r=n(911386);let o=e=>{let t=(0,l.useLocation)(),n=(0,a.g)();(0,i.useEffect)(()=>{if(n){let{showDesktopSignupModal:i,pinLinkClickHandler:l}=n,{mt:a,l:o,showsignup:s}=(0,r.Z)(t.search);a?i({signupFlow:"login"===a?{type:"login"}:{type:"signup"},attributionLabel:"navigation_1",container:e,reason:"UPSELL_LOGIN_OR_SIGNUP"}):s?i({signupFlow:{type:"signup"},attributionLabel:"closeup_query_param_showSignup",source:"defaultSource",reason:"UPSELL_LOGIN_OR_SIGNUP"}):o&&l&&l()}},[e,t,!!n])}},133636:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(583121),l=n(536042),a=n(393599);let r=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,a.H)(),r=(0,l.ZP)();return"AUTH"===t.type?null:t=>{null==e||e.setVisible(!0),null==n||n.setText((null==t?void 0:t.loginModalHeader)||(0,i.lt)(r))}}},737311:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(667294),l=n(40660),a=n(391297);function r(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends i.Component{constructor(...e){super(...e),r(this,"state",{error:null,info:null}),r(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{var n;let{name:t}=this.props,i=this.props.type||"secondary";(0,a.T)({extraData:null!==(n=e.extraData)&&void 0!==n?n:{},errorBoundary:t,errorBoundaryType:i,message:e.message,name:e.name,stack:e.stack}),l.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(e){l.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},604094:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(737311);let l=i.Z},33476:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(667294),l=n(702664),a=n(563962),r=n(527386),o=n(216702),s=n(785893);function d(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),d(this,"state",{hasCompleted:[],hasDismissed:[]}),d(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:n,viewExperience:i,viewExperienceObject:l}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",l(e)):n?i(e.placement_id,e.experience_id,n):i(e.placement_id,e.experience_id))}),d(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:n,experience:i,isBackendExperience:l,preventRemoval:a,targeting:r}=this.props,o=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){let{placement_id:e,experience_id:s}=i||{},d=a||2===o;(1===o||d)&&e&&s&&(l?n(i,d):r?t(e,s,d,r):t(e,s,d),this.setState(e=>({hasCompleted:[...e.hasCompleted,s]})))}}),d(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:i,preventRemoval:l,targeting:a}=this.props,{placement_id:r,experience_id:o}=n||{};n&&!this.state.hasDismissed.includes(o)&&(i?t(n):a?e(r,o,!!l,a):e(r,o,!!l),this.setState(e=>({hasDismissed:[...e.hasDismissed,o]})))}),d(this,"isEligibleExperience",()=>{let{experience:e}=this.props;if(!e)return!1;let{eligibleIds:t,eligibleTypes:n,predicate:i,transitionType:l}=this.props,{experience_id:a,type:r}=e;return t&&t.length?t.includes(a):n&&n.length?n.includes(r):i?i(e):!l||l===r})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,n=this.props.experience;n&&this.isEligibleExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){let{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.isEligibleExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}function u(e){let t=(0,l.useSelector)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),n=(0,l.useDispatch)(),i=(0,r.be)(),d=(0,r.Am)(),u=(0,r.Ig)(),p=(0,a.Z)();return(0,s.jsx)(c,{...e,experience:t,completeExperience:(e,t,l,a)=>n(i(e,t,l,!1,{},a)),completeExperienceObject:(e,t)=>n((0,o.Tl)(p)(e,t)),dismissExperience:(e,t,i,l)=>n(d(e,t,i,void 0,l)),dismissExperienceObject:e=>n((0,o.CF)(e)),viewExperience:(e,t,i)=>n(u(e,t,!1,!1,void 0,i)),viewExperienceObject:e=>n((0,o.dy)(p)(e))})}d(c,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},220590:(e,t,n)=>{"use strict";n.d(t,{F:()=>p,M:()=>u});var i=n(667294),l=n(702664),a=n(14890),r=n(583592),o=n(527386),s=n(256558),d=n(785893);let{Provider:c,useHook:u}=(0,r.Z)("ExperienceContext");function p({children:e}){let[t,n]=(0,i.useReducer)((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,mountedPlacements:{...e.mountedPlacements,[t.payload]:!0}};if("UNMOUNT_PLACEMENT"===t.type){let n={...e};return delete n.mountedPlacements[t.payload],delete n.registerdAfterActionPlacements[t.payload],n}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?{...e,registerdAfterActionPlacements:{...e.registerdAfterActionPlacements,[t.payload]:!0}}:e},{mountedPlacements:{},registerdAfterActionPlacements:{}}),{mountedPlacements:r,registerdAfterActionPlacements:u}=t,p=(0,l.useDispatch)(),m=(0,l.useSelector)(e=>e.experiences),h=(0,o.be)(),g=(0,o.Am)(),_=(0,o.Ig)(),y=(0,i.useMemo)(()=>{let e=(0,a.bindActionCreators)({completeExperience:h,dismissExperience:g,fetchAllExperiences:o.fO,fetchAllExperiencesMulti:s.NW,fetchExperienceForPlacements:o.pz,mountPlacement:o.N,triggerExperimentsForPlacement:o.kd,viewExperience:_},p);return{...e,mountPlacement:(t,...i)=>{e.mountPlacement(t,...i),n({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{n({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:e=>{n({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}}},[h,g,p,n,_]),v=(0,i.useMemo)(()=>({experiences:m,mountedPlacements:r,registerdAfterActionPlacements:u,...y}),[m,r,u,y]);return(0,d.jsx)(c,{value:v,children:e})}},969458:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(667294),l=n(702664),a=n(883119),r=n(33476),o=n(88622),s=n(279409),d=n(716793),c=n(549201),u=n(387977),p=n(467105),m=n(536042),h=n(906215),g=n(455788),_=n(886365),y=n(785893);let v=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},f=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function b({accessibilityModalLabel:e,allowScroll:t=!1,children:n,closeOnOutsideClick:l=!0,footer:r,isOpen:o,modalWidth:s,onDismiss:d,zIndex:c}){let b=(0,m.ZP)(),x=(0,i.useRef)(!1),{setAppFocusState:k}=(0,_.I)();return((0,i.useEffect)(()=>(x.current=(0,u.Z)(()=>{}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&x.current&&(window.cancelAnimationFrame(x.current),x.current=null)}),[]),(0,i.useEffect)(()=>(o?(h.Z.pause(),k(!1)):(h.Z.resume(),k(!0)),()=>{o&&(h.Z.resume(),k(!0))}),[k,o]),(0,i.useEffect)(()=>{let e=o&&!t;return e&&v(),()=>{e&&f()}},[o,t]),o)?(0,y.jsx)(g.Z,{children:(0,y.jsx)(a.mh,{children:(0,y.jsxs)(a.xu,{"aria-label":e,zIndex:c||p.b7,position:"relative",role:"dialog",children:[(0,y.jsx)(a.iP,{accessibilityLabel:b.bt("      ", "Mobile Popup Modal Mask", "mweb.experience_popup_modal.mask", undefined, true),onTap:()=>{l&&d()},tapStyle:"none",children:(0,y.jsx)(a.xu,{height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new a.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}}})}),(0,y.jsxs)(a.xu,{position:"fixed",color:"default",top:!0,width:s,zIndex:new a.Ry(1),rounding:4,overflow:"hidden",dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out"}},children:[n,r]})]})})}):null}var x=n(425118),k=n(589665);let P=new a.Ry(k.fe),S=new a.H3([P]);function w(e){var t;let n=(0,l.useSelector)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),u=null==n?void 0:null===(t=n.display_data)||void 0===t?void 0:t.delay_in_millis,[p,m]=(0,i.useState)(n&&!u),h=(0,c.HG)();return(0,i.useEffect)(()=>{var e;m(n&&!(null!==(e=n.display_data)&&void 0!==e&&e.delay_in_millis))},[n]),(0,i.useEffect)(()=>{let e;return u&&(e=setTimeout(()=>{m(!0)},u)),()=>clearTimeout(e)},[u]),(0,y.jsx)(i.Fragment,{children:p&&(0,y.jsx)(r.Z,{experience:n,eligibleTypes:[26],placementId:e.placementId,children:({complete:e,dismiss:t,experience:{display_data:n}})=>{let i=(0,s.Z)(d.Z)(n),{title:l,body:r,completeButton:c}=i;return l&&r&&c.text?h?(0,y.jsx)(a.mh,{zIndex:S,children:(0,y.jsx)(o.ZP,{accessibilityModalLabel:"",onDismiss:t,size:"sm",children:(0,y.jsx)(x.Z,{isMobile:!1,displayData:i,handleComplete:e,handleDismiss:t})})}):(0,y.jsx)(b,{modalWidth:320,accessibilityModalLabel:null==i?void 0:i.title,onDismiss:t,isOpen:!0,children:(0,y.jsx)(x.Z,{isMobile:!0,displayData:i,handleComplete:e,handleDismiss:t})}):null}})})}},766046:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294),l=n(220590),a=n(969458),r=n(624799),o=n(785893);let s=({placementId:e})=>{let{experienceForPlacement:t}=(0,r.Z)(e),{unmountPlacement:n,registerAfterActionPlacement:s}=(0,l.M)();return(0,i.useEffect)(()=>(s(e),()=>{n(e)}),[e,n,s]),(0,o.jsx)(i.Fragment,{children:(0,o.jsx)(a.Z,{experience:t})})}},527386:(e,t,n)=>{"use strict";let i;n.d(t,{Am:()=>y,Ig:()=>g,N:()=>x,Sd:()=>v,YX:()=>b,be:()=>_,fO:()=>p,kd:()=>f,pz:()=>m});var l=n(667294),a=n(40660),r=n(690108),o=n(563962),s=n(703688),d=n(256558),c=n(970588);let u=(e,t,n={})=>a.Z.increment(`${e}.${t}`,1,n),p=(e,t)=>n=>{let i=t?{extra_context:e,targeting:t}:{extra_context:e};return r.Z.create("UserExperiencePlatformResource",i).callGet().then(e=>e.resource_response?n((0,d.OD)(e.resource_response.data)):void 0)},m=(e,t,n,l)=>(a,o)=>{if(t)return Promise.resolve();if(l&&(i=l),1===e.length){let t=e[0],i=o().experiences,l=i[t],a=(null==l?void 0:l.extraContext)||null;if(JSON.stringify(a)===JSON.stringify(n)||(0,s.E3)(l)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return r.Z.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:l}).callGet().then(e=>e.resource_response?a((0,d.cL)(e.resource_response.data)):void 0)},h=(e,t,n,l)=>(a,o,s,c=!1,u,m)=>(h,g)=>{let{experiences:_,experiencesMulti:y}=g(),v=null,f=!0;if(!c){var b;v=(f=_[a]&&_[a].experience_id===o)?_[a]:Array.isArray(y[a])&&(null===(b=y[a])||void 0===b?void 0:b.find(e=>e.experience_id===o))}if(v&&v.experience_id===o||c&&a&&o){let c=r.Z.create(e,{placed_experience_id:`${a}%3A${o}`,extra_context:null!=u?u:{},targeting:m}),g=f?d.Yb:d.xW;switch(t){case"dismissed":return c.callDelete().then(()=>{h(g(a,o,t)),h(p(void 0,i)),n&&l&&n({event_type:l,object_id_str:o.toString()})});case"completed":return c.callUpdate().then(()=>{!s&&(h(g(a,o,t)),h(p(void 0,i)),n&&l&&n({event_type:l,object_id_str:o.toString()}))});case"viewed":return h(g(a,o,t)),c.callUpdate().then(()=>{1000162===a&&h(p()),n&&l&&n({event_type:l,object_id_str:o.toString()})});case"completedWithoutHomefeed":return c.callUpdate().then(()=>{s||h(g(a,o,t)),n&&l&&n({event_type:l,object_id_str:o.toString()})})}}return Promise.resolve()},g=()=>{let e=(0,o.Z)(),t=(0,l.useCallback)(h("UserExperienceViewedResource","viewed",e,4503),[e]);return t},_=()=>{let e=(0,o.Z)(),t=(0,l.useCallback)(h("UserExperienceCompletedResource","completed",e,6567),[e]);return t},y=()=>{let e=(0,o.Z)(),t=(0,l.useCallback)(h("UserExperienceResource","dismissed",e,6568),[e]);return t},v=()=>{let e=(0,o.Z)(),t=(0,l.useCallback)(h("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e]);return t},f=(e,t)=>(n,i)=>{let{experiences:l}=i(),a=l[e];a&&a.triggerable_placed_exps&&a.triggerable_placed_exps.length&&a.triggerable_placed_exps.forEach(n=>{let[,i]=n.split(":"),l=t;a.metadata&&a.metadata[i]&&(l={...t,...a.metadata[i]}),(0,c.Z)({url:`/v3/experiences/${n.replace(":","%3A")}/trigger/`,method:"PUT",data:l?{extra_context:JSON.stringify(l,null,1)}:{}}).then(()=>{u("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})})})},b=e=>(t,n)=>{t(f(e));let{experiences:i}=n();return i[e]},x=(e,t,n)=>l=>{n&&(i=n),l(f(e,t)),t&&Object.keys(t).length>0&&l(m([e],!1,t,n))}},216702:(e,t,n)=>{"use strict";n.d(t,{CF:()=>o,Tl:()=>r,dy:()=>s});var i=n(690108),l=n(527386);let a=(e,t,n,a)=>(r,o)=>s=>{if(r&&r.id){let d=i.Z.create(e,{placed_experience_id:r.id,extra_context:{}});switch(t){case"dismissed":d.callDelete().then(()=>{s((0,l.fO)()),n&&a&&n({event_type:a,object_id_str:r.id.toString()})});break;case"completed":d.callUpdate().then(()=>{o||s((0,l.fO)()),n&&a&&n({event_type:a,object_id_str:r.id.toString()})});break;case"viewed":d.callUpdate().then(()=>{n&&a&&n({event_type:a,object_id_str:r.id.toString()})})}}},r=e=>a("UserExperienceCompletedResource","completed",e,6567),o=a("UserExperienceResource","dismissed"),s=e=>a("UserExperienceViewedResource","viewed",e,4503)},703688:(e,t,n)=>{"use strict";n.d(t,{A0:()=>s,E3:()=>r,MQ:()=>o,fL:()=>d});var i=n(883119),l=n(28630),a=n(785893);function r(e){return!!e&&0!==e.type}let o=(e,t,n)=>{let i=e[n];return t[n]&&r(i)?i:null};function s(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}let d=e=>{var t;let n=new DOMParser,r=n.parseFromString(e,"text/html"),o=[...(null===(t=r.body)||void 0===t?void 0:t.childNodes)||[]].map(e=>{if("A"!==e.nodeName)return(0,a.jsx)(i.xv,{inline:!0,children:e.textContent});{let t=e.href||"",n=(0,l.Z)({url:t});return(0,a.jsx)(i.rU,{href:t,display:"inline",externalLinkIcon:n?"default":"none",target:"blank",rel:n?"nofollow":"none",children:e.textContent})}});return(0,a.jsx)(i.xv,{inline:!0,children:o})}},488897:(e,t,n)=>{"use strict";n.d(t,{$S:()=>i,V$:()=>l,_4:()=>r,iY:()=>o,mR:()=>a});let i="REFRESH_ALL_EXPERIENCES_MULTI",l="UPDATE_EXPERIENCE_MULTI",a="FETCH_EXPERIENCES",r="REFRESH_ALL_EXPERIENCES",o="UPDATE_EXPERIENCE"},256558:(e,t,n)=>{"use strict";n.d(t,{NW:()=>o,OD:()=>d,Yb:()=>s,cL:()=>c,xW:()=>r});var i=n(690108),l=n(488897);let a=e=>({type:l.$S,payload:{experiencesMulti:e}}),r=(e,t,n)=>({type:l.V$,payload:{placementId:e,experienceId:t,status:n}}),o=e=>t=>i.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t(a(e.resource_response.data)):void 0),s=(e,t,n)=>({type:l.iY,payload:{placementId:e,experienceId:t,status:n}}),d=e=>({type:l._4,payload:{experiences:e}}),c=e=>({type:l.mR,payload:{experiences:e}})},468105:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var i=n(220590),l=n(549201);let a=["/","/homefeed/"],r=["/search/pins/","/search/my_pins/"],o=(e,t)=>a.includes(e)?1000503:r.includes(e)?1000506:e.startsWith("/pin/")?t?1000141:1000494:void 0,s=()=>{let{mountPlacement:e,registerdAfterActionPlacements:t}=(0,i.M)(),n=(0,l.HG)();return(i,l,a,r)=>{let s;switch(i){case"Save":s=o(l,n);break;case"Download":l.startsWith("/pin/")&&(s=n?1000499:1000500)}null!=s&&t[s]&&e(s,a,r)}}},765456:(e,t,n)=>{"use strict";n.d(t,{_:()=>d,a:()=>c});var i=n(667294),l=n(702664),a=n(618446),r=n.n(a),o=n(527386),s=n(282802);let d=({extraContext:e,id:t,shouldUsePlacedExperience:n=!0})=>{let a=(0,i.useRef)(),d=(0,l.useDispatch)(),{isBot:c}=(0,s.B)(),u=(0,l.useSelector)(e=>e.experiences[t]);return(0,i.useEffect)(()=>{d((0,o.kd)(t))},[d,u,t]),(0,i.useEffect)(()=>{n||r()(a.current,e)||(d((0,o.pz)([t],c,e)),a.current=e)},[d,e,c,t,n]),u},c=e=>(d(e),(0,l.useSelector)(t=>t.experiencesMulti[e.id]))},624799:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(667294);n(527386);var l=n(220590),a=n(703688);n(256558);var r=n(282802);function o(e){let{mountedPlacements:t,completeExperience:n,dismissExperience:o,experiences:s,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:m}=(0,l.M)(),{isBot:h}=(0,r.B)(),g=e&&!h?(0,a.MQ)(s,t,e):null;return(0,i.useMemo)(()=>({completeExperience:n,dismissExperience:o,experienceForPlacement:g,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:m}),[n,o,g,d,c,u,p,m])}},359209:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),l=n(702664),a=n(442279),r=n(40660),o=n(220590),s=n(282802);let d=(0,a.P1)(e=>e.experiences,(e,t)=>t,(e,t)=>e[t]),c=(e,t,n={})=>r.Z.increment(`${e}.${t}`,1,n),u=(e,t)=>"function"==typeof t?t(e):t,p=(e,t={},n=!1)=>{let[a,r]=(0,i.useReducer)(u,t),{isBot:p}=(0,s.B)(),{fetchExperienceForPlacements:m,mountPlacement:h,triggerExperimentsForPlacement:g,unmountPlacement:_}=(0,o.M)();(0,i.useDebugValue)(`Placement Hook ID - ${e}`),(0,i.useEffect)(()=>{let t={...a},i=n&&null!=t&&t.advertiser_id?{advertiserId:t.advertiser_id}:void 0;return h(e,t,i),()=>{_(e)}},[]),(0,i.useEffect)(()=>{Object.keys(a).length>0&&m([e],p,a)},[a]);let y=(0,l.useSelector)(t=>d(t,e)),v=(0,l.useSelector)(t=>t.experiencesMulti[e]),f=y?y.triggerable_placed_exps:[];return(0,i.useEffect)(()=>{let t={platform:"web",placement_id:e,...f};c("experienceservice","placementHookExperimentTrigger.1",t),g(e,a)},[JSON.stringify(f)]),{experience:y,experiencesMulti:v,setExtraContext:r}}},125715:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>{let[t,n]=[(null==e?void 0:e.width)||580,(null==e?void 0:e.height)||400],[i,l]=[window.screen.width,window.screen.height];return`scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=${t},height=${n},left=${Math.round((i-t)/2)},top=${l>n?Math.round((l-n)/2):0}`}},621982:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(537347),l=n.n(i),a=n(40660);function r(e){if("undefined"==typeof window||!document.head)return a.Z.increment("load_fonts.failure",1,{failure_reason:"window undefined"}),Promise.reject(Error("Window is undefined or no head on the document. Unable to load fonts"));let{head:t}=document,n=[];return e.forEach(e=>{e.styles.forEach(i=>{var a,r,o;let s=document.querySelector(`#${null!==(a=e.fontFamily)&&void 0!==a?a:""}-${i.name}`);if(!s){if((s=document.createElement("style")).setAttribute("id",`${null!==(r=e.fontFamily)&&void 0!==r?r:""}-${i.name}`),t.appendChild(s),e.format&&i.fontUrl&&s&&s.sheet){let t=s.sheet;t.insertRule(`
            @font-face {
              font-family: "${null!==(o=e.fontFamily)&&void 0!==o?o:""}";
              font-style: "${i.fontStyle}";
              font-weight: "${i.fontWeight}";
              src: url("${i.fontUrl}") format("${e.format}");
            }
          `,0)}n.push(new(l())(e.fontFamily,{style:i.fontStyle,weight:i.fontWeight}).load())}})}),Promise.all(n).then(()=>{Promise.resolve()}).catch(e=>{a.Z.increment("load_fonts.failure",1,{failure_reason:"unsuccessful load"}),Promise.reject(e)})}},570476:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(667294),l=n(883119);let a=(0,i.createContext)();var r=n(785893);function o(e){(0,i.useContext)(a);let{alt:t,color:n,children:o,crossOrigin:s,decoding:d,elementTiming:c,fetchPriority:u,fit:p,loading:m,naturalHeight:h,naturalWidth:g,onError:_,onLoad:y,role:v,sizes:f,src:b,srcSet:x}=e;return(0,r.jsx)(l.Ee,{alt:t,color:n,crossOrigin:s,decoding:d,elementTiming:c,fetchPriority:u,fit:p,loading:m,naturalHeight:h,naturalWidth:g,onError:_,onLoad:y,role:v,sizes:f,src:b,srcSet:x,children:o})}},88622:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d,b7:()=>r.b7,bN:()=>o,p4:()=>s});var i=n(240684),l=n(549201),a=n(785893),r=n(467105);let o=(0,i.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(51879).then(n.bind(n,943072)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>943072}),s=(0,i.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(72430).then(n.bind(n,894121)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>894121});function d(e){let t=(0,l.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){let{isOpen:t,mobileAccessibilityCloseIconLabel:n,mobileAllowScroll:i,mobileHideCloseIcon:l,mobileIsFullscreen:r,mobileIsSlideUp:s,type:d,mobileIsFooter:c,zIndex:u,...p}=e;return(0,a.jsx)(o,{...p})}let{allowClickAndDrag:i,allowMediaPlay:r,allowScroll:d,role:c,size:u,_dangerouslyDisableScrollBoundaryContainer:p,...m}=e;return(0,a.jsx)(s,{...m,isOpen:n})}},943072:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n(667294),l=n(883119),a=n(467105),r=n(906215),o=n(455788),s=n(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:m,footer:h,heading:g,onDismiss:_,role:y,size:v,subHeading:f}){return(0,i.useEffect)(()=>(r.Z.pause(),function(){r.Z.resume()}),[]),(0,s.jsx)(l.mh,{zIndex:a.b7,children:(0,s.jsx)(o.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,s.jsx)(l.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:m,heading:g,footer:h,onDismiss:()=>{r.Z.resume(),_()},role:y,size:v,subHeading:f,padding:"none",children:p})})})}},894121:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var i=n(667294),l=n(883119),a=n(387977),r=n(467105),o=n(536042),s=n(906215),d=n(282802),c=n(455788),u=n(98736),p=n(549201),m=n(886365),h=n(785893);let g=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},_=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function y({accessibilityModalLabel:e,align:t="center",allowScroll:n=!1,children:y,closeOnOutsideClick:v=!0,footer:f,heading:b,mobileAccessibilityCloseIconLabel:x,mobileHideCloseIcon:k,mobileIsFullscreen:P,isOpen:S,mobileIsSlideUp:w,mobileIsFooter:T,onDismiss:A,zIndex:C,subHeading:I,type:j}){let E=(0,o.ZP)(),{isRTL:L}=(0,d.B)(),R=(0,i.useRef)(!1),[F,D]=(0,i.useState)(!1),{setAppFocusState:z}=(0,m.I)(),M=(0,p.ZP)();return((0,i.useEffect)(()=>{(0,u.My)(`mweb_unauth.mobile_modal.${j||"unknown_type"}.did_mount.is_open.${String(!!S)}`)},[S,j]),(0,i.useEffect)(()=>(R.current=(0,a.Z)(()=>{R.current&&D(!0)}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&R.current&&(window.cancelAnimationFrame(R.current),R.current=null)}),[]),(0,i.useEffect)(()=>(S?(s.Z.pause(),z(!1)):(s.Z.resume(),z(!0)),()=>{S&&(s.Z.resume(),z(!0))}),[z,S]),(0,i.useEffect)(()=>{let e=S&&!n;return e&&g(),()=>{e&&_()}},[S,n]),S)?(0,h.jsx)(c.Z,{children:(0,h.jsx)(l.mh,{children:(0,h.jsxs)(l.xu,{"aria-label":e,display:"inlineBlock",zIndex:C||r.ZM,position:"relative",role:"dialog",children:[(0,h.jsx)(l.iP,{accessibilityLabel:E.bt("      ", "Mobile Signup Modal Mask", "mweb.signup_modal.mask", undefined, true),onTap:({event:e})=>{e.clientX&&e.clientY&&(0,u.tj)(`mweb_unauth.mobile_modal.wash_tap.${j||"unknown_type"}.with_dismissal`,{x:e.clientX,y:e.clientY}),v&&A()},tapStyle:"none",children:(0,h.jsx)(l.xu,{height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}}})}),(0,h.jsxs)(l.xu,{position:"fixed",color:"default","data-test-id":"mobile-signup-mask",dangerouslySetInlineStyle:w?(0,r.Vf)({isFullscreen:P,isTablet:"tablet"===M,isShowing:F,isRelatedInterestsModal:"related_interests_modal"===j}):(0,r.JN)({variant:P?"fullscreen":"tablet"===M?"tablet":T?"footer":"signup"===j?"signup":void 0}),children:[(0,h.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[x&&!k?(0,h.jsx)(l.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,h.jsx)(l.hU,{accessibilityLabel:x,iconColor:"darkGray",icon:"cancel",onClick:A,padding:4,size:"sm"})}):null,b?(0,h.jsx)(l.kC.Item,{flex:"grow",children:(0,h.jsx)(l.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,h.jsxs)(l.xu,{"data-test-id":"mobile-modal-heading",dangerouslySetInlineStyle:{__style:x&&!k?{marginRight:L?-10:50,marginLeft:L?50:-10}:{}},children:[P?b:(0,h.jsx)(l.xv,{align:t,weight:"bold",size:"400",children:b}),I?(0,h.jsx)(l.xv,{align:t,children:I}):null]})})}):null]}),(0,h.jsxs)(l.xu,{overflow:"auto",children:[y,f]})]})]})})}):null}},467105:(e,t,n)=>{"use strict";n.d(t,{JN:()=>d,Vf:()=>c,ZM:()=>o,b7:()=>r,i_:()=>s});var i=n(883119),l=n(377234),a=n(360675);let r=new i.Ry(1e3),o=new i.H3([a.Z]),s=12,d=({variant:e})=>({__style:"fullscreen"===e?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{border:(0,l.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,l.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"}}),c=({isFullscreen:e,isTablet:t,isShowing:n,isRelatedInterestsModal:i})=>{let a={border:(0,l.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},r=n?"translateY(0)":"translateY(100vh)";return a.height=e?"100vh":"",t&&i&&(a={...a,width:425,left:"50%",transform:"translateX(-50%)"},r=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...a,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:r}}}},550140:(e,t,n)=>{"use strict";n.d(t,{UZ:()=>d,Vg:()=>s,ZP:()=>c});var i=n(667294),l=n(883119),a=n(549201),r=n(272109),o=n(785893);let s=200,d=({deviceType:e,hiding:t,visible:n})=>{let i="desktop"===e,l=0,a=i?"translateY(200px)":"translateY(-200px)",r="opacity 0.1s ease-in-out",o="hidden";return n&&!t&&(l=1,a="translateY(0)",r="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",o="visible"),n&&t&&(a="scale(1.1)",r="opacity transform 0.2s"),{opacity:l,pointerEvents:"auto",position:"relative",marginTop:i?10:0,transform:a,transition:r,visibility:o}};function c({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:n,primaryAction:c,dismissButton:u,helperLink:p,thumbnail:m,type:h,dataTestId:g,duration:_=2e3,onHide:y,href:v,onClick:f,openNewPage:b,imageUrl:x}){var k;let P;let S=(0,a.ZP)(),[w,T]=(0,i.useState)(!1),[A,C]=(0,i.useState)(!1),I=(0,i.useRef)(),j=()=>{T(!0),I.current=setTimeout(y,s)},E=()=>{I.current=setTimeout(j,_)},L=()=>{I.current&&clearTimeout(I.current)};(0,r.Z)(()=>(setTimeout(()=>C(!0),100),E(),L)),x&&(P={image:(0,o.jsx)(l.Ee,{alt:"string"==typeof n?n:`${n[0]} ${n[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:x})});let R=(0,o.jsx)(l.FN,{_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,primaryAction:c,text:n,thumbnail:null!==(k=P)&&void 0!==k?k:m,type:h,dismissButton:u,helperLink:p}),{marginTop:F,opacity:D,pointerEvents:z,position:M,transform:O,transition:Z,visibility:N}=d({deviceType:S,hiding:w,visible:A});return(0,o.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transform:O,transition:Z,visibility:N,pointerEvents:z}},"data-test-id":null!=g?g:"toast",onMouseEnter:L,onMouseLeave:E,opacity:D,position:M,marginTop:F,display:"flex",children:v?(0,o.jsx)(l.Tg,{href:v,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{v.startsWith("#")&&(e.preventDefault(),t()),null==f||f(e)},target:b?"blank":null,rounding:"pill",children:R}):R})}},870243:(e,t,n)=>{"use strict";n.d(t,{qE:()=>o,u_:()=>s.ZP});var i=n(883119),l=n(785893);let a=(e,t)=>{let n=null==e?void 0:e.includes("images/user/default");return!!(n&&t)};function r({accessibilityLabel:e,name:t,outline:n,size:r,src:o,verified:s}){return(0,l.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:n,size:r,src:a(o,t)?void 0:o,verified:s})}r.displayName="Avatar";let o=r;var s=n(88622);n(550140)},310072:(e,t,n)=>{"use strict";function i(e){let t=e.userAgent.isMobile?"mobile":"desktop";return`${t}.${e.country}.${e.userAgent.platform}.${e.userAgent.browserName}`.replace(/ /g,"_")}n.d(t,{Z:()=>i})},67162:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>w,sE:()=>P,jV:()=>T});var i=n(441143),l=n.n(i),a=n(244311);let r=/(EXP\d?|ADSHQ|AVC|DASH|MANI|HIGHQUAL|HEVC|HLS|H265|H264|720P?|MP4|ENABLED|CONTROL|PROD|T\d|Q?VBR\d*|AUTOABR|MEDIACONVERT|QUALITY|REARRANGED|REMHIGHRES|VISIONULAR|480$|640$|V2$|\dSEC$|\d\d0P\d\d0K$)/g,o={vDASHHEVCSLCONTROL:"V_DASH_HEVC_SL_CONTROL",vHLSHEVC2SEC:"V_HLS_HEVC_2_SEC",vHLSHEVCSLCONTROL:"V_HLS_HEVC_SL_CONTROL",vHLSSINGLEFILECMAFEXP:"V_HLS_SINGLE_FILE_CMAF_EXP",vHLSSINGLEFILECONTROL:"V_HLS_SINGLE_FILE_CONTROL",vHLSSINGLEFILETSEXP:"V_HLS_SINGLE_FILE_TS_EXP",vHLSSLCONTROL:"V_HLS_SL_CONTROL",vHLSV3:"V_HLSV3",vHLSV3EXP:"V_HLSV3_EXP",vHLSV3MOBILE:"V_HLSV3_MOBILE",vHLSV3WEB:"V_HLSV3_WEB",vHLSV4:"V_HLSV4",vLOWBITRATEEXPHLSHEVCCONTROL:"V_LOW_BITRATE_EXP_HLS_HEVC_CONTROL",vLOWBITRATEEXPHLSHEVCLOB:"V_LOW_BITRATE_EXP_HLS_HEVC_LOB",vLOWBITRATEEXPHLSHEVCLQS:"V_LOW_BITRATE_EXP_HLS_HEVC_LQS"},s=e=>{var t;return null!==(t=o[e])&&void 0!==t?t:e.replace(r,"_$1").replace(/(\d\d0P)(\d\d0K)/,"$1_$2").replace(/QVBR(8|10)/,"QVBR_$1").replace("ADSHQ","ADS_HQ").replace("HIGHQUAL","HIGH_QUAL").replace("REMHIGHRES","REM_HIGH_RES").replace(/^v/,"V")},d=e=>e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`),c=e=>e.replace(/^_/,""),u=e=>c(d(e)),p=e=>"entityId"===e?"id":u(e),m=({gqlFieldName:e,concreteType:t,parentConcreteType:n})=>{if("StoryPinPage"===n){if("images"===e)return"image";if("imagesAdjusted"===e)return"image_adjusted"}return"PinTagChipImagesPerSpec"===n&&"image"===e?"images":"VideoDetail"===t?s(e):"reactionCountsData"===e?"reaction_counts":u(e)},h=({gqlFieldName:e,legacyValue:t})=>{switch(e){case"reactionType":return"string"==typeof t?Number(t):t;case"campaignId":case"pinPromotionId":return"number"==typeof t?String(t):t;default:return t}},g=({untypedInput:e,concreteType:t})=>{if(!e)return null;switch(l()("object"==typeof e,"legacy data must be an object"),t){case"ReactionCountModel":return Object.entries(e).map(([e,t])=>({reaction_type:e,reaction_count:t}));case"PinThroughProperties":return Object.entries(e).map(([e,t])=>({key:e,data:t}));default:if(Array.isArray(e))return e;return Object.entries(e).map(([e,t])=>({key:e,value:t}))}},_=({args:e,name:t})=>{let n=e.find(e=>e.name===t);return n&&"string"==typeof n.value?n.value:null},y=({untypedInput:e,parentConcreteType:t,selection:n})=>{let{args:i,name:a}=n;if("PinTagChipImagesPerSpec"===t&&"image"===a){var r;return null==e?void 0:null===(r=e.images)||void 0===r?void 0:r["750x"]}let o=null==e?void 0:e[m({gqlFieldName:a,concreteType:n.concreteType,parentConcreteType:t})];if(!o)return o;let s=_({args:null!=i?i:[],name:"spec"});if(s){if(l()("object"==typeof o,"value must be an object"),"StoryPinPage"===t){let{dominant_color:e,images:t}=o;if(!t)return t;l()("object"==typeof t,"images must be an object");let n=t["orig"===s?"originals":s];return n&&e?{...n,dominant_color:e}:n}return o[s]}return o},v={HeadingBlock:"StoryPinHeadingBlock",IngredientBlock:"StoryPinIngredientBlock",InstantContentURLNavigateAction:"InstantContentActionUrlNavigate",InstantContentHeaderBlock:"InstantContentHeader",InstantContentParagraphBlock:"InstantContentParagraph",InstantContentTextBlock:"InstantContentText",InstantContentHeadingBlock:"InstantContentHeading",InstantContentImageBlock:"InstantContentImage",InstantContentVideoBlock:"InstantContentVideo",InstantContentTableBlock:"InstantContentTable",InstantContentGroupBlock:"InstantContentGroup",InstantContentOrderedListBlock:"InstantContentOrderedList",InstantContentUnorderedListBlock:"InstantContentUnorderedList",InstantContentSectionBlock:"InstantContentSection",InstantContentSeparatorBlock:"InstantContentSeparator",InstantContentUserBlock:"InstantContentUser",InstantContentWebBlock:"InstantContentWeb",InstantContentPromotedWebBlock:"InstantContentPromotedWeb",LinkBlock:"StoryPinLinkBlock",ParagraphBlock:"StoryPinParagraphBlock",SupplyBlock:"StoryPinSupplyBlock",TextBlock:"StoryPinTextBlock"},f=({gqlConcreteType:e,legacyType:t})=>{var n;return(null!==(n=v[e])&&void 0!==n?n:e).toLowerCase()===("string"==typeof t?t:"").replace(/_/g,"")};var b=n(935340);let x=new Map;function k(e,t,n){let i=e.get(t);if(null!=i)return i;{let i=n();return e.set(t,i),i}}let P=Symbol("fragmentSpread"),S=({untypedInput:e,mutableOutput:t,selections:n,parentType:i,conditionContext:a,fragmentName:r,path:o})=>{n.forEach(n=>{switch(n.kind){case"ScalarField":{let{alias:a,name:r}=n;l()(!("__typename"===r&&null==i),"We do not support selecting __typename directly on interface fields. Contact @jackhsu or @robertbalicki"),t[null!=a?a:r]="__typename"===r?i:h({gqlFieldName:r,legacyValue:null==e?void 0:e[p(r)]});break}case"LinkedField":{let{alias:d,name:c,concreteType:u,plural:p,selections:m}=n,h=null!=d?d:c,_=y({untypedInput:e,selection:n,parentConcreteType:i});if(null==_){t[h]=_;return}if(p){let e=g({untypedInput:_,concreteType:u}),n=t[h];l()(!n||Array.isArray(n),"plural data must be an array"),t[h]=null==e?void 0:e.map((e,t)=>{var i;let l=null!==(i=null==n?void 0:n[t])&&void 0!==i?i:{};return S({conditionContext:a,untypedInput:e,mutableOutput:l,parentType:u,selections:m,fragmentName:r,path:o+"."+c}),l})}else{var s;l()("object"==typeof _,`Value for ${c} must be an object${u?` with type ${u}`:""}, but a ${typeof _} is given`);let e=null!==(s=t[h])&&void 0!==s?s:{};t[h]=e,S({conditionContext:a,untypedInput:_,mutableOutput:e,parentType:u,selections:m,fragmentName:r,path:o+"."+c})}break}case"InlineFragment":{let{abstractKey:i,type:s,selections:d}=n;l()(null!=s&&null===i,"We only support using inline fragment to refine to concrete types for now. Contact @jackhsu or @robertbalicki"),f({gqlConcreteType:s,legacyType:null==e?void 0:e.type})&&S({conditionContext:a,untypedInput:e,mutableOutput:t,parentType:s,selections:d,fragmentName:r,path:o}),(null==e?void 0:e.type)==null&&function(e,t,n){let i=k(x,e,()=>new Map),l=k(i,t,()=>new Set);l.has(n)||(l.add(n),(0,b.nP)("autoLegacyAdapter.missingTypeField",{sampleRate:1,tags:{fragmentName:e,path:t,concreteChildType:n}}))}(r,o,s);break}case"Condition":{let{condition:l,selections:s}=n,d=!0;"isAuth"===l?d=a.isAuth===n.passingValue:"isDesktop"===l&&(d=a.isDesktop===n.passingValue),d&&S({conditionContext:a,untypedInput:e,mutableOutput:t,parentType:i,selections:s,fragmentName:r,path:o});break}case"FragmentSpread":t[P]=e;break;case"Defer":case"Stream":case"ActorChange":case"FlightField":case"ModuleImport":case"RelayResolver":case"RequiredField":case"ClientExtension":case"RelayLiveResolver":case"AliasedFragmentSpread":case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":case"InlineDataFragmentSpread":case"AliasedInlineFragmentSpread":throw Error(`The selection type '${n.kind}' is not supported yet. Contact @jackhsu or @robertbalicki`);default:throw Error(`Unexpected selection type '${n.kind}'`)}})};function w({conditionContext:e,fragment:t,legacyData:n}){let i=(0,a.getFragment)(t),r=null==i.abstractKey;null!=n&&n.type&&r&&l()(f({gqlConcreteType:i.type,legacyType:n.type}),`fragment data type '${i.type}' does not match legacy data type '${String(n.type)}'. See http://pinch.pinadmin.com/fragment-data-type-does-not-match-legacy-data-type.`);let o={};return S({conditionContext:e,untypedInput:n,mutableOutput:o,parentType:i.type,selections:i.selections,fragmentName:i.name,path:""}),o}function T(e,t){return e[P]=t,e}},128340:(e,t,n)=>{"use strict";n.d(t,{b:()=>l});let i=({height:e,url:t,width:n})=>({height:e,url:t,width:n}),l=e=>Object.entries(e).reduce((e,[t,n])=>({...e,[t]:n&&i(n)}),{})},448709:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(667294),l=n(497088),a=n(785893);function r({useGraphQLAdapter:e,useLegacyAdapter:t}){let n=({children:t,data:n})=>t({enabled:!0,data:e(n)}),r=({children:e,data:n})=>e({enabled:!1,data:t(n)});return function({children:e,input:t}){var o;let s=t.enabled?(0,a.jsx)(n,{data:t.data,children:e}):(0,a.jsx)(r,{data:t.data,children:e}),d=null!==(o=t.suspense)&&void 0!==o&&o.dangerouslyServerRender?i.Suspense:l.Z;return t.suspense?(0,a.jsx)(d,{fallback:t.suspense.fallback,children:s}):s}}},803817:(e,t,n)=>{"use strict";n.d(t,{qH:()=>P,Zm:()=>v,HF:()=>x,sr:()=>k,V4:()=>b});var i=n(702664),l=n(167912),a=n(67162);function r(e){return null==e?"null or undefined":Array.isArray(e)?"Array":typeof e}function o(e,t,n){return{path:e,message:`Value found only in ${"Manual"===t?"legacy adapter":"auto-legacy adapter"}, where it had type ${r(n)}. (Or it was null in the ${"Manual"===t?"auto-legacy adapter":"legacy adapter"}.)`,kind:"MissingItem"}}function s(e,t,n){let i=r(t),l=r(n);return{path:e,message:`Found item of type ${i} in the legacy adapter result, and an item of type ${l} in the auto-legacy result.`,kind:"Type"}}var d=n(245410),c=n(282802),u=n(549201),p=n(525104),m=n(391297),h=n(935340);let g={},_=new Set,y=new Set;function v(e,t,{useGraphQLAdapter:n,useLegacyAdapter:i}){if("deprecated"===t.type)return{data:i(t.data),childDataKey__DEPRECATED:t};let a=(0,l.useFragment)(e,t.data);return{data:n(a),childDataKey__DEPRECATED:{type:"graphqlRef",data:a}}}let f=()=>{let{isAuthenticated:e}=(0,c.B)(),t=(0,u.HG)();return{isAuth:!!e,isDesktop:t}};function b(e,t){let{checkExperiment:n}=(0,d.F)(),{isAuthenticated:i}=(0,c.B)(),{group:l,anyEnabled:u}=n(i?"web_graphql_auto_legacy_adapters_auth":"web_graphql_auto_legacy_adapters_unauth"),p=f();return l.includes("parallel")?n=>{let i=(0,a.jV)(t(n),n);return"object"==typeof window&&function(e,t,n,i){let l;try{l=(0,a.ZP)({conditionContext:t,fragment:e,legacyData:n})}catch(i){_.has(e.name)||(_.add(e.name),window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn(`autoLegacyAdapter threw for fragment ${e.name}`),(0,h.nP)("autoLegacyAdapter.erroredReadResults",{sampleRate:1,tags:{fragmentName:e.name,rootId:null==n?void 0:n.id,rootType:null==n?void 0:n.type,url:window.location.href,isAuth:t.isAuth}}),(0,m.T)({message:`[autoLegacyAdapter.${e.name}] - ${i.message}`,name:i.name,stack:i.stack}));return}try{var d,c;let t=(d=l,function e(t,n,i){let l=[],a=Object.keys(n),d=Object.keys(i);for(let d of a){let a=n[d],c=i[d];l.push(...function t(n,i,l){return null!=i&&null==l?[o(n,"Manual",i)]:i===l||null==i&&null==l?[]:Array.isArray(i)?Array.isArray(l)?function(e,n,i){if(n.length!==i.length)return[{path:e,message:`legacyResult is an array of length ${n.length}; autoLegacyResult is an array of length ${i.length}`,kind:"Length"}];let l=[];for(let a=0;a<n.length;a+=1){let r=n[a],o=i[a];l.push(...t(`${e}[]`,r,o))}return l}(n,i,l):[s(n,i,l)]:"object"==typeof i?"object"==typeof l&&null!==l&&null!==i?e(n,i,l):[s(n,i,l)]:[typeof i!=typeof l?s(n,i,l):{path:n,message:`Found items of type ${r(i)}, but their values did not match.`,kind:"Value"}]}(`${t}.${d}`,a,c))}for(let e of d){let a=n[e],r=i[e];null!=r&&null==a&&l.push(o(`${t}.${e}`,"Auto",r))}return l}("",i,d));if(t.length>0){window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn({differences:t,fragment:e.name}),g[e.name]=null!==(c=g[e.name])&&void 0!==c?c:new Set;let n=g[e.name];for(let i of t)n.has(i.path)||(n.add(i.path),(0,h.nP)("autoLegacyAdapter.inconsistentReadResults",{sampleRate:1,tags:{fragmentName:e.name,path:i.path,kind:i.kind}}))}}catch(t){y.has(e.name)||(y.add(e.name),window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn(`comparing results threw for fragment ${e.name}`),(0,h.nP)("autoLegacyAdapter.erroredCompareResults",{sampleRate:1,tags:{fragmentName:e.name}}))}}(e,p,n,i),i}:u?t=>(0,a.ZP)({conditionContext:p,fragment:e,legacyData:t}):e=>(0,a.jV)(t(e),e)}function x(e,t,n){let l;switch(n.type){case"article":l=e=>{let t=(0,i.useSelector)(({articles:t})=>t[e]);return t?n.useLegacyAdapter(t):null};break;case"story":l=e=>{let t=(0,i.useSelector)(({stories:t})=>t[e]);return t?n.useLegacyAdapter(t):null};break;default:l=e=>{let t=(0,p.S6)()(e);return t?n.useLegacyAdapter(t):null}}return v(e,t,{useGraphQLAdapter:n.useGraphQLAdapter,useLegacyAdapter:l})}function k(e,t,n){let i=b(e,n.useLegacyAdapter);return x(e,t,{...n,useGraphQLAdapter:e=>e,useLegacyAdapter:i})}let P=void 0},450600:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var i=n(422578),l=n(67162),a=n(803817);function r(e,t,{useLegacyAdapter:n}){if(null==t)return{data:null,childDataKey__DEPRECATED:null};let r=function(e){let t=e[l.sE];return null!=t?{type:"deprecated",data:t}:e}(t);if("deprecated"===r.type){let{data:t}=r;return null==t?{data:null,childDataKey__DEPRECATED:r}:{data:(0,a.V4)(e,n)(t),childDataKey__DEPRECATED:r}}let o=(0,i.useFragment)(e,r.data);return{data:o,childDataKey__DEPRECATED:{type:"graphqlRef",data:o}}}},81660:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(667294),l=n(167912),a=n(244311);function r(e,t,n){var r;let o=null===(r=null==n?void 0:n.suspendOnRefetch)||void 0===r||r,s=(0,l.useRelayEnvironment)(),[d,c]=(0,i.useState)({fetchKey:0,fetchPolicy:"store-or-network"}),[u,p]=(0,i.useState)(!1),m=(0,i.useCallback)(()=>{u||(o?c(e=>({fetchKey:e.fetchKey+1,fetchPolicy:"network-only"})):(p(!0),(0,a.fetchQuery)(s,e,t).subscribe({complete:()=>{p(!1),c(e=>({fetchKey:e.fetchKey+1,fetchPolicy:"store-only"}))},error:()=>{p(!1)}})))},[s,u,e,o,t]),h=(0,l.useLazyLoadQuery)(e,t,d);return{data:h,isRefetching:u,refetch:m}}},24286:(e,t,n)=>{"use strict";n.d(t,{$H:()=>r,$q:()=>f,D6:()=>d,KN:()=>x,Lo:()=>l,OS:()=>m,P2:()=>_,Wv:()=>b,ZZ:()=>u,g5:()=>p,jC:()=>o,lX:()=>g,nW:()=>h,oX:()=>y,qG:()=>v,tG:()=>a,yF:()=>i,yc:()=>c,yt:()=>s});let i=236,l=2*i/3,a=175,r=24,o=4,s=8,d=2,c=2,u=14,p=16,m=5,h=12,g=16,_=24,y=16,v=-1,f=(e=!1,t=!1)=>e?t?g:h:_,b=({contentVisibleItemCount:e,gap:t,width:n})=>e||n?(n-(e-1)*t)/e:i,x=(e,t,n,i,l=u)=>{let a=e+l,r=`
@media (min-width: ${t*a}px) and (max-width: ${(n+1)*a-1}px) {
  ${i}
}
`;return r}},13596:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(734417),l=n(282802),a=n(785893);let r=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:r,shortformMaximumFractionDigits:o,formatStyle:s,uplimit:d,value:c})=>{let u=(0,i.Z)();return(0,a.jsx)(l.LC,{children:i=>u(i.locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:r,shortform_maximum_fraction_digits:o,style:s,uplimit:d})})}},187309:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=["AT","BE","BG","CH","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GR","HU","HR","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SK","SI","SE"]},62152:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(736409),l=n(536042),a=n(630089);function r(){let e=(0,l.ZP)();return function(t,n){let l=new Date(t),r=new Date,o=r-l,s=Math.floor(o/i.FS),d=Math.floor(o/i.UK),c=Math.floor(o/i.F4),u=Math.floor(o/i.VL),p=Math.floor(o/i.N1),m=e.nbt(["{{ minutes }} ", "{{ minutes }} ", "{{ minutes }} "], s, " - ", true),h=e.nbt(["{{ hours }} ", "{{ hours }} ", "{{ hours }} "], d, " - ", true),g=e.nbt(["{{ days }} ", "{{ days }} ", "{{ days }} "], c, " - ", true),_=e.nbt(["{{ weeks }} ", "{{ weeks }} ", "{{ weeks }} "], u, " - ", true),y=e.nbt(["{{ years }} ", "{{ years }} ", "{{ years }} "], p, " - ", true),v=e.nbt(["{{ minutes }}.", "{{ minutes }}.", "{{ minutes }}."], s, "minutes ago abbreviated", true),f=e.nbt(["{{ hours }}.", "{{ hours }}.", "{{ hours }}."], d, "hours ago abbreviated", true),b=e.nbt(["{{ days }}.", "{{ days }}.", "{{ days }}."], c, "days ago abbreviated", true),x=e.nbt(["{{ weeks }}.", "{{ weeks }}.", "{{ weeks }}."], u, "weeks ago abbreviated", true),k=e.nbt(["{{ years }}", "{{ years }}", "{{ years }}"], p, "years ago abbreviated", true);return p>0?(0,a.nk)(n?k:y,{years:p}).join(""):u>0?(0,a.nk)(n?x:_,{weeks:u}).join(""):c>0?(0,a.nk)(n?b:g,{days:c}).join(""):d>0?(0,a.nk)(n?f:h,{hours:d}).join(""):s>0?(0,a.nk)(n?v:m,{minutes:s}).join(""):e.bt(" ", "Just now", " - ", undefined, true)}}},536042:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>o,oz:()=>a,q6:()=>l});var i=n(583592);let{Provider:l,Consumer:a,useHook:r}=(0,i.Z)("i18n"),o=r},734417:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(536042),l=n(493851);let a=(e,t)=>{let n=t||0,i=10**n,l=+(n?e*i:e).toFixed(8),a=Math.floor(l),r=l-a,o=r>.49999999&&r<.50000001?a%2==0?a:a+1:Math.round(l);return n?o/i:o},r=({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:i})=>{let l={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...l,style:n,..."currency"===n?{currency:i,currencyDisplay:"symbol"}:{}}:l},o=e=>{try{0..toLocaleString([e])}catch(e){return!1}return!0},s=(e,t)=>{if(t){let{minimumFractionDigits:n,maximumFractionDigits:i}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==n&&void 0!==i)return{minimumFractionDigits:n,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function d(){let e=(0,i.ZP)();return(t,n,i)=>{let d=0,c=0,u=i&&i.style||void 0,p=i&&i.shortform||!1,m=i&&i.uplimit||void 0,h=i&&i.currency||void 0,g=!!m&&n>=m,_=m&&g?m:n;if("currency"===u){let{minimumFractionDigits:e,maximumFractionDigits:n}=s(t,h);d=void 0===i||void 0===i.maximum_fraction_digits?n:i.maximum_fraction_digits,c=void 0===i||void 0===i.minimum_fraction_digits?e:i.minimum_fraction_digits}else d=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,c=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits;if(p&&_>999&&(d=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,c=0),d<c)return String(_);let y=_,v="",f=[{"100M":{value:1e8,localeKey:e.bt(".", "", "Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.", undefined, true)}},{"10k":{value:1e4,localeKey:e.bt(" .", "", "Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.", undefined, true)}}],b=[{b:{value:1e9,localeKey:e.bt("", "B", "Abbreviation for one billion.", undefined, true)}},{m:{value:1e6,localeKey:e.bt("", "M", "Abbreviation for one million.", undefined, true)}},{k:{value:1e3,localeKey:e.bt(".", "k", "Abbreviation for one thousand.", undefined, true)}}],x=/^zh|ja|ko/.test(t);if(p&&_>999){let e=x?f:b;for(let t=0;t<e.length;t+=1){let n=Object.keys(e[t])[0],i=e[t][n].value;if(_>=i){y=a(_/i*Math.pow(10,d))/Math.pow(10,d),v=e[t][n].localeKey;break}}}if(null==y)return"";let k=y.toLocaleString([o(t)&&"ar-SA"!==t?t:"en-US"],r({maximumFractionDigits:d,minimumFractionDigits:c,currency:h,style:u}));return v&&v.length>0?(0,l.Z)(e.bt("{{formattedNumber}}{{numberSuffix}}", "{{formattedNumber}}{{numberSuffix}}", "i18n.usePrettyNumberFormat.prettyNumberFormat", undefined, true),{formattedNumber:k,numberSuffix:v})+(g?"+":""):k+(g?"+":"")}}},833122:(e,t,n)=>{"use strict";n.d(t,{F:()=>s,Z:()=>o});var i=n(667294),l=n(388011),a=n(906215);let r={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600}};function o({carouselData:e,closeupImpressionType:t,closeupNavigationType:n,componentType:o,contextLogData:s,clientTrackingParams:d,elementType:c,impressionAuxFields:u,inImpressionExp:p,impressionType:m,impressionsFramework:h,isPaused:g,loggingId:_,objectIdStr:y,slotIndex:v,trackCarousel:f,viewData:b,viewParameter:x,viewType:k}){let{logContextEvent:P}=(0,l.v)(),S=h||a.Z,w=(0,i.useRef)(null),T=i=>{var l,a,p,h,g,S,T;let A=r[m],C=A.idType,I={clientTrackingParams:d,endTime:i.endTime,[C]:_,slotIndex:v,time:i.startTime,renderDuration:i.endTime-i.startTime,type:t,...u,forcedExit:"removed"===i.forcedExit?0:void 0};"Pin"===m&&(I={...I,pinCellWidth:(null===(l=w.current)||void 0===l?void 0:l.getBoundingClientRect().width)||0,pinCellHeight:(null===(a=w.current)||void 0===a?void 0:a.getBoundingClientRect().height)||0,windowWidth:null===(p=window)||void 0===p?void 0:p.innerWidth,windowHeight:null===(h=window)||void 0===h?void 0:h.innerHeight});let j={component:o,object_id_str:y,view_type:k,view_data:b||{},view_parameter:x};f?e&&P({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...I,carouselDataId:Number(e.id),carouselSlotId:(null===(g=e.carousel_slots)||void 0===g?void 0:g[null!==(S=e.index)&&void 0!==S?S:0])&&Number(e.carousel_slots[null!==(T=e.index)&&void 0!==T?T:0].id),slotIndex:e.index}]},...j,aux_data:{...s}}):P({clientTrackingParams:d,event_type:A.eventType,...j,element:c,event_data:{[A.impressionType]:"Story"===m?I:[I]},aux_data:{closeup_navigation_type:n,...s}})},A=(0,i.useCallback)(()=>{try{w.current instanceof HTMLElement&&S.start(w.current).onExitViewport(T).setDebugId(_||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[w.current]);(0,i.useEffect)(()=>(p&&!S.inExperiment&&S.setExperimentStatus(!0),g||A(),()=>{w.current instanceof HTMLElement&&S.stop(w.current)}),[A]);let C=(0,i.useRef)(g);return(0,i.useEffect)(()=>{C.current&&!g&&A(),C.current=g},[g,A]),w}let s=({children:e,...t})=>e({impressionTrackerRef:o(t)})},121633:(e,t,n)=>{"use strict";function i(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z3:()=>u,LU:()=>p,ZP:()=>m});let l=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,a={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},r={},o={background:"#FF8A8A",transform:"scale(.98)"},s={init:e=>({transform:`scale(${r[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[a.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[a.exit]:o,[a.stopped]:o,[a.paused]:o,[a.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){i(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),i(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),i(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),i(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){let e=Date.now();this.startTime=e,this._debug(a.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach(e=>e())}else!t&&this.inViewport&&(this._debug(a.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON())));this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,l&&Object.assign(this.node.style,s.init(e)),this}pause(){return this.inViewport&&(this._debug(a.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(a.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(a.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`}}_debug(e,t){if(l)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),s[e]&&Object.assign(this.node.style,s[e]),e){case a.flushed:case a.paused:case a.exit:r[this.debugId]=!0}}}function c(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u=!0,p=!1;class m{constructor(){c(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),c(this,"_handleMutations",(e,t)=>{let n=this.mutationObservers.get(t),i=n&&n.offsetHeight<1;i&&n&&this.stop(n,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let n=this.activeImpressions.get(e);if(n){var i;n.stop(t),this.mutationObservers.delete(n.mutationObserver),n.stopMutationObserver(),this.activeImpressions.delete(e),null===(i=window.activeImpressions)||void 0===i||i.delete(e),this.observer.unobserve(e)}}start(e){let t=this.activeImpressions.get(e);if(!t){var n;t=new d(e),this.activeImpressions.set(e,t),null===(n=window.activeImpressions)||void 0===n||n.set(e,t),this.observer.observe(e),t.setMutationObserver(new window.MutationObserver((e,t)=>this._handleMutations(e,t))),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=u){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==p||(this.pausePriority=e))}resume(e=u){(e!==p||this.pausePriority!==u)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=p)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:n}=t.getBoundingClientRect();return n>e?n:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:n}=t.getBoundingClientRect();return n<e?n:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let n={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,n),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},906215:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(121633);let l=new i.ZP},630089:(e,t,n)=>{"use strict";n.d(t,{Wc:()=>s,bF:()=>c,nk:()=>o,r7:()=>u});var i=n(667294),l=n(785893);function a(e,t,n){return e.split(n).map(e=>{if(e.match(n)){let n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e})}let r=/(\{\{\s*\w+\s*\}\})/g;function o(e,t){return a(e,t,r)}function s(e,t){return a(e,t,r).join("")}let d=/(\{\s*\w+\s*\})/g;function c(e,t){return a(e,t,d)}let u=({text:e})=>Array.isArray(e)?e.map((e,t)=>(0,l.jsx)(i.Fragment,{children:e},t)):e},149596:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(667294);function l(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.Component{constructor(...e){super(...e),l(this,"ref",(0,i.createRef)()),l(this,"observer",null),l(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){null!==this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let r=a},17206:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(970588),l=n(739425);let a=(e=()=>{})=>{let t=(0,l.mB)(window.location.search),{invite_code:n}=t;if(!n){e(t);return}let a=encodeURIComponent(n),r=encodeURIComponent(a);(0,i.Z)({url:"/v3/invite_code/attribution/land/",method:"POST",data:{invite_code:r}})}},619795:(e,t,n)=>{"use strict";n.d(t,{U:()=>y});var i=n(40660);let l="nic_v3",a=`${l}=1a`,r=`${l}=1b`,o=[a,r],s=["invite_code","invite","board_invite_code","sender"],d=e=>!!s.find(t=>e.includes(t)),c=e=>!!o.find(t=>e.includes(t)),u=e=>e.pathname.includes("/pin/")&&!d(e.search)&&!c(e.search),p=e=>e.includes("sender"),m=e=>!d(e)&&!p(e)&&e.includes(l),h=(e,t,n)=>{let i=e.search?"&":"?",l=e.pathname+e.search+(i+(n?r:a)+t);return l},g=(e,t,n=!1,a)=>{if(!u(e))return;let r=n?"mweb":"web";if(!t){i.Z.increment(`${r}.${l}.social_tracking_pin_non_invite.insert.no_encrypted_id`);return}i.Z.increment(`${r}.${l}.social_tracking_pin_non_invite.insert.attempt`);try{let o=h(e,t,n);i.Z.increment(`${r}.${l}.social_tracking_pin_non_invite.insert.success`),a(o)}catch(e){i.Z.increment(`${r}.${l}.social_tracking_pin_non_invite.insert.caught_exception`)}},_=(e,t,n=!1,i)=>g(e,"",n,i),y=(e,t,n,a,r)=>{let o=n?"mweb":"web";i.Z.increment(`${o}.${l}.social_tracking_pin_non_invite.attempt`);try{!n&&a&&u(e)?(i.Z.increment(`${o}.${l}.social_tracking_pin_non_invite.search_string_eligible`),_(e,t,n,r)):m(e.search)&&i.Z.increment(`${o}.${l}.social_tracking_pin_non_invite.search_string_land`)}catch(e){i.Z.increment(`${o}.${l}.social_tracking_pin_non_invite.caught_exception`)}}},110417:(e,t,n)=>{"use strict";n.d(t,{Rq:()=>a,Vf:()=>r,ab:()=>d,jd:()=>o,k8:()=>u,nw:()=>c,oy:()=>s});var i=n(457628),l=n(791045);let a=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,r=28,o=e=>window.innerHeight>=748&&a(e),s=function(){return"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)},d=()=>{i.t8(l.oj,String(!0),(0,i.kZ)(l.oj))},c=()=>!!i.U2(l.oj),u=e=>{if(s()){let t=c();e.experimentsClient.flush(),t||(d(),"undefined"!=typeof window&&window.location.reload(!0))}}},525571:(e,t,n)=>{"use strict";function i(e){if(!e)return!1;let t=new Date(e);return t.setDate(t.getDate()+28),new Date().getTime()<t.getTime()}n.d(t,{Z:()=>i})},948196:(e,t,n)=>{"use strict";function i(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}n.d(t,{Z:()=>i})},5342:(e,t,n)=>{"use strict";function i(e,t,n=28){let i;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;i=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;let l=new Date,a=i?new Date(i):l;return a.setDate(a.getDate()+n),new Date().getTime()<a.getTime()}n.d(t,{Z:()=>i})},731048:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},943795:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>c,DEFAULT_PADDING_Y:()=>u,FixedFooter:()=>h,FixedHeader:()=>m});var i=n(667294),l=n(883119),a=n(377234),r=n(906215),o=n(107577),s=n(245410),d=n(785893);let c=64,u=3;function p({children:e,footerConfig:t,headerConfig:n,height:o,hideOnScroll:p,hideOnScrollState:{isHidden:m,updateHiddenState:h},noPadding:g,paddingY:_=u,type:y,zIndex:v}){let f,b;let{headerLimitedOverflow:x,ignoreObstructions:k,zIndexForGestaltBug:P}=n||{},{appUpsellFooterConfig:S,footerInLego:w,navFooterConfig:T}=t||{},A=!!S,C="header"===y?"top":"bottom",{anyEnabled:I}=(0,s.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),j=(0,a.vs)(),E=I?j:(0,a.Yc)(),L=(0,i.useRef)(null),R=(0,i.useRef)(null);(0,i.useEffect)(()=>{try{if(!k){let e=L.current;R.current=x&&e&&Array.isArray(e.children)?e.children[0]:e,R.current instanceof HTMLElement&&r.Z.addObstruction(C,R.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!k&&R.current instanceof HTMLElement&&r.Z.removeObstruction(C,R.current)}},[k,x,C,E]);let F="top"===C?"relative":"fixed",D=(null!=o?o:c)+((null==n?void 0:n.overrideTop)||0),z=p||T?{transition:w?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...m?{transform:`translateY(${"top"===C?-D:D}px)`,opacity:w?0:1}:Object.freeze({})}:{},M="relative"!==F||null!=n&&n.noGutter?0:2,O=M?-M:0,Z=E?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";return E&&("header"===y?f=-1:b=-1),(0,d.jsx)(l.xu,{ref:L,dangerouslySetInlineStyle:{__style:{top:f,bottomStyle:b,...!v||P?{zIndex:P||1}:Object.freeze({}),...x?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=n&&n.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...z}},zIndex:P?void 0:v,"data-test-id":y,display:A?"flex":void 0,height:o&&!w?o:void 0,position:F,bottom:"footer"===y,top:"header"===y,left:!0,right:!0,marginStart:w?"auto":O,marginEnd:w?"auto":O,onTransitionEnd:()=>{(p||T)&&R.current&&(m?r.Z.removeObstruction(C,R.current):r.Z.addObstruction(C,R.current))},width:w||"fixed"!==F?void 0:"100%",children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==n?void 0:n.isTranslucent)&&Z||(null==n?void 0:n.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:w?A?void 0:null!=o?o:c:"100%",boxShadow:w?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:w&&!(null!=T&&T.docked)?16:void 0,...x?{pointerEvents:"auto"}:Object.freeze({}),...null!=n&&n.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==y||g?0:4)+M,paddingY:g?0:_,position:"relative",width:T?T.footerWidth:A?void 0:"100%",rounding:w&&!(null!=T&&T.docked)?"pill":void 0,display:w||null!=t&&t.alignCenter?"flex":void 0,marginStart:w?"auto":void 0,marginEnd:w?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:h}):e})})}function m({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:i,isTransparentBackground:a,noGutter:r,overrideTop:s,useRoundedCorners:c,zIndexForGestaltBug:m,...h}){let{noPadding:g,paddingY:_=u,zIndex:y}=h;return(0,d.jsx)(l.Le,{top:s||0,height:t?44+8*(g?0:_):void 0,zIndex:y||void 0,children:(0,d.jsx)(o.Z,{hideOnScroll:h.hideOnScroll,children:l=>(0,d.jsx)(p,{...h,hideOnScrollState:l,type:"header",headerConfig:{isTranslucent:i,isTransparentBackground:a,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:r,overrideTop:s,zIndexForGestaltBug:m,useRoundedCorners:c}})})})}function h({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:l,...a}){return(0,d.jsx)(o.Z,{appUpsellFooterConfig:t,hideOnScroll:a.hideOnScroll,navFooterConfig:null==l?void 0:l.scrollConfig,children:r=>(0,d.jsx)(p,{...a,hideOnScrollState:r,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:l}})})}},107577:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,m:()=>r});var i=n(667294),l=n(552369);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let r=20;class o extends i.Component{constructor(...e){var t;super(...e),a(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!(null!==(t=this.props.navFooterConfig)&&void 0!==t&&t.isDockedNavOnPlp)}),a(this,"lastScrollPos",0),a(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),a(this,"handleScroll",(0,l.Z)(()=>{var e;let{appUpsellFooterConfig:t,navFooterConfig:n}=this.props,{isHidden:i}=this.state,l=window.scrollY,a=l-this.lastScrollPos,o="none",{scrollHeight:s,clientHeight:d}=document.documentElement||{};if(!Number.isNaN(s)&&!Number.isNaN(d)){if(a<0){let e=window.scrollMinY||0,t=Math.abs(e+Math.max(a,r));o=l<=t?"start":"none"}else{let e=window.scrollMaxY||s-d,t=e-Math.max(a,r);o=l>=t?"end":"none"}}let c=null!=n&&n.isModal?0:55;if(t){if(a>r&&i&&l>=500){let e=t.shouldShowAfterScroll();e&&(this.updateHiddenState(!1),null==n||n.onScroll(!1))}else(a<-r&&!i||l<=c)&&(this.updateHiddenState(!0),null==n||n.onScroll(!0))}else null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp?"start"===o&&!i||l<=c?(this.updateHiddenState(!0),null==n||n.onScroll(!0)):(l>c||"end"===o)&&i&&(this.updateHiddenState(!1),null==n||n.onScroll(!1)):(a<-r||"start"===o)&&i||l<=c?(this.updateHiddenState(!1),null==n||n.onScroll(!1)):(a>r||"end"===o)&&!i&&(this.updateHiddenState(!0),null==n||n.onScroll(!0));this.lastScrollPos=l},30))}componentDidMount(){try{var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){var t,n,i,l;!e.hideOnScroll&&this.props.hideOnScroll||!(null!==(t=e.navFooterConfig)&&void 0!==t&&t.isDockedNavOnPlp)&&null!==(n=this.props.navFooterConfig)&&void 0!==n&&n.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!==(i=e.navFooterConfig)&&void 0!==i&&i.isDockedNavOnPlp&&!(null!==(l=this.props.navFooterConfig)&&void 0!==l&&l.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state,i=!(null!=t&&t.forceShow)&&n;return e({isHidden:i,updateHiddenState:this.updateHiddenState})}}},265259:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(883119),l=n(24286),a=n(319689),r=n(549201),o=n(785893);let s=({children:e,roundedForLargeDevice:t})=>{let n=(0,r.ZP)(),s="phone"!==n&&t;return(0,a.V)()?(0,o.jsx)(i.xu,{marginStart:-l.D6,marginEnd:-l.D6,rounding:s?6:void 0,overflow:s?"hidden":void 0,children:(0,o.jsx)(a.C,{value:!1,children:e})}):e}},993869:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n(883119),l=n(24286),a=n(110417),r=n(319689),o=n(282802),s=n(785893);let d=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:d=!0,height:c,showKeychainError:u=!1,useViewport:p=!1})=>{let m=(0,o.B)(),h=(0,a.jd)(m.userAgent.platform)?a.Vf:0;return(0,s.jsx)(i.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${h}px)`:c,paddingX:d?l.D6:void 0,paddingY:n||u?void 0:3,children:(0,s.jsx)(r.C,{value:!!d,children:e})})}},319689:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,V:()=>r});var i=n(667294);let l=(0,i.createContext)(!1),a=l.Provider,r=()=>(0,i.useContext)(l)},354428:(e,t,n)=>{"use strict";n.d(t,{Se:()=>y,iw:()=>f,gV:()=>g,G3:()=>b,Gj:()=>v,Jd:()=>h,$3:()=>_});var i=n(965533),l=n(457628),a=n(791045),r=n(970588),o=n(250307);let s=e=>"string"!=typeof e&&e?e.state:null;var d=n(845098),c=n(48040),u=n(957733),p=n(625168),m=n(795142);let h=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},g=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),_=({location:e,pinId:t,surface:n})=>!!n&&!m.ZF.includes(n)||e.pathname.includes(t),y=(e,t)=>{var n,i;let r=Math.round(1e3*Math.random())+"",o=Math.round(1e3*Math.random())+"";l.t8((0,a.GS)(r),o);let s={token:`${r}-${o}`,url:e,...t&&!t.params?t.queryParams:(null==t?void 0:t.params)&&{pin:null!==(n=t.params.pinId)&&void 0!==n?n:void 0,isThirdPartyAd:null!==(i=t.params.isThirdPartyAd)&&void 0!==i?i:void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,d.Z)(s)}`},v=(e,t)=>{(0,i.Z)(y(e,t),!0,null==t?void 0:t.features)},f=async({clientTrackingParams:e,href:t,isMounted:n,pinId:i,spamCheckCallback:l})=>{let a=await (0,r.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e,pin_id:i,url:t}});if(!a.resource_response.error&&n){let e=a.resource_response.data||{},{message:t,redirect_status:n,url:i}=e,r=["blocked","suspicious","porn"].includes(n);l({blocked:r,message:t,redirectStatus:n,sanitized_url:i})}},b=({event:e,onHistoryChange:t,href:n,history:l,target:a})=>{let r=(0,o.Z)(n),d=s(n),m=(0,c.Z)(r);m===p.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===a?(0,i.Z)(r,"blank"===a):l&&m===p.Z.SAME_ORIGIN&&(l.push((0,u.Z)({url:r}),null!=d?d:{}),t&&t({event:e}))}},599551:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),l=n(616550),a=n(946618),r=n(354428),o=n(300657),s=n(250307),d=n(28630),c=n(554318),u=n(935340);function p(e){var t,n,p;let{externalData:m,href:h,onHistoryChange:g,target:_}=e,[y,v]=(0,i.useState)(null),[f,b]=(0,i.useState)(!1),x=(0,l.useHistory)(),k=(0,l.useLocation)(),P=(0,s.Z)(h),S=(0,d.Z)({url:P}),{showWarning:w}=null!==(t=(0,c.s)())&&void 0!==t?t:{},{pin:T,surface:A}=m||{},C=T?(0,a.Z)({boardUrl:null===(n=T.board)||void 0===n?void 0:n.url,location:k,pinId:T.entityId,pinnerUserName:null===(p=T.pinner)||void 0===p?void 0:p.username,storyPinDataId:T.storyPinDataId,trackingParams:T.trackingParams,trackingParamsMap:T.trackingParamsMap}):null,I=(0,o.Z)();return(0,i.useEffect)(()=>(b(!0),()=>{b(!1)}),[]),(0,i.useEffect)(()=>{S&&T&&null===y&&f&&(!T.promoter||T.isDownstreamPromotion)&&(0,r.$3)({location:k,pinId:T.entityId,surface:A})&&(0,r.iw)({clientTrackingParams:C,isMounted:f,pinId:T.entityId,spamCheckCallback:e=>v(e),href:P})},[C,T,A,P,S,f,k,y]),({event:e})=>{if(!(0,r.gV)({isOffsiteUrl:S,event:e})){if(e.preventDefault(),!h||"string"==typeof h&&h.startsWith("#")){(0,u.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:k.pathname,href:h}});return}if(S||null!=m&&m.dangerouslyForceOffsiteUrl){var t;I({auxData:null==m?void 0:m.auxData,clientTrackingParams:C,pin:(null==m?void 0:m.pin)&&{attributionSourceId:m.pin.attributionSourceId,campaignId:m.pin.campaignId,isPromoted:m.pin.isPromoted,pinPromotionId:m.pin.pinPromotionId,isThirdPartyAd:m.pin.isThirdPartyAd,advertiserId:m.pin.advertiserId},pinId:null==m?void 0:null===(t=m.pin)||void 0===t?void 0:t.entityId,queryParams:null==m?void 0:m.queryParams,showWarning:w,spamCheck:y,url:P})}else(0,r.G3)({event:e,href:h,history:x,onHistoryChange:g,target:"blank"===_?"blank":null})}}}},300657:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(758579),l=n(78309),a=n(521262),r=n(969327),o=n(388011),s=n(354428),d=n(204926);let c=(e,t,n)=>{let i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(l.$N.ATTRIBUTION_SOURCE_ID,e),i.setAttribute(l.$N.ATTRIBUTE_DESTINATION,n),i.setAttribute(l.$N.ATTRIBUTE_ON,n),i.click()},u=(e,t,n,i,r)=>{let o=(0,a.m_)(e,n,!0,i,r),s=document.createElement("a");s.setAttribute("href",t),s.setAttribute("target","_blank"),s.setAttribute("rel","noopener nofollow noreferrer"),s.style.cursor="pointer",s.style.display="block",s.setAttribute(l.NR.SOURCE,o),s.click()},p=()=>{let{logContextEvent:e}=(0,o.v)();return({attributionSourceId:t,auxData:n,campaignId:l,clientTrackingParams:a,href:o,isPromoted:d,pinId:p,pinPromotionId:m,isThirdPartyAd:h,advertiserId:g})=>{var _,y,v;if(!d)return!1;let f=(0,i.Z)(),b=(0,s.Se)(o,{params:{pinId:p,csrId:null,clientTrackingParams:a,auxData:n,isThirdPartyAd:h}}),x=null!==(_=null==f?void 0:f.userAgent.browserName)&&void 0!==_?_:"";if((0,r.G6)(x)){let{group:n}=null!==(y=null==f?void 0:f.experimentsClient.checkExperiment("m10n_event_conversion_measurement"))&&void 0!==y?y:{},i=null!=f&&f.userAgent.browserVersion?f.userAgent.browserVersion:"0.0",r=parseFloat(i.split(".")[0]+"."+i.split(".")[1]);if(t&&r>=14.1&&["enabled_safari"].includes(n))return c(t,b,o),e({event_type:101,clientTrackingParams:a,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:m||"",click_measurement_campaign_id:l||"",is_pcm:!0,attribution_source_id:t,page_url:o}}),!0}else if((0,r.i7)(x)&&null!==(v=window.document.featurePolicy)&&void 0!==v&&v.allowsFeature("attribution-reporting"))return u(t,b,o,l,g),e({event_type:101,clientTrackingParams:a,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:m||"",click_measurement_campaign_id:l||"",is_arapi:!0,attribution_source_id:t,page_url:o}}),!0;return!1}},m=e=>{let t=p();return({auxData:n,clientTrackingParams:i,pin:l,pinId:a,queryParams:r,showWarning:o,spamCheck:c,url:u})=>{if("undefined"!=typeof window&&window.Windows){(0,d.Z)(u,{clientTrackingParams:i,pinId:a,hasPin:!!l,auxData:n,isThirdPartyAd:null==l?void 0:l.isThirdPartyAd});return}if(!l&&!(null!=e&&e.isFromClickthroughLink)){(0,s.Gj)(u,r?{queryParams:r}:{params:{pinId:a}});return}if(null!=c&&c.blocked){null==o||o(c);return}l&&t({attributionSourceId:l.attributionSourceId,auxData:n,campaignId:l.campaignId?String(l.campaignId):null,clientTrackingParams:i,href:u,isPromoted:l.isPromoted,pinId:a,pinPromotionId:l.pinPromotionId?String(l.pinPromotionId):null,isThirdPartyAd:l.isThirdPartyAd,advertiserId:l.advertiserId?l.advertiserId:null})||(0,s.Gj)(u,{params:{clientTrackingParams:i,auxData:n,pinId:a,isThirdPartyAd:null==l?void 0:l.isThirdPartyAd}})}}},307052:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(40660);function l(e,t){return new Promise((n,l)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t){if(window.FB)n();else{let t=setInterval(()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`mweb.loadScript.facebook.tries_${e}`,.01))},100)}}else if("GSI"===t){if(window.google)n();else{let t=setInterval(()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`mweb.loadScript.gsi.tries_${e}`,.01))},100)}}else n()}else{let t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",()=>n()),t.addEventListener("error",l),document.getElementsByTagName("head")[0].appendChild(t)}})}},279409:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(948196);function l(e,t=!1){let n=(t,n)=>e(n);return e=>(function e(t,n=!1){return l=>{if(!(0,i.Z)(l))return n&&Array.isArray(l)?l.map(e(t,n)):l;let a={};return Object.keys(l).forEach(r=>{let o=t(l[r],r);(0,i.Z)(l[r])||n&&Array.isArray(l[r])?a[o]=e(t,n)(l[r]):a[o]=l[r]}),a}})(n,t)(e)}},532465:(e,t,n)=>{"use strict";function i(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r});let l=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},a=e=>{if(e.isHidden){let{reason:t}=e;l.windowInFocus=!1,l.onPauseListeners.forEach(e=>e(t))}else l.windowInFocus=!0,l.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>a({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>a({isHidden:!1})),window.addEventListener("blur",()=>a({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>a({isHidden:!1})),window.addEventListener("pagehide",()=>a({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>a(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>a(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let r=l},624417:(e,t,n)=>{"use strict";function i({embedSrc:e,embedType:t,imagesUrls:n,preferredResolution:i,excludeOriginals:l}){if(!e&&!t&&!n)return"";if("gif"===t)return e||"";if(!n)return"";if(i){let e="474x"===i&&n["474x"]||"236x"===i&&n["236x"]||n["736x"];if(e)return e}let a=Object.keys(n).reduce((e,t)=>{try{let i=t.split("x")[0];if(Number.isNaN(Number(i)))return{...e,[t]:n[t]};return{...e,[i]:n[t]}}catch(t){return e}},{}),r=Object.keys(a);l&&"orig"===r[r.length-1]&&r.pop();let o=r.pop();return a[o]||""}n.d(t,{Z:()=>i})},740494:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(465991);let l=e=>(e||"").trim().replace(/\s+/g," "),a=({storyPinDataId:e,pinDescription:t,richMetadataDescription:n,richSummaryDisplayName:a,closeupDescription:r,closeupUnifiedDescription:o,seoDescription:s,seoNoindexReason:d})=>d&&i.eg.has(d)?l(s):e?l(t):l((0,i.eK)({richMetadataDescription:n,richSummaryDisplayName:a,closeupUnifiedDescription:o}).description)||l(o||"")||l(r)||l(t)||l(n)||""},150875:(e,t,n)=>{"use strict";function i(){let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}n.d(t,{Z:()=>i})},898252:(e,t,n)=>{"use strict";n.d(t,{NK:()=>_,P6:()=>a,ZE:()=>h,Zt:()=>g,_J:()=>s,_S:()=>y,cL:()=>p,jL:()=>o,oN:()=>l,rM:()=>m,sV:()=>d,sY:()=>c});var i=n(505204);let l=5e3,a=l/i.gJ,r=["Uploaded by user"],o=(e,t)=>!!t&&!e,s=e=>!!e&&5!==e,d=e=>["email","messages","deep_linking"].includes(e),c=e=>!!e&&"gif"===e,u=e=>"pinstory"===e,p=({embedSrc:e,embedSubtype:t,embedType:n})=>!!e&&!c(n)&&!u(t),m=({link:e,mobileLink:t,trackedLink:n})=>!t&&!n&&!e,h=e=>/pin.it/gim.test(e||""),g=({link:e,mobileLink:t,origImageUrl:n,trackedLink:i})=>t||i||e||n||"",_=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function y(e){for(let t of r)if(e===t)return!1;return!0}},465991:(e,t,n)=>{"use strict";n.d(t,{eg:()=>r,kt:()=>g,rw:()=>m,fs:()=>c,eK:()=>u,Ly:()=>p,BY:()=>h,bN:()=>_,RC:()=>s,EU:()=>d});let i=/\s\s+/g,l=e=>e.replace(i," ");var a=n(371362);let r=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),o=e=>"string"==typeof e?e:"",s=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,d=(e,t)=>e?e.trim().length>t?(0,a.ZP)(e.trim(),t).trim():e.trim():"",c=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:l,storyPinDataMetadataPinTitle:a})=>{let r=a||e,o=d(t,200);return o||n||i||(l&&r?r:null)},u=e=>{let{richSummaryDisplayName:t}=e,n=e.pinJoinVisualAnnotation||[],i=e.pinJoinAnnotationsWithLinks||{},r=e.richMetadataDescription||"",o=e.closeupUnifiedDescription||"",s=n.map(e=>(i||{})[e]||{name:e,url:""}),d="",c=(t||"").toLocaleLowerCase().trim(),u=r.toLocaleLowerCase().trim(),p=o.toLocaleLowerCase().trim();return o&&o.length>3&&p!==c?d=o:r&&r.length>3&&u!==c&&(d=r),d&&(d=l((0,a.ZP)(d,496)).trim()),{description:d,annotationsWithLinks:s}},p=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:l,storyPinDataMetadataPinTitle:a,pinJoinVisualAnnotation:o,seoNoindexReason:s,seoTitle:d})=>r.has(null!=s?s:"")?d:c({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:l,storyPinDataMetadataPinTitle:a})||(null==o?void 0:o[0])||e,m=(e,t,n,i,l)=>{let a=o(e).trim(),r=(e,t)=>t&&t.length>0?`${e} ${t.join(", ")}`:e;return i&&i.trim().length?r(i.trim(),n):l&&l.trim().length?l.trim():a?r(a,n):n?n.join(", "):""},h=e=>`/pin/${e}/`,g=(e,t)=>{let n=`Pinterest video from ${t}: `.concat(e);return""===t?e:n},_=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:h(e)},769705:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(167912);var i,l=n(450600);let a=void 0!==i?i:i=n(417429),r=e=>{let{data:t}=(0,l.u)(a,e,{useLegacyAdapter:e=>{var t,n,i,l,a,r,o,s,d;return{imageSpec_60x60:(null===(t=e.images)||void 0===t?void 0:t["60x60"])&&{url:e.images["60x60"].url},imageSpec_136x136:(null===(n=e.images)||void 0===n?void 0:n["136x136"])&&{url:e.images["136x136"].url},imageSpec_170x:(null===(i=e.images)||void 0===i?void 0:i["170x"])&&{url:e.images["170x"].url},imageSpec_236x:(null===(l=e.images)||void 0===l?void 0:l["236x"])&&{url:e.images["236x"].url},imageSpec_474x:(null===(a=e.images)||void 0===a?void 0:a["474x"])&&{url:e.images["474x"].url},imageSpec_564x:(null===(r=e.images)||void 0===r?void 0:r["564x"])&&{url:e.images["564x"].url},imageSpec_736x:(null===(o=e.images)||void 0===o?void 0:o["736x"])&&{url:e.images["736x"].url},imageSpec_600x315:(null===(s=e.images)||void 0===s?void 0:s["600x315"])&&{url:e.images["600x315"].url},imageSpec_orig:(null===(d=e.images)||void 0===d?void 0:d.orig)&&{url:e.images.orig.url}}}}),n=[["60x60",null==t?void 0:t.imageSpec_60x60],["136x136",null==t?void 0:t.imageSpec_136x136],["170x",null==t?void 0:t.imageSpec_170x],["236x",null==t?void 0:t.imageSpec_236x],["474x",null==t?void 0:t.imageSpec_474x],["564x",null==t?void 0:t.imageSpec_564x],["736x",null==t?void 0:t.imageSpec_736x],["600x315",null==t?void 0:t.imageSpec_600x315],["orig",null==t?void 0:t.imageSpec_orig]];return n.reduce((e,[t,n])=>n?{...e,[t]:n.url}:e,{})}},600268:(e,t,n)=>{"use strict";n.d(t,{NC:()=>a,Rc:()=>o,WK:()=>d,X9:()=>l,b9:()=>i,f9:()=>s,gu:()=>r});let i="pin-builder-font-faces",l="system-font-faces",a="pin-builder-education-font-faces",r="licensed",o="system",s="brand",d=4},140523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i={STARTED:1,FINISHED:2}},937633:(e,t,n)=>{"use strict";n.d(t,{k:()=>T});var i=n(667294),l=n(702664),a=n(690108),r=n(970588);let o=["etsy","facebook","microsoft","twitter","google","instagram","youtube","dropbox"],s=(e,t,n)=>{let i;switch(e){case"facebook":let{facebookToken:l}=n;i=t?{facebook_id:t.id,facebook_token:l}:Object.freeze({});break;case"gplus":i=t?{one_time_code:t.one_time_code,redirect_uri:t.redirect_uri||void 0}:Object.freeze({});break;case"line":i=t?{line_id_token:t.line_id_token,line_access_token:t.line_access_token}:Object.freeze({});break;default:i=Object.freeze({})}return i};var d=n(820997),c=n(125715),u=n(310072),p=n(947326),m=n(684113),h=n(837792),g=n(98736);async function _(e,t){var n,i;await (0,m.Px)(void 0,t||void 0);let l=null===(n=window.google)||void 0===n?void 0:null===(i=n.accounts)||void 0===i?void 0:i.oauth2;if(l){let t=l.initCodeClient({client_id:h.v3o,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",ux_mode:"popup",callback:e});t.requestCode()}}let y=Object.freeze({}),v=e=>{let{network:t}=e;if(!y[t])return;let{[t]:{error:n,success:i,complete:l},...a}=y;y={...a},"error"===e.type?null==n||n(Object.freeze({message:"Please do not close the window when claiming your account!"})):i("facebook"===e.network?{id:e.profile.id}:{one_time_code:e.one_time_code,redirect_uri:e.redirect_uri}),null==l||l()},f=e=>{switch(e){case"dropbox":return"width=600,height=800";case"instagram":return(0,c.Z)({width:580,height:580});case"etsy":return(0,c.Z)({width:580,height:775});case"youtube":return(0,c.Z)({width:605,height:640});default:return(0,c.Z)()}},b=({i18n:e,network:t,callbacks:n,requestContext:i,inAnyGoogleLocaleFixExperiment:l})=>{if(n={error:()=>{},complete:()=>{},...n},(0,g.My)(`auth_web.social_connect.${t}.${(0,u.Z)(i)}`),"gplus"===t||"google"===t)(0,g.My)("auth_web.social_connect.google.migration"),_(e=>{n.success({one_time_code:e.code,redirect_uri:"postmessage"})},l?i.language:void 0);else if("line"===t){let{locale:e}=i;(0,p.Z)(e,n)}else{let i=window.open("/connect/"+t+"/","",f(t));if(!i){d.Z.showError(e.bt("   !", "You must enable popups!", " - ", undefined, true)),n.error&&n.error(Object.freeze({}));return}y={...y,[t]:n}}};window.addEventListener("message",e=>{let t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(e.origin!==t)return;let n=e.data;if(n&&"social-connect-complete"===n.type){let t=e.data;t.network&&v(t)}});var x=n(245410),k=n(282802),P=n(756513),S=n(802071);class w{constructor({invalidateResource:e,requestContext:t,viewer:n,inAnyGoogleLocaleFixExperiment:i}){this.getUserId=()=>n.isAuth?n.id:"",this.getUsername=()=>n.isAuth?n.username:"",this.isLimitedLogin=()=>n.isLimitedLogin,this.invalidateResource=e,this.requestContext=t,this.inAnyGoogleLocaleFixExperiment=i}handleConnect(e,t,n,i){let l=t=>{("connect"===t.type?function({network:e,data:t,requestContext:n}){if(o.includes(e))return a.Z.create("UserSocialNetworkResource",{network:e,data:t}).callCreate();let i=`/v3/connect/${e}/`,l=s(e,t,n);return(0,r.Z)({url:i,method:"PUT",data:l})}({network:e,data:t.data,requestContext:this.requestContext}):(0,r.Z)({url:`/v3/connect/${e}/`,method:"DELETE"})).then(e=>{var t;let i={user_id:this.getUserId(),username:this.getUsername(),field_set_key:"social_connect"};this.invalidateResource("UserResource",i),a.Z.create("UserResource",i).callGet(),null===(t=n.success)||void 0===t||t.call(n,e)},e=>{if(e&&"object"==typeof e){var t;null===(t=n.error)||void 0===t||t.call(n,{api_error_code:e.api_error_code,code:e.code,message:e.message})}}).finally(()=>{var e;null===(e=n.complete)||void 0===e||e.call(n)})};t?this.isLimitedLogin()?l({type:"connect"}):b({network:e,callbacks:{success:e=>l({type:"connect",data:e}),error:n.error,complete:n.complete},i18n:i,requestContext:this.requestContext,inAnyGoogleLocaleFixExperiment:this.inAnyGoogleLocaleFixExperiment}):l({type:"disconnect"})}}function T(){let e=(0,l.useDispatch)(),t=(0,k.B)(),n=(0,S.Z)(),{checkExperiment:a}=(0,x.F)(),r=a("mweb_google_button_locale_fix").anyEnabled||a("dweb_google_button_locale_fix").anyEnabled,o=(0,i.useMemo)(()=>new w({invalidateResource:(t,n)=>e((0,P.jB)(t,n)),requestContext:t,viewer:n,inAnyGoogleLocaleFixExperiment:r}),[e,r,t,n]);return o}},947326:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(457628),l=n(791045),a=n(611756),r=n(837792),o=n(739425),s=n(845098),d=n(619277);let c="undefined"!=typeof window,u=c?`${window.location.origin}/oauth/line/redirect`:"",p=({origin:e,data:t})=>t&&e===window.location.origin?String(t):null,m=({url:e,key:t})=>{if(!e.startsWith(window.location.origin)||t!==d.MM)return null;let n=(0,a.qn)(d.MM);return(0,a.L_)(d.MM),n};function h(e,t){let n;if(!c){var a;null===(a=t.error)||void 0===a||a.call(t,{message:"Window is undefined"});return}let d=function(e=5){let t="abcdefghijklmnopqrstuvwxyz1234567890";return Array(e).fill("").map(()=>t[Math.floor(Math.random()*t.length)]).join("")}(10),h=async e=>{if(!e.isTrusted)return;let a=e instanceof MessageEvent?p(e):m(e),r=(0,o.mB)(a);if(r.state&&r.code&&r.state===d){var c,g,_;n&&!n.closed&&n.close();try{let e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(i.U2(l.fS))}`},method:"POST",body:(0,s.Z)({code:r.code,redirect_uri:u})}),n=await e.json(),{id_token:a,access_token:o}=n;a&&o?t.success({line_id_token:a,line_access_token:o}):null===(c=t.error)||void 0===c||c.call(t,{message:"No tokens returned"})}catch(e){null===(g=t.error)||void 0===g||g.call(t,e)}finally{n&&!n.closed&&n.close(),window.removeEventListener("message",h),window.removeEventListener("storage",h),null===(_=t.complete)||void 0===_||_.call(t)}}};window.addEventListener("message",h),window.addEventListener("storage",h),n=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${r.zal}&redirect_uri=${encodeURIComponent(u)}&state=${d}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},450667:(e,t,n)=>{"use strict";n.d(t,{GH:()=>s,JF:()=>y,Jb:()=>m,MI:()=>g,_V:()=>d,sl:()=>u,we:()=>p});var i=n(560544),l=n(970588),a=n(307052),r=n(710197),o=n(98736);let s="274266067164",d=()=>["public_profile","email","user_friends"],c=["picture.type(large)","id","first_name","last_name","email","gender"],u=e=>{e&&(0,o.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,o.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})):e?(0,o.dy)({event:"global_object_not_found",provider:"facebook"}):(0,o.My)("pcons.non_autologin.fb.global_object_not_found")},p=(e,t)=>{t&&(0,o.dy)({event:"load_script_start",provider:"facebook"});let n=(0,a.Z)((0,r.Z)(e),"FACEBOOK");return n.then(()=>u(t))},m=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}),h=({userID:e,accessToken:t,data:{birthday:n,email:l,first_name:a,gender:r,last_name:o,picture:s}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:n?(0,i.Z)(n):void 0,email:l,first_name:a,gender:r,image_url:s&&!s.data.is_silhouette?s.data.url:void 0,last_name:o});async function g(e){let t=await (0,l.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:c}}),n=t.resource_response.data||{};return(0,o.My)(n?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:n.birthday,email:n.email,first_name:n.first_name,gender:n.gender,id:n.id,last_name:n.last_name,picture:n.picture}}let _=(e,t)=>new Promise((n,i)=>{if("connected"!==e.status){i({status:e.status||"unknown"});return}let{userID:l,accessToken:a}=e.authResponse;g(a).then(e=>{n({creds:{facebook_id:l,facebook_token:a,facebook_autologin:(null==t?void 0:t.autologin)||!1},signupOptions:h({userID:l,accessToken:a,data:e})})},i)}),y=()=>new Promise(e=>{window.FB.login(e,{scope:d().join(",")})}).then(e=>_(e))},49387:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var i=n(970588),l=n(307052),a=n(140523),r=n(710197),o=n(837792),s=n(98736);let d=!1,c=e=>e.isAuth&&!!e.facebookId&&!e.isLimitedLogin,u=(e,t,n="en-US",p)=>{p&&(0,s.dy)({event:"load_script_start",provider:"facebook"}),(0,l.Z)((0,r.Z)(n),"FACEBOOK").then(()=>{p&&(0,s.dy)({event:"load_script_success",provider:"facebook"});let n=window.FB;if(!n){p&&(0,s.dy)({event:"global_object_not_found",provider:"facebook"});return}d||(p&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),n.init({appId:o.GHq,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",()=>{c(t)&&u(e=>{if(!e.getUserID())return;let t=e.getAccessToken();t&&(0,i.Z)({url:"/v3/connect/facebook/",method:"POST",data:{facebook_token:t}})},t)}),d=!0,window.fb_init=a.Z.FINISHED),e(n)}),window.fb_init=a.Z.STARTED},p=u},710197:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});let i=e=>{let t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}},l=e=>`//connect.facebook.net/${i(e)}/sdk.js`},684113:(e,t,n)=>{"use strict";n.d(t,{Fm:()=>r,OY:()=>s,PL:()=>c,Px:()=>o,mK:()=>u,ru:()=>d});var i=n(307052),l=n(837792),a=n(98736);let r=()=>{var e,t,n;return null===(e=window)||void 0===e?void 0:null===(t=e.google)||void 0===t?void 0:null===(n=t.accounts)||void 0===n?void 0:n.id},o=(e,t)=>(0,i.Z)("https://accounts.google.com/gsi/client"+(t?`?hl=${t}`:""),null!=e&&e.unsafe?null:"GSI"),s=({autoSelect:e,itpSupport:t},n)=>{var i;null===(i=r())||void 0===i||i.initialize({auto_select:null!=e&&e,client_id:l.v3o,callback:n,cancel_on_tap_outside:!1,context:"use",itp_support:t})},d=({buttonRef:e,isDesktop:t,locale:n,logo_alignment:i})=>{let l=r();if(l&&e.current){let t=e.current.offsetWidth;l.renderButton(e.current,{locale:n,size:"large",shape:"pill",text:"continue_with",theme:"outline",width:t+"px",logo_alignment:i,click_listener:()=>(0,a.EX)({event:"start",provider:"google"})})}else(0,a.My)((t?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},c=e=>"auto"===e?"AUTO_LOGIN":e.startsWith("btn")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT",u=e=>{switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},617285:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(667294),l=n(245410);let a=()=>{let e=(0,l.F)();return(0,i.useCallback)(()=>{e.flush()},[e])}},950695:(e,t,n)=>{"use strict";n.d(t,{kf:()=>_,l5:()=>h,of:()=>p,xC:()=>g,yz:()=>m});var i=n(667294),l=n(40660),a=n(583592),r=n(500797),o=n(272109),s=n(567648),d=n(785893);let{Provider:c,useMaybeHook:u}=(0,a.Z)("PwaContext"),p=({children:e,initialContext:t})=>{let[n,a]=(0,i.useState)(null),s=t||{pwaType:"unknown",twaType:null},u=s.pwaType;(0,o.Z)(()=>{let e=(0,r.FB)(window)||"unknown";a(e),u!==e&&l.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})});let p="unknown"===u&&n?n:u,{twaType:m}=s,h=(0,i.useMemo)(()=>({pwaType:p,twaType:m}),[p,m]);return(0,d.jsx)(c,{value:h,children:e})},m=()=>{var e;let t=u();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},h=()=>{var e;let t=u();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},g=()=>{let e=m();return"android-twa"===e},_=()=>{let e=m(),t=(0,s.Z)();return"unknown"===e&&t?null:"windows"===e}},397352:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294);n(883119);var l=n(570476),a=n(785893);let r=e=>document.querySelector(`img[src="${e}"]`)||null,o=(e,t,n)=>{let l=(0,i.useRef)(null),a=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(e!==l.current||n&&n!==a.current){l.current=e;let n=r(e);null!=n&&n.complete&&t()}a.current=n},[e,t,n])};function s({alt:e,children:t,color:n,elementTiming:i,isActive:r=!1,naturalHeight:s,naturalWidth:d,onLoad:c,src:u,fit:p="none"}){return o(u,c,r),(0,a.jsx)(l.Z,{alt:e,color:n,elementTiming:i,naturalHeight:s,naturalWidth:d,onLoad:c,src:u,fit:p,children:t})}},677263:(e,t,n)=>{"use strict";n.d(t,{cA:()=>V,fM:()=>G,N5:()=>$});var i=n(667294),l=n(616550),a=n(938790),r=n(39008);let o=e=>{switch(e){case"/":return"homefeed";case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/pin/:id/visual-search":return"flashlight";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/search/:scope":return"search";case"/ideas/:interest/:id":return"topic";default:return null}},s=e=>{switch(e){case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/ideas/:interest/:id":return"topic";default:return null}};var d=n(574155),c=n(938085),u=n(845092),p=n(335741),m=n(768337),h=n(813107),g=n(154174);let _=({botType:e,browserName:t,deviceType:n,region:i})=>{let l=`pwtlogger.${e}.${n}`,a=["all",...i?[i.toLowerCase()]:[]],r=[];"desktop"===n?("Chrome"===t||"Edge"===t||"Safari"===t||"Firefox"===t||"Opera"===t)&&(r=[t.toLowerCase().replace(/\s/g,"_")]):"phone"===n?("Chrome"===t||"Mobile Safari"===t||"Samsung Browser"===t||"Chrome WebView"===t||"GSA"===t)&&(r=[t.toLowerCase().replace(/\s/g,"_")]):"tablet"===n&&"Chrome"===t&&(r=[t.toLowerCase().replace(/\s/g,"_")]);let o=["all",...r],s=[];return a.forEach(e=>{o.forEach(t=>{s.push(`${l}.region_${e}.browser_${t}`)})}),s},y=e=>10*Math.round(e/10),v=e=>Number(e.toFixed(2));var f=n(994405),b=n(935340);let x={pin_closeup:{LCP:"pin_closeup_lcp",FID:"pin_closeup_fid",INP:"pin_closeup_inp"},board:{LCP:"board_lcp",FID:"board_fid",INP:"board_inp"},other_profile:{LCP:"other_profile_lcp",FID:"other_profile_fid",INP:"other_profile_inp"},topic:{LCP:"topic_lcp",FID:"topic_fid",INP:"topic_inp"}},k=["CA","GB","DE","FR","AU","JP","BR","MX"],P=({surface:e,pwtStaticContext:t})=>{switch(e){case"pin_closeup":return[(0,f.Uw)({isDesktop:"desktop"===t.deviceType,viewerType:t.isBot&&"bot"||t.isAuthenticated&&"auth"||"unauth"}),t.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"];case"board":return[t.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"];default:return[]}},S=({pwtStaticContext:e,surface:t})=>{let n=(0,u.Jx)({annotateExperiments:P({surface:t,pwtStaticContext:e}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:x[t].LCP,pwtStaticContext:e}),i=(0,u.Jx)({name:x[t].FID,pwtStaticContext:e}),l=(0,u.Jx)({name:x[t].INP,pwtStaticContext:e});return(e,t)=>{"LCP"===e?n.stop(t):"FID"===e?i.stop(t):"INP"===e&&l.stop(t)}},w=({pwtStaticContext:e,surface:t})=>{let n=S({pwtStaticContext:e,surface:t}),{isAuthenticated:i,isBot:l,isSocialBot:a,deviceType:r,country:o,fullPath:s,browserName:d,osName:u}=e,f={},x=({name:c,value:p,options:y,metricDetails:v})=>{if(!f[c]){let x;f[c]=!0;let P=(0,h.Z)(e),S=`${P}.${t}.${c}`,w=`${P}.tags.${t}.${c}`;if(x="iOS"===u&&"Chrome"===d?"iOS_Chrome":"CrUX","LCPCount"===c)(0,b.QX)(`${S}.sum`,p,{sampleRate:1}),(0,b.nP)(`${S}.size`,{sampleRate:1});else{let e=(0,m.Z)(o),u=(0,g.Z)(s);if("FID"===c||"FIDStartTime"===c)(0,b.LY)(`${S}`,p,{sampleRate:1}),(0,b.LY)(`${w}`,p,{sampleRate:1,tags:{timingBucket:null==y?void 0:y.timingBucket,isAuth:i,CrUXSegment:x,region:e,...u&&{pinType:u}}});else if("INP"===c){if(v){let{navigationStart:t,domInteractive:n,loadEventEnd:l}=window.performance.timing,{entries:a,rating:r}=v,{name:o,startTime:s}=a[0];(0,b.LY)(`${S}`,p,{sampleRate:1}),(0,b.LY)(`${w}`,p,{sampleRate:1,tags:{isAuth:i,CrUXSegment:x,region:e,timingBucket:r,loadingState:s<n-t?"beforeDomInteractive":s<l-t?"beforeLoadEventEnd":"afterPageLoad",eventName:o}})}}else(0,b.LY)(`${S}`,p,{sampleRate:1}),(0,b.LY)(`${w}`,p,{sampleRate:1,tags:{isAuth:i,CrUXSegment:x,region:e,...u&&{pinType:u}}});!i&&k.includes(o)&&_({botType:a&&"socialBot"||l&&"bot"||"nonbot",browserName:d,deviceType:r,region:e}).forEach(e=>{(0,b.LY)(`${e}.tags.growthSEO.${t}_${c}`,p,{sampleRate:1,tags:{country:o}})}),n(c,p)}}};(0,c.Tx)(({value:e})=>{let t;let n=(0,p.Af)();t=e<=100?"Good":e>100&&e<=300?"Needs Improvement":"Poor",x({name:"FID",value:v(e),options:{timingBucket:t}}),n&&x({name:"FIDStartTime",value:v(n),options:{timingBucket:t}})}),(0,c.Tb)(({value:e})=>{x({name:"LCPCount",value:(0,p.Kj)()}),x({name:"LCP",value:y(e)})}),(0,c.Y)(({value:e})=>x({name:"FCP",value:e})),(0,c.Z8)(e=>{x({name:"INP",value:e.value,metricDetails:e})})};var T=n(763795),A=n(39983),C=n(30482);let I=(0,C.XV)("LayoutShiftDebugger"),j=e=>e<=.1?"good":e<=.25?"adequate":"poor",E=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&E(e.parentNode)||null,L=e=>Math.round(1e3*e),R=[],F=e=>{let t=Object.freeze({}),n=0;R.forEach(({value:e,shift:{sources:i},route:l,params:a,hadRecentNavigation:r,hadRecentScroll:o,isAuth:s})=>{if(n+=e,!i||!i.length)return;let d=e/i.length;i.forEach(({node:e})=>{let n=e?E(e)||"ROOT":"NODE_REMOVED",i=a&&a.scope?a.scope:"none",c={route:l,searchScope:i,boundaryId:n,hadRecentNavigation:r,hadRecentScroll:o,isAuth:s},u=JSON.stringify(c);t={...t,[u]:{score:((t[u]||{}).score||0)+d,tags:c}}})}),Object.keys(t).forEach(n=>{let{score:i,tags:l}=t[n];(0,b.QX)(`${e}.shifts`,L(i),{sampleRate:1,tags:{...l}})}),I("Debug CLS boundaries",n,t,R),R=[]},D=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:n})=>{let i;let l=(0,u.Jx)({annotateMarks:["initialAppLoad","RenderReactContainer"],name:"cumulative_layout_shift",pwtStaticContext:e}),a=0,r=e=>{a=e.timeStamp};window.addEventListener("scroll",r),window.addEventListener("beforeunload",()=>{window.removeEventListener("scroll",r)});let o=`${(0,h.Z)(e)}.CLS`,s=()=>F(o),d=0,p=0,m=0;(0,c.kz)(({entries:l,value:r})=>{if(m=r||0,l.length){let{path:o,params:s}=t();i=n();let c=l[0].startTime,u=d!==c,m=u?l:l.slice(p);u&&(d=c),R=R.concat(m.map(t=>({value:r,shift:t,route:o,params:s,hadRecentNavigation:i>0&&i+500>t.startTime,hadRecentScroll:a>0&&a+500>t.startTime,isAuth:e.isAuthenticated}))),p=l.length}},!0);let g=setInterval(()=>{if(R.length){s();let e=j(m);(0,b.QX)(`${o}.${e}`,1,{sampleRate:1}),l.stop(L(m))}},1e3);window.addEventListener("beforeunload",()=>{clearInterval(g),0===m&&l.abort("no_shifts_detected")})},z=null,M=(e,t)=>{let n,i=0,l=0,a=null,r=null,o=null,s=null,d=[],c=()=>{l+=1,o=window.requestAnimationFrame(c)},p=()=>{if(s){let n=d.some(e=>null!==a&&a-e>0&&a-e<=500),l=t(),{isAuthenticated:o}=e;if(n){let t=(0,u.Jx)({name:"scroll_session",pwtStaticContext:e});if(!t)return;let n={surface:l,isAuthenticated:o};if(null===a||null===r||0===i){if(null===a&&null===r)t.error("no_duration",n);else if(null==a)z=r,t.error("no_start",n);else if(null==r){let e;e=z&&a-z<750?"no_end.outside_window":"no_end.single_event",t.error(e,n)}else t.error("no_frames",n)}else{z=r;let e=r-a,s=e/i;0===s?t.error("zero_value",n):s<0?t.error("negative_value",n):(t.addBinaryAnnotation("surface",l,"STRING"),t.addBinaryAnnotation("isAuthenticated",o,"BOOL"),t.addBinaryAnnotation("duration_ms",e,"I32"),t.addBinaryAnnotation("total_frames_rendered",i,"I16"),t.stop(s))}}else(0,T.A9)("WARN.scroll_session.not_user",{tags:{isAuthenticated:o,surface:l}})}window.cancelAnimationFrame(o),i=0,l=0,d=[],r=null,a=null,s=null},m=({timeStamp:e})=>{n&&clearTimeout(n),n=setTimeout(p,500),null===s?(s=100*Math.random()<10)&&(o=window.requestAnimationFrame(c),a=e):s&&(r=e,i+=l,l=0)},h=({timeStamp:e})=>{d.push(e)};["wheel","pointerdown","keydown"].forEach(e=>{window.addEventListener(e,h,{passive:!0,capture:!0})}),window.addEventListener("scroll",m,{passive:!0}),window.addEventListener("pagehide",()=>{window.removeEventListener("scroll",m),["wheel","pointerdown","keydown"].forEach(e=>{window.removeEventListener(e,h)})})};var O=n(353335),Z=n(785893);let N=(0,i.createContext)(null),K=(0,i.createContext)(null),B=()=>{(0,T.A9)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach(e=>{window.performance[e]||(0,T.A9)(`not_supported.window.performance.${e}`)}):(0,T.A9)("not_supported.window.performance"),window.PerformanceObserver||(0,T.A9)("not_supported.window.PerformanceObserer"),(0,d.v)()||(0,T.A9)("not_supported.grid_profiler")},U=()=>{var e;return null!==(e=window.performance)&&void 0!==e&&e.now?window.performance.now():null},H=e=>["/advertiser/"].reduce((t,n)=>e.includes(n)||t,!1);function V({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:d,staticContext:c}){let u=(0,i.useRef)(null),m=(0,i.useRef)(null),h=(0,i.useRef)(t),g=(0,i.useRef)(!0),{path:_,params:y}=(0,l.useRouteMatch)(),v=(0,i.useRef)(_),f=(0,i.useRef)(y),b=!c.isCachedRender&&(0,a.Z)(c.deviceType);(0,i.useEffect)(()=>{v.current=_},[_]),(0,i.useEffect)(()=>{f.current=y},[y]),(0,i.useEffect)(()=>{if((0,O.X_)({size:n||1e3}),(0,p.UQ)(),B(),g.current=!1,b&&!r.is&&(M(c,()=>o(v.current)||v.current||"UNKNOWN_SURFACE"),"Chrome"===c.browserName)){D({staticContext:c,getCurrentRoute:()=>({path:v.current,params:f.current}),getLastNavigationTime:()=>m.current||0});let e=s(v.current);e&&w({pwtStaticContext:c,surface:e})}},[]);let x=H(t.pathname)?h.current.pathname!==t.pathname:h.current!==t;if(x){h.current=t,m.current=U();let{current:e}=m;if(!g.current){let t=!u.current;(0,T.A9)("routeStart",{tags:{action:d}}),(0,O.Eg)(t),(0,p.Ux)(t),(0,p.on)(),(0,A.tl)();let{customBufferSize:n,defaultBufferSize:i}=(0,O.LH)();e&&((0,T.A9)("routeStart.customBufferSize",{count:n}),(0,T.A9)("routeStart.defaultBufferSize",{count:i}),u.current={time:e,action:d})}}return(0,Z.jsx)(N.Provider,{value:b?c:null,children:(0,Z.jsx)(K.Provider,{value:u.current,children:e})})}let G=()=>(0,i.useContext)(K),$=()=>(0,i.useContext)(N)},77494:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ee});var i=n(667294),l=n(532465),a=n(93501),r=n(30482),o=n(763795),s=n(39983),d=n(677263),c=n(41162),u=n(372453),p=n(363959),m=n(324e3),h=n(583077);let g=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,h.jh)("constraint_",e),...(0,h.jh)("mark_",(0,s.gQ)()),...(0,h.jh)("browser_",{...t?(0,h.D3)(t):{},...(0,h.rX)()})});var _=n(577491),y=n(335741),v=n(769916);let f=(e,t)=>{let{firstInputDelay:n}=(0,y.v2)();return[...e.map(e=>(0,_.Z)(e,t)).filter(Boolean),...n?[{name:"fid",id:(0,v.Z)(),parentId:t,startTime:n.startTime,endTime:n.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var b=n(813107),x=n(935340);let k=e=>e<=2500?"Good":e>2500&&e<=4e3?"Needs Improvement":"Poor",P=({eventPrefix:e,endTime:t,tags:n,resourceArr:i,resourceType:l="allResources"})=>{let a=i.length;if(a>0&&"object"==typeof i[0]&&!Array.isArray(i[0])){let r=[...i].sort((e,t)=>e.fetchStart-t.fetchStart),o=[...i].sort((e,t)=>e.responseEnd-t.responseEnd),s=1,d=t/5,c=0;for(;s<=5;){let t=0;for(;c<=a-1&&r[c].fetchStart<=d*s;)c+=1,t+=1;(0,x.S0)(`${e}.tags.${l}.fetchStartInterval${s}of5`,t,{sampleRate:.2,tags:n}),(0,x.S0)(`${e}.${l}.fetchStartInterval${s}of5`,t,{sampleRate:.2}),s+=1}let u={zeroPercentInFlight:r[0].fetchStart,twentyFivePercentInFlight:r[Math.floor(a/4)].fetchStart,fiftyPercentInFlight:r[2*Math.floor(a/4)].fetchStart,seventyFivePercentInFlight:r[3*Math.floor(a/4)].fetchStart,hundredPercentInFlight:r[a-1].fetchStart,twentyFivePercentComplete:o[Math.floor(a/4)].responseEnd,fiftyPercentComplete:o[2*Math.floor(a/4)].responseEnd,seventyFivePercentComplete:o[3*Math.floor(a/4)].responseEnd,hundredPercentComplete:o[a-1].responseEnd};for(let t in u)u[t]&&((0,x.LY)(`${e}.tags.${l}.${t}`,u[t],{sampleRate:.2,tags:n}),(0,x.LY)(`${e}.${l}.${t}`,u[t],{sampleRate:.2}))}},S=({annotateExperiments:e,endTime:t,entries:n,metricId:i,pwtStaticContext:l})=>{let a=`${(0,b.Z)(l)}.${i.surface}`,r=[a];e&&e.forEach(e=>{let t=l.getExperimentGroup(e)||"null";r.push(`${a}.${e}.${t}`)});let o=k((0,y.Bn)()),s={lcpTimingBucket:o||"unknown",isAuthenticated:l.isAuthenticated,navigationType:i.navigationType},d=Array.from(n.filter(e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=t)),c=[],u=[],p=[],m=[],h=[];d.forEach(e=>{"img"===e.initiatorType?c.push(e):"css"===e.initiatorType?u.push(e):"script"===e.initiatorType?p.push(e):"xmlhttprequest"===e.initiatorType?m.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&h.push(e)}),r.forEach(e=>{P({eventPrefix:e,endTime:t,tags:s,resourceArr:d}),P({eventPrefix:e,endTime:t,tags:s,resourceArr:c,resourceType:"image"}),P({eventPrefix:e,endTime:t,tags:s,resourceArr:u,resourceType:"css"}),P({eventPrefix:e,endTime:t,tags:s,resourceArr:p,resourceType:"scripts"}),P({eventPrefix:e,endTime:t,tags:s,resourceArr:m,resourceType:"xhr"}),P({eventPrefix:e,endTime:t,tags:s,resourceArr:h,resourceType:"preloadedImage"})})};var w=n(353335);let T=({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime,A=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:i,endTime:l,imageTimings:a,metricId:r,pwtStaticContext:o,startTime:s,traceId:d,spans:c})=>{let h;let _=(0,w.Cg)();"initial_app_load"===r.navigationType&&(h=(0,p.Z)());let y=a.map(({name:e})=>e),v=_.map(e=>(0,m.p)(e,y)).filter(({timing:e})=>!T(e,{startTime:s,endTime:l}));return("board"===r.surface||"pin_closeup"===r.surface)&&S({annotateExperiments:e,endTime:l,entries:_,metricId:r,pwtStaticContext:o}),{type:"COMPLETE",traceId:d,startTime:s,endTime:l,spans:f(v,d).concat(c),annotationMap:g({constraintMap:i,initialNavTiming:h,annotations:t}),binaryAnnotationMap:(0,u.rA)({annotateExperiments:e,binaryAnnotations:n,entries:_,metricId:r,performanceResources:v,pwtEndTime:l,pwtStaticContext:o})}},C=!1,I=(e,t)=>{if(e&&t){if(!C)return C=!0,t;(0,o.H)("duplicated_initial_app_load_surface_pwt")}return(0,v.Z)()};var j=n(591614),E=n(361905);let L=e=>{let t=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let n=t.name.replace(".jpg","").split("/");return{[n[n.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{}),n=Array.from(document.getElementsByTagName("img")).map(e=>{let n=e.src.replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]){var l;let n=(null===(l=(0,E.rZ)(e))||void 0===l?void 0:l.width)||1,a=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:a,ratio:a/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}}),i=Array.from(document.querySelectorAll('div[role="img"]')).map(e=>{let n=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]&&e instanceof HTMLDivElement){var l;let n=(null===(l=(0,E.rZ)(e))||void 0===l?void 0:l.width)||1,a=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:a,ratio:a/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}});[...n,...i].forEach(t=>{let{ratio:n,fileName:i,downloadedSize:l}=t;t.ratio>1.05&&(0,o.A9)(`checkImageRatio.${e}`,{count:Math.round(10*n)/10,tags:{fileName:`${l}_${i}`}})})};var R=n(622200),F=n(282802);let D=(e,t)=>{let n=(0,i.useRef)(t);return{getState:()=>n.current,dispatch:t=>{n.current=e(n.current,t)}}};var z=n(694952),M=n(785893);let O=["initial_app_load","client_route_push"],Z=(0,r.XV)("PwtSurface"),N="NavigationComplete",K="VisuallyComplete",B=(e,t)=>{e.isSampled&&(0,j.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},U=(e,t,n)=>{var i;let{metricConfig:{metricId:l,pwtStaticContext:r,annotateExperiments:d},annotations:c,binaryAnnotations:u,constraintMap:p,startTime:m,imageTimings:h,isSampled:g,spans:_}=e;(0,s.L8)(`PWT_Complete_${(0,a.KJ)(l)}`);let y=I("initial_app_load"===l.navigationType,null===(i=r.serverData)||void 0===i?void 0:i.trace_id),v=A({annotateExperiments:d,annotations:c,binaryAnnotations:u,constraintMap:p,endTime:t,imageTimings:h,metricId:l,pwtStaticContext:r,startTime:m,traceId:y,spans:_});g&&!n&&(0,j.Z)({metricId:l,pwtStaticContext:r,result:v});try{L(String(v.binaryAnnotationMap["metricId.surface"].value))}catch(e){(0,o.H)("image_ratio_check_error",{error:e})}return{...e,result:v,status:"DONE"}},H=(e,t)=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let n=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t]));return U(e,n,t)}return e},V=(e,t)=>{let{constraint:n,time:i,disablePWTLogging:l}=t,r=(0,a.KJ)(e.metricConfig.metricId);return R.Z?e.metricConfig.constraints.find(e=>e===n)?e.constraintMap[n]?(Z(`constraint "${n}" is already complete.`),(0,o.H)("duplicated_constraint_complete",{constraint:n,action:r}),e):(Z(`marking constraint "${n}" as complete`),(0,s.ZP)(`constraint_${n}_is_complete`),H({...e,constraintMap:{...e.constraintMap,[n]:i||R.Z.now()}},l)):(Z(`marked constraint "${n}" is not a required constraint.`),e):((0,o.H)("missing_window_performance",{action:r}),e)},G=(e,t)=>{if(!R.Z){let t=(0,a.KJ)(e.metricConfig.metricId);(0,o.H)("missing_window_performance",{action:t})}Z(`removing constraint "${t}"`);let n=e.metricConfig.constraints.filter(e=>e!==t),{[t]:i,...l}=e.constraintMap;return H({...e,constraintMap:l,metricConfig:{...e.metricConfig,constraints:n}})},$=(e,t)=>{if(!R.Z){let t=(0,a.KJ)(e.metricConfig.metricId);(0,o.H)("missing_window_performance",{action:t})}Z(`updating pwt segment to "${t}"`);let n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}},W=(e,t)=>{let{metricConfig:n,startTime:i,isSampled:l,disablePWTLogging:r}=t;if(r||"TIMING"!==e.status||i===e.startTime||B(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};let s=(0,a.KJ)(n.metricId);if("TIMING"===e.status&&e.startTime===i&&e.constraintMap[N])return(0,o.H)("duplicated_init_route_action",{action:s}),e;if(!r){if("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType){var d,c,u,p;(0,o.A9)(`TIMING.${s}`,{tags:{userAgent:null===(d=window)||void 0===d?void 0:null===(c=d.navigator)||void 0===c?void 0:c.userAgent}}),(0,o.A9)(`TIMING.sampled.${s}`,{tags:{userAgent:null===(u=window)||void 0===u?void 0:null===(p=u.navigator)||void 0===p?void 0:p.userAgent},sampleRate:.5})}else(0,o.A9)(`TIMING.${s}`),(0,o.A9)(`TIMING.sampled.${s}`,{sampleRate:.5})}return V({status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:l,spans:[]},{constraint:N,disablePWTLogging:r})},q=(e,t)=>{if(Z("dispatch action",t),"INIT_ROUTE"===t.type)return W(e,t.payload);if("TIMING"!==e.status)return Z(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":B(e,t.reason);let n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":let{name:i}=t.payload;if(!R.Z)return e;let l=R.Z.now();return Z(`adding annotation {${i}: ${l}}`),{...e,annotations:{...e.annotations,[i]:l}};case"BINARY_ANNOTATE":let{name:r,value:s,annotationType:d}=t.payload;return Z(`adding binary annotation {${r}: ${s}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:s,type:d}}};case"MARK_CONSTRAINT_COMPLETE":return V(e,t.payload);case"REMOVE_CONSTRAINT":return G(e,t.payload);case"SET_SEGMENT":return $(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:n}}=t;if(0===n.length)return B(e,"visuallyComplete_noImages"),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let i=Math.max(...n.map(e=>e.responseEnd||0));return V({...e,imageTimings:n},{constraint:K,time:i})}case"ADD_SUBSPAN":let{startTime:c}=e,{payload:{name:u,startTime:p,endTime:m,annotations:h,binaryAnnotations:g,parentId:_}}=t;return{...e,spans:[...e.spans,{name:u,id:(0,v.Z)(),startTime:p||c,endTime:m,annotationMap:{...h},binaryAnnotationMap:{...g},parentId:_}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,v.Z)(),startTime:R.Z?R.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let y=e.spans.findIndex(e=>e.name===t.payload.name);return y>-1?(e.spans[y].endTime=R.Z?R.Z.now():0,t.payload.annotations&&(e.spans[y].annotationMap={...e.spans[y].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[y].binaryAnnotationMap={...e.spans[y].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,o.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let f=(0,a.KJ)(e.metricConfig.metricId);return(0,o.H)("invalid_pwt_surface_action",{action:f}),e}},Y=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},X=new Set,J=({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:a,annotateExperiments:r,customEnabledNavigationTypes:o,navigationInfo:{clientNavigation:s,navigationType:c},sampleRate:u})=>{let p=(0,i.useRef)("NOT_SET"),m=(0,d.N5)(),{getState:h,dispatch:g}=D(q,{status:"DISABLED",metricConfig:null}),_=(0,F.B)();if(p.current!==s&&(p.current=s,m)){let{isAuthenticated:i}=m,l=e&&c&&(o||O).includes(c)?{metricId:{type:"surface",surface:e,navigationType:c,isAuthenticated:i,segment:n},annotateExperiments:r,constraints:[N,...t||[],...a?[K]:[]],pwtStaticContext:m}:null;(0,x.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:c,isAuthenticated:i}});let d=!X.has(s);g({type:"INIT_ROUTE",payload:{metricConfig:l,startTime:s?s.time:0,isSampled:!u||Math.random()<u,disablePWTLogging:!d}}),d&&X.add(s)}let y=h();if((0,i.useEffect)(()=>()=>{X.delete(s)},[s]),(0,i.useEffect)(()=>{let e=e=>{g({type:"ABORT",reason:e})};l.Z.onSessionPause(e);let t=window.innerHeight,n=window.innerWidth,i=()=>{var e,l,a;let r=Math.abs(window.innerHeight-t),o=Math.abs(window.innerWidth-n),s=window.innerHeight!==t,d=window.innerWidth!==n,c={handler:(0,z.H)(),deviceType:null!==(e=null==m?void 0:m.deviceType)&&void 0!==e?e:"unknown",isAuthenticated:null!==(l=null==m?void 0:m.isAuthenticated)&&void 0!==l?l:"unknown",platform:null!==(a=_.userAgent.platform)&&void 0!==a?a:"unknown"};(0,x.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...c,heightChanged:s,widthChanged:d}}),s&&(0,x.S0)("webapp.PwtLogger.resizeHeightDelta",r,{sampleRate:1,tags:c}),d&&(0,x.S0)("webapp.PwtLogger.resizeWidthDelta",o,{sampleRate:1,tags:c}),window.removeEventListener("resize",i);let u=(null==m?void 0:m.deviceType)==="phone"&&(!d&&s&&r<=150||!s&&!d)||(null==m?void 0:m.deviceType)==="desktop"&&!s&&!d;if(u){(0,x.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...c,heightChanged:s,widthChanged:d}});return}g({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",i),()=>{let t=h();Z("handling unmount",t),"TIMING"===t.status&&B(t,"unmount"),l.Z.removePauseListener(e),window.removeEventListener("resize",i)}},[]),"TIMING"!==y.status||!y.constraintMap[N])return{state:y,context:null};let{startTime:v,metricConfig:f}=y;return{state:y,context:{abort:e=>g({type:"ABORT",reason:e}),addAnnotation:e=>g({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>g({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),addSubspan:(e,t,n,i={},l={},a=null)=>g({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:l,parentId:a}}),getId:()=>v,getMetricId:()=>f.metricId,markConstraintComplete:e=>g({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:R.Z?R.Z.now():0}}),removeConstraint:e=>g({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>g({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:f.constraints.includes(K)?e=>g({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},n={},i=null)=>g({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>g({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}},Q=()=>{let e=(0,c.E)(),t=!!e;(0,i.useEffect)(()=>{if(t){let t=null==e?void 0:e.getMetricId(),n=t?(0,a.KJ)(t):null;(0,o.H)("nested_pwt_surface",{action:n})}},[t])};function ee({children:e,...t}){var n;let i=(0,d.fM)(),l=Y(i),a=[...null!==(n=t.annotateExperiments)&&void 0!==n?n:[]],r={...t,annotateExperiments:a,navigationInfo:{navigationType:l,clientNavigation:i}},{context:o}=J(r);return Q(),(0,M.jsx)(c.S,{value:o,children:e})}},41162:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,S:()=>l});var i=n(583592);let{Provider:l,useMaybeHook:a}=(0,i.Z)("pwtSurfaceContext")},938790:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(574155);let l=()=>{var e;return!!(null!==(e=window.performance)&&void 0!==e&&e.timing)};var a=n(622200);function r(e){return!!("desktop"!==e||l())&&!!a.Z&&(0,i.v)()}},93501:(e,t,n)=>{"use strict";n.d(t,{KJ:()=>c,Rp:()=>d});let i={id:14,name:"own_profile"},l={id:15,name:"other_profile"},a={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"}}},client_route_push:{unauth:{},auth:{bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},pin_closeup:{id:13,name:"pin_closeup_details"},sterling_audiences:{id:224,name:"sterling_audiences_page_user_nav"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"},sterling_reporting_details:{id:227,name:"sterling_reporting_details_user_nav"},merchant_catalogs_data_sources:{id:228,name:"merchant_catalogs_data_sources_user_nav"},merchant_catalogs_product_groups:{id:229,name:"merchant_catalogs_product_groups_user_nav"},merchant_catalogs_listings:{id:230,name:"merchant_catalogs_listings_user_nav"},own_profile:i,other_profile:l}},client_route_replace:{unauth:{},auth:{own_profile:i,other_profile:l,sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},merchant_catalogs_data_sources:{id:228,name:"merchant_catalogs_data_sources_user_nav"},merchant_catalogs_product_groups:{id:229,name:"merchant_catalogs_product_groups_user_nav"},merchant_catalogs_listings:{id:230,name:"merchant_catalogs_listings_user_nav"}}}},r={initial_app_load:{auth:{pin_closeup:{product_detail_page:{id:120,name:"product_details_interactive"},product_detail_page_plus:{id:121,name:"product_details_plus_interactive"}}}},client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"},product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}},client_route_replace:{auth:{pin_closeup:{product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}}},o={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701},s=e=>{var t,n;let{navigationType:i,isAuthenticated:l,segment:o,surface:s}=e,d=l?"auth":"unauth",c=null===(t=r[i])||void 0===t?void 0:null===(n=t[d])||void 0===n?void 0:n[s],u=o&&c&&c[o]||a[i][d][s];return u},d=e=>{if("stopwatch"===e.type)return o[e.name]||null;let t=s(e);return t?t.id:null},c=e=>{if("stopwatch"===e.type)return e.name;let{navigationType:t,isAuthenticated:n,segment:i,surface:l}=e,a=s(e);return a?a.name:`${t}_${n?"auth":"unauth"}_${l}${i?"_"+i:""}`}},578699:(e,t,n)=>{"use strict";n.d(t,{w:()=>l});var i=n(938085);let l=function(){let e;let t=!1,n=new Set;return function(l){if(e){l(e);return}n.add(l),t||(t=!0,(0,i.NO)(t=>{for(let i of(e=t,n))i(t),n.delete(i)}))}}()},30482:(e,t,n)=>{"use strict";n.d(t,{Ex:()=>r,XV:()=>a,v5:()=>l});var i=n(39008);let l=(e,t)=>{i.DQ&&(e.style.outline=`10px solid ${t}`,e.style.outlineOffset="-30px")},a=e=>(t,...n)=>{i.DQ&&console.log("string"==typeof t?`[PWT:${e}] ${t}`:t,...n)},r=e=>t=>{i.jn&&console.log(`[CWV:${e}] ${String(t)}`)}},361905:(e,t,n)=>{"use strict";n.d(t,{F9:()=>p,LM:()=>d,VZ:()=>a,cQ:()=>m,rZ:()=>r});var i=n(520636),l=n(763795);let a=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,r=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,o=({top:e,height:t},{foldY:n,pageYOffset:i})=>{let l=e+i;if(l>=n)return!1;let a=Math.min(t,n-l);return a>.5*t||a>.2*n},s=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let t=(e.style||{}).backgroundImage||"",n=t.match(/^url\(["'](.*)["']\)$/);return n&&n[1]||null},d=()=>document.querySelector?document.querySelectorAll(i.wc).length:((0,l.H)("missing_document_query_selector"),0),c=()=>{if(!document.querySelector)return(0,l.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(i.wc);return e[e.length-1]||null},u=(e,t)=>{let n=r(e);if(!n)return(0,l.H)("missing_client_rect"),!1;if(n.width<100&&n.height<100){let t=e instanceof HTMLImageElement;if(t)return!1;let n=s(e);if(null!=n&&n.endsWith("svg"))return!1}return o(n,t)},p=()=>{let e=c();if(!e)return!1;let t=window.innerHeight||0,n=window.pageYOffset||0,i=e.getBoundingClientRect().top+n>=t;return i},m=(e,t,n)=>{if(!document.querySelector)return(0,l.H)("missing_document_query_selector"),[];let a={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},r=[i.Wf,...e?[i.fF]:[],...t?[i.$N]:[]].join(","),o=[...document.querySelectorAll(r)];if(n){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{let n=[...e.children];!n.length&&e.style.backgroundImage?o.push(e):n.length&&n.forEach(e=>{t(e)})};e.forEach(e=>{t(e)})}return o.reduce((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&u(n,a)){let t=s(n);if(t){let i=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:i}])}}return e},[])}},520636:(e,t,n)=>{"use strict";n.d(t,{$N:()=>d,Kb:()=>i,Wf:()=>o,fF:()=>s,wc:()=>r});let i="pwt-grid-item",l=`div[data-test-id="${i}"]`,a=['div[data-grid-item="true"]',"div.Grid__Item",l],r=a.join(","),o=a.map(e=>`${e} img`).join(","),s=a.map(e=>`${e} div[style*=background-image]`).join(","),d=a.map(e=>`${e} video`).join(",")},574155:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v,v:()=>m});var i=n(667294),l=n(93501),a=n(30482),r=n(361905),o=n(763795),s=n(39983),d=n(41162),c=n(353335),u=n(456453);let p=(0,a.XV)("GridProfiler"),m=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,r.VZ)(),h=e=>"LAYOUT"===e.status&&500||"TIMING"===e.status&&100||null,g=(e,t)=>{if(!t){let t=(0,r.LM)();if(t===e)return p("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,r.F9)())return p("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}},_=(e,t)=>{let n=0,i=0,l=0,a=0,r=0;return e=e.filter(e=>"pin"===e.type),t.forEach((t,o)=>{var s,d,c,u,p,m;let h;let g=t.fileName.split(".")[0];g!==(null===(s=h=e[o])||void 0===s?void 0:s.image_signature)&&(h=e.find(e=>g===(null==e?void 0:e.image_signature))),void 0===h?r+=1:h.is_promoted||(null===(d=h.recommendation_reason)||void 0===d?void 0:d.reason)==="PROMOTED_PIN"||null!==(c=h)&&void 0!==c&&null!==(u=c.promoter)&&void 0!==u&&u.length?l+=1:null!==h.story_pin_data_id&&void 0!==h.story_pin_data_id?n+=1:null!==(p=h)&&void 0!==p&&null!==(m=p.videos)&&void 0!==m&&m.video_list?i+=1:a+=1}),{storyPinCount:n,videoCount:i,adCount:l,imageCount:a,unknownCount:r}},y=(e,t)=>{let n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)};function v({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:m=!1,includeSections:v}){let f=(0,d.E)(),b=null==f?void 0:f.getId(),x=null==f?void 0:f.setVisuallyCompleteResult,[k,P]=(0,i.useState)({status:"DISABLED"});(0,i.useEffect)(()=>{x?P({status:"LAYOUT",failedCount:0,numOfItemsChecked:0}):P({status:"DISABLED"})},[b,x]),(0,i.useEffect)(()=>{if("DISABLED"!==k.status&&(0,s.ZP)(`GridVisuallyCompleteProfiler_${k.status}`),p("new status",k),"LAYOUT"===k.status){let e=y("scroll",()=>{(0,s.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[k.status]),(0,u.Z)(()=>{if(!f||!x)return;let{abort:i,getMetricId:s}=f,d=s();switch(k.status){case"LAYOUT":{let t=g(k.numOfItemsChecked,e);t.complete?P({status:"TIMING",failedCount:0,pinElements:(0,r.cQ)(n,m,v)}):500*k.failedCount>6e4?((0,o.A9)(`images.${(0,l.KJ)(d)}.visuallyComplete.maxLayoutAttempt`),i("visuallyComplete_layoutTimeout"),P({status:"DISABLED"})):P({...k,failedCount:k.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,c.Cg)(),n=k.pinElements.length,r=[],s=0,u=0,m=0;if(k.pinElements.forEach(({element:t,fileName:n})=>{let i=e.find(e=>e.name.endsWith(n));i?i.responseEnd?(r.push(i),(0,a.v5)(t,"green")):(m+=1,(0,a.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(u+=1,(0,a.v5)(t,"red")):(s+=1,(0,a.v5)(t,"greenyellow"))}),s||m)100*k.failedCount>6e4?((0,o.A9)(`images.${(0,l.KJ)(d)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:s,noTimingCount:u,noTimingResponseEndCount:m}}),i("visuallyComplete_timingTimeout"),P({status:"DISABLED"})):P({...k,failedCount:k.failedCount+1});else{if(p(`All ${r.length} images are fetched`),t&&t.length){let e=_(t,k.pinElements);Object.entries(e).forEach(([e,t])=>{f.addBinaryAnnotation(e,t,"I16")}),(0,o.A9)(`${(0,l.KJ)(d)}.pinTypes`,{tags:e})}x({imageTimings:r}),P({status:"DISABLED"}),(0,o.A9)(`images.${(0,l.KJ)(d)}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:u}})}}}},h(k))}},763795:(e,t,n)=>{"use strict";n.d(t,{A9:()=>m,DG:()=>u,H:()=>h,S$:()=>g,iF:()=>p});var i=n(40660),l=n(39008),a=n(30482),r=n(549201),o=n(935340);let s=(0,a.XV)("logPwtStats"),d=null,c=!0;function u(e){d={browserName:e.userAgent.browserName,browserVersion:e.userAgent.browserVersion,deviceType:(0,r.Mq)(e),isAuthenticated:e.isAuthenticated,isBot:e.isBot,isSocialBot:e.isSocialBot}}let p=e=>{d&&(d.historyAction=e)},m=(e,t={sampleRate:1},n=!0)=>{let i=l.DQ?1:t.sampleRate;if(!d){s("pwt.metrics_quality.no_context"),(0,o.nP)("pwt.metrics_quality.no_context",{sampleRate:i,tags:{eventName:e}});return}let{browserName:a,browserVersion:r,deviceType:c,isBot:u,isSocialBot:p}=d,m=`pwt.${p&&"socialBot"||u&&"bot"||"nonbot"}.metrics_quality.${c}.${e}`,h={...t.tags||{},browserName:a,browserVersion:(null==r?void 0:r.split(".")[0])||"0"},g="number"==typeof t.count?t.count:1;n&&(s(`${m}: ${g}`),t.tags&&s(Object.entries(t.tags))),l.is||(0,o.QX)(m,g,{sampleRate:i,tags:h})},h=(e,t)=>m(`ERROR.${null!=t&&t.action?t.action+".":""}${e}`,{tags:t}),g=({appLoadName:e,clientNavName:t},n)=>{if(d){let i="APP_VOLUME.";c?(m(i.concat(e),{tags:{browserSupportsPwtProfiler:!!n}}),c=!1):"PUSH"===d.historyAction&&m(i.concat(t),{tags:{browserSupportsPwtProfiler:!!n}})}else i.Z.increment("pwt.metrics_quality.no_context",1,{eventName:e.concat(`.${t}`)})}},39983:(e,t,n)=>{"use strict";n.d(t,{Ao:()=>u,BA:()=>p,L8:()=>h,ZP:()=>g,at:()=>l,gQ:()=>c,tl:()=>m});var i=n(622200);let l="masonryPagination",a={},r=e=>` ${e}`,o=(e,t)=>{let n=r(t);e.mark(n)},s=(e,t,n,i)=>{let l=r(t);e.measure(l,n,i)},d=(e,t)=>{let n=r(t);e.clearMarks(n),e.clearMeasures(n)},c=()=>{let e={};return Object.keys(a).forEach(t=>{(a[t]||[]).slice(0,3).forEach((n,i)=>{let l=i?`${t}_${i+1}`:t;e[l]=n})}),e},u=(e,t)=>(a[e]||[]).filter(e=>e<t).length,p=(e,t)=>u(e,t)>0,m=()=>{i.Z&&Object.keys(a).forEach(e=>d(i.Z,e)),a={}},h=e=>{i.Z&&(a[e]=(a[e]||[]).concat([i.Z.now()]),s(i.Z,e))},g=e=>{i.Z&&(a[e]=(a[e]||[]).concat([i.Z.now()]),o(i.Z,e))}},486986:(e,t,n)=>{"use strict";n.d(t,{cC:()=>a,jy:()=>l,qr:()=>o,sk:()=>r});let i=e=>"number"==typeof e?Math.round(e):e,l=e=>({type:"I16",value:i(e)}),a=e=>({type:"I32",value:i(e)}),r=e=>({type:"STRING",value:e}),o=e=>({type:"BOOL",value:e})},583077:(e,t,n)=>{"use strict";n.d(t,{D3:()=>a,Hd:()=>s,jh:()=>o,rX:()=>r});var i=n(941314),l=n(335741);let a=e=>({...(0,i.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),r=()=>{let{firstInputDelay:e,largestContentfulPaint:t}=(0,l.v2)();return{firstInputDelayStart:(null==e?void 0:e.startTime)||0,firstInputDelayEnd:(null==e?void 0:e.endTime)||0,largestContentfulPaint:t||0}},o=(e,t)=>Object.keys(t).reduce((n,i)=>({...n,[`${e}${i}`]:t[i]}),{}),s=(e,t)=>Object.keys(e).reduce((n,i)=>t.includes(i)?{...n,[i]:e[i]}:n,Object.freeze({}))},372453:(e,t,n)=>{"use strict";n.d(t,{ng:()=>v,rA:()=>b});var i=n(93501),l=n(39983),a=n(486986),r=n(335741),o=n(353335),s=n(910673);let d=(e,t)=>(e||[]).reduce((e,n)=>({...e,[`experiment.${n}`]:(0,a.sk)(t(n))}),{}),c=(e,t)=>"number"==typeof t?e(t):null,u=e=>Number(Number(e/1024).toFixed(3)),p=e=>e.reduce((e,t)=>e+t,0),m=(e,t)=>Object.keys(t).reduce((n,i)=>({...n,[`${e}${i}`]:t[i]}),{}),h=e=>{if(!e.length)return{};let t=e.map(({startTime:e,requestStart:t,responseStart:n,responseEnd:i})=>{let l=t||e;return{startTime:e,requestStart:l,responseStart:n||l,responseEnd:i}}),n=p(t.map(e=>e.requestStart-e.startTime)),i=p(t.map(e=>e.responseStart-e.requestStart)),l=p(t.map(e=>e.responseEnd-e.responseStart)),r=n+i+l,o=p(e.map(e=>e.decodedBodySize||0));return{decodedBodySize:(0,a.cC)(u(o)),"duration.all":(0,a.cC)(r),"duration.requestStartToResponseStart":(0,a.cC)(i),"duration.responseStartToResponseEnd":(0,a.cC)(l),"duration.startToRequestStart":(0,a.cC)(n)}},g=e=>{let t=e.filter(e=>!!e.responseEnd);return{...e.length?{...h(t),"count.completed":(0,a.cC)(t.length)}:{},"count.all":(0,a.cC)(e.length)}},_=e=>{let t=["timeSecond1","timeSecond2","timeSecond3"],n={timeSecond1:{start:0,end:0,count:0},timeSecond2:{start:0,end:0,count:0},timeSecond3:{start:0,end:0,count:0}},i={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};if(e.length){let{requestStart:l,startTime:a}=e[0].timing,r=l||a;n.timeSecond1.start=r,n.timeSecond1.end=r+1e3,n.timeSecond2.start=r+1e3,n.timeSecond2.end=r+2e3,n.timeSecond3.start=r+2e3,n.timeSecond3.end=r+3e3,e.forEach(e=>{let{timing:l}=e;i[e.category]=i[e.category].concat([l]),e.isDeferred&&(i.script_deferred=i.script_deferred.concat([l])),e.isExternal&&(i.external=i.external.concat([l])),e.isVisuallyCompleteRequired&&(i.visually_complete=i.visually_complete.concat([l]));let{requestStart:a,startTime:r,responseEnd:o}=l,s=a||r;t.forEach(e=>{let{start:t,end:i}=n[e];s>=t&&s<i?n[e].count+=1:s<t&&o>t&&(n[e].count+=1)})})}let l={...m("concurrentRequests.",Object.keys(n).reduce((e,t)=>e={...e,[t]:(0,a.cC)(n[t].count)},{}))},r={...Object.keys(i).reduce((e,t)=>({...e,...m(`resource.${t}.`,g(i[t]))}),l)};return r},y=(e,t,n)=>{var l,r;let d;let{devicePixelRatio:u,navigator:p,innerWidth:m,innerHeight:h,performance:g}=window,{deviceMemory:_,hardwareConcurrency:y,platform:v,userAgent:f,connection:b}=p,{memory:x}=g,{appType:k,appVersion:P,browserName:S,browserVersion:w,deviceType:T,isAppShell:A,isAuthenticated:C,isBot:I,isSocialBot:j,locale:E,osName:L,stageName:R}=t,F="desktop"===T?k||5:k||6,{navigationType:D}=e,z=null;if("initial_app_load"===D){d=1;let e=null===(r=(0,s.Z)("navigation")[0])||void 0===r?void 0:r.transferSize;z=e?parseFloat((.001*e).toFixed(1)):null}else d=4;return{"app.type":(0,a.jy)(F),"app.version":(0,a.sk)(P),"browser.name":(0,a.sk)(S),"browser.version":(0,a.sk)(w),"cpu.speed":(0,a.jy)(y),"device.memory":(0,a.jy)(_),"device.type":(0,a.jy)(0),"device.typeName":(0,a.sk)(T),"device.version":(0,a.sk)("unknown"),"pwt.cause":(0,a.jy)(d),"net.effectiveType":(0,a.sk)((null==b?void 0:b.effectiveType)||null),"net.downlink":(0,a.cC)(c(e=>10*Math.round(e/10),null==b?void 0:b.downlink)),"net.downlinkMax":(0,a.cC)(c(e=>10*Math.round(e/10),null==b?void 0:b.downlinkMax)),"net.rtt":(0,a.cC)(c(e=>10*Math.round(e/10),null==b?void 0:b.rtt)),"net.speed":(0,a.cC)((0,o.Hv)(n,!1)),"pwt.result":(0,a.jy)(1),"view.type":(0,a.cC)(0),"viewport.height":(0,a.cC)(h||0),"viewport.width":(0,a.cC)(m||0),devicePixelRatio:(0,a.cC)(u||0),isAppShell:(0,a.qr)(A),isAuthenticated:(0,a.qr)(C),isBot:(0,a.qr)(I),isSocialBot:(0,a.qr)(j),locale:(0,a.sk)(E),osName:(0,a.sk)(L),...null!==z&&{htmlResponseSize:(0,a.cC)(z)},nextHopProtocol:(0,a.sk)((null===(l=(0,s.Z)("navigation")[0])||void 0===l?void 0:l.nextHopProtocol)||null),platform:(0,a.sk)(v||null),profilerVersion:(0,a.sk)("3"),pwtActionName:(0,a.jy)((0,i.Rp)(e)),stageName:(0,a.sk)(R),userAgent:(0,a.sk)(f),usedJSHeapSize:(0,a.cC)((null==x?void 0:x.usedJSHeapSize)||0),totalJSHeapSize:(0,a.cC)((null==x?void 0:x.totalJSHeapSize)||0),jsHeapSizeLimit:(0,a.cC)((null==x?void 0:x.jsHeapSizeLimit)||0)}},v=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:i={},performanceResourceTimings:l=[]})=>({...d(e,n.getExperimentGroup),...y(t,n,l),...i,stopwatchVersion:(0,a.jy)(1)}),f=(e,t)=>{var n;let{navigator:i}=window,{serviceWorker:o}=i,{surface:s,navigationType:d,isAuthenticated:c}=e,{cumulativeLayoutShiftScore:u,longTaskDurations:m}=(0,r.v2)();return{...m.length?{"longTask.count":(0,a.cC)(m.length),"longTask.maxDuration":(0,a.cC)(Math.max(...m)),"longTask.totalDuration":(0,a.cC)(p(m))}:{},cumulativeLayoutShiftScore:(0,a.cC)(100*u),"masonry.paginationMarkCount":(0,a.cC)((0,l.Ao)(l.at,t)),"metricId.isAuthenticated":(0,a.qr)(c),"metricId.navigationType":(0,a.sk)(d),"metricId.surface":(0,a.sk)(s),resourceBufferClearedCount:(0,a.jy)((0,l.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,a.qr)((0,l.BA)("scrollDuringLayout",t)),serviceWorker:(0,a.qr)(o?!!o.controller:null),serviceWorkerState:(0,a.sk)((null==o?void 0:null===(n=o.controller)||void 0===n?void 0:n.state)||null)}},b=({annotateExperiments:e,binaryAnnotations:t={},entries:n,metricId:i,performanceResources:l,pwtEndTime:a,pwtStaticContext:r})=>({...t,..._(l),...d(e,r.getExperimentGroup),...y(i,r,n),...f(i,a)})},363959:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(622200);let l=()=>{let[e]=i.Z?i.Z.getEntriesByType("navigation"):[];return e}},324e3:(e,t,n)=>{"use strict";n.d(t,{i:()=>i,p:()=>r});let i=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{let t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();if(["js","mjs"].includes(n))return"script";if("css"===n)return"css";if(["mp4","m4v","mov","ts","m3u8"].includes(n))return"video";if(["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n))return"image";return"other"}}},l=e=>{let t=e.replace(RegExp(`^${window.location.origin||""}`),""),n=document&&document.querySelector(`script[src='${t}']`);return!!n&&n.hasAttribute("defer")},a=e=>["pinimg","pinterest","pinterdev"].every(t=>!e.includes(`${t}`)),r=(e,t)=>{let n=i(e),{name:r}=e;return{category:n,isDeferred:"script"===n&&l(r),isExternal:a(r),isVisuallyCompleteRequired:"image"===n&&t.includes(r),timing:e}}},591614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(334130),l=n(39008),a=n(93501),r=n(30482),o=n(763795);let s=null,d=(e,t)=>((s=s||{results:[],context:t}).results.push(e),s);var c=n(486986),u=n(363959),p=n(769916),m=n(910673);let h=(e,t)=>Object.keys(e).reduce((n,i)=>{let l=e[i];return l?{...n,[i]:{timestamp:t+l}}:n},{}),g=e=>Object.keys(e).reduce((t,n)=>{let i=e[n];if(!i)return t;let{value:l,type:a}=i;return null==l?t:t.concat({name:n,value:l,annotation_type:a})},[]),_=({span:e,timeOrigin:t})=>({id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:h(e.annotationMap,t),binary_annotations:g(e.binaryAnnotationMap)}),y=(e,{startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:l,parentId:a,traceId:r})=>({name:`pwt/${e}`,startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:l,parentId:a,id:r}),v=({annotations:e})=>e.reduce((e,{key:t,timestamp:n})=>({...e,[`server_${t}`]:{timestamp:n}}),{}),f=(e,t)=>({...e,annotations:{...v(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),b=(e,t,n)=>{var i;let l=(0,u.Z)(),a=null==l?void 0:l.responseEnd;return a?f(_({span:{name:"html",startTime:0,endTime:(null==l?void 0:l.responseEnd)||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,c.sk)((null===(i=(0,m.Z)("navigation")[0])||void 0===i?void 0:i.nextHopProtocol)||null)},id:e.server_span_id||(0,p.Z)(),parentId:t},timeOrigin:n}),e):null},x=({traceId:e,actionName:t,result:n,timeOrigin:i,serverDataToJoin:l})=>{let a=_({span:y(t,n),timeOrigin:i}),r=null;return l&&(a=f(a,l),r=b(l,e,i)),{trace_id:e,spans:[a,...r?[r]:[],...n.spans.map(e=>_({span:e,timeOrigin:i}))]}},k=e=>({debugTrace:l.eD,locale:e.locale,stageName:e.stageName}),P=(0,r.XV)("reportResult"),S=()=>{var e;return null!==(e=window.performance)&&void 0!==e&&e.now?Date.now()-window.performance.now():"unknown"};function w({metricId:e,pwtStaticContext:t,result:n,isAuth:r}){let{serverData:s}=t,c=(0,a.KJ)(e),u=`${n.type}.${c}`,p=`${n.type}.sampled.${c}`,m=void 0!==r&&{tags:{isAuth:r}}||void 0;if((0,o.A9)(n.reason?u.concat(`.${n.reason}`):u,m),(0,o.A9)(n.reason?p.concat(`.${n.reason}`):p,{...m,sampleRate:.5}),"COMPLETE"!==n.type){P(`Abort metric ${c}`,n);return}let h=S();if("unknown"===h){P(`Unable to convert to absolute times for ${c} due to missing time origin`),(0,o.A9)(`missingTimeOrigin.${c}`,m);return}if(l.is&&(window.PWT_LAB_DATA=d(n,t)),n.spans.length&&(n.spans=n.spans.map(e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e))),!l.is){let l=e.navigationType&&"initial_app_load"===e.navigationType,{traceId:a}=n,r=x({traceId:a,actionName:c,result:n,timeOrigin:h,serverDataToJoin:l&&s||null});(0,i.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(r),report_context:JSON.stringify(k(t))}}),P(`PinTrace ${c} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${a.toString(16)}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},941314:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},577491:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(486986),l=n(941314),a=n(769916);let r=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function o(e,t){let{category:n,timing:o,isDeferred:s,isExternal:d,isVisuallyCompleteRequired:c}=e;return o.responseEnd&&("image"!==n||c)?{name:r(e),id:(0,a.Z)(),parentId:t,startTime:o.startTime,endTime:o.responseEnd,annotationMap:(0,l.Z)(o),binaryAnnotationMap:{category:(0,i.sk)(n),decodedBodySize:(0,i.cC)(o.decodedBodySize||0),initiatorType:(0,i.sk)(o.initiatorType),isDeferred:(0,i.qr)(s),isExternal:(0,i.qr)(d),name:(0,i.sk)(o.name),nextHopProtocol:(0,i.sk)(o.nextHopProtocol),transferSize:(0,i.cC)(o.transferSize||0)}}:null}},912208:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var i=n(667294),l=n(583592),a=n(763795),r=n(677263),o=n(30482),s=n(39983),d=n(583077),c=n(372453),u=n(363959),p=n(324e3),m=n(591614),h=n(577491),g=n(879751),_=n(55941),y=n(769916),v=n(622200);let f=(0,o.XV)("PwtStopwatch"),b=(e,t)=>{if(v.Z){if("start"===t.type&&!e.isTiming){let{name:n,startTime:i,navigationType:l}=t;return(0,a.A9)(`TIMING.${n}`),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof i?i:v.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:l},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming){if(t.bypassIsTimingCheck)f("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{let n=t.name||e.name;return f("ignoring action - stopwatch is not actively timing",t),(0,a.A9)(`WARN.${n}.noTiming.${t.type}`),e}}if("annotate"===t.type){let n=v.Z.now();return f(`adding annotation {${t.label}: ${n}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:n}])}}if("binaryAnnotate"===t.type)return f(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type){let{value:n,type:i}=t.binaryAnnotationValueAndType;if(!e.binaryAnnotations[t.name])return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n,type:i}}};{let l=e.binaryAnnotations[t.name].value||0;return f(`operating on binary annotation {
          name: ${t.name}
          pervious value: ${String(l)}
          operand: ${String(n)}
        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n?t.operation(l,n):l,type:i}}}}}if("addSubspan"===t.type){f(`adding subspan {${t.name}}`);let n=e.spans.findIndex(e=>e.name===t.name);-1!==n&&f(`WARNING: adding duplicate subspan name {${t.name}}`);let i=t.id||(0,y.Z)(),l=e.spans.findIndex(e=>e.id===i);-1!==l&&f(`WARNING: adding duplicate subspan id {${t.name}: ${i}}`);let a=0;return t.startTime?a=t.startTime:e.startTime?a=e.startTime:f(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:i,startTime:a,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){var n;f(`starting subspan {${t.name}}`);let i=e.spans.findIndex(e=>e.name===t.name);-1!==i&&f(`WARNING: starting duplicate subspan name {${t.name}}`);let l=t.id||(0,y.Z)(),a=e.spans.findIndex(e=>e.id===l);-1!==a&&f(`WARNING: starting duplicate subspan id {${t.name}: ${l}}`);let r=t.parentName?null===(n=e.spans.find(e=>e.name===t.parentName))||void 0===n?void 0:n.id:null;return{...e,spans:[...e.spans,{name:t.name,id:l,parentId:t.parentId||r,startTime:v.Z.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){if(f(`stopping subspan {${t.name}}`),!t.id){let n=e.spans.reduce((e,n)=>n.name===t.name?[...e,n]:e,[]);n.length>1&&(0,a.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type})}let n=t.id?e.spans.findIndex(e=>e.id===t.id):e.spans.findIndex(e=>e.name===t.name);return n>-1?(e.spans[n].endTime=v.Z.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})):(0,a.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){let n=e.spans.reduce((e,n)=>n.name===t.currentName?[...e,n]:e,[]);n.length>1&&(0,a.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});let i=e.spans.findIndex(e=>e.name===t.currentName);return i>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[...e.spanNameUpdates,{currentName:t.currentName,newName:t.newName}]:(f(`renaming subspan {${t.currentName}} to {${t.newName}}`),e.spans[i].name=t.newName):(0,a.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){let{startTime:n,metricId:i,pwtStaticContext:l,annotations:a,binaryAnnotations:r,isSampled:o,spans:_,traceId:b}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),o){let o=t.stopTime||v.Z.now(),x=[..._.map(t=>{t.endTime===1/0&&(t.endTime=o);let n=e.spanNameUpdates.findIndex(e=>t.name===e.currentName);return n>-1&&(f(`renaming subspan {${t.name}} to {${e.spanNameUpdates[n].newName}}`),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter(e=>e.newName!==t.name)),t})];if(t.manualAndResourceSpans||0===_.length){let e=(0,y.Z)();x.push({name:"network_resources",id:e,startTime:n,endTime:o,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map(t=>(0,h.Z)((0,p.p)(t,[]),e)).filter(Boolean))}let k="initial_app_load"===i.navigationType&&(0,u.Z)(),P={type:"COMPLETE",traceId:b,startTime:n,endTime:o,spans:x,annotationMap:{...(0,g.Z)(a),...(0,d.jh)("browser_",k?(0,d.D3)(k):{}),...(0,d.jh)("mark_",(0,s.gQ)())},binaryAnnotationMap:(0,c.ng)({metricId:i,pwtStaticContext:l,binaryAnnotations:r,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,m.Z)({metricId:i,pwtStaticContext:l,result:P})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]}}if("error"===t.type){let{error:n,stopwatchPerformanceObserver:i}=t;return n&&(0,a.H)(n),i&&i.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();let{metricId:n,pwtStaticContext:i}=e,l=t.reason||"";return(0,m.Z)({metricId:n,pwtStaticContext:i,result:{type:"ABORT",reason:l}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]}}}return e},x=({name:e,sampleRate:t,navigationType:n,manualAndResourceSpans:l=!1})=>{let a=(0,r.N5)(),o=(0,i.useRef)([]),s=(0,i.useRef)(null),[d,c]=(0,i.useReducer)(b,{isTiming:!1,name:e,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]});return a?{isTiming:d.isTiming,start:i=>(window.PerformanceObserver&&(o.current=[],s.current=(0,_.Z)({entryTypes:["resource"]},e=>{o.current=o.current.concat(e.getEntries()),o.current.length>1e3&&(o.current=o.current.slice(-1e3))})),c({type:"start",startTime:i,name:e,navigationType:n,pwtStaticContext:a,isSampled:!t||Math.random()<t})),stop:e=>c({type:"stop",stopTime:e,stopwatchPerformanceObserver:s.current,customStopwatchBuffer:o.current,manualAndResourceSpans:l}),error:e=>{c({type:"error",stopwatchPerformanceObserver:s.current,error:e})},abort:e=>c({type:"abort",stopwatchPerformanceObserver:s.current,customStopwatchBuffer:o.current,reason:e}),annotate:(e,t,n=!1)=>c({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n}),binaryAnnotate:(e,t,n,i,l=!1)=>c({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:i,bypassIsTimingCheck:l}),binaryAnnotateOperation:({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:l=!1})=>c({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:l}),addSubspan:({name:e,startTime:t,endTime:n,annotations:i={},binaryAnnotations:l={},parentId:a=null,id:r=null,bypassIsTimingCheck:o=!1})=>c({type:"addSubspan",name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:l,parentId:a,id:r,bypassIsTimingCheck:o}),subspanStart:({name:e,annotations:t={},binaryAnnotations:n={},parentId:i=null,parentName:l=null,id:a=null,bypassIsTimingCheck:r=!1})=>c({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:l,id:a,bypassIsTimingCheck:r}),subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:l,bypassIsTimingCheck:a=!1})=>c({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n,id:i,parentId:l,bypassIsTimingCheck:a}),subspanUpdateName:({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i=!0})=>c({type:"subspanUpdateName",currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i}),getSpans:(e,t)=>d.spans.filter(n=>n[e]===t),getTraceId:()=>d.traceId}:null};var k=n(785893);let P=({name:e,sampleRate:t,abortOnUnloadOrClientNavigation:n=!0,navigationType:o,manualAndResourceSpans:s=!1})=>{let{Provider:d,useMaybeHook:c}=(0,l.Z)(`Stopwatch_${e}`);return{Provider:function({children:l}){let c=x({name:e,sampleRate:t,navigationType:o,manualAndResourceSpans:s}),u=(0,r.fM)(),p=u?u.time:0,m=(0,i.useRef)(!1),h=null==c?void 0:c.isTiming,g=(0,i.useCallback)(t=>{m.current?(m.current=!1,null==c||c.abort(t)):(0,a.A9)(`WARN.${e}.noTiming.abort`)},[c]),_=(0,i.useCallback)((e,t)=>{null==c||c.annotate(e,t)},[c]),y=(0,i.useCallback)((e,t,n,i)=>{null==c||c.binaryAnnotate(e,t,n,i)},[c]),v=(0,i.useCallback)(({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:l})=>{null==c||c.binaryAnnotateOperation({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:l})},[c]),f=(0,i.useCallback)(({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:l,parentId:a,id:r,bypassIsTimingCheck:o})=>{null==c||c.addSubspan({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:l,parentId:a,id:r,bypassIsTimingCheck:o})},[c]),b=(0,i.useCallback)(({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:l,id:a,bypassIsTimingCheck:r})=>{null==c||c.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:l,id:a,bypassIsTimingCheck:r})},[c]),P=(0,i.useCallback)(({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:l,bypassIsTimingCheck:a})=>{null==c||c.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:l,bypassIsTimingCheck:a})},[c]),S=(0,i.useCallback)(({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i})=>{null==c||c.subspanUpdateName({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i})},[c]),w=(0,i.useCallback)((e,t)=>c?c.getSpans(e,t):[],[c]),T=(0,i.useCallback)(()=>c?c.getTraceId():0,[c]),A=(0,i.useCallback)(t=>{m.current?(m.current=!1,null==c||c.error(t)):(0,a.A9)(`WARN.${e}.noTiming.error`)},[c]),C=(0,i.useCallback)(e=>{m.current&&(null==c||c.abort("duplicated_init_stopwatch_action")),m.current=!0,null==c||c.start(e)},[c]),I=(0,i.useCallback)(t=>{m.current?(m.current=!1,null==c||c.stop(t)):(0,a.A9)(`WARN.${e}.noTiming.stop`)},[c]);(0,i.useEffect)(()=>()=>{n&&g("unloadOrClientNavigation")},[p]);let j=(0,i.useMemo)(()=>({isTiming:h,abort:g,addAnnotation:_,addBinaryAnnotation:y,binaryAnnotationOperation:v,addSubspan:f,subspanStart:b,subspanStop:P,getSpans:w,getTraceId:T,updateSubspanName:S,stop:I,error:A,start:C}),[h,g,_,y,v,f,b,P,w,T,S,I,A,C]);return(0,k.jsx)(d,{value:j,children:l})},useHook:c}}},845092:(e,t,n)=>{"use strict";n.d(t,{ku:()=>C,Jx:()=>w,PY:()=>A});var i=n(30482),l=n(763795),a=n(39983),r=n(583077),o=n(372453),s=n(363959),d=n(335741);let c=()=>(0,d.PJ)().reduce((e,{identifier:t,loadTime:n,renderTime:i})=>e[`${t}_loadTime`]?e[`${t}_dupe_loadTime`]?{...e,[`${t}_dupe_loadTime`]:n,[`${t}_dupe_renderTime`]:i}:e:{...e,[`${t}_loadTime`]:n,[`${t}_renderTime`]:i},Object.freeze({}));var u=n(941314),p=n(360588),m=n(353335);let h=e=>{let t=(0,m.y0)();return e.reduce((e,{name:n,match:i})=>t.filter(e=>i(e)).slice(0,2).reduce((e,t,i)=>({...e,...(0,r.jh)(`${n}${i?"_dupe1":""}_`,(0,u.Z)(t))}),e),Object.freeze({}))},g=e=>{if("pin_closeup"===e){let e=(0,p.Z)();return h([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}return{}};var _=n(324e3),y=n(591614),v=n(577491),f=n(154174),b=n(55941),x=n(769916);let k=(0,i.XV)("LightStopwatch"),P=()=>{let e=[],t=null;return window.PerformanceObserver&&(t=(0,b.Z)({entryTypes:["resource"]},t=>{(e=e.concat(t.getEntries())).length>1e3&&(e=e.slice(-1e3))})),{get:()=>e,disconnect:()=>{t&&t.disconnect()}}},S={},w=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:n,name:i,pwtStaticContext:d})=>{let u=P(),p=(0,f.Z)(d.fullPath),m=!0,h={...p?{pagePath:{value:p,type:"STRING"}}:{}};(0,l.A9)(`TIMING.${i}`,{tags:{isAuth:d.isAuthenticated}});let b={type:"stopwatch",name:i,navigationType:"initial_app_load"},w={abort:e=>{if(!m){(0,l.H)("duplicate_abort_action",{action:i});return}m=!1,(0,y.Z)({metricId:b,pwtStaticContext:d,result:{type:"ABORT",reason:e}})},error:(e,t)=>{let n={...t,action:i};if(!m){(0,l.H)("duplicate_error_action",n);return}e&&(0,l.H)(e,n),u&&u.disconnect(),m=!1},stop:p=>{if(!m){(0,l.H)("duplicate_stop_action",{action:i});return}m=!1,u.disconnect();let f=(0,x.Z)(),k=(0,s.Z)(),P=u.get(),S={type:"COMPLETE",traceId:(0,x.Z)(),startTime:0,endTime:p,spans:[{name:"network_resources",id:f,startTime:0,endTime:p,annotationMap:{},binaryAnnotationMap:{},parentId:null},...P.map(e=>(0,v.Z)((0,_.p)(e,[]),f)).filter(Boolean)],annotationMap:{...(0,r.jh)("resource_",n?g(n):{}),...(0,r.jh)("element_",c()),...(0,r.jh)("mark_",t&&t.length?(0,r.Hd)((0,a.gQ)(),t):{}),...(0,r.jh)("browser_",k?(0,r.D3)(k):{})},binaryAnnotationMap:(0,o.ng)({annotateExperiments:e,metricId:b,pwtStaticContext:d,performanceResourceTimings:P,binaryAnnotations:h})};(0,y.Z)({metricId:b,pwtStaticContext:d,result:S,isAuth:d.isAuthenticated})},addBinaryAnnotation:(e,t,n)=>{k(`adding binary annotation {${e}: ${String(t)}}`),h={...h,[e]:{value:t,type:n}}}};return S[i]=w,w},T=e=>S[e],A=e=>!!T(e),C=({stopwatchName:e,binaryAnnotationName:t,value:n,annotationType:i})=>{let l=T(e);l&&l.addBinaryAnnotation(t,n,i)}},719540:(e,t,n)=>{"use strict";n.d(t,{T:()=>r,g:()=>o});var i=n(912208);let{Provider:l,useHook:a}=(0,i.Z)({name:"story_pin_step",sampleRate:1}),r=l,o=a},879751:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>{let t={};e.forEach(({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}});let n=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,i)=>{let l=i?`${e}_${i+1}`:e;n={...n,[l]:t}})}),n}},335741:(e,t,n)=>{"use strict";let i,l;n.d(t,{Af:()=>_,Bn:()=>g,Kj:()=>h,PJ:()=>c,UQ:()=>v,Ux:()=>u,on:()=>s,v2:()=>p});var a=n(545225),r=n(55941);let o={cumulativeLayoutShiftScore:0,firstInputDelay:null,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},s=()=>{o.longTaskDurations=[]},d=(0,a.Z)(()=>o.elementTimings),c=()=>d.get(),u=e=>{e&&d.save(),o.elementTimings=[]},p=()=>o,m=0,h=()=>m,g=()=>i,_=()=>l,y=e=>e.reduce((e,{identifier:t,loadTime:n,renderTime:i})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof i?[{identifier:t,loadTime:n,renderTime:i}]:[]),[]),v=()=>{(0,r.Z)({type:"element",buffered:!0},e=>{o.elementTimings=o.elementTimings.concat(y(e.getEntries()))}),(0,r.Z)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>o.longTaskDurations.push(e.duration))},()=>s()),(0,r.Z)({type:"first-input",buffered:!0},(e,t)=>{let n=e.getEntries()[0];n&&n.startTime&&n.processingStart&&(o.firstInputDelay={startTime:n.startTime,endTime:n.processingStart},l=o.firstInputDelay.startTime),t.disconnect()},()=>{o.firstInputDelay=null}),(0,r.Z)({type:"largest-contentful-paint",buffered:!0},e=>{let t=e.getEntries(),n=t.length,l=t[n-1];l&&(m=n,o.largestContentfulPaint=l.renderTime||l.loadTime||null,i=l.renderTime||l.loadTime||null)}),(0,r.Z)({type:"layout-shift",buffered:!0},e=>{let t=e.getEntries();t.forEach(e=>{e.hadRecentInput||(o.cumulativeLayoutShiftScore+=e.value)})})}},768337:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";default:return"OTHER"}}},545225:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},813107:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>{let{deviceType:t,isBot:n,isSocialBot:i}=e;return`coreWebVitalsLite.v1.${i&&"socialBot"||n&&"bot"||"nonbot"}.${t}`}},154174:(e,t,n)=>{"use strict";function i(e){var t;let n=null!==(t=e.split("?")[0])&&void 0!==t?t:"";if(!n.startsWith("/pin/"))return null;let i=n.split("/")[3];return i?"feedback"===i||"sent"===i?i:null:"default"}n.d(t,{Z:()=>i})},55941:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{let i=new window.PerformanceObserver(t);return i.observe(e),window.addEventListener("beforeunload",()=>{i.disconnect()}),n&&window.addEventListener("popstate",()=>{n()}),i}catch(e){return null}}},360588:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l,f:()=>i});let i="closeupImage",l=()=>{if(!document.querySelector)return null;let e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},769916:(e,t,n)=>{"use strict";function i(){let e="";for(let t=0;t<15;t+=1){let t=Math.floor(10*Math.random());e+="0123456789"[t]}return Number(e)}n.d(t,{Z:()=>i})},353335:(e,t,n)=>{"use strict";let i;n.d(t,{Cg:()=>g,Eg:()=>y,Hv:()=>b,LH:()=>v,MM:()=>x,X_:()=>p,y0:()=>_});var l=n(39008),a=n(763795),r=n(39983),o=n(324e3),s=n(545225),d=n(55941),c=n(910673);function u(){window.performance&&window.performance.clearResourceTimings&&((0,r.ZP)("resourceBufferCleared"),l.DQ&&console.info("Warning: Clearing resource timings in default buffer."),(0,a.A9)("resourceBufferSize",{count:(0,c.Z)("resource").length}),window.performance.clearResourceTimings())}let p=({size:e})=>{if(window.performance){window.PerformanceObserver?(i=(0,c.Z)("resource"),(0,d.Z)({entryTypes:["resource"]},t=>{(i=(i||[]).concat(t.getEntries())).length>e&&(i=i.slice(-e))})):(window.addEventListener("popstate",()=>{let t=(0,c.Z)("resource").length;t>e&&u()}),window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(e));try{window.performance.onresourcetimingbufferfull=()=>{i||u()}}catch(e){}}},m=()=>i||(0,c.Z)("resource"),h=(0,s.Z)(m),g=m,_=()=>h.get(),y=e=>{e&&h.save(),i&&((0,a.A9)("customBufferSize",{count:i.length}),i=[]),u()},v=()=>({customBufferSize:i?i.length:0,defaultBufferSize:(0,c.Z)("resource").length}),f=e=>e.length?e.reduce((e,t)=>e+t,0)/e.length:null,b=(e,t=!0)=>{let n=0,i=0,l=f(e.filter(e=>{if(t){let t="image"===(0,o.i)(e);return!!t&&(e.responseEnd||(n+=1),e.transferSize||(i+=1),!!e.responseEnd&&!!e.transferSize)}return!!e.responseEnd&&!!e.transferSize}).map(e=>{let t=8*(e.transferSize||0),n=(e.responseEnd-e.responseStart)/1e3;return t/n/1e3}));return t&&(n>0&&(0,a.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:n}},!1),i>0&&(0,a.A9)("images.downloadSpeed.transferSize",{tags:{count:i}},!1)),l},x=e=>{if(!e)return"unknown";let t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},910673:(e,t,n)=>{"use strict";function i(e){var t,n;return(null===(t=window)||void 0===t?void 0:null===(n=t.performance)||void 0===n?void 0:n.getEntriesByType)&&window.performance.getEntriesByType(e)||[]}n.d(t,{Z:()=>i})},622200:(e,t,n)=>{"use strict";var i;n.d(t,{Z:()=>l});let l=(i=window.performance)&&i.clearMarks&&i.clearMeasures&&i.clearResourceTimings&&i.getEntries&&i.getEntriesByName&&i.getEntriesByType&&i.mark&&i.measure&&i.now&&i.setResourceTimingBufferSize?i:null},527319:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(883119),l=n(88622),a=n(536042),r=n(667294),o=n(563962),s=n(870243),d=n(811597),c=n(785893);let u=function({user:e,viewer:t}){let n=(0,a.ZP)(),{full_name:l,image_medium_url:r,domain_url:o,domain_verified:u,is_private_profile:p,reactionType:m,username:h}=e,g=t&&!!t.id&&t.id===e.id,_=p?e.first_name:l,y=d.GY[m],{staticAsset:v}=(0,d.fW)(y,n);return(0,c.jsxs)(i.xu,{display:"flex",justifyContent:"between",paddingX:6,marginTop:6,children:[(0,c.jsx)(i.Tg,{href:`/${h}/`,children:(0,c.jsxs)(i.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,c.jsx)(i.xu,{width:40,children:(0,c.jsx)(s.qE,{accessibilityLabel:"",name:_,src:r})}),(0,c.jsxs)(i.xu,{display:"flex",direction:"column",paddingX:2,children:[(0,c.jsx)(i.xv,{weight:"bold",children:_}),g&&(0,c.jsx)(i.xv,{size:"200",children:n.bt(" ", "That's you", "Indicates that the viewer is the person in the list", undefined, true)}),!g&&o&&u&&(0,c.jsx)(i.xv,{size:"200",children:o})]})]})}),(0,c.jsx)(i.xu,{padding:2,display:"flex",alignItems:"center",children:(0,c.jsx)(i.xu,{width:26,height:26,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${v})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"}}})})]})};var p=n(819079),m=n(184758),h=n(552369),g=n(802071);function _(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends r.Component{constructor(...e){super(...e),_(this,"setRef",e=>{e&&!this.list&&(this.list=e.parentElement,this.list&&this.list.addEventListener("scroll",this.handleScroll))}),_(this,"fetchMore",()=>{let{feedResource:e}=this.props;e.isFetching||(e.isAtEnd?window.removeEventListener("scroll",this.handleScroll):e.fetchMore())}),_(this,"handleScroll",(0,h.Z)(()=>{let{feedResource:e}=this.props;if(e.isFetching||e.isAtEnd)return;let t=(0,m.Uy)(this.list),n=(0,m.aZ)(this.list),i=(0,m.MX)(this.list);n-i-50<t&&this.fetchMore()},10))}componentDidMount(){let{logContextEvent:e,logView:t=!0}=this.props;t&&e({event_type:13,view_type:266,view_parameter:3312})}componentWillUnmount(){this.list&&this.list.removeEventListener("scroll",this.handleScroll)}render(){let{feedResource:{data:e,isFetching:t},viewer:n}=this.props;if(e&&e.length>0){let l=e.map(e=>{let{user:t,reaction_type:n}=e;return{...t,reactionType:n}});return(0,c.jsxs)(i.xu,{marginBottom:6,ref:this.setRef,children:[l.map(e=>(0,c.jsx)(u,{user:e,viewer:n},e.id)),t&&(0,c.jsx)("div",{className:"loadingSpinner",children:(0,c.jsx)(i.$j,{accessibilityLabel:this.props.i18n.bt("  ", "Loading user list", "Accessibility lable for user list spinner", undefined, true),show:!0})})]})}return(0,c.jsx)("div",{className:"loadingSpinner",children:(0,c.jsx)(i.$j,{accessibilityLabel:this.props.i18n.bt("  ", "Loading user list", "Accessibility lable for user list spinner", undefined, true),show:!0})})}}function v(e){let t=(0,a.ZP)(),n=(0,g.Z)(),i=(0,o.Z)(),l=(0,p.Z)({name:"ReactionsResource",options:{pin_id:e.pinId},noCache:!0});return(0,c.jsx)(y,{...e,feedResource:l,viewer:n,i18n:t,logContextEvent:i})}function f({pinId:e,aggregatedReactions:t,totalReactionCount:n,onDismiss:r,logView:o}){let s=(0,a.ZP)(),d=(0,c.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsxs)(i.xu,{display:"flex",direction:"row",alignItems:"center",height:19,paddingY:6,children:[(0,c.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:t}),(0,c.jsx)(i.xu,{paddingX:1,children:(0,c.jsx)(i.xv,{weight:"bold",children:n})})]})});return(0,c.jsx)(l.ZP,{mobileAccessibilityCloseIconLabel:s.bt("  ", "close modal", "pin.reactions.reactedUsers", undefined, true),accessibilityModalLabel:s.bt(",    .", "Users who have reacted to this.", "Label for a modal showing a list of users who have reacted to a pin", undefined, true),heading:d,onDismiss:r,size:"sm",allowScroll:!0,children:(0,c.jsx)(i.xu,{height:"calc(75% - 90px)",children:(0,c.jsx)(v,{pinId:e,logView:o})})})}},467763:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(667294),l=n(883119),a=n(342693),r=n(563962),o=n(13596),s=n(536042),d=n(527319),c=n(811597),u=n(411171),p=n(785893);function m(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.PureComponent{constructor(...e){super(...e),m(this,"state",{displayAggregationModal:!1}),m(this,"showAggregationModal",()=>{let{disableModal:e,logContextEvent:t}=this.props;e||(this.setState({displayAggregationModal:!0}),t({event_type:101,view_type:3,view_parameter:139,component:13458,element:11435,aux_data:{objectId:this.props.pinId}}))}),m(this,"hideAggregationModal",()=>{this.setState({displayAggregationModal:!1})})}render(){let{displayAggregationModal:e}=this.state,{isBold:t,inCommentModuleExp:n,isInCommentModule:i,isStoryPin:r,paddingY:s,pinId:m,reactionCounts:h}=this.props,g=h?(0,u.At)(h):null,_=h?(0,u.Ud)(h):0,y=!!g&&g.length>0&&g.filter(e=>!!c.GY[e]).map((e,t)=>{let n=c.GY[e],{gridAsset:i}=(0,c.fW)(n,this.props.i18n);return(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${i})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},height:19,width:19})},t)});return(0,p.jsxs)(l.xu,{children:[(0,p.jsx)("div",{onClick:i?void 0:this.showAggregationModal,onKeyDown:i?void 0:this.showAggregationModal,role:"presentation",children:!!y&&(0,p.jsx)(l.xu,{display:"inlineBlock",children:n?(0,p.jsx)(l.xv,{weight:"bold",children:(0,p.jsx)(o.Z,{value:_,shortform:!0,shortformMaximumFractionDigits:1})}):(0,p.jsxs)(l.xu,{alignItems:"center",direction:"row",display:"flex",height:r?"auto":19,paddingY:null!=s?s:r?0:6,dangerouslySetInlineStyle:{__style:{cursor:"pointer"}},"data-test-id":"aggregated-reactions-container",children:[(0,p.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:y}),(0,p.jsx)(l.xu,{paddingX:1,children:(0,p.jsx)(l.xv,{color:t?"default":"subtle",size:a.n,weight:t?"bold":"normal",children:(0,p.jsx)(o.Z,{value:_,shortform:!0,shortformMaximumFractionDigits:1})})})]})})}),e&&_&&(0,p.jsx)(d.Z,{aggregatedReactions:y,onDismiss:this.hideAggregationModal,pinId:m,totalReactionCount:_})]})}}m(h,"defaultProps",{isBold:!0});let g=function(e){let t=(0,s.ZP)(),n=(0,r.Z)();return(0,p.jsx)(h,{...e,i18n:t,logContextEvent:n})}},811597:(e,t,n)=>{"use strict";n.d(t,{fW:()=>u,Go:()=>c,GY:()=>d,Jg:()=>s});var i=n(897310),l=n(409445),a=n(615661),r=n(495796),o=n(473754);let s=["goodIdea","love","thanks","wow","haha"],d={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},c={7:"yellow-caramellow-50",1:"red-pushpin-100",13:"teal-spabattical-100",11:"orange-firetini-50",5:"purple-mysticool-100"},u=(e,t,n="darkGray")=>{let s={default:{staticAsset:"white"===n?"https://s.pinimg.com/webapp/reactionHeartOutlineWhite-61cdbdb7.svg":"https://s.pinimg.com/webapp/reactionHeartOutline-24ab75a6.svg"},goodIdea:{staticAsset:"https://s.pinimg.com/webapp/goodIdea-855554b0.svg",animatedAsset:"https://s.pinimg.com/webapp/goodIdea-5de05cb7.svg",gridAsset:i,label:t.bt(" !", "Good idea", "Reaction label to tell a creator that their pin is a good idea", undefined, true),htmlStyle:`
    @keyframes play90 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -3600px 0px;
        }
    }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:7},haha:{staticAsset:"https://s.pinimg.com/webapp/haha-28ee6e1e.svg",animatedAsset:"https://s.pinimg.com/webapp/haha-df9cb2fa.svg",gridAsset:l,label:t.bt("!", "Haha", "Reaction label to tell a creator that the pinner laughed because of their pin", undefined, true),htmlStyle:`
    @keyframes play60 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -2400px 0px;
        }
    }
    `,animationStyle:"play60 2000ms steps(60) infinite forwards",type:5},love:{staticAsset:"https://s.pinimg.com/webapp/love-31fc2a99.svg",animatedAsset:"https://s.pinimg.com/webapp/love-ccd5b808.svg",gridAsset:a,label:t.bt(" !", "Love", "Reaction label to tell a creator that the pinner loved their pin", undefined, true),htmlStyle:`
    @keyframes play90 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -3600px 0px;
        }
    }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:1},thanks:{staticAsset:"https://s.pinimg.com/webapp/thanks-51f19932.svg",animatedAsset:"https://s.pinimg.com/webapp/thanks-6831daf3.svg",gridAsset:r,label:t.bt("!", "Thanks", "Reaction label to tell a creator thank you", undefined, true),htmlStyle:`
    @keyframes play60 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -2400px 0px;
        }
    }
    `,animationStyle:"play60 2000ms steps(60) infinite forwards",type:13},wow:{staticAsset:"https://s.pinimg.com/webapp/wow-d966adbd.svg",animatedAsset:"https://s.pinimg.com/webapp/wow-b776449f.svg",gridAsset:o,label:t.bt("  !", "Wow", "Reaction label to tell a creator that the pinner was wowed by their pin", undefined, true),htmlStyle:`
    @keyframes play90 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -3600px 0px;
        }
    }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:11}};return s[e]||s.default}},411171:(e,t,n)=>{"use strict";function i(e){let t=Object.keys(e);if(t.length>0){let n=t.sort((t,n)=>e[n]-e[t]).slice(0,3);return n}return null}function l(e){let t=Object.values(e);if(t.length>0){let e=t.reduce((e,t)=>e+t,0);return e}return 0}function a(e,t,n){var i,l;return!e.isPromoted&&!e.isDownstreamPromotion&&!!(null!==(i=e.videos)&&void 0!==i&&i.entityId||e.storyPinDataId)&&!t&&(!(null!==(l=e.board)&&void 0!==l&&l.isCollaborative)||!e.board.collaboratedByMe)&&!n}n.d(t,{At:()=>i,J6:()=>a,Ud:()=>l})},31407:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,Z:()=>o});var i=n(667294),l=n(883119),a=n(785893);let r=({fill:e,width:t})=>{let n="half"===e?(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(l.xu,{position:"absolute",children:(0,a.jsx)(l.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,a.jsx)(l.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,a.jsx)(l.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,a.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock","data-test-id":`rating-star-${e}`,children:n})};function o({max_rating:e,rating:t,width:n}){var i;let o=[],s=parseFloat(e)||5,d=5*(i=(i=parseFloat(t)||0)<=s?i:s)/s;if(Number.isNaN(d))return null;let c=Math.floor(d),u=d-c;return[...Array(c).keys()].forEach(e=>o.push((0,a.jsx)(r,{fill:"full",width:n},e))),u>=.75?o.push((0,a.jsx)(r,{fill:"full",width:n},o.length)):u>=.25&&o.push((0,a.jsx)(r,{fill:"half",width:n},o.length)),[...Array(5-o.length).keys()].forEach(()=>o.push((0,a.jsx)(r,{fill:"empty",width:n},o.length))),(0,a.jsx)(l.xu,{position:"relative",display:"inlineBlock",width:15*s,children:o})}},895200:(e,t,n)=>{"use strict";function i({m:e=0,h:t=0}){return{m:e,h:t,rm:t>0?0:e,rh:t<=0?t:e>45?t+1:e>15?t+.5:t}}function l(e){let t=Math.floor(e/3600),n=Math.floor(e%3600/60);return i({m:n,h:t})}n.d(t,{X:()=>i,u:()=>l})},771028:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(13596),l=n(630089),a=n(785893);function r({m:e,h:t,rm:n,rh:r},o){return e&&(!t||r<=0)?(0,l.nk)(o.bt("{{mins}}", "{{mins}}min", "closeup.makeRecipeText.minutesLabel", undefined, true),{mins:(0,a.jsx)(i.Z,{maximumFractionDigits:2,value:n},"recipe-minutes")}):t?(0,l.nk)(o.bt("{{hrs}}", "{{hrs}}hr", "closeup.makeRecipeText.hoursLabel", undefined, true),{hrs:(0,a.jsx)(i.Z,{maximumFractionDigits:2,value:r},"recipe-hours")}):null}},413358:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(630089);function l(e,t){return e<60?(0,i.nk)(t.bt("{{mins}}", "{{mins}}min", "recipe.minutes", undefined, true),{mins:e}):(0,i.nk)(t.bt("{{hrs}} {{mins}}", "{{hrs}}h {{mins}} min", "recipe.time", undefined, true),{mins:e%60,hrs:Math.floor(e/60)})}},31086:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r,k:()=>a});let i=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","original_referrer","source","top_level_source","top_level_source_depth"]),l=e=>!i.has(e)&&!e.startsWith("__track__");function a(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce((e,t)=>{let[n,i]=t.split("=");return e[n]=JSON.parse(i),e},{})}let r=e=>e?Object.keys("object"==typeof e&&e||{}).filter(e=>"string"==typeof e).filter(l).sort().map(t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`).join(","):""},170567:(e,t,n)=>{"use strict";n.d(t,{UZ:()=>u,Z8:()=>p,my:()=>m});var i=n(667294);n(702664);var l=n(690108),a=n(583592),r=n(785893);function o(e,t,n){var i;let l=[...null!==(i=t[e][n.payload.name])&&void 0!==i?i:[],n.payload.handler],a={...t};return a[e]={...t[e],[n.payload.name]:l},a}function s(e,t,n){if(!t[e][n.payload.name])return t;let i=t[e][n.payload.name].filter(e=>e!==n.payload.handler),l={...t};return l[e]={...t[e],[n.payload.name]:i},l}let{Provider:d,useHook:c}=(0,a.Z)("ResourceContext");function u({children:e}){let[{listeners:t,moreListeners:n},a]=(0,i.useReducer)((e,t)=>{switch(t.type){case"addListener":return o("listeners",e,t);case"addMoreListener":return o("moreListeners",e,t);case"removeListener":return s("listeners",e,t);case"removeMoreListener":return s("moreListeners",e,t);default:return e}},{listeners:{},moreListeners:{}});l.Z.fetchCompleteCallback=({resource:e,options:n,response:i,normalizedResponse:l,refresh:a,resourceSchema:r})=>{t[e]&&t[e].forEach(t=>t({isRefresh:a,normalizedResponse:l,options:n,schema:r,resource:e,response:i}))},l.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:i,normalizedResponse:l,refresh:a,resourceSchema:r})=>{n[e]&&n[e].forEach(n=>n({isRefresh:a,normalizedResponse:l,options:t,schema:r,resource:e,response:i}))};let c=(0,i.useMemo)(()=>({listenerDispatch:a}),[]);return(0,r.jsx)(d,{value:c,children:e})}function p(e,t){let{listenerDispatch:n}=c();(0,i.useEffect)(()=>(n({type:"addListener",payload:{name:e,handler:t}}),()=>{n({type:"removeListener",payload:{name:e,handler:t}})}))}function m(e,t){let{listenerDispatch:n}=c();(0,i.useEffect)(()=>(n({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{n({type:"removeMoreListener",payload:{name:e,handler:t}})}))}},575794:(e,t,n)=>{"use strict";n.d(t,{U:()=>u,b:()=>p});var i=n(690108),l=n(31086),a=n(33319),r=n(756513),o=n(782677),s=n(255655);let d=(e,{bookmark:t,options:n,schema:i})=>{let l=i||s.Z[e];return"function"==typeof l?l({resource:e,options:n,bookmark:t}):l};function c({fetchOptions:e,resource:t,retry:n}){return(s,u)=>{var p,m,h;let{bookmark:g,paginationGroup:_,headers:y,options:v,refresh:f,schema:b}=e,x=(0,l.Z)(v);if(null!==(p=u().resources)&&void 0!==p&&null!==(m=p[t])&&void 0!==m&&null!==(h=m[x])&&void 0!==h&&h.fetching&&!n)return Promise.resolve();let k=n?n.bookmark:g,P=k?{...v,bookmarks:[k],pagination_group:_}:v;return s((0,r.LQ)(t,v,!0)),i.Z.create(t,P).callGet(void 0,y).then(l=>{var u;let{data:p}=l.resource_response,[m]=l.bookmarks||[];if(Array.isArray(p)&&0===p.length&&m&&m!==a.q){let i=n?n.count:0,l=i>=a.s;if(!l)return s(c({resource:t,fetchOptions:e,retry:{count:i+1,bookmark:m}}))}u=p,"VisualSearchFlashlightUnifiedResource"===t&&(u=u.results);let{normalizedResponse:h,resourceSchema:_}=function({data:e,opts:{bookmark:t,options:n,schema:i},resource:l}){let a=d(l,{bookmark:t,options:n,schema:i}),r=a&&e?(0,o.Fv)(e,a):null;return{normalizedResponse:r,resourceSchema:a}}({data:p,opts:{bookmark:g,options:v,schema:b},resource:t})||{normalizedResponse:null,resourceSchema:void 0};return g?(s((0,r.Dm)(t,v,l,h,_)),i.Z.fetchMoreCompleteCallback&&i.Z.fetchMoreCompleteCallback({resource:t,options:v,response:l,normalizedResponse:h,refresh:f,resourceSchema:_})):(s((0,r.Sr)(t,v,l,h,f,_)),i.Z.fetchCompleteCallback&&i.Z.fetchCompleteCallback({resource:t,options:v,response:l,normalizedResponse:h,refresh:f,resourceSchema:_})),Promise.resolve()},e=>{s((0,r.Tl)(t,v,e))})}}let u=(e,{bookmark:t,headers:n,options:i,schema:l,paginationGroup:a})=>c({resource:e,fetchOptions:{bookmark:t,headers:n,options:i,refresh:!1,schema:l,paginationGroup:a}}),p=(e,{headers:t,options:n,schema:i})=>c({resource:e,fetchOptions:{headers:t,options:n,refresh:!0,schema:i}})},907276:(e,t,n)=>{"use strict";function i(e,t){let n;if(e.error){let{httpStatus:i,api_error_code:l,redirectUrl:a}=e.error;(404===i||401===i&&7===l)&&(n={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===i&&a&&(n={pathname:a})}return n}n.d(t,{Z:()=>i})},857867:(e,t,n)=>{"use strict";n.d(t,{AF:()=>i,KK:()=>l,aW:()=>o,cR:()=>a,se:()=>s,zP:()=>r});let i="CREATE_COMPLETE",l="FETCHING",a="FETCH_ERROR",r="FETCH_COMPLETE",o="FETCH_MORE_COMPLETE",s="RESOURCE_INVALIDATE"},756513:(e,t,n)=>{"use strict";n.d(t,{Dm:()=>s,LQ:()=>a,Sr:()=>o,Tl:()=>r,XM:()=>l,jB:()=>d});var i=n(857867);function l(e,t,n,l){return{type:i.AF,payload:{resource:e,options:t,response:n,normalizedResponse:l}}}function a(e,t,n){return{type:i.KK,payload:{resource:e,options:t,isFetching:n}}}let r=(e,t,n)=>({type:i.cR,payload:{resource:e,options:t,error:n}});function o(e,t,n,l,a,r){return{type:i.zP,payload:{isRefresh:a,normalizedResponse:l,options:t,resource:e,response:n,schema:r}}}function s(e,t,n,l,a){return{type:i.aW,payload:{resource:e,options:t,response:n,normalizedResponse:l,schema:a}}}function d(e,t){return{type:i.se,payload:{resource:e,optionsOrOptionsKey:t}}}},819079:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),l=n(702664),a=n(616550),r=n(31086),o=n(282802),s=n(575794),d=n(33319);let c={},u=({httpStatus:e})=>!e||e>=500;function p(e){let{enabledRouteRefresh:t,__unstableEnableSuspenseSupport:n,headers:p,name:m,noCache:h,options:g,schema:_}=null!=e?e:{name:"DisabledResource",options:null},y=!e,v=(0,l.useDispatch)(),f=(0,r.Z)(g),b=(0,i.useRef)(null),x=(0,i.useRef)(),k=(0,a.useHistory)(),P=k&&"POP"!==k.action,S=e=>(e[m]||c)[f]||c,w=(0,l.useSelector)(({resources:e})=>S(e).nextBookmark),T=(0,l.useSelector)(({resources:e})=>S(e).data),A=(0,l.useSelector)(({resources:e})=>S(e).auxData),C=(0,l.useSelector)(({resources:e})=>S(e).error),I=(0,l.useSelector)(({resources:e})=>!!S(e).fetching),j="object"==typeof A&&"string"==typeof(null==A?void 0:A.pagination_group)?A.pagination_group:void 0,E=!!C||void 0!==T,L=E&&!I&&w===d.q,R=!!(E&&t&&P&&!y),[F,D]=(0,i.useState)(R),z=(0,i.useCallback)((e,t)=>{b.current=v((0,s.U)(m,{options:g,schema:_,bookmark:e,headers:p,paginationGroup:t}))},[v,m,f,_,p]),M=()=>{b.current=v((0,s.b)(m,{options:g,schema:_,headers:p}))},{isBot:O}=(0,o.B)(),Z=()=>{if(!y&&x.current!==f){let e=void 0===x.current;x.current=f,!E&&!I||e&&C&&u(C)?z():(!O&&h||R)&&M()}};(0,i.useEffect)(()=>{n||Z()}),n&&Z();let N=(0,i.useCallback)(()=>{y||(M(),D(!0))},[y,s.b,m,f,p,D]),K=(0,i.useCallback)(()=>{!w||L||I||y||z(w,j)},[y,z,w,L,I,j]);if(b.current){if(E&&!I)b.current=null;else if(n)throw b.current}let B=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:K,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:N}),U={auxData:A,data:T,error:C,fetchMore:K,isAtEnd:L,isFetching:I,isLoaded:E,isRefreshing:F,nextBookmark:w,refresh:N};return(0,l.shallowEqual)(U,B.current)||(F&&(B.current.data||!R)&&!(0,l.shallowEqual)(U.data,B.current.data)&&(U.isRefreshing=!1,D(!1)),B.current=U),B.current}},85044:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(616550),l=n(988014),a=n(907276),r=n(819079),o=n(802071);function s(e){let t=(0,i.useHistory)(),n=(0,i.useLocation)(),{isAuth:s}=(0,o.Z)(),d=!s&&(0,l.L6)(n),c=(0,r.Z)(e),u=(0,a.Z)(c,d);return u&&t.replace(u.pathname,u.state),c}},662955:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h,g:()=>m});var i,l=n(167912),a=n(463031),r=n(646081);let o=void 0!==i?i:i=n(277248),s=e=>{var t,n,i,l,a;if(e)return{thumbnail:null!==(t=e.thumbnail)&&void 0!==t?t:void 0,url:null!==(n=e.url)&&void 0!==n?n:void 0,width:null!==(i=e.width)&&void 0!==i?i:void 0,height:null!==(l=e.height)&&void 0!==l?l:void 0,duration:null!==(a=e.duration)&&void 0!==a?a:void 0}},d=e=>{if(!e)return;let t={V_720P:s(e.v720P),V_HLSV4:s(e.vHLSV4)};return t},c=e=>{var t,n,i,l,a,r,o;if(!e)return;let d={V_HLSV3_MOBILE:s(null===(t=e.videoListMobile)||void 0===t?void 0:t.vHLSV3MOBILE),V_EXP3:s(null===(n=e.videoListEXP3)||void 0===n?void 0:n.vEXP3),V_EXP4:s(null===(i=e.videoListEXP4)||void 0===i?void 0:i.vEXP4),V_EXP5:s(null===(l=e.videoListEXP5)||void 0===l?void 0:l.vEXP5),V_EXP6:s(null===(a=e.videoListEXP6)||void 0===a?void 0:a.vEXP6),V_EXP7:s(null===(r=e.videoListEXP7)||void 0===r?void 0:r.vEXP7),V_720P:s(null===(o=e.videoList720P)||void 0===o?void 0:o.v720P)};return d},u=e=>{if(!e)return;let t={height:e.height||void 0,url:e.url||void 0,width:e.width||void 0};return{orig:t,originals:t}},p=e=>{if(!e)return null;let t=[["60x60",e.imageSpec_60x60],["136x136",e.imageSpec_136x136],["170x",e.imageSpec_170x],["236x",e.imageSpec_236x],["474x",e.imageSpec_474x],["564x",e.imageSpec_564x],["736x",e.imageSpec_736x],["600x315",e.imageSpec_600x315],["orig",e.imageSpec_orig]];return t.reduce((e,[t,n])=>({...e,[t]:n&&{dominant_color:n.dominantColor,height:n.height,type:n.type,url:n.url,width:n.width}}),{})},m=({blocks:e})=>{if(!e)return;let t=[];return e.forEach(e=>{var n,i,l,r,o,s,d,p;if(9===e.blockType){let i={block_type:9,type:"story_pin_text_block",text:null!==(n=e.text)&&void 0!==n?n:void 0};t.push(i)}if(5===e.blockType){let n={block_type:5,type:a.h8.INGREDIENT,name:null!==(i=e.name)&&void 0!==i?i:void 0};t.push(n)}if(6===e.blockType){let n={block_type:6,type:a.h8.SUPPLY,name:null!==(l=e.name)&&void 0!==l?l:void 0};t.push(n)}if(0===e.blockType){let n={block_type:0,type:a.h8.PARAGRAPH,text:null!==(r=e.text)&&void 0!==r?r:void 0};t.push(n)}if(1===e.blockType){let n={block_type:1,type:a.h8.HEADING,text:null!==(o=e.text)&&void 0!==o?o:void 0};t.push(n)}if(3===e.blockType){let n={block_type:3,type:a.h8.VIDEO,text:null!==(s=e.text)&&void 0!==s?s:void 0,video:e.videoData?{video_list:c(e.videoData)}:void 0,video_data:e.videoData?{seo_view_count:e.videoData.seoViewCount}:void 0};t.push(n)}if(2===e.blockType){let n={block_type:2,type:a.h8.IMAGE,text:null!==(d=e.text)&&void 0!==d?d:void 0,image:e.imageSpec_orig?{images:u(e.imageSpec_orig)}:void 0};t.push(n)}if(7===e.blockType){let n={block_type:7,type:"story_pin_list_block",blocks:m({blocks:null!==(p=e.blocks)&&void 0!==p?p:void 0})};t.push(n)}}),t},h=e=>{var t,n,i,a,s,c,h,g,_,y,v,f,b,x,k,P,S,w,T,A,C,I,j,E,L,R,F,D,z,M,O,Z,N,K,B,U,H,V,G,$,W,q,Y,X;let J=(0,l.useFragment)(o,e),Q=p(J),ee=(0,r.Z)(J),et={id:J.entityId,title:J.title,grid_title:J.gridTitle,story_pin_data_id:J.storyPinDataId,created_at:J.createdAt,description:J.description,closeup_unified_description:null!==(t=J.closeupUnifiedDescription)&&void 0!==t?t:void 0,price_currency:J.priceCurrency,domain:J.domain,description_html:J.descriptionHtml,aggregated_pin_data:J.aggregatedPinData?{commentCount:J.aggregatedPinData.commentCount}:void 0,embed:J.embed?{src:null!==(n=J.embed.src)&&void 0!==n?n:void 0,subtype:null!==(i=J.embed.subtype)&&void 0!==i?i:void 0,type:null!==(a=J.embed.type)&&void 0!==a?a:void 0}:void 0,board:J.board?{url:null!==(s=J.board.url)&&void 0!==s?s:""}:void 0,rich_summary:J.richSummary?{display_name:J.richSummary.displayName}:void 0,pinner:J.pinner?{username:null!==(c=J.pinner.username)&&void 0!==c?c:void 0,full_name:null!==(h=J.pinner.fullName)&&void 0!==h?h:void 0}:void 0,reaction_counts_data:J.reactionCountsData&&J.reactionCountsData.length>0&&J.reactionCountsData[0].reactionCount?J.reactionCountsData[0].reactionCount:"",share_count:J.shareCount||void 0,rich_metadata:J.richMetadata?{description:J.richMetadata.description,title:J.richMetadata.title,url:J.richMetadata.url,site_name:J.richMetadata.siteName,article:J.richMetadata.article?{date_published:J.richMetadata.article.datePublished}:void 0,products:J.richMetadata.products?J.richMetadata.products.map(e=>({name:e.name,offer_summary:e.offerSummary?{min_price:e.offerSummary.minPrice,price:e.offerSummary.price,max_price:e.offerSummary.maxPrice}:void 0})):void 0,aggregate_rating:null!==(g=J.richMetadata)&&void 0!==g&&g.aggregateRating?{rating_count:null!==(_=J.richMetadata.aggregateRating.ratingCount)&&void 0!==_?_:void 0,review_count:null!==(y=J.richMetadata.aggregateRating.reviewCount)&&void 0!==y?y:void 0,rating_value:null!==(v=J.richMetadata.aggregateRating.ratingValue)&&void 0!==v?v:void 0}:void 0,recipe:null!==(f=J.richMetadata)&&void 0!==f&&f.recipe?{name:J.richMetadata.recipe.name,from_aggregated_data:null!==(b=J.richMetadata.recipe.fromAggregatedData)&&void 0!==b?b:void 0,cook_times:J.richMetadata.recipe.cookTimes?{cook:J.richMetadata.recipe.cookTimes.cook?{h:J.richMetadata.recipe.cookTimes.cook.h,m:J.richMetadata.recipe.cookTimes.cook.m}:void 0,prep:J.richMetadata.recipe.cookTimes.prep?{h:J.richMetadata.recipe.cookTimes.prep.h,m:J.richMetadata.recipe.cookTimes.prep.m}:void 0,total:J.richMetadata.recipe.cookTimes.total?{h:J.richMetadata.recipe.cookTimes.total.h,m:J.richMetadata.recipe.cookTimes.total.m}:void 0}:void 0,servings_summary:J.richMetadata.recipe.servingsSummary?{serves:J.richMetadata.recipe.servingsSummary.serves,summary:J.richMetadata.recipe.servingsSummary.summary}:void 0,aggregate_rating:J.richMetadata.recipe.aggregateRating?{rating_count:null!==(x=J.richMetadata.recipe.aggregateRating.ratingCount)&&void 0!==x?x:void 0,review_count:null!==(k=J.richMetadata.recipe.aggregateRating.reviewCount)&&void 0!==k?k:void 0,rating_value:null!==(P=J.richMetadata.recipe.aggregateRating.ratingValue)&&void 0!==P?P:void 0,best_rating:null!==(S=J.richMetadata.recipe.aggregateRating.bestRating)&&void 0!==S?S:void 0}:void 0,categorized_ingredients:J.richMetadata.recipe.categorizedIngredients?J.richMetadata.recipe.categorizedIngredients.map(({ingredients:e})=>({ingredients:e?e.map(({amt:e,name:t})=>({amt:e,name:null!=t?t:void 0})):void 0})):void 0}:void 0}:void 0,videos:J.videos?{video_list:d(J.videos.videoList),seo_view_count:null===(w=J.videos)||void 0===w?void 0:w.seoViewCount}:void 0,story_pin_data:J.storyPinData?{total_video_duration:null!==(T=J.storyPinData.totalVideoDuration)&&void 0!==T?T:void 0,metadata:J.storyPinData.metadata?{pin_title:null!==(A=J.storyPinData.metadata.pinTitle)&&void 0!==A?A:void 0,template_type:[1,2].includes(J.storyPinData.metadata.templateType)?null===(C=J.storyPinData)||void 0===C?void 0:null===(I=C.metadata)||void 0===I?void 0:I.templateType:void 0,basics:null!==(j=J.storyPinData)&&void 0!==j&&null!==(E=j.metadata)&&void 0!==E&&E.basics?{key_value_blocks:J.storyPinData.metadata.basics.keyValueBlocks?J.storyPinData.metadata.basics.keyValueBlocks.map(e=>{var t;return{block_type:8,category_type:null!==(t=e.categoryType)&&void 0!==t?t:void 0,type:"story_pin_key_value_block",value:e.value}}):void 0,list_blocks:null!==(L=J.storyPinData)&&void 0!==L&&null!==(R=L.metadata)&&void 0!==R&&null!==(F=R.basics)&&void 0!==F&&F.listBlocks?J.storyPinData.metadata.basics.listBlocks.map(e=>{var t;return{block_type:7,type:"story_pin_list_block",blocks:m(e),heading:null!==(t=e.heading)&&void 0!==t?t:void 0}}):void 0}:void 0}:void 0,pages:null!==(D=J.storyPinData)&&void 0!==D&&D.pages?J.storyPinData.pages.map(e=>{var t;return{layout:null!==(t=e.layout)&&void 0!==t?t:void 0,blocks:m(e),image:e.imageSpec_orig?{images:u(e.imageSpec_orig)}:void 0,image_adjusted:e.imageAdjustedSpec_orig?{images:u(e.imageAdjustedSpec_orig)}:void 0}}):void 0}:void 0,native_creator:J.nativeCreator?{username:null!==(z=J.nativeCreator.username)&&void 0!==z?z:void 0,full_name:null!==(M=J.nativeCreator.fullName)&&void 0!==M?M:void 0,profile_url:null!==(O=J.nativeCreator.profileUrl)&&void 0!==O?O:void 0,follower_count:null!==(Z=J.nativeCreator.followerCount)&&void 0!==Z?Z:void 0}:void 0,link_domain:J.linkDomain?{official_user:J.linkDomain.officialUser?{full_name:null!==(N=J.linkDomain.officialUser.fullName)&&void 0!==N?N:void 0}:void 0,type:"domain"}:void 0,link:null!==(K=J.link)&&void 0!==K?K:"",tracked_link:null!==(B=J.trackedLink)&&void 0!==B?B:"",seo_title:null!==(U=J.seoTitle)&&void 0!==U?U:"",seo_description:null!==(H=J.seoDescription)&&void 0!==H?H:"",seo_url:null!==(V=J.seoUrl)&&void 0!==V?V:"",seo_noindex_reason:null!==(G=J.seoNoindexReason)&&void 0!==G?G:void 0,repin_count:null!==($=J.repinCount)&&void 0!==$?$:0,pin_join:J.pinJoin?{seo_canonical_domain:null!==(W=J.pinJoin.seoCanonicalDomain)&&void 0!==W?W:"",seo_canonical_url:null!==(q=J.pinJoin.seoCanonicalUrl)&&void 0!==q?q:"",visual_annotation:null!==(Y=J.pinJoin.visualAnnotation)&&void 0!==Y?Y:void 0,annotations_with_links:ee}:void 0,category:null!==(X=J.category)&&void 0!==X?X:"",images:Q};return et}},497088:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(667294),l=n(785893);function a({children:e,fallback:t}){return(0,l.jsx)(i.Suspense,{fallback:t||null,children:e})}},643183:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(497088);let l=i.Z},184758:(e,t,n)=>{"use strict";function i(e){return e===window?window.innerHeight:e.clientHeight}function l(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function a(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function r(e){return e===window?l():e.scrollTop}function o(){window&&window.scroll(0,0)}n.d(t,{MX:()=>r,S$:()=>l,Uy:()=>i,aZ:()=>a,vM:()=>o})},649715:(e,t,n)=>{"use strict";function i(e){return(e||"").trim().replace(/\s+/g," ")}n.d(t,{Z:()=>i})},466946:(e,t,n)=>{"use strict";n.d(t,{l:()=>a,r:()=>r});var i=n(667294);let l=(0,i.createContext)(null),a=()=>(0,i.useContext)(l),r=l.Provider},599226:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(402833),l=n(466946);let a=()=>{let e=(0,i.g)(),t=(0,l.l)();return n=>{let{mobileOptions:i,desktopOptions:l,reason:a,attributionLabel:r}=n;e?e.showDesktopSignupModal({signupFlow:(null==l?void 0:l.modalType)==="login"?{type:"login"}:{type:"signup"},reason:a,attributionLabel:r,...null==l?void 0:l.modalOptions}):t&&t.showMobileSignupModal({reason:a,attributionLabel:r,headingType:null==i?void 0:i.headingType})}}},16754:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(785893);function l({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{x:"0.5",y:"0.5",width:"55",height:"55",rx:"27.5",fill:"white",stroke:"#CDCDCD"}),(0,i.jsx)("path",{d:"M21.773 32.5718C16.3702 32.5718 11.9998 27.9614 11.9998 22.2859C11.9998 16.6104 16.3702 12.0003 21.773 12.0003H31.941C37.3438 12.0003 41.7142 16.6106 41.7142 22.2859C41.7142 27.9613 37.3438 32.5716 31.941 32.5716L21.773 32.5718Z",fill:"#86A9FF"}),(0,i.jsx)("path",{d:"M28.3636 36.7279V42.9999C28.3636 43.5456 27.9241 43.9999 27.3973 43.9999C27.1394 43.9981 26.8936 43.8914 26.7161 43.7044L17.1846 33.8872C15.3178 31.9787 14.2858 29.3656 14.2858 26.6609C14.2858 21.0934 18.6561 16.5712 24.0589 16.5712H34.2269C39.6298 16.5712 44.0001 21.0936 44.0001 26.6609C44.0001 32.2282 39.6298 36.7506 34.2269 36.7506H28.3636V36.7279Z",fill:"#578CFF"}),(0,i.jsx)("path",{d:"M21.7258 32.5713H31.9183C37.3338 32.5713 41.7142 27.8541 41.7142 22.0468C41.7142 21.3593 41.6479 20.6959 41.5382 20.0319C39.7554 17.8988 37.1578 16.5714 34.2738 16.5714H24.0818C18.6663 16.5714 14.2858 21.2886 14.2858 27.096C14.2858 27.7835 14.3521 28.4468 14.4618 29.0868C16.2446 31.22 18.8423 32.5713 21.7263 32.5713H21.7258Z",fill:"#0057CC"})]})}},512403:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(785893);function l({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},269758:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(785893);function l({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,i.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},871755:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(785893);function l({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4144_9512)"}),(0,i.jsx)("path",{d:"M27.7512 13C23.3085 13 19.0478 14.47 15.9063 17.0867C12.7649 19.7033 11 23.2522 11 26.9526C11.004 29.3596 11.7556 31.7247 13.1816 33.8182C14.6076 35.9117 16.6595 37.6624 19.138 38.9C18.4779 40.3778 17.4878 41.7636 16.2089 43C18.6891 42.5646 21.0173 41.65 23.0123 40.3273C24.5505 40.708 26.1465 40.9027 27.7512 40.9053C32.1939 40.9052 36.4546 39.4352 39.5961 36.8186C42.7375 34.202 44.5024 30.6531 44.5024 26.9526C44.5024 23.2522 42.7375 19.7033 39.5961 17.0867C36.4546 14.47 32.1939 13 27.7512 13Z",fill:"white"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_4144_9512",x1:"28.4444",y1:"52.2827",x2:"28.4444",y2:"6.94986",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#0CBD2A"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#5BF675"})]})})]})}},894637:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(785893);function l({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,i.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,i.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757551:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(785893);function l({size:e=56}){let t=`paint0_radial_3730_649_${Date.now()}`;return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,i.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,i.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:`url(#${t})`}),(0,i.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("radialGradient",{id:t,cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,i.jsx)("stop",{stopColor:"#09F"}),(0,i.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,i.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},916224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(785893);function l({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M28 56C43.464 56 56 43.464 56 28C56 12.536 43.464 0 28 0C12.536 0 0 12.536 0 28C0 43.464 12.536 56 28 56Z",fill:"url(#paint0_linear_3_21)"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.6745 27.7045C20.837 24.1482 26.28 21.8037 29.0034 20.6709C36.7793 17.4366 38.3951 16.8748 39.4482 16.8563C39.6799 16.8522 40.1978 16.9096 40.5332 17.1818C40.8165 17.4116 40.8944 17.7221 40.9317 17.9401C40.969 18.158 41.0155 18.6544 40.9786 19.0423C40.5572 23.4698 38.7339 34.2141 37.8063 39.1729C37.4138 41.2712 36.641 41.9747 35.8928 42.0436C34.2667 42.1932 33.032 40.969 31.4571 39.9366C28.9928 38.3212 27.6006 37.3156 25.2085 35.7393C22.444 33.9175 24.2361 32.9162 25.8116 31.2799C26.2239 30.8517 33.3881 24.3352 33.5268 23.7441C33.5441 23.6701 33.5602 23.3946 33.3965 23.249C33.2328 23.1035 32.9911 23.1533 32.8168 23.1929C32.5696 23.249 28.6328 25.8511 21.0062 30.9992C19.8887 31.7665 18.8766 32.1404 17.9697 32.1208C16.97 32.0992 15.0469 31.5555 13.6172 31.0908C11.8637 30.5208 10.4701 30.2195 10.5914 29.2514C10.6547 28.7472 11.349 28.2316 12.6745 27.7045Z",fill:"white"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_3_21",x1:"2800",y1:"0",x2:"2800",y2:"5558.47",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#2AABEE"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#229ED9"})]})})]})}},343226:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(377234),l=n(785893);function a({size:e=56}){let t=(0,i.vs)();return(0,l.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,l.jsx)("rect",{width:"56",height:"56",rx:"28",fill:t?"white":"#111111"}),(0,l.jsx)("path",{d:"M30.3055 25.8561L40.505 14H38.088L29.2318 24.2945L22.1584 14H14L24.6964 29.5671L14 42H16.4171L25.7695 31.1287L33.2396 42H41.3979L30.3049 25.8561H30.3055ZM26.995 29.7042L25.9112 28.1541L17.288 15.8196H21.0005L27.9595 25.7739L29.0433 27.324L38.0892 40.2632H34.3767L26.995 29.7048V29.7042Z",fill:t?"#111111":"white"})]})}},317218:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(785893);function l({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#7360F2"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.362 31.327s.57.05.875-.33l.597-.75c.288-.374.984-.61 1.665-.232.902.509 2.067 1.309 2.866 2.054.44.371.542.918.242 1.495l-.002.012a6.278 6.278 0 0 1-1.243 1.53l-.012.009c-.587.489-1.261.773-1.983.538l-.013-.018c-1.296-.367-4.405-1.952-6.386-3.532-3.242-2.558-5.546-6.776-6.183-9.038l-.02-.013c-.235-.724.052-1.398.539-1.984l.01-.01a6.224 6.224 0 0 1 1.53-1.243l.012-.003c.576-.3 1.122-.198 1.494.243.49.505 1.408 1.721 2.054 2.865.378.68.141 1.377-.231 1.664l-.752.598c-.379.306-.33.876-.33.876s1.113 4.207 5.271 5.269Zm6.543-3.488a.405.405 0 0 1-.406-.403c-.018-2.44-.752-4.384-2.178-5.776-1.43-1.393-3.236-2.108-5.37-2.122a.403.403 0 0 1-.4-.408.403.403 0 0 1 .403-.402h.003c2.35.016 4.344.808 5.93 2.352 1.586 1.55 2.402 3.687 2.422 6.35a.406.406 0 0 1-.401.409h-.003Zm-2.127-.832h-.01a.405.405 0 0 1-.395-.414c.032-1.384-.364-2.503-1.208-3.425-.84-.918-1.993-1.42-3.527-1.532a.406.406 0 0 1-.374-.433.406.406 0 0 1 .433-.375c1.725.127 3.093.73 4.065 1.794.977 1.066 1.456 2.409 1.42 3.989a.406.406 0 0 1-.404.396Zm-2.077-.696a.404.404 0 0 1-.404-.386c-.068-1.373-.716-2.045-2.036-2.117a.404.404 0 1 1 .043-.808c1.744.093 2.712 1.092 2.8 2.886a.403.403 0 0 1-.383.423l-.02.002Zm9.09 4.625c-.808 6.503-5.563 6.913-6.44 7.195-.374.12-3.843.982-8.203.698 0 0-3.251 3.92-4.266 4.94-.158.159-.344.223-.469.194-.175-.043-.223-.251-.22-.553l.027-5.354v-.001c-6.35-1.764-5.98-8.394-5.908-11.864.072-3.47.724-6.315 2.661-8.227 3.48-3.152 10.65-2.681 10.65-2.681 6.054.027 8.955 1.85 9.628 2.46 2.234 1.912 3.371 6.49 2.54 13.193Zm-.87-14.817c-.796-.73-4.01-3.064-11.167-3.096 0 0-8.44-.51-12.554 3.267-2.29 2.29-3.096 5.64-3.181 9.797-.085 4.157-.195 11.944 7.311 14.056l.008.002-.005 3.221s-.047 1.306.812 1.572c1.039.322 1.648-.669 2.641-1.738a88.708 88.708 0 0 0 1.863-2.107c5.135.43 9.082-.556 9.532-.701 1.036-.337 6.902-1.088 7.857-8.876.984-8.03-.477-13.106-3.117-15.397Z",fill:"#fff"})]})}},320634:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(785893);function l({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},868489:(e,t,n)=>{"use strict";n.d(t,{o$:()=>l,ty:()=>a,vE:()=>r});var i=n(583592);let{Provider:l,MaybeConsumer:a,useMaybeHook:r}=(0,i.Z)("inviteContext")},204125:(e,t,n)=>{"use strict";n.d(t,{LO:()=>a,Pu:()=>r,cc:()=>i,dB:()=>l,yF:()=>o});let i={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,3:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116,9:13286},l={10:13415,11:13416,6:13417,5:13418,14:13419,12:13420,15:13421,8:13422,4:13423,1:13424,3:13424,18:13425,19:13426,20:13427,21:13428,22:13429,23:13430,26:13431,27:13432,29:13433,9:13434},a={10:13436,11:13437,6:13438,5:13439,14:13440,12:13441,15:13442,8:13443,4:13444,1:13445,3:13445,18:13446,19:13447,20:13448,21:13449,22:13450,23:13451,26:13452,27:13453,29:13454,9:13455},r={10:13457,11:13458,6:13459,5:13460,14:13461,12:13462,15:13463,8:13464,4:13465,1:13466,3:13466,18:13467,19:13468,20:13469,21:13470,22:13471,23:13472,26:13473,27:13474,29:13475,9:13476},o={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8,follow_invite:3}},455788:(e,t,n)=>{"use strict";n.d(t,{U:()=>r,Z:()=>o});var i=n(731048),l=n(785893);let a=()=>{},r=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function o({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:o,children:s}){let d=e=>{t&&e.keyCode===i.Z.ESCAPE||r(e)};return(0,l.jsx)("div",{onAbort:r,onAnimationEnd:r,onAnimationIteration:r,onAnimationStart:r,onBlur:a,onCanPlay:n?a:r,onCanPlayThrough:r,onChange:r,onClick:e?a:r,onCompositionEnd:r,onCompositionStart:r,onCompositionUpdate:r,onContextMenu:r,onCopy:r,onCut:r,onDoubleClick:r,onDurationChange:r,onEmptied:r,onEncrypted:r,onEnded:r,onError:r,onFocus:a,onInput:r,onInvalid:r,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:r,onLoadedData:r,onLoadedMetadata:r,onLoadStart:r,onMouseDown:r,onMouseEnter:r,onMouseLeave:r,onMouseMove:e?a:r,onMouseOut:r,onMouseOver:r,onMouseUp:e?a:r,onPaste:r,onPause:r,onPlay:r,onPlaying:r,onProgress:r,onRateChange:r,onScroll:o?a:r,onSeeked:r,onSeeking:r,onSelect:r,onStalled:r,onSubmit:r,onSuspend:r,onTimeUpdate:r,onTouchCancel:r,onTouchEnd:e?a:r,onTouchMove:e?a:r,onTouchStart:e?a:r,onTransitionEnd:r,onVolumeChange:r,onWaiting:r,onWheel:r,children:s})}},657482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(890304);let l=(0,i.Z)({type:"session"}),a=l},147597:(e,t,n)=>{"use strict";n.d(t,{$E:()=>y,$:()=>v,ZP:()=>x});var i=n(667294),l=n(883119),a=n(563962),r=n(536042),o=n(245410),s=n(282802),d=n(898252),c=n(505204),u=n(785893);function p({activePageCurrentTime:e,pillHeight:t,progressInfo:n,videoDuration:i}){var a,r;let o=null!==(a=null==n?void 0:n.currentTime)&&void 0!==a?a:0,s=null!==(r=null==n?void 0:n.duration)&&void 0!==r?r:d.P6,p=`${null!=i&&i.isVideo?Math.floor(1e4*(e||o)/(i.duration/c.gJ))/100:o/s*100}%`;return(0,u.jsx)(l.xu,{height:t,rounding:"pill",overflow:"hidden",dangerouslySetInlineStyle:{__style:{backgroundColor:y}},children:(0,u.jsx)(l.xu,{height:"100%",color:v,rounding:"pill",dangerouslySetInlineStyle:{__style:{width:p}}})})}var m=n(463031),h=n(634004),g=n(549201),_=n(802071);let y="rgba(255,255,255,0.24)",v="light",f=()=>{},b=({children:e,setHoveringChange:t,handleMouseDown:n,handleMouseLeave:i,handleTouchStart:a,playhead:o,isPlaying:s,showVideoControls:d,videoControlsExp:c})=>{let p=(0,r.ZP)(),m=!(0,g.HG)();return c?(0,u.jsx)(l.iP,{children:(0,u.jsx)(l.xu,{alignItems:"center","aria-label":p.bt("   ", "Video scrubber progress bar", "ideaPin.closeupvideo.videoScrubberLabel", undefined, true),display:"flex",flex:"grow",justifyContent:m?"center":"start",marginBottom:m?0:6,minHeight:"8px",onFocus:t(!0),onMouseDown:n,onMouseLeave:i,onMouseOver:t(!0),onTouchStart:a,onTouchEnd:e=>e.preventDefault(),paddingY:m?6:0,position:"relative",ref:o,role:"progressbar",width:"100%","data-test-id":"bullet-video-progress-bar",opacity:c&&(d||!s)?1:0,dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",touchAction:"none"}},children:e})}):(0,u.jsx)(l.xu,{alignItems:"center","aria-label":p.bt("   ", "Video scrubber progress bar", "ideaPin.closeupvideo.videoScrubberLabel", undefined, true),display:"flex",flex:"grow",justifyContent:m?"center":"start",marginBottom:m?0:6,minHeight:"8px",onFocus:t(!0),onMouseDown:n,onMouseLeave:i,onMouseOver:t(!0),onTouchStart:a,onTouchEnd:e=>e.preventDefault(),paddingY:m?6:0,position:"relative",ref:o,role:"progressbar",width:"100%","data-test-id":"bullet-video-progress-bar",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",touchAction:"none"}},children:e})};function x({activePageIndex:e,activePageCurrentTime:t,pageCount:n,progressInfo:r,showEndCard:d,duration:c=0,currentTime:m=0,pageDurations:y=[],handlePlay:x=f,handlePause:P=f,handleVideoScrubbingNewPage:S=f,videoDurations:w=[],viewParameter:T,isInactiveStreamPin:A=!1,isPlaying:C=!1,setVideoProgress:I,shouldShowPlayhead:j=!1,showVideoControls:E=!0,pinId:L="",videoControlsExp:R=!1}){let F=!(0,g.HG)(),D=(0,i.useRef)(null),{checkExperiment:z}=(0,o.F)(),{isRTL:M}=(0,s.B)(),[O,Z]=(0,i.useState)(!1),[N,K]=(0,i.useState)(C),[B,U]=(0,i.useState)(),H=(0,a.Z)(),{isSeekingIdeaPin:V}=(0,h.Hx)(),{updateSeekTime:G,updateSeekingIdeaPin:$}=(0,h.RC)(),W=(0,_.Z)(),q=W.isAuth,Y=(0,i.useCallback)((t,i)=>{if(!A&&i<=n){if(i!==e&&S(i),I){var l;let{isVideo:e}=w[i];I({currentTime:t/1e3,duration:e?null!==(l=null==r?void 0:r.duration)&&void 0!==l?l:1:5,pinId:L})}G(t/1e3,L)}H({event_type:101,view_type:3,view_parameter:T,component:14302})},[e,S,A,H,n,L,null==r?void 0:r.duration,I,G,w,T]),X=`${m/c*100}%`,J=y.map(e=>`${(e.duration||0)/c/10}%`),Q=(0,i.useMemo)(()=>{let e=0;return y.map(({duration:t})=>{let n=t+e,i={min:e,max:n};return e=n,i})},[y]),ee=F&&z(q?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,et=O?"0 1.2px":"0 1px",en=e=>()=>Z(e),ei=(0,i.useCallback)(e=>{if(D.current){let{left:t=0,right:n=0,width:i=0}=D.current.getBoundingClientRect(),l=M?Math.max(0,Math.min((n-e)/i,1)):Math.max(0,Math.min((e-t)/i,1)),a=l*c*1e3,r=Q.findIndex(e=>a>=e.min&&a<=e.max);Y(a-Q[r].min,r)}},[c,Y,Q,M]),el=()=>{V||(K(C||d),$(!0))},ea=(0,i.useCallback)(e=>{V&&ei(e.pageX)},[ei,V]),er=(0,i.useCallback)(e=>{if(V){e.preventDefault();let t=Array.from(e.changedTouches).find(e=>e.identifier===B);t&&ei(t.pageX)}},[V,ei,B]),eo=(0,i.useCallback)(()=>{$(!1),en(!1),U(void 0),N&&x()},[$,x,N]),es=(0,i.useCallback)(e=>{let t=Array.from(e.changedTouches).find(e=>e.identifier===B);t&&($(!1),en(!1),U(void 0)),N&&x()},[x,N,B,$]);(0,i.useEffect)(()=>(V&&!A&&(window.addEventListener("mousemove",ea),window.addEventListener("mouseup",eo),window.addEventListener("touchmove",er),window.addEventListener("touchend",es)),()=>{window.removeEventListener("mousemove",ea),window.removeEventListener("mouseup",eo),window.removeEventListener("touchmove",er),window.removeEventListener("touchend",es)}),[ea,eo,es,er,A,V,ei,B]);let ed=n=>n<e||d?(0,u.jsx)(l.xu,{height:4,color:v,rounding:"pill"}):e===n&&r?(0,u.jsx)(p,{activePageCurrentTime:t,pillHeight:4,progressInfo:r,videoDuration:w[n]}):(0,u.jsx)(l.xu,{height:4,color:v,rounding:"pill",dangerouslySetInlineStyle:{__style:{opacity:.24}}});return(0,u.jsxs)(b,{setHoveringChange:en,handleMouseDown:e=>{el(),C&&P(),ei(e.pageX)},handleMouseLeave:()=>{en(!1)},handleTouchStart:e=>{el(),en(!0);let t=e.changedTouches[0];U(t.identifier),C&&P(),ei(t.pageX)},playhead:D,videoControlsExp:R,showVideoControls:E,isPlaying:C,children:[j&&(E&&R||O||V||F)&&(0,u.jsx)(k,{currentTime:t,inRemoveRelatedStreamsExp:ee,isMobile:F,isRTL:M,videoControlsExp:R,isSeeking:V,scrubberWidth:X}),Array(n).fill().map((e,t)=>(0,u.jsx)(l.xu,{flex:"grow",width:J.length===n?J[t]:"auto",dangerouslySetInlineStyle:{__style:{margin:et}},children:(0,u.jsx)(l.xu,{"data-test-id":"idea-pin-video-progress-bar",rounding:"pill",dangerouslySetInlineStyle:{__style:{transition:"all .1s"}},children:ed(t)})},`${L}-${t}`))]})}let k=({currentTime:e=0,inRemoveRelatedStreamsExp:t,isMobile:n,isRTL:i,isSeeking:a,scrubberWidth:r,videoControlsExp:o})=>(0,u.jsxs)(l.xu,{position:"relative","data-test-id":"video-progress-bar",dangerouslySetInlineStyle:{__style:i?{right:r}:{left:r}},children:[n&&a&&!t&&(0,u.jsx)(l.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:"-32px"}},marginStart:-3,children:(0,u.jsx)(l.xv,{color:"light",size:"100",children:(0,m.Lc)(e)})}),(0,u.jsx)(l.xu,{position:"absolute",rounding:"pill",height:4,color:v,children:(0,u.jsx)(l.xu,{rounding:"circle",marginStart:-2,width:a&&o?16:12,height:a&&o?16:12,color:"light",dangerouslySetInlineStyle:{__style:{marginTop:a&&o?-8:-6}}})})]})},634004:(e,t,n)=>{"use strict";n.d(t,{Wr:()=>u,Hx:()=>m,RC:()=>p});var i=n(667294),l=n(583592),a=n(681468),r=n(133244),o=n(785893);let s=()=>Promise.resolve().then(n.bind(n,681468)),{Provider:d,useHook:c}=(0,l.Z)("IdeaPinVideoPlayer");function u({children:e}){let[t,n]=(0,r.Z)(s,a.initialState),l=(0,i.useMemo)(()=>({dispatch:n,ideaPinVideoPlayerControls:t}),[n,t]);return(0,o.jsx)(d,{value:l,children:e})}function p(){let{dispatch:e}=c();return(0,i.useMemo)(()=>({updateSeekTime:(t,n)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:n||""}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})},updateSeekingIdeaPin:t=>{t?e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}):e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:t=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:t=>{e({type:"UPDATE_DURATION",payload:{duration:t}})}}),[e])}function m(){let{ideaPinVideoPlayerControls:e}=c();return e}},681468:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,initialState:()=>i});let i={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function l(e=i,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime},seekTime:t.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:t.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:t.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:t.payload.duration}};default:return e}}},463031:(e,t,n)=>{"use strict";n.d(t,{Cc:()=>p,Gf:()=>_,LX:()=>l,Lc:()=>y,Ls:()=>m,Rf:()=>s,YL:()=>o,ap:()=>a,h8:()=>c,pE:()=>d,s5:()=>g,tQ:()=>u,yR:()=>r});var i=n(883119);let l={w:9,h:16},a=l.w/l.h,r=8,o=10,s=5e3;function d(e,t=1){return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}let c={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},u=[c.IMAGE,c.VIDEO],p={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},m=new i.Ry(1),h=new i.Ry(5),g=new i.H3([h]),_=new i.H3([g]),y=e=>{let t=Math.floor(e||0),n=Math.floor(t/60),i=t-60*n,l=n<10?`${n}`:n,a=i<10?`0${i}`:i;return`${l}:${a}`}},448509:(e,t,n)=>{"use strict";n.d(t,{BN:()=>c,RK:()=>d,d3:()=>p,tq:()=>m,xm:()=>u});var i=n(667294),l=n(621982),a=n(463031),r=n(550542),o=n(272109);let s=(e,t)=>{let n=(0,a.pE)(e,t);return`${n.y}px ${n.x}px`},d=({alignment:e,verticalAlignment:t})=>{let n={alignItems:"flex-start",display:"flex",height:"100%",justifyContent:"start",textAlign:"left",width:"100%"};return 1===t?n.alignItems="center":2===t&&(n.alignItems="flex-end"),1===e&&(n.justifyContent="center",n.textAlign="center"),n},c=({fontSize:e,hexColor:t,highlightColor:n,letterSpacing:i,lineHeight:l,name:a})=>({fontSize:e,letterSpacing:i,color:t,fontFamily:a,margin:0,maxHeight:"100%",textShadow:!n&&t&&"#ffffff"===t.toLowerCase()?"0px 1px 4px rgba(0, 0, 0, 0.2)":void 0,wordBreak:"break-word",...n?{backgroundColor:n,borderRadius:e/5,padding:s(e,l)}:{}}),u=({fontSize:e,hasText:t,highlightColor:n,lineHeight:i})=>({...n?{backgroundColor:t?n:void 0,borderRadius:e/5,padding:s(e,i)}:{}}),p=({letterSpacing:e,lineHeight:t,name:n,url:i})=>({fontFamily:n,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:i}]}),m=({hasPin:e,pages:t,limitToSingleFont:n})=>{let[s,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(()=>!!e&&(0,r.X7)(t)),m=()=>{let e=t.reduce((e,t)=>{var i;let l=(null==t?void 0:null===(i=t.blocks)||void 0===i?void 0:i.filter(e=>[a.h8.PARAGRAPH,a.h8.HEADING].includes(e.type)))||[];return n&&l.length>1&&(l=[l[0]]),l.forEach(t=>{var n;let i=(null===(n=t.style)||void 0===n?void 0:n.font)||a.Cc.font,{name:l=""}=i;e[l]||(e[l]=i)}),e},{});if(Object.keys(e).length>0){let t=Object.keys(e).map(t=>{let n=e[t];return p({letterSpacing:n.letter_spacing,lineHeight:n.line_height,name:n.name,url:n.url})});(0,l.Z)(t),d(!0)}};return(0,o.Z)(()=>{m()}),(0,o.Z)(()=>{c||m()}),(0,i.useEffect)(()=>{c||u((0,r.X7)(t))},[c,t]),{fontsLoaded:s,mediaDataReceived:c}}},551897:(e,t,n)=>{"use strict";function i({currentTime:e,endTime:t,startTime:n}){return"number"!=typeof n||"number"!=typeof t||!(n>=0)||!(t>0)||!(n<t)||n<=e&&e<=t}n.d(t,{Z:()=>i})},550542:(e,t,n)=>{"use strict";n.d(t,{B7:()=>r,X7:()=>o,n4:()=>a});var i=n(463031);function l(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let a=(e,t)=>{let n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(!(null!=e&&e.match(n))||!(null!=t&&t.match(n)))return null;let i=null==e?void 0:e.split("."),l=null==t?void 0:t.split("."),a=Math.max((null!=i?i:"").length,(null!=l?l:"").length);for(let e=0;e<a;e+=1){var r,o;let t=e<(null!==(r=null==i?void 0:i.length)&&void 0!==r?r:0)?parseInt(null==i?void 0:i[e],10):0,n=e<(null!==(o=null==l?void 0:l.length)&&void 0!==o?o:0)?parseInt(null==l?void 0:l[e],10):0;if(t<n)return -1;if(t>n)return 1}return 0};class r{constructor(e,t,n){if(l(this,"start",Date.now()),l(this,"paused",!1),this.onProgress=e,this.onComplete=t,this.duration=n,this.remaining=n,"undefined"==typeof window)return;this.intervalId=window.setInterval(()=>{let e=this.paused?this.duration-this.remaining:this.duration-this.remaining+(Date.now()-this.start);this.onProgress(e/this.duration)},500),this.resume()}currentTime(){return this.duration-this.remaining}pause(){this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start;let e=this.duration-this.remaining;this.onProgress(e/this.duration)}resume(){this.paused=!1,this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onComplete,this.remaining)}clear(){window.clearTimeout(this.timerId),window.clearInterval(this.intervalId)}}let o=e=>e.some(e=>{var t;return(null!==(t=null==e?void 0:e.blocks)&&void 0!==t?t:[]).some(e=>e.type===i.h8.IMAGE&&!!e.image||e.type===i.h8.VIDEO&&(!!e.video||!!e.video_signature))})},729522:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(540975);let l=/\{\{\s*(\w+)\s*\}\}/g,a=(e,t)=>(0,i.Z)(l,e,t)},686473:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},614481:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});let i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,l=e=>i.test(e)},51536:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"":e},540975:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=(e,t,n)=>t?t.replace(e,(e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:""):""},493851:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(729522),l=n(686473);let a=(e,t)=>{let n={};return Object.keys(t).forEach(e=>{n[e]=t[e]?(0,l.Z)(t[e].toString()):""}),(0,i.Z)(e,n)}},371362:(e,t,n)=>{"use strict";function i(e,t=80,n="",i=!1){let l;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)l=e.substring(0,t);else{let n=e.lastIndexOf(" ",t);l=e.substring(0,n)}return(l=l.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+n}n.d(t,{ZP:()=>i})},716793:(e,t,n)=>{"use strict";function i(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}n.d(t,{Z:()=>i})},99220:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(667294),l=n(758360),a=n(310561),r=n(282802),o=n(114935),s=n(291986),d=n(583592);let{Provider:c,useMaybeHook:u}=(0,d.Z)("timeSpentContext");var p=n(393729),m=n(525104),h=n(785893);function g(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(e){super(e),g(this,"componentWillUnmount",()=>{this.unregisterComponent()}),g(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:n,objectId:i,timeSpentContext:l,view:a,viewParameter:r}=this.props;return{view:a||(null==l?void 0:l.view),viewParameter:r||(null==l?void 0:l.viewParameter),component:t||(null==l?void 0:l.component),element:n,objectId:i||(null==l?void 0:l.objectId),clientTrackingParams:e||(null==l?void 0:l.clientTrackingParams),getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),g(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),g(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),g(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),g(this,"getTimedPair",()=>this.state.timedPair),g(this,"setTimedPair",e=>this.setState({timedPair:e})),g(this,"isRegistered",!1),g(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),g(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),g(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:n,left:i,right:l,top:a}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===i&&0===l&&0===a?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new s.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,o.Z)(e.auxData,this.props.auxData)&&(0,o.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e}=this.props;return(0,h.jsx)(c,{value:this.getContext(),children:(0,h.jsx)(l.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:i.Children.only(e)})})}}function y(e){var t;let n=(0,a.Hv)(),l=u(),o=(0,p.w)(),s=(0,m.H0)(),{requestIdentifier:d=""}=(0,r.B)(),c={app_instance_id:d.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,i.useEffect)(()=>{null==o||o.setHistoryStackContext(n)},[n,o]),(0,i.useEffect)(()=>{null==o||o.setPins(null!=s?s:{})},[s,o]),o?(0,h.jsx)(_,{...e,auxData:c,timeSpentContext:l,timeSpentManager:o,children:e.children}):e.children}y.displayName="TimeSpent";let v=y},348448:(e,t,n)=>{"use strict";n.d(t,{w:()=>m});var i=n(40660),l=n(946618),a=n(291986),r=n(911386);function o(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s=null,d={ACTIVE:"ACTIVE",PAUSED:"PAUSED"},c=()=>window&&window.performance&&window.performance.now?`(Time: ${(window.performance.now()/1e3).toFixed(3)}s)`:"",u=e=>{let t=!1;return(...n)=>{t||(t=!0,e(...n))}},p={};function m({contextLogger:e,shouldExtractTrackingParams:t}){if(s)return s;let n=(n,i,a)=>{if(t&&a&&n){let e;let{pair_id:t,event_type:d}=n;if(4703===d&&t&&p[t])n.clientTrackingParams=p[t];else{var r,o,s;let c=n.object_id_str,u=c?a[c]:null,m=null==i?void 0:null===(r=i.current)||void 0===r?void 0:r.location,h=null==i?void 0:i.previous;u&&m&&(e=(0,l.Z)({boardUrl:null===(o=u.board)||void 0===o?void 0:o.url,location:m,pinId:u.id,pinnerUserName:null===(s=u.pinner)||void 0===s?void 0:s.username,previousHistory:h,storyPinDataId:u.story_pin_data_id,trackingParams:u.tracking_params,trackingParamsMap:u.tracking_params_map})||`${u.tracking_params||""}~0`,n.clientTrackingParams=e,4702===d&&t&&(p[t]=e))}}e.logContextEvent(n)},m=new Map,h=(0,r.Z)()&&(0,r.Z)().debug_timespent,g=h?console:{error:(...e)=>{},log:(...e)=>{},group:(...e)=>{},groupEnd:(...e)=>{}};return console.group||(g.group=(...e)=>console.log(...e),g.groupEnd=(...e)=>{}),s=new class{constructor(){o(this,"appTimedPair",null),o(this,"clickthroughProperties",null),o(this,"historyStackContext",null),o(this,"offsiteTimedPair",null),o(this,"offsiteTimedPairForegroundId",null),o(this,"pins",Object.freeze({})),o(this,"addEventListeners",()=>{let e,t;"undefined"!==document.hidden?(e="hidden",t="visibilitychange"):"undefined"!==document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),t&&document.addEventListener(t,t=>{document[e]?this.unregisterApp(!1,void 0,t):document.hasFocus()&&this.registerApp()},!1),window.addEventListener("focus",this.registerApp),window.addEventListener("blur",e=>this.unregisterApp(!1,void 0,e));let n=u(e=>this.unregisterApp(!0,void 0,e));window.addEventListener("beforeunload",n),window.addEventListener("pagehide",n);let l=navigator&&navigator.userAgent.toLowerCase();l&&l.includes("macintosh")&&l.includes("chrome")&&window.addEventListener("popstate",t=>{document.hasFocus()||document[e]||i.Z.increment("chrome_mac_back_forward_button",1)})}),o(this,"storeClickthroughProperties",e=>{this.clickthroughProperties&&i.Z.increment("webapp.metrics.clickthroughs.overwritten",1,{previousView:this.clickthroughProperties.view_type,previousViewParameter:this.clickthroughProperties.view_parameter,nextView:e.view_type,nextViewParameter:e.view_parameter}),this.clickthroughProperties=e}),o(this,"clearClickthroughProperties",()=>{this.clickthroughProperties=null,this.offsiteTimedPair=null,this.offsiteTimedPairForegroundId=null}),o(this,"registerApp",()=>{g.group("App Foreground",c()),null==this.appTimedPair?(this.appTimedPair=new a.Z,this.appTimedPair.start(),this._unpauseAllComponents(),this._endOffsiteTimedPair(),null!==this.appTimedPair&&void 0!==this.appTimedPair&&n({event_type:4700,pair_id:this.appTimedPair.uuid},this.historyStackContext,this.pins)):g.error("TimedPair already exists for app."),g.groupEnd()}),o(this,"unregisterApp",(t=!1,i=!1,l)=>{g.group("App Background",c());let{appTimedPair:a}=this;if(null!=a){this._pauseAllComponents();let e=a.end();this._startOffsiteTimedPair(),n({event_type:4701,duration_ns:e,pair_id:a.uuid},this.historyStackContext,this.pins),this.appTimedPair=null}else g.error("No TimedPair found for app.");let r=["beforeunload","pagehide"],o=r.includes(null==l?void 0:l.type),s=r.includes(null==l?void 0:l.pauseReason);(o||s)&&this._endOffsiteTimedPair(),i||e.flushContextEvents(null!=t&&t),g.groupEnd()}),o(this,"_activateComponent",e=>{g.group("Activating component",c()),h&&g.log(e.getContext());let t=e.getTimedPair();if(t){t.start();let{view:i,viewParameter:l,component:a,element:r,objectId:o,clientTrackingParams:s}=e.getLoggerContext();n({event_type:4702,view_type:i,view_parameter:l,component:a,element:r,object_id_str:o,view_data:e.props.viewData,pair_id:t.uuid,clientTrackingParams:s,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext,this.pins)}g.groupEnd()}),o(this,"_deactivateComponent",e=>{g.group("Deactivating component",c()),h&&g.log(e.getContext());let t=e.getTimedPair();if(t){let{view:i,viewParameter:l,component:a,element:r,objectId:o,clientTrackingParams:s}=t,d=t.end();n({event_type:4703,view_type:i,view_parameter:l,component:a,element:r,object_id_str:o,view_data:e.props.viewData,duration_ns:d,pair_id:t.uuid,clientTrackingParams:s,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext,this.pins)}g.groupEnd()}),o(this,"_startOffsiteTimedPair",()=>{let{clickthroughProperties:e}=this;e&&(this.offsiteTimedPair=new a.Z({...e,view:186,viewParameter:e.view_parameter,objectId:e.object_id_str}),this.offsiteTimedPair.start(),this.offsiteTimedPairForegroundId=this.appTimedPair?this.appTimedPair.uuid:null,n({...e,event_type:4702,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...e.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId}},this.historyStackContext,this.pins))}),o(this,"_endOffsiteTimedPair",()=>{let{offsiteTimedPair:e,clickthroughProperties:t}=this;if(e&&t){let i=e.end();n({...t,event_type:4703,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...t.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId},duration_ns:i},this.historyStackContext,this.pins),this.clearClickthroughProperties()}}),o(this,"_pauseAllComponents",()=>{g.group("Pause all components"),m.forEach((e,t,n)=>{e===d.ACTIVE&&this._deactivateComponent(t),n.set(t,d.PAUSED)}),g.groupEnd()}),o(this,"_unpauseAllComponents",()=>{g.group("Unpause all components"),m.forEach((e,t)=>{t.setTimedPair(new a.Z(t.getLoggerContext()))}),m.forEach((e,t)=>{m.set(t,d.ACTIVE),this._activateComponent(t)}),g.groupEnd()})}setHistoryStackContext(e){this.historyStackContext=e}setPins(e){this.pins=e}registerComponent(e){null===this.appTimedPair?m.set(e,d.PAUSED):(m.set(e,d.ACTIVE),this._activateComponent(e))}unregisterComponent(e){let t=m.get(e);t===d.ACTIVE&&(this._deactivateComponent(e),e.setTimedPair(new a.Z(e.getLoggerContext()))),m.delete(e)}size(){return m.size}}}},393729:(e,t,n)=>{"use strict";n.d(t,{j:()=>p,w:()=>u});var i=n(388011),l=n(583592),a=n(282802),r=n(348448),o=n(549201),s=n(272109),d=n(785893);let{Provider:c,useMaybeHook:u}=(0,l.Z)("TimeSpentManagerContext");function p({children:e}){let t=(0,i.v)(),n=(0,o.HG)(),{isAuthenticated:l}=(0,a.B)(),u=(0,r.w)({contextLogger:t,shouldExtractTrackingParams:n&&l});return(0,s.Z)(()=>{document.hasFocus()&&u.registerApp(),u.addEventListeners()}),(0,d.jsx)(c,{value:u,children:e})}},291986:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(172045),l=n(17314);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),o=class{constructor(e){a(this,"start",()=>(this.startTime=r(),this.startTime)),a(this,"end",()=>(this.endTime=r(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,i.Z)()}catch(e){this.uuid=(0,l.Z)()}e&&Object.assign(this,e)}}},618569:(e,t,n)=>{"use strict";n.d(t,{S:()=>o,Z:()=>s});var i=n(667294),l=n(616550),a=n(988014),r=n(98736);let o=e=>(0,a.L6)(e)?"pin":(0,a.am)(e)?"board":(0,a.Xn)(e)?"login":(0,a.C$)(e)?"home":(0,a.cD)(e)?"profile":(0,a.dr)(e)?"ideas":(0,a.gT)(e)?"ideas-root":(0,a.tZ)(e)?"videos":(0,a.Q0)(e)?"videos-category":(0,a.$Y)(e)?"article":(0,a.E0)(e)?"shopping-spotlight":(0,a.Zz)(e)?"today":(0,a.j8)(e)?"unauth-profile":(0,a.f1)(e)?"shopping-root":(0,a.OX)(e)?"shopping-category":"other";function s(){let e=(0,l.useLocation)();return(0,i.useCallback)(({action:t,item:n,within:i})=>{let l=o(e);(0,r.My)(`logged_out_product.interaction.${l}.${t}`,{item:n||"none",within:i||"none"})},[e])}},36310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294),l=n(883119),a=n(785893);let r=()=>n.e(14118).then(n.bind(n,448433));class o extends i.Component{constructor(e){var t,n,l;super(e),n={manualTruncate:!1},(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?l:String(l))in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this.ref=(0,i.createRef)()}componentDidMount(){let{maxHeightPx:e,shaveOptions:t={}}=this.props,n=this.ref&&this.ref.current;if(!n)return;let i=void 0===n.textContent?"innerText":"textContent",l=n[i],a="boolean"!=typeof t.spaces||t.spaces,o=a?l.split(" "):l;if(o.length<2){this.setState({manualTruncate:!0});return}r().then(({default:i})=>{i(n,e,t)})}render(){let{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:i}=this.state,r={maxWidth:e,maxHeight:t},o=n?{display:"inline",...r}:{...r};return i?(0,a.jsx)(l.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:o},ref:this.ref,"data-test-id":"truncater",children:this.props.children}):(0,a.jsx)(l.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:o},"data-test-id":"truncater",children:this.props.children})}}let s=o},800591:(e,t,n)=>{"use strict";n.d(t,{$J:()=>i,Ct:()=>m,Dm:()=>p,Ff:()=>u,Md:()=>s,My:()=>r,Rp:()=>o,ak:()=>a,d0:()=>h,gs:()=>g,jm:()=>d,oo:()=>l,vw:()=>c});let i={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",MOBILE_SMALL:"MOBILE_SMALL",MOBILE_LARGE:"MOBILE_LARGE"},l=2,a=6,r=3,o=1.5,s=16,d=8,c=16/9,u=25,p="Includes Paid Promotion #Ad",m={PRE_LIVE:1,OFFLINE:2,LIVE:3,POST_LIVE:4},h={TRUE:!0,FALSE:!1,UNKNOWN:void 0},g=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"]},331211:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s,e5:()=>c,p6:()=>o,pf:()=>d});var i=n(642298),l=n(536042),a=n(800591),r=n(434927);function o(e){let t=e?(0,i.Z)(new Date(e),"eeee, MMMM do,"):"",n=e?(0,i.Z)(new Date(e),"eee, MMM do,"):"",l=e?(0,i.Z)(new Date(e),"d MMM yyy"):"",a=e?(0,i.Z)(new Date(e),"EEEE"):"",r=e?(0,i.Z)(new Date(e),"h:mm aaa"):"",o=e?(0,i.Z)(new Date(e),"MM/dd/yyyy"):"",s=e?(0,i.Z)(new Date(e),"E, MMM dd"):"";return{date:t,shortDate:n,formalDate:l,dayOfWeek:a,time:r,mmddyyy:o,Emmmdd:s}}function s(e){var t,n;let i=e.creator_class_instance.live_status===a.Ct.POST_LIVE;return{pinId:e.id,classId:e.creator_class.id,storyId:null===(t=e.creator_class.recap_pin)||void 0===t?void 0:t.id,creatorClassInstance:e.creator_class_instance,creatorClassInstanceId:e.creator_class_instance.id,title:e.creator_class_instance.title,isLive:e.creator_class_instance.live_status===a.Ct.LIVE,postLive:i,path:`/tv/${e.id}/?referrer=${e.referrer||0}`,recapPath:`/pin/${(null===(n=e.creator_class.recap_pin)||void 0===n?void 0:n.id)||e.id}/?referrer=${e.referrer||0}`,creator:{avatar:e.creator_class.creator.image_medium_url,host:e.creator_class.creator.full_name||e.creator_class.creator.username,path:`/${e.creator_class.creator.username}`},video:i&&e.creator_class_instance.replay_video?e.creator_class_instance.replay_video.video_list.V_720P:e.creator_class_instance.preview_video?e.creator_class_instance.preview_video.video_list.V_720P:e.creator_class_instance.hero_video?e.creator_class_instance.hero_video.video_list.V_720P:null,subscriberCount:e.creator_class.subscriber_count,subscribers:e.creator_class.subscribers}}function d(e,t,n){let i=a.gs.indexOf(e)>-1,l=a.gs.indexOf(t)>-1;return n&&i||l}function c(e){let t=(0,l.ZP)();switch(e){case r.S7.CREATOR_STUDIO:return{text:t.bt(" ", "Organic creator", "web.pinTv.studio.pendingEpisode.organicCreator", undefined, true),type:"recommendation"};case r.S7.PINTEREST_APP:return{text:t.bt(" ", "Community creator", "web.pinTv.studio.pendingEpisode.communityCreator", undefined, true),type:"warning"};case r.S7.MANAGED:return{text:t.bt(" ", "Managed creator", "web.pinTv.studio.pendingEpisode.managedCreator", undefined, true),type:"info"};default:return{text:t.bt(" ", "No source", "web.pinTv.studio.pendingEpisode.noSource", undefined, true),type:"error"}}}},534139:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(667294),l=n(883119),a=n(536042),r=n(785893);function o({content:e,hasBorder:t,header:n,isCollapsible:o,isContentLoaded:s,isOpenByDefault:d,maxHeight:c,onOpen:u,previewContent:p,previewContentHeight:m,shouldToggleOnBodyTap:h,arrowDirection:g}){var _;let[y,v]=(0,i.useState)(!1),[f,b]=(0,i.useState)(0),x=(0,i.useRef)(null),k=(0,a.ZP)(),P=null===(_=x.current)||void 0===_?void 0:_.getBoundingClientRect().height;(0,i.useEffect)(()=>{d&&s&&v(!0)},[d,s]),(0,i.useLayoutEffect)(()=>{void 0===c&&x.current&&P&&P>f&&b(Math.ceil(P))},[f,P,c]);let S=()=>{o&&(v(!y),u&&!y&&u())},w=g||"arrow-forward";return(0,r.jsx)(l.iP,{onTap:h?S:void 0,children:(0,r.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:t?{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}:{}},paddingY:p?3:0,children:[(0,r.jsxs)(l.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:p?1:5,children:[(0,r.jsx)(l.xv,{weight:"bold",size:"300",children:n}),o&&(0,r.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.3s ease-in-out",transform:y?`rotate(${"arrow-down"===w?"180deg":"-90deg"})`:""}},marginEnd:4,children:(0,r.jsx)(l.iP,{onTap:S,children:(0,r.jsx)(l.JO,{accessibilityLabel:k.bt(" ", "Expand icon", "accordion.actionButton", undefined, true),color:"default",icon:w,size:20})})})]}),(0,r.jsxs)(l.xu,{"data-test-id":"accordion-panel",opacity:y||p?1:0,height:!y&&p?m:y?c||f:0,overflow:void 0===c?"hidden":"auto",marginEnd:p?7:0,dangerouslySetInlineStyle:{__style:{transition:`all 0.3s ease-in-out, visibility 0s linear ${y?"0s":"0.3s"}`,visibility:y||p?"visible":"hidden"}},children:[(0,r.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{display:y?"none":"block"}},children:p}),(0,r.jsx)(l.xu,{opacity:y||p?1:0,dangerouslySetInlineStyle:{__style:{visibility:y?"visible":"hidden",transition:`all 0.3s ease-in-out, visibility 0s linear ${y||p?"0s":"0.3s"}`}},ref:x,children:e})]})]})})}o.defaultProps={isCollapsible:!0,isContentLoaded:!0}},208606:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(667294),l=n(883119),a=n(477780),r=n(47034),o=n(377234),s=n(536042),d=n(245410),c=n(269021),u=n(785893);let p=({isExpanded:e,onToggle:t,expandedText:n,collapsedText:i})=>(0,u.jsx)(l.xu,{display:"inlineBlock","data-test-id":`${e?"less":"more"}-description-container`,children:(0,u.jsx)(l.iP,{onTap:t,children:(0,u.jsx)(l.xv,{weight:"bold",inline:!0,children:e?n:i})})});function m({isExpanded:e,description:t,maxHeight:n,handleToggle:m,Wrapper:h}){let g=(0,i.useRef)(null),[_,y]=(0,i.useState)(!1),v=(0,s.ZP)(),{checkExperiment:f}=(0,d.F)(),b=(0,o.vs)(),x=f("web_new_line_description").anyEnabled;(0,i.useEffect)(()=>{if(!(g&&g.current))return;let{height:e}=g.current.getBoundingClientRect();e>n&&y(!0)},[g,n]);let k=(0,u.jsx)(p,{isExpanded:e,onToggle:m,expandedText:v.bt("", "less", "closeup.description.toggle.lessButton", undefined, true),collapsedText:v.bt("", "... more", "closeup.description.toggle.moreButton", undefined, true)}),P=b?"#111111":"#FFFFFF";return(0,u.jsx)(h,{children:(0,u.jsx)(l.xu,{maxHeight:e?void 0:n,overflow:"hidden",position:"relative","data-test-id":"collapsible-description",children:(0,u.jsxs)(c.Z,{dir:(0,c.j)(t),children:[(0,u.jsx)(l.xu,{ref:g,children:(0,u.jsxs)(l.xv,{inline:!0,children:[x?(0,u.jsx)(a.Z,{description:t}):(0,r.Z)(t)," ",_&&e&&(0,u.jsxs)(l.xv,{inline:!0,weight:"bold",children:["... ",k]})]})}),_&&!e&&(0,u.jsx)(l.xu,{position:"absolute",right:!0,bottom:!0,width:140,dangerouslySetInlineStyle:{__style:{background:`linear-gradient(270deg, ${P} 50%, ${P}00 100%)`,textAlign:"end"}},children:k})]})})})}},910717:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(883119),l=n(785893);function a({ariaHidden:e=!1,color:t="darkGray",size:n}){return(0,l.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,l.jsx)(i.xv,{color:t,inline:!0,size:null!=n?n:"200",children:"\xb7"})})}},993926:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294),l=n(883119),a=n(910717),r=n(785893);function o(e){return null!=e}function s({additionalPadding:e,color:t="darkGray",inline:n,items:s}){let d=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(a.Z,{color:t})}):(0,r.jsx)(a.Z,{color:t}),c=s.filter(o).reduce((e,t,n)=>[...e,0!==n?d:null,t],[]).filter(o).map((e,t)=>(0,r.jsx)(i.Fragment,{children:e},t));return 0===c.length?null:n?(0,r.jsx)(l.xu,{children:c}):(0,r.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:c})}},63262:(e,t,n)=>{"use strict";n.d(t,{F9:()=>a,Zo:()=>l});var i=n(583592);let{Provider:l,useHook:a}=(0,i.Z)("toastManagerContext")},105314:(e,t,n)=>{"use strict";n.d(t,{M:()=>r,Q:()=>a});var i=n(667294);let l=(0,i.createContext)(null),a=()=>(0,i.useContext)(l),r=l.Provider},348672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(105314);let l=()=>{var e;return(null===(e=(0,i.Q)())||void 0===e?void 0:e.showUnauthContextMenu)||(()=>{})}},250307:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},286354:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(911386);let l=({url:e})=>{if(e){let t=e.split("?");if(t[1])return(0,i.Z)(t[1])}return(0,i.Z)()}},28630:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(799665);let l=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,i.Z)(e))},957733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});let i=(e,t)=>0===e.lastIndexOf(t,0);var l=n(17330);let a=({url:e})=>{let t=(0,l.Z)("/");return i(e,t)?e.substr(t.length-1):e}},133244:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(667294);function l(e,t){let n=(0,i.useRef)([]),[l,a]=(0,i.useState)(),[r,o]=(0,i.useReducer)(null!=l?l:()=>t,t),s=(0,i.useCallback)(t=>{l?o(t):(n.current.length||e().then(e=>{a(()=>e.default)}),n.current=[...n.current,t])},[e,l]);return(0,i.useEffect)(()=>{l&&(n.current.forEach(o),n.current=[])},[l]),[r,s]}},272109:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(667294);let l=e=>{(0,i.useEffect)(e,[])}},456453:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(667294);let l=(e,t)=>{let n=(0,i.useRef)(()=>{});(0,i.useEffect)(()=>{n.current=e},[e]),(0,i.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>n.current(),t);return()=>clearInterval(e)},[t])}},567648:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(667294);let l=()=>()=>{},a=()=>!1,r=()=>!0,o=()=>{let e=(0,i.useSyncExternalStore)(l,a,r);return e}},464649:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,Z:()=>s});var i=n(667294),l=n(616550),a=n(785893);let r=(0,i.createContext)(!0);function o({children:e}){let t=(0,l.useLocation)(),[n,o]=(0,i.useState)(!0),s=(0,i.useRef)(t);return(0,i.useEffect)(()=>{s.current!==t&&(s.current=t,o(!1))},[t]),(0,a.jsx)(r.Provider,{value:n,children:e})}function s(){return(0,i.useContext)(r)}},657672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(667294);async function l(e){return new Promise((t,n)=>{let i=document.createElement("img");i.onerror=()=>n(Error(`Image failed to load with src ${e}`)),i.onload=()=>t(!0),i.src=e})}async function a(e){try{let t=await fetch(e,{method:"HEAD"}),i=await t.blob(),a=i.type.startsWith("image/"),r=!!n.g.__SERVER__;if(r)return a;{let t=await l(e);return a&&t}}catch(e){return!1}}function r(e){let[t,n]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async function(){let t=await a(e);n(t)})()},[e]),t}},828947:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(667294),l=n(300796);let a=(e,t)=>{let n=(0,l.Z)();(0,i.useEffect)(()=>{if(t){let{top:n,left:i,bottom:l,right:a}=t.getBoundingClientRect(),{innerHeight:r,innerWidth:o}=window;e(l<0||a<0||n>r||i>o)}},[n,t,e])}},472921:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(667294);function l(e,t){let[n,l]=(0,i.useState)(e),a=(0,i.useRef)(new Map),r=(0,i.useRef)(t),o=r.current;if(o!==t){var s;r.current=t,a.current.set(o,n);let i=null!==(s=a.current.get(t))&&void 0!==s?s:e;return l(i),[i,l]}return[n,l]}},300796:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(667294),l=n(552369);let a=()=>{let[e,t]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let e=(0,l.Z)(()=>t(window.scrollY),10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),e}},782219:(e,t,n)=>{"use strict";n.d(t,{GW:()=>l,RL:()=>i,s4:()=>a});let i="ios",l="android",a="ipad"},931696:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var i=n(667294),l=n(867631),a=n.n(l),r=n(883119),o=n(563962),s=n(245410),d=n(282802),c=n(802071),u=n(499992),p=n(505204),m=n(886365),h=n(785893);function g(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let _=(e,t)=>typeof e!=typeof t||(Array.isArray(t)?e.length!==t.length||t.some((t,n)=>!Array.isArray(e)||t.type!==e[n].type||t.src!==e[n].src):t!==e),y=(e,t)=>t?e.replace("v1.pinimg.com","control"===t?"v3.pinimg.com":"v2.pinimg.com"):e,v=(e,t)=>e[0].src&&t?[{...e[0],src:y(e[0].src,t)}]:e,f=(e,t)=>"string"==typeof e?y(e,t):Array.isArray(e)?v(e,t):e;class b extends i.PureComponent{constructor(...e){super(...e),g(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:p.Cy.DEFAULT,videoStartTime:this.props.seekTime||0}),g(this,"errorRetryCount",1),g(this,"firstFragBuffered",!1),g(this,"hasPlaybackStarted",!1),g(this,"hasVideoSessionStarted",!1),g(this,"hasVideoSessionEnded",!1),g(this,"hls",null),g(this,"fragStartupTime",{}),g(this,"lastLevelSwitchKbps",null),g(this,"lastStallTime",null),g(this,"lastPauseTime",null),g(this,"logSessionStartOnNextPlay",!1),g(this,"playerId",""),g(this,"videoSessionId",""),g(this,"videoVisibleTime",null),g(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?y(this.props.src,this.props.quicExpGroup):y(this.props.src[0].src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),g(this,"initializeHls",()=>{this.destroyHls();let{src:e,hlsConfig:t,quicExpGroup:n}=this.props,i=new(a())(t),l=f(e,n);i.loadSource(l),this.videoPlayerRef&&i.attachMedia(this.videoPlayerRef.video),i.on(a().Events.FRAG_BUFFERED,this.handleHlsFragBuffered),i.on(a().Events.FRAG_CHANGED,this.handleHlsFragChanged),i.on(a().Events.FRAG_LOADING,this.handleHlsFragLoading),i.on(a().Events.FRAG_LOADED,this.handleHlsFragLoaded),i.on(a().Events.MANIFEST_PARSED,()=>{this.setState({isManifestParsed:!0})}),i.on(a().Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),i.on(a().Events.ERROR,this.handleHlsError),this.hls=i}),g(this,"destroyHls",()=>{let{hls:e}=this;e&&e.destroy()}),g(this,"addSegment",e=>{let{segments:t}=this.playbackPerformance,n=t&&t[t.length-1];if(this.hls&&t.length&&n&&n.uri!==e.url){this.updateWatchDurationForCurrentSegment();let n=this.videoPlayerRef&&this.videoPlayerRef.video,i=this.hls&&this.hls.levels||{},l="number"==typeof e.level?i[e.level]:{},a=this.fragStartupTime[e.url],r=-1;a&&a.startLoadTime&&a.endLoadTime&&(r=a.endLoadTime-a.startLoadTime);let o={indicatedKbps:l.bitrate/p.bR,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:l.width,sourceHeight:l.height,startupTimeMs:r,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:n&&n.clientWidth||-1,viewportHeight:n&&n.clientHeight||-1,watchedDurationMs:0};t.push(o)}}),g(this,"initializeSegments",e=>{let{contextLogData:t={}}=this.props,{is_closeup_video:n=!1}=t,{segments:i}=this.playbackPerformance;if(!i.length){if(!this.hls||!this.videoPlayerRef||!this.videoPlayerRef.video||!e){(0,u.tE)("initializeSegmentsFailed",!0,n);return}if(!i.length&&"number"==typeof e.level){let t=this.videoPlayerRef&&this.videoPlayerRef.video,{levels:n}=this.hls,l="number"==typeof e.level?n[e.level]:{},a=this.fragStartupTime[e.url],r=-1;a&&a.startLoadTime&&a.endLoadTime&&(r=a.endLoadTime-a.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/p.bR;let o={indicatedKbps:l.bitrate/p.bR,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:l.width,sourceHeight:l.height,startupTimeMs:r,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:t.clientWidth,viewportHeight:t.clientHeight,watchedDurationMs:0};i.push(o)}}}),g(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*p.gJ:null),g(this,"handleCanPlayVideo",e=>{let{contextLogData:t={},onReady:n,playing:i}=this.props,{is_closeup_video:l=!1}=t,{canPlayVideo:a}=this.state;(0,u.tE)("handleCanPlayVideo",!0,l,{firstCanPlayEvent:!a,playing:i}),this.playbackPerformance.hasFatalError=!1,a||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),n&&n(e)}),g(this,"handleEnded",e=>{let{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,l=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),l&&(l.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(p.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:p.Cy.ENDED}),n&&n(e)}),g(this,"handleHlsError",(e,t)=>{var n,i,l,r,o,s,d;let{contextLogData:c={}}=this.props,{is_closeup_video:m=!1}=c;if(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${t.details}`,t.fatal){this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=t.type,this.playbackPerformance.errorReason=t.details,this.playbackPerformance.errorCode=t.response&&t.response.code?t.response.code:0;let e={errorName:t.type,errorReason:t.details,errorRetryCount:this.errorRetryCount,errorMessage:(null===(i=t.err)||void 0===i?void 0:null===(l=i.message)||void 0===l?void 0:l.slice(0,50))||"unknown",errorResponse:(null===(r=t.response)||void 0===r?void 0:null===(o=r.text)||void 0===o?void 0:o.slice(0,50))||"unknown",playbackState:this.state.playbackState};if((0,u.tE)("fatalError",!0,m,e),this.errorRetryCount>0)switch(this.errorRetryCount-=1,t.type){case a().ErrorTypes.NETWORK_ERROR:if(t.details===a().ErrorDetails.MANIFEST_LOAD_ERROR||t.details===a().ErrorDetails.MANIFEST_LOAD_TIMEOUT||t.details===a().ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){let{src:e,quicExpGroup:t}=this.props,n=f(e,t);null===(s=this.hls)||void 0===s||s.loadSource(n)}else null===(d=this.hls)||void 0===d||d.startLoad();break;case a().ErrorTypes.MEDIA_ERROR:null===(n=this.hls)||void 0===n||n.recoverMediaError()}}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:p.Cy.FAILED})}),g(this,"handleHlsFragBuffered",(e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)}),g(this,"handleHlsFragChanged",(e,t)=>{this.addSegment(t.frag)}),g(this,"handleHlsFragLoading",(e,t)=>{var n;let i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&!this.fragStartupTime[i]&&(this.fragStartupTime[i]={startLoadTime:new Date})}),g(this,"handleHlsFragLoaded",(e,t)=>{var n;t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/p.Fm);let i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&this.fragStartupTime[i]&&this.fragStartupTime[i].startLoadTime&&(this.fragStartupTime[i].endLoadTime=new Date)}),g(this,"handleHlsLevelSwitched",()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/p.bR)}),g(this,"handleLoadedMetadata",()=>{this.setState({playbackState:p.Cy.LOADED_METADATA})}),g(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:p.Cy.LOAD_START})}),g(this,"handleLoadedData",()=>{this.setState({playbackState:p.Cy.LOADED_DATA})}),g(this,"handlePlaying",()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:p.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime()}),g(this,"handleUserPause",e=>{let{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)}),g(this,"handleVideoPause",()=>{this.state.playbackState===p.Cy.STALLING||this.state.playbackState===p.Cy.SEEKING||(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:p.Cy.PAUSED})}),g(this,"handleSeeking",()=>{this.playbackPerformance.numberOfSeeks+=1;let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==p.Cy.ENDED&&this.setState({playbackState:p.Cy.SEEKING})}),g(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==p.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1),this.setState({playbackState:p.Cy.STALLING})}),g(this,"handleTimeUpdate",e=>{let{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===p.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())}),g(this,"resetPlaybackMetrics",()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;let e=this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],t={...e,lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[t]}),g(this,"setLastSegmentStartPlayTime",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())}),g(this,"setLastSegmentPlaybackStartDate",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())}),g(this,"setPlaybackStartTime",()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)}),g(this,"setVideoPlayerRef",e=>{let{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){let e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),g(this,"updateStallDuration",()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)}),g(this,"updatePauseDuration",()=>{if(null!==this.lastPauseTime){let{lastPauseTime:e}=this;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}}),g(this,"updateWatchDurationForCurrentSegment",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){let e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}}),g(this,"logPlaybackPerformance",(e,t)=>{let{contextLogData:n={},userId:i,isAutoPlay:l,logContextEvent:a,preload:r}=this.props,{is_closeup_video:o=!1}=n,{canPlayTime:s,detailedErrors:d,downloadedKiloBytes:c,errorCode:m,errorName:h,errorReason:g,hasFatalError:_,playbackStartTimestamp:y,totalPauseDurationMs:v,totalStallDurationMs:f,segments:b,srcString:x,loadStartTime:k,numberOfStalls:P,numberOfSeeks:S}=this.playbackPerformance,w=this.videoPlayerRef&&this.videoPlayerRef.video,T=e===p.DR,A=T&&!this.hasVideoSessionStarted,C=!T&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&w&&(A||C)){var I;let A=-1;s&&k&&(A=s>k?s-k:0);let C=-1;s&&this.videoVisibleTime&&(C=s>this.videoVisibleTime?s-this.videoVisibleTime:0),T&&(this.videoSessionId=(0,p.Y7)(i),this.playerId=this.playerId||(0,p.EB)());let j={autoplaying:l,averageVideoKbps:-1,detailedErrors:d,downloadedKiloBytes:c,isCellular:!1,errorCode:m,errorName:h,errorReason:g,fatalError:_,nativeVideoDurationMs:w.duration*p.gJ||-1,numberOfStalls:P,numberOfSeeks:S,overallPausedDurationMs:v,overallBufferDurationMs:f,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:y||-1,segments:[],sessionMark:e,screenPixelScale:null!==(I=window)&&void 0!==I&&I.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:w.clientWidth,startupPlayerHeight:w.clientHeight,startupTimeMs:A,startupLatencyMs:C,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:w.videoWidth,startupVariantHeight:w.videoHeight,videoUrl:x,wasVideoPreloaded:"auto"===r};if(!T&&b.length){let{levels:e}=this.hls,t=b[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();let n=b.reduce((t,n)=>{if(!n||"number"!=typeof n.level||!e||!(e.length>0))return t;{let i=(e[n.level]||{}).bitrate,l=n.watchedDurationMs;return t+i*(l||0)/p.gJ}},0),i=b.reduce((e,t)=>e+(t.watchedDurationMs||0),0),l=null,a=0,r=0;do a+=b[r].watchedDurationMs,l=l||b[r].level,r+=1;while(r<b.length&&b[r].level===l)j.startupVariantKbps=t.indicatedKbps,j.startupVariantWatchedDurationMs=a,j.startupVariantWidth=t.sourceWidth,j.startupVariantHeight=t.sourceHeight,j.startupPlayerWidth=t.viewportWidth,j.startupPlayerHeight=t.viewportHeight,j.overallWatchedDurationMs=i,i>0?(j.averageVideoKbps=n/(i/p.gJ),j.rebufferRate=this.playbackPerformance.totalStallDurationMs/i):0===i&&(j.averageVideoKbps=-1,j.rebufferRate=-1,j.errorName="invalid_watch_duration"),j.segments=b}else j.errorName="invalid_watch_duration";(0,u.ZP)(j,!0,o,{playbackState:this.state.playbackState,...t});let{clientTrackingParams:E,component:L,durationNs:R,element:F,objectId:D,pairId:z,viewData:M,view:O,viewParameter:Z,...N}=n;a({aux_data:{...N,is_closeup_video:o,playback_session_id:this.videoSessionId},clientTrackingParams:E,component:L,duration_ns:R,element:F,event_data:{videoPerformanceData:j},event_type:3606,object_id_str:D,pair_id:z,view_data:M,view_parameter:Z,view_type:O}),T?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,u.tE)(T?"sessionStart":"sessionEnd",!0,o,{playbackState:this.state.playbackState,...t})}})}componentDidMount(){let{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,u.tE)("videoMounted",!0,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(p.DR,{initiator:"mount"}))}componentDidUpdate(e){let{loop:t,playing:n,src:i,visible:l,appInFocus:a,seekTime:r}=this.props;r&&r!==e.seekTime&&this.setState({videoStartTime:r}),_(e.src,i)&&this.initializeHls(),e.appInFocus&&!a&&(this.logPlaybackPerformance(p.$f,{initiator:"update",loop:t}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===l&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"update",loop:t})),!1===e.visible&&!0===l&&(this.videoVisibleTime=this.videoVisibleTime||new Date,n?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),n&&a&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){let{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"unmount",loop:e}),this.destroyHls()}render(){let{aspectRatio:e,backgroundColor:t,captions:n,controls:i,loop:l,loopOverride:a,objectFit:o,onDurationChange:s,onFullscreenChange:d,onLoadedChange:c,onControlsPlay:u,onPlayheadDown:p,onPlayheadUp:m,onSeek:g,onVolumeChange:_,playbackRate:y,playing:v,playsInline:b,poster:x,preload:k,quicExpGroup:P,src:S,volume:w}=this.props,{canPlayVideo:T,isManifestParsed:A,videoStartTime:C}=this.state,I=f(S,P);return(0,h.jsx)(r.nk,{aspectRatio:e,backgroundColor:t,captions:n,controls:i,loop:void 0===a?l:a,objectFit:o,onDurationChange:s,onEnded:this.handleEnded,onFullscreenChange:d,onLoadStart:this.handleLoadStart,onLoadedChange:c,onControlsPause:this.handleUserPause,onControlsPlay:u,onPlaying:this.handlePlaying,onPlayheadDown:p,onPlayheadUp:m,onReady:this.handleCanPlayVideo,onSeek:g,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:_,onWaiting:this.handleStalled,playbackRate:y,onPlay:()=>{},onPlayError:()=>{},playing:A&&T&&v,playsInline:b,poster:x,preload:k,ref:this.setVideoPlayerRef,src:I,startTime:C,volume:w})}}let x=(0,i.memo)(function(e){let{country:t,isAuthenticated:n,isBot:i,isSocialBot:l,unauthId:a,userAgent:r}=(0,d.B)(),p=(0,o.Z)(),g=(0,c.Z)(),{browserName:_,browserVersion:y,isMobile:v}=r,{contextLogData:f={}}=e,{is_closeup_video:x=!1,view:k,viewParameter:P}=f,{checkExperiment:S}=(0,s.F)(),w=null;n&&(w=S("web_video_quic").group.length?S("web_video_quic").group:null);let{appUI:T}=(0,m.I)(),A=S("web_video_fail_to_start_fix").anyEnabled?T.appInFocus:e.appInFocus;return(0,u.r$)({browserName:_,browserVersion:y,country:t,isAuthenticated:n,isBot:i,is_closeup_video:x,isMobile:v,isSocialBot:l,view:k,viewParameter:P}),(0,h.jsx)(b,{...e,userId:g.id||a,appInFocus:A,quicExpGroup:w,logContextEvent:p})})},288959:(e,t,n)=>{"use strict";n.d(t,{W:()=>s,r:()=>o});var i=n(667294),l=n(583592),a=n(785893);let{Provider:r,useHook:o}=(0,l.Z)("VideoPlayer");function s({children:e}){let[t,n]=(0,i.useState)(!1),l=(0,i.useMemo)(()=>({captionsEnabled:t,setCaptionsEnabled:n}),[t]);return(0,a.jsx)(r,{value:l,children:e})}},634923:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r,t:()=>a});let i=()=>{var e;return!(null!==(e=window)&&void 0!==e&&e.devicePixelRatio)||window.devicePixelRatio<=1?"1x":"2x"},l=()=>{var e,t;let n;let l="undefined"!=typeof window?null===(e=window.navigator)||void 0===e?void 0:null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0,a=i();return l?"4g"===l?n="40-80":(a="1x",n="0-1"):n="unknown",{downloadSpeedGroup:n,screenDimension:a}};function a({vEXP3:e,vEXP4:t,vEXP5:n,vEXP6:i,vEXP7:a,v720P:r}){let{downloadSpeedGroup:o,screenDimension:s}=l(),d={"1x":e,"2x":n},c={"1x":a,"2x":a};return({unknown:d,"0-1":d,"1-5":{"1x":t,"2x":n},"5-10":{"1x":n,"2x":n},"10-20":{"1x":i,"2x":i},"20-40":c,"40-80":c,"80_or_above":c})[o][s]||r||void 0}function r(e){let{vHLSV3MOBILE:t,...n}=e,i=a(n),l=t||void 0;return i?{hlsv3:l,mp4:i}:{hlsv3:l}}},499992:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>p,r$:()=>c,tE:()=>u});var i=n(768337),l=n(505204),a=n(935340);let r=["isCellular","videoUrl","sessionMark"],o={},s="",d=e=>e<0?"negative":0===e?"zero":e<200?"xs":e<400?"s":e<600?"m":e<800?"l":e<1e3?"xl":e<1200?"xxl":"over1200",c=e=>{let{browserName:t,browserVersion:n,country:l,isAuthenticated:a,isBot:r,isMobile:d,isSocialBot:c,view:u="unknown",viewParameter:p="unknown"}=e;s=c&&"socialBot"||r&&"bot"||"nonbot";let m=(0,i.Z)(l);o={browserName:t,browserVersion:(null==n?void 0:n.split(".")[0])||"0",isAuthenticated:a,isMobile:d,region:m,view:u,viewParameter:p}};function u(e,t,n,i={}){let l={...i,...o},r=`web.video.${t?"hls":"nonHls"}.${s}.${n?"closeup":"nonCloseup"}.${e}`;"nonbot"===s&&(0,a.nP)(r,{sampleRate:1,tags:l})}function p(e,t,n,i={}){let c=n?"closeup":"nonCloseup",u=t?"hls":"nonHls",p=e.sessionMark===l.DR?"sessionStart":"sessionEnd",m={...i,...o};if("nonbot"===s&&(Object.entries(e).forEach(([t,n])=>{let i=`web.video.${u}.${s}.${c}.${p}.${t}`,l=parseInt(n,10),o="number"==typeof l?l:-1;if(!r.includes(t)){if(t.includes("fatalError")&&!0===n){let{errorCode:t,errorName:n,errorReason:l}=e;(0,a.nP)(i,{sampleRate:1,tags:{errorCode:t,errorName:n,errorReason:l,...m}})}else if(t.includes("Width")||t.includes("Height")){let e=d(o);(0,a.nP)(i,{sampleRate:1,tags:{dimensionBucket:e,...m}})}else if("numberOfStalls"===t){let e=n;o>1e3?e="over1000":o>10?e="over10":o<0&&(e="negative"),(0,a.nP)(i,{sampleRate:1,tags:{numberOfStalls:e,...m}})}else"screenPixelScale"===t?(0,a.nP)(i,{sampleRate:1,tags:{screenPixelScale:n||-1,...m}}):o>=0?(0===o&&(0,a.nP)(`${i}.zero`,{sampleRate:1,tags:m}),(0,a.LY)(i,o,{sampleRate:1})):o<0&&(0,a.nP)(`${i}.negative`,{sampleRate:1,tags:m})}}),e.sessionMark!==l.DR)){let{rebufferRate:t,screenPixelScale:n,startupLatencyMs:i,startupVariantWidth:l,startupPlayerWidth:r}=e,o=`web.video.${u}.${s}.${c}.${p}`;"number"==typeof l&&"number"==typeof r&&"number"==typeof n&&(0,a.nP)(`${o}.upscaled.${1.5*l>n*r?"good":"bad"}`,{sampleRate:1,tags:m}),"number"==typeof i&&(0,a.nP)(`${o}.startupLatency.${i<500?"good":"bad"}`,{sampleRate:1,tags:m}),"number"==typeof t&&(0,a.nP)(`${o}.rebufferRate.${t<.01?"good":"bad"}`,{sampleRate:1,tags:m})}}},505204:(e,t,n)=>{"use strict";n.d(t,{$f:()=>a,Cy:()=>d,DR:()=>l,EB:()=>p,Fm:()=>s,Y7:()=>u,bR:()=>o,gJ:()=>r,lG:()=>c});var i=n(172045);let l=1,a=2,r=1e3,o=1e3,s=1e3,d=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),c=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function u(e){return e+"-"+(0,i.Z)()}function p(){return(0,i.Z)()}},736567:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,e:()=>l});var i=n(117651);let l=e=>{if("undefined"==typeof window)return"";let t=0,n=document.querySelector('[data-test-id="header"]');if(null!==n){let{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":let i=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==i){let{height:e}=i.getBoundingClientRect();t+=e}break;case"SearchItem":let l=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==l){let{height:e}=l.getBoundingClientRect();t+=e}let a=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==a){let{height:e}=a.getBoundingClientRect();t+=e}}return`${-1*t}px 0px 0px 0px`},a=({videosDuration:e,vHLSV4VideoDuration:t,storyPinDataTotalVideoDuration:n})=>{let l=(0,i.Z)(e||t||n||0);return l}},204926:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(970588),l=n(354428);function a(e,t){let{auxData:n,clientTrackingParams:a,hasPin:r,pinId:o,isThirdPartyAd:s}=t||{},d={pin_id:o,check_only:!0,client_tracking_params:r?a:void 0,url:e,aux_data:JSON.stringify(n)};s&&(d.third_party_ad=o,delete d.pin_id),(0,i.Z)({url:"/v3/offsite/",data:d}).then(t=>{if(t&&t.resource_response&&!t.resource_response.error){let{resource_response:e}=t,{redirect_status:n,url:i}=e.data,l=["blocked","suspicious","porn"].includes(n);if(!l){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(i);window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,l.Gj)(e,{params:r?{pinId:o,clientTrackingParams:a,auxData:n,isThirdPartyAd:s}:{pinId:o}})})}},732192:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RoleBasedAccessControlProvider:()=>b,useRoleBasedAccessControlContext:()=>f});var i=n(667294),l=n(583592),a=n(245410),r=n(819079),o=n(802071),s=n(771799),d=n(173085),c=n(716793);let u=e=>{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,c.Z)(n)]=e[n]:t[(0,c.Z)(n)]=u(e[n]));return t},p=(e,t)=>{let n=[];for(let i in e)i!==t&&n.push({id:i,...u(e[i])});let i=n.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),l=new Map;for(let e of i)l.set(e.id,e);return l},m={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},g=({dispatch:e,isEnabled:t,state:n})=>{let{orbacVisibility:l,disableProfileChanger:a,headerVisible:r}=n,o=(0,i.useCallback)(n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})},[t,e]),s=(0,i.useCallback)(n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=n?n:!l})},[t,e,l]),d=(0,i.useCallback)(n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=n?n:!a})},[t,e,a]),c=(0,i.useCallback)(n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!r})},[t,e,r]);return{changeProfile:o,toggleORBACVisibility:s,toggleDisableProfileChanger:d,toggleHeaderVisibility:c}},_=e=>{let[t,n]=(0,i.useReducer)(h,m),l=g({dispatch:n,isEnabled:e,state:t}),{activeProfile:a,orbacVisibility:r}=t;(0,i.useEffect)(()=>{let e=(0,d.qn)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,i.useEffect)(()=>{let e=(0,d.qn)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,i.useEffect)(()=>{(0,d.Nh)("orbacVisibility",r)},[r]),(0,i.useEffect)(()=>{(0,d.Nh)("orbacActiveProfile",a)},[a]);let o=(0,i.useCallback)((e,t)=>{n({type:"LOAD_PROFILES",payload:p(e,t)})},[n]);return{state:t,actions:l,receiveProfiles:o}};var y=n(785893);let{Provider:v,useMaybeHook:f}=(0,l.Z)("RoleBasedAccessControlContext"),b=({children:e})=>{let t;let{checkExperiment:n}=(0,a.F)(),l=(0,o.Z)(),d=!!(l.isAuth&&l.isPartner&&n("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:u,receiveProfiles:p}=_(d),{activeProfile:m,headerVisible:h,profiles:g=[]}=c,f=g?Array.from(g.values()):[],b=(0,s.Z)(f),x=!!l.isAuth&&f.length>0&&b,k=l.isAuth?l.id:"",P=l.isAuth?l.username:"",{changeProfile:S,toggleORBACVisibility:w,toggleDisableProfileChanger:T,toggleHeaderVisibility:A}=u;(0,i.useEffect)(()=>{if(d){if("string"==typeof b){S(b);return}m||S(k)}},[b,k,d,S,m]),(0,i.useEffect)(()=>{d&&(x&&!h&&A(!0),!x&&h&&A(!1))},[A,x,d,h,g]);let{data:C}=(0,r.Z)(d?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),I=null==C?void 0:C.profiles;l&&l.isAuth&&c.activeProfile===l.id?t={id:l.id,permissions:["OWNER"],user:{username:P,businessName:l.fullName,imgUrl:l.imageSmallUrl}}:m&&c.profiles&&(t=c.profiles.get(m)),(0,i.useEffect)(()=>{I&&p(I,k)},[p,I,k]);let j=c.profiles?Array.from(c.profiles.values()):[];return(0,y.jsx)(v,{value:{profiles:j,headerVisible:c.headerVisible,activeProfile:t,changeProfile:S,toggleORBACVisibility:w,toggleDisableProfileChanger:T,toggleHeaderVisibility:A},children:e})}},329689:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(245410),l=n(732192),a=n(771799);let r=()=>{let{checkExperiment:e}=(0,i.F)(),t=(0,l.useRoleBasedAccessControlContext)(),{activeProfile:n}=t||{},r=e("web_m10n_business_access_orbac_www").anyEnabled,o=(0,a.Z)((null==t?void 0:t.profiles)||[]),{anyEnabled:s}=e("useorbacroutematcher_in_useorbacactingas");return r&&(!s||o)&&n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({})}},771799:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(616550),l=n(988014),a=n(245410),r=n(802071),o=n(525104);let s=e=>{var t,n,s,d;let c=(0,i.useLocation)(),u=(0,r.Z)(),p=(0,o.S6)(),{anyEnabled:m}=(0,a.F)().checkExperiment("web_m10n_business_access_orbac_www"),h=(0,i.useRouteMatch)("/:username"),g=null==h?void 0:null===(t=h.params)||void 0===t?void 0:t.username,_=(0,i.useRouteMatch)("/pin/:id"),y=null!=_&&null!==(n=_.params)&&void 0!==n&&!!n.id&&(null===(s=p(_.params.id))||void 0===s?void 0:null===(d=s.pinner)||void 0===d?void 0:d.id);if((0,l.ej)(c))return!1;if((0,l.RU)(c))return!0;if((0,l.mY)(c))return m;let v=e.concat(u.isAuth?{user:{username:u.username},id:u.id}:{}).find(e=>{let{user:t={},id:n}=e||{},{username:i}=t;return(!!i&&!!g||!!y&&!!n)&&(i===g||y===n)});return!!v&&v.id}},421461:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(802071),l=n(329689),a=n(384722);let r=()=>{let e=(0,i.Z)(),t=(0,l.Z)(),n=(0,a.lJ)(e,t);return n}},384722:(e,t,n)=>{"use strict";n.d(t,{D3:()=>d,DX:()=>o,KY:()=>c,Ms:()=>i,N1:()=>u,_P:()=>r,lJ:()=>a,nl:()=>l,q6:()=>s});let i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},l=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),a=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",r=(e,t,n)=>{var i;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(i=e.advertiser)||void 0===i?void 0:i.merchant_id},o=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,s=(e,t,n)=>{let i=e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t;return!!i},d=(e,t,n)=>{let i=s(e,t,n)||e&&e.isAuth&&t===e.id;return!!i},c=(e,t,n)=>{let i=t&&t.owner&&t.owner.id||"";return d(e,i,n)};function u(e,t,n){let i=t?t.id:"";return d(e,i,n)}},76008:(e,t,n)=>{"use strict";n.d(t,{pb:()=>x,nf:()=>k,lV:()=>P});var i=n(667294),l=n(702664),a=n(441143),r=n.n(a),o=n(690108),s=n(583592),d=n(970588),c=n(170567),u=n(618446),p=n.n(u),m=n(682492),h=n.n(m);let g={feature_map:Object.freeze({})},_=(e,t)=>{let n={...h()({},e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return p()(e,n)?e:n},y=(e=g,t)=>{if("FETCH_COMPLETE"===t.type){let{payload:{resource:n}}=t,{data:i}=t.payload.response.resource_response;if("AggregatedCommentFeedResource"===n||"AggregatedCommentReplyFeedResource"===n||"DidItCommentsResource"===n){let t=i||[],n=t.reduce((t,n)=>(t[n.id]=_(e[n.id],n),t),{});return{...e,...n}}if("UnifiedCommentsResource"===n&&i&&i.length>0){let t=i.filter(e=>"aggregatedcomment"===e.type),n=t.reduce((t,n)=>(t[n.id]=_(e[n.id],n),t),{});return{...e,...n}}if("UnifiedCommentsPreviewResource"===n&&i&&i.length>0){let t=i[0].aggregated_comment,n=t?{[t.id]:_(e[t.id],t)}:{},l=i[0].creator_reply,a=l?{[l.id]:_(e[l.id],l)}:{};return{...e,...n,...a}}if("AggregatedCommentFeaturesResource"===n&&i&&Object.keys(i).length>0)return{...e,feature_map:i}}else if("AGGREGATED_COMMENT_CREATED"===t.type){let{payload:{aggregatedComment:n}}=t;return n.id?{...e,[n.id]:n}:e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){let{payload:{aggregatedCommentId:n}}=t,i={...e};return delete i[n],i}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){let{payload:{userId:n}}=t;return Object.fromEntries(Object.entries(e).filter(e=>{var t;return(null===(t=e[1].user)||void 0===t?void 0:t.id)!==n}))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){let{payload:{data:n}}=t;return{...e,[n.id]:_(e[n.id],n)}}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){let{payload:{data:n}}=t,i=e[n.id],l=i.reaction_counts[1]||0,a={1:n.reaction_by_me?l+1:l-1},r={...i,reaction_by_me:n.reaction_by_me,reaction_counts:a};return{...e,[n.id]:r}}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){let{payload:{data:n}}=t,i=e[n.id],l=i.helpful_count||0,a=n.marked_helpful_by_me?l+1:l-1,r={...i,marked_helpful_by_me:n.marked_helpful_by_me,helpful_count:a};return{...e,[n.id]:r}}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){let{payload:{data:n}}=t,i=e[n.aggregated_comment_id],l={...i,highlighted_by_pin_owner:n.is_highlighted};return{...e,[n.aggregated_comment_id]:l}}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){let{payload:{data:{featureMap:n}}}=t;return{...e,feature_map:{...e.feature_map,...n}}}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){let{payload:{increment:n,id:i}}=t,l=e[i];if(!l)return e;let a={...l,comment_count:l.comment_count+n};return{...e,[i]:a}}else if("DELETE_COMMENT_MENTION"===t.type){let{payload:{aggregatedCommentId:n,tagged_users:i}}=t,l=e[n],a={...l,tagged_users:i};return{...e,[n]:a}}else if("GET_COMMENT_TRANSLATION"===t.type){let{payload:{aggregatedCommentId:n,translatedText:i}}=t,l=e[n],a={...l,translatedText:i};return{...e,[n]:a}}return e};var v=n(785893);let{Provider:f,useHook:b}=(0,s.Z)("AggregatedComments");function x({children:e}){let t=(0,l.useSelector)(({resources:e})=>e.UnifiedCommentsResource),n=g;t&&Object.values(t).forEach(e=>{var t;let i=null===(t=e.data)||void 0===t?void 0:t.filter(e=>"aggregatedcomment"===e.type),l=null==i?void 0:i.reduce((e,t)=>(e[t.id]=_(n[t.id],t),e),{});n={...n,...l}});let[a,r]=(0,i.useReducer)(y,n),o=e=>{r({type:"FETCH_COMPLETE",payload:e})};(0,c.Z8)("AggregatedCommentFeaturesResource",o),(0,c.my)("AggregatedCommentFeaturesResource",o),(0,c.Z8)("AggregatedCommentFeedResource",o),(0,c.my)("AggregatedCommentFeedResource",o),(0,c.Z8)("AggregatedCommentReplyFeedResource",o),(0,c.my)("AggregatedCommentReplyFeedResource",o),(0,c.Z8)("DidItCommentsResource",o),(0,c.my)("DidItCommentsResource",o),(0,c.Z8)("UnifiedCommentsPreviewResource",o),(0,c.my)("UnifiedCommentsPreviewResource",o),(0,c.Z8)("UnifiedCommentsResource",o),(0,c.my)("UnifiedCommentsResource",o);let s=(0,i.useMemo)(()=>({aggregatedComments:a,dispatch:r}),[a,r]);return(0,v.jsx)(f,{value:s,children:e})}function k(){let{dispatch:e}=b();return(0,i.useMemo)(()=>({aggregatedCommentCreated(t,n){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:n}})},aggregatedCommentDeleted:(t,n)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:n}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({commentId:e,reason:t,detailedReasons:n})=>(0,d.Z)({url:`/v3/aggregated_comments/${e}/flag/`,method:"PUT",data:{commentId:e,reason:t,detailedReasons:n}}),deleteCommentMention:async t=>{var n;let{resource_response:i}=await (0,d.Z)({url:`/v3/aggregated_comments/${t}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),l=null!==(n=i.data)&&void 0!==n?n:{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:l.id,tagged_users:l.tagged_users}})},translateAggregatedComment:async t=>{try{var n;let{resource_response:i}=await (0,d.Z)({url:`/v3/aggregated_comments/${t}/translate/`,method:"GET"}),l=null!==(n=i.data)&&void 0!==n?n:"";e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:l}})}catch(n){e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:""}})}},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:n})=>{(0,d.Z)({url:`/v3/helpful/1/${t}/`,method:n?"DELETE":"POST"}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!n}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:n,isHighlighted:i})=>{r()(t,"Could not find comment"),r()(n,"Could not find Pin"),await (0,d.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:n,highlight:!i}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:n,is_highlighted:!i}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:n})=>{(0,d.Z)({url:`/v3/aggregated_comments/${t}/react/`,method:n?"DELETE":"POST",data:{reaction_type:1}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:n?0:1}}})},updateAggregatedComment:async({commentId:t,force:n,orbacSubjectId:i,tags:l,text:a})=>{var r;let{resource_response:s}=await o.Z.create("AggregatedCommentResource",{commentId:t,force:n,tags:l,text:a,...i?{orbacSubjectId:i}:{}}).callUpdate({showError:!1}),{tagged_users:d}=null!==(r=s.data)&&void 0!==r?r:{},c=d.map(e=>({...e}));e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:c,tags:JSON.parse(l),text:a}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:n,passcode:i})=>{var l;let{resource_response:a}=await o.Z.create("AggregatedCommentFeaturesResource",{userId:t,featureMap:n,passcode:i}).callUpdate({showError:!1}),r=null!==(l=a.data)&&void 0!==l?l:Object.freeze({});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:r}}})},updateCommentCount:(t,n)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:n,id:t}})}}),[e])}function P(){let{aggregatedComments:e}=b();return e}},738318:(e,t,n)=>{"use strict";n.d(t,{n:()=>l,o:()=>i});let i={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"},l={aggregatedComment:"aggregatedcomment",didIt:"userdiditdata",pin:"pin"}},886365:(e,t,n)=>{"use strict";n.d(t,{g:()=>m,I:()=>p});var i=n(667294),l=n(583592),a=n(532465),r=n(150361),o=n.n(r);let s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},d=(e=s,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:n}=t,{pinId:i,isPromoted:l,currentTime:a,inVideoGridAutoplayExp:r}=n,{videosAutoplaying:s}=e,{currentlyPlayingOrganicVideoId:d,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}=s,p=o()(c),m=o()(u);return!l&&d&&r?e:(l?p[i]={pinId:i,currentTime:a,paused:!1}:m[i]={pinId:i,currentTime:a,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:l?d:i,promotedVideosAutoplaying:p,organicVideosAutoplaying:m}})}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:n}=t,{pinId:i,isPromoted:l,currentTime:a}=n,{videosAutoplaying:r}=e,{promotedVideosAutoplaying:s,organicVideosAutoplaying:d}=r,c=o()(s),u=o()(d);return l?c[i]={...c[i],paused:!0,currentTime:a}:u[i]={...u[i],paused:!0,currentTime:a},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}}}if("SET_APP_FOCUS_STATE"===t.type)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type)return{...e,footerPlusButtonVisible:t.payload};return e};var c=n(785893);let{Provider:u,useHook:p}=(0,l.Z)("AppUI");function m({children:e}){let[t,n]=(0,i.useReducer)(d,s),l=(0,i.useCallback)(e=>n({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),r=(0,i.useCallback)(e=>n({type:"SET_APP_FOCUS_STATE",payload:e}),[]),o=(0,i.useCallback)(e=>n({type:"SET_CURRENT_VIDEO",payload:e}),[]),p=(0,i.useCallback)(e=>n({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),m=(0,i.useCallback)(e=>n({type:"SET_IS_AUTOPLAY",payload:e}),[]),h=(0,i.useCallback)(e=>n({type:"SET_VIEWPORT_SIZE",payload:e}),[]),g=(0,i.useCallback)(e=>n({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),_=(0,i.useMemo)(()=>({pauseAutoplay:l,setCurrentVideo:o,setFooterPlusButtonVisible:p,setIsAutoplay:m,setViewportSize:h,toggleTypeaheadOverlay:g,setAppFocusState:r,appUI:t}),[l,o,p,m,h,g,r,t]);return(0,i.useEffect)(()=>{a.Z.onSessionResume(()=>{r(!0)}).onSessionPause(()=>{r(!1)})},[r]),(0,c.jsx)(u,{value:_,children:e})}},336331:(e,t,n)=>{"use strict";n.d(t,{$:()=>a,B:()=>l});var i=n(583592);let{Provider:l,useHook:a}=(0,i.Z)("SurfaceContext",{surface:"Unknown"})},795142:(e,t,n)=>{"use strict";n.d(t,{UP:()=>o,Wv:()=>l,ZF:()=>i,zI:()=>a,zl:()=>r});let i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],l=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],a=[...l,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],r=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],o=["BaseBoardPinGrid"]},939479:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),l=n(883119),a=n(604094),r=n(550140),o=n(536042),s=n(643183),d=n(63262),c=n(785893);let u=(0,i.lazy)(()=>n.e(4603).then(n.t.bind(n,774855,23)));function p({linkURL:e,onDidFocus:t,onDidClickCopyButton:n,onCopyText:i,toastDuration:p,oneToast:m=!1,hideInput:h=!1,buttonSize:g="lg",asLink:_=!1}){let y=(0,o.ZP)(),{showToast:v,showOneToast:f}=(0,d.F9)(),b=y.bt(" ", "Copy link", "[button] copy a URL link shown, to paste in another place", undefined, true),x=(e,t)=>{t&&(m?f:v)(({hideToast:e})=>(0,c.jsx)(r.ZP,{duration:p,onHide:e,text:null!=i?i:y.bt("    .", "Link copied to clipboard!", "toast message to confirm if users copied the url successfully", undefined, true)})),n()};return _?(0,c.jsx)(a.Z,{name:"SafeSuspense_CopyableLink_CopyToClipboard",children:(0,c.jsx)(s.Z,{fallback:(0,c.jsx)(l.zx,{text:b,disabled:!0}),children:(0,c.jsx)(u,{text:e,onCopy:x,children:(0,c.jsx)(l.rU,{href:"",display:"inline",children:b})})})}):(0,c.jsxs)(l.xu,{display:"flex",alignItems:"center",paddingX:h?0:4,children:[!h&&(0,c.jsx)(l.xu,{flex:"grow",marginEnd:2,children:(0,c.jsx)(l.nv,{id:"copylinkurl",onChange:()=>{},onFocus:t,size:"lg",type:"url",value:e})}),(0,c.jsx)(a.Z,{name:"SafeSuspense_CopyableLink_CopyToClipboard",children:(0,c.jsx)(s.Z,{fallback:(0,c.jsx)(l.zx,{text:b,disabled:!0}),children:(0,c.jsx)(u,{text:e,onCopy:x,children:(0,c.jsx)(l.zx,{text:b,size:g})})})})]})}},724097:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(883119),l=n(460914),a=n(785893);let r=40,o=70,s={__style:{borderRadius:"4px",padding:"10px 14px"}},d={__style:{borderWidth:"1px",borderStyle:"solid",borderColor:"white"}},c={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},u=e=>({__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...e}}),p=e=>"transparent"===e||"dark"===e?"inverse":"primary"===e?"light":"default",m=({color:e,icon:t})=>t?c:"transparent"===e?{__style:{...s.__style,...d.__style}}:s,h=({accessibilityLabel:e,color:t,customStyles:n,forwardedRef:s,icon:d,inline:c=!1,minHeight:h=r,minWidth:g=o,onTouch:_,pressState:y,shape:v,text:f})=>{let b=p(t),x=m({color:t,icon:d}),k=(0,a.jsx)(i.xu,{position:"relative",children:(0,a.jsx)(i.xu,{color:t,display:c?"inlineBlock":"flex",justifyContent:"center",minHeight:h,minWidth:g,dangerouslySetInlineStyle:"pill"===v?u(n):x,children:(0,a.jsxs)(i.kC,{alignItems:"center",justifyContent:"center",children:[d&&(0,a.jsx)(i.xu,{paddingX:"check"===d?2:0,children:(0,a.jsx)(i.JO,{accessibilityLabel:e,color:b,icon:d,inline:!0,size:"check"===d?16:20})}),(0,a.jsx)(i.xv,{color:b,inline:!0,size:"300",lineClamp:1,weight:"bold",children:f})]})})});return _?(0,a.jsx)(l.Z,{onTouch:_,rounding:"pill"===v?"pill":2,pressState:y||"none",children:(0,a.jsx)(i.xu,{ref:s,children:k})}):k}},510525:(e,t,n)=>{"use strict";let i;n.d(t,{i5:()=>x,sX:()=>S,aX:()=>k,Z5:()=>b,NG:()=>P,MT:()=>w,iu:()=>T});var l=n(667294),a=n(690108),r=n(222443),o=n(583592),s=n(170567),d=n(682492),c=n.n(d);let u=(e,t)=>e.data[t]&&e.data[t].messages||[];function p(e,t){let n={};return e.filter(e=>!!e).reduce((e,i)=>{let l=t(i);return n[l]?(c()(n[l],i),e):(n[l]=i,e.concat([i]))},[])}function m(e){return[...e].sort((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at))}function h(e,t,n){return m(p(u(e,t).concat(n),e=>e.id))}let g={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function _(e=g,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){let{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){let n={...e,data:{...e.data}},{id:i}=t.payload;return delete n.data[i],n}if("FETCH_COMPLETE"===t.type){let{options:n,resource:i,response:l}=t.payload,a=l.resource_response.data;if("ConversationMessagesResource"===i){let t=(null==n?void 0:n.conversation_id)||"",i=h(e,t,a||[]),l=i[i.length-1],r={...e,data:{...e.data,[t]:{...e.data[t],id:t,messages:i,unread:0,last_message:l}}};return r}if("ConversationsResource"===i){let t={...e,data:{...e.data}};return(a||[]).forEach(e=>{let{id:n,created_at:i,name:l,board:a,emails:r,unread:o,users:s,last_message:d}=e,c=h(t,n,[d]);t.data[n]={...t.data[n],id:n,created_at:i,name:l,board:a,emails:r||[],unread:o||0,users:s||[],last_message:d,messages:c}}),t}if("ConversationResource"===i){let t=a||{},{id:n}=t,i={...e,data:{...e.data}};return n&&(i.data[n]={...i.data[n],...t}),i}if("NewsHubBadgeResource"===i&&a){let t=a.conversations_unseen_count||0;return{...e,unread:t}}}else if("MESSAGE_SEND_PENDING"===t.type){let{id:n,message:i}=t.payload;if(e.data[n])return{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:[...e.data[n].messages,i]}}}}else if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){let{id:n,tempMessage:i,newMessage:l}=t.payload;if(e.data[n]){let t=u(e,n).find(e=>e.id===i.id&&e.created_ms===i.created_ms);if(t){let t=m(p(u(e,n).filter(e=>e.id!==i.id).concat([l]),e=>e.id));return{...e,data:{...e.data,[n]:{...e.data[n],last_message:l,messages:t}}}}}}else if("MESSAGE_SEND_PENDING_FAILURE"===t.type){let{id:n,tempMessageId:i}=t.payload;if(e.data[n]){let t=u(e,n).filter(e=>e.id!==i);return{...e,data:{...e.data,[n]:{...e.data[n],messages:t}}}}}else if("OPEN_NEW_MESSAGE"===t.type){let{objectAttachment:n}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:n}}else if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};else if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};else if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};else if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};else if("CLEAR_MESSAGE_BADGE"===t.type){let{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],unread:0}}}}else if("CONVERSATION_SAVE_POSITION"===t.type){let{id:n,position:i}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],position:i}}}}else if("CONVERSATION_RESET_POSITION"===t.type){let{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],position:null}}}}else if("SET_OBJECT_ATTACHMENT"===t.type){let{objectAttachment:n}=t.payload;return{...e,objectAttachment:n}}else if("REMOVE_OBJECT_ATTACHMENT"===t.type)return{...e,objectAttachment:null};return e}var y=n(785893);let v=(i=0,()=>i++),{Provider:f,useHook:b}=(0,o.Z)("Conversations");function x({children:e}){let[t,n]=(0,l.useReducer)(_,g),i=(0,l.useCallback)(e=>n({type:"FETCH_COMPLETE",payload:e}),[]);(0,s.Z8)("ConversationMessagesResource",i),(0,s.my)("ConversationMessagesResource",i),(0,s.Z8)("ConversationsResource",i),(0,s.Z8)("ConversationResource",i),(0,s.Z8)("NewsHubBadgeResource",i);let r=(0,l.useCallback)((e,t=!1,i="")=>n({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:i}}),[]),o=(0,l.useCallback)((e,t="",i=!1)=>n({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:i}}),[]),d=(0,l.useCallback)(e=>n({type:"CONVERSATION_CREATE",payload:e}),[]),c=(0,l.useCallback)(e=>n({type:"CONVERSATION_DELETE",payload:{id:e}}),[]),u=(0,l.useCallback)((e,t)=>n({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}}),[]),p=(0,l.useCallback)(e=>n({type:"CONVERSATION_RESET_POSITION",payload:{id:e}}),[]),m=(0,l.useCallback)((e,t,i)=>{a.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(e=>{let t=e&&e.resource_response.data;n({type:"CONVERSATION_OPEN",payload:{id:t.id}})}).catch(e=>{let t=e.message_detail||e.message||"";i(t)})},[]),h=(0,l.useCallback)(()=>{n({type:"CLOSE_DROPDOWN"})},[]),v=(0,l.useCallback)(()=>{n({type:"OPEN_DROPDOWN"})},[]),b=(0,l.useCallback)(e=>{n({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})},[]),x=(0,l.useCallback)((e,t)=>n({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}),[]),k=(0,l.useCallback)((e,t,i)=>n({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:i}}),[]),P=(0,l.useCallback)((e,t)=>n({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}}),[]),S=(0,l.useCallback)(e=>n({type:"UPDATE_NEWSHUB_COUNT",payload:e}),[]),w=(0,l.useCallback)(e=>n({type:"UPDATE_UNREAD_COUNT",payload:e}),[]),T=(0,l.useCallback)(e=>n({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}}),[]),A=(0,l.useCallback)(e=>n({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}}),[]),C=(0,l.useCallback)(()=>n({type:"REMOVE_OBJECT_ATTACHMENT"}),[]),I=(0,l.useMemo)(()=>({clearMessageBadge:T,conversationOpen:r,conversationClose:o,conversationCreate:d,conversationDelete:c,conversationGet:m,saveConversationPosition:u,resetConversationPosition:p,dropdownClose:h,dropdownOpen:v,newMessageOpen:b,pendingMessageSend:x,pendingMessageSuccess:k,pendingMessageFailure:P,updateNewsHubCount:S,updateUnreadCount:w,conversations:t,setObjectAttachment:A,removeObjectAttachment:C}),[T,r,o,d,c,m,u,p,h,v,b,x,k,P,S,w,t,A,C]);return(0,y.jsx)(f,{value:I,children:e})}function k(){let{conversationCreate:e}=b();return async t=>{let n;let i=a.Z.create("ConversationsResource",t);try{let t=await i.callCreate(),l=t.resource_response.data;l&&(e(l),n=l)}catch(e){throw Error(e.message)}return n}}function P(){let{conversations:e,conversationCreate:t,pendingMessageSend:n,pendingMessageSuccess:i,pendingMessageFailure:l}=b(),o=(0,r.Z)();return async(r,s,d,c)=>{let{text:u,pinId:p,boardId:m,userId:h,didItId:g}=s;async function _(){let e=a.Z.create("ConversationMessagesResource",{conversation_id:r,text:u,pin:p,board:m,user:h,user_did_it_data:g,source:d,client_tracking_params:o(null!=p?p:"")}),t=`${v()}`,s={text:u,sender:c,created_at:new Date().toString(),created_ms:Date.now(),id:t,type:"tempMessage"};n(r,s);try{let t=await e.callCreate(),n=t.resource_response.data;n&&i(r,s,n)}catch(e){throw l(r,t),Error(e.message)}}if(e.data[r])await _();else{let e=a.Z.create("ConversationResource",{conversation_id:r});try{let n=await e.callGet(),i=n.resource_response.data;i&&(t(i),await _())}catch(e){throw Error(e.message)}}}}function S(e){let{conversations:t}=b();return t.data[e]}function w(e){let{conversations:t}=b();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function T(){let{conversations:{data:e}}=b(),t=Object.keys(e).map(t=>e[t]).filter(e=>e.users&&e.last_message);return Array.from(t).sort((e,t)=>new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at))}},843843:(e,t,n)=>{"use strict";n.d(t,{MZ:()=>R,di:()=>D,Ai:()=>F});var i=n(667294),l=n(616550),a=n(883119),r=n(865173),o=n(563962),s=n(525571),d=n(988014),c=n(245410),u=n(617285),p=n(500797),m=n(282802),h=n(611756),g=n(173085),_=n(98736),y=n(802071),v=n(700453),f=n(277192),b=n(799006),x=n(724097),k=n(250307),P=n(354428),S=n(28630),w=n(204926);let T=({children:e,external:t,externalQueryParams:n,target:i,href:a,features:r})=>{let o=(0,l.useHistory)();if(!a)return null;let s=(0,k.Z)(a);return e({navigate:e=>{e.preventDefault(),(0,S.Z)({url:s})||t?"undefined"!=typeof window&&window.Windows?(0,w.Z)(s):(0,P.Gj)(s,{queryParams:n,features:r}):(0,P.G3)({event:e,href:a,history:o,target:"blank"===i?"blank":null})}})};var A=n(785893),C=n(951599),I=n(352865),j=n(712968);let E=e=>"string"==typeof e?e:`${e.pathname||""}${e.search?`?${e.search}`:""}`,L=(e,t=!1)=>function({isAppUpsellDisabled:n,...x}){let{children:k,clientTrackingParams:P,deeplinkUri:S,external:w,onTouch:T,refresh:L,to:R,viewParameter:F,viewType:D}=x,z=(0,b.Z)(),[M,O]=(0,i.useState)(!1),[Z,N]=(0,i.useState)(!1),[K,B]=(0,i.useState)(!1),{isAuth:U}=(0,y.Z)(),{userAgent:{platform:H,browserName:V},locale:G}=(0,m.B)(),$=(0,j.Tt)(),W=(0,o.Z)(),{checkExperiment:q}=(0,c.F)(),Y=(0,l.useLocation)(),X=(0,u.Z)();(0,i.useEffect)(()=>{(async function(){if((0,r.v)()){B(!0);let e=await (0,r.Z)();e.length>0&&N(!0)}})()},[]),(0,i.useEffect)(()=>{U||(0,_.My)(`unauth.app_upsell.has_app.${Z.toString()}`,{browser:V,platform:H})},[V,Z,U,H]);let J=()=>{W({event_type:1701,view_type:D,view_parameter:F}),M&&O(!1)};return(0,A.jsxs)(a.xu,{"data-test-id":"deeplink-wrapper",children:[M&&(0,A.jsx)(f.Z,{clientTrackingParams:P,deepLinkUri:S,isOpen:!0,onDismiss:()=>{W({component:14157,element:10308,event_type:10220,view_type:D||202,view_parameter:F,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,h.Nh)("deeplinkBehavior","branchfallback"),J()},shouldTrackDismiss:!0,to:R,viewParameter:F,viewType:D,app_upsell_type:"deep-link-app-upsell-modal"}),(0,A.jsx)(C.Z,{children:i=>(0,A.jsx)(e,{...x,onTouch:e=>{let l=z&&!n&&U&&!w&&!L&&!(0,p.FP)(window)&&!("ios"===H&&(G||"").startsWith("ar"))&&(0,I.kp)((0,s.Z)(null==$?void 0:$.created_at));if(l){let t=!0,n=!1,l="string"==typeof S&&(S||"").startsWith("/pin/")&&((0,d.uM)(Y)||(0,d.am)(Y)||(0,d.C$)(Y));l?K&&Z&&S&&"android"===H&&q("mweb_auth_deep_link_app_installed_user").anyEnabled&&(X(),t=!1):(t=!1,n=!0),t?(e.stopPropagation(),e.preventDefault(),O(!0)):n||(e.stopPropagation(),e.preventDefault(),W({component:14347,element:13582,event_type:3830,view_type:20,view_parameter:3844,aux_data:{upsell_reason:"deep-link-app-upsell-modal"}}),i(null!=S?S:(0,v.B)(Y,"android"===H),"deep-link-app-upsell-modal"))}else"branchfallback"!==(0,h.qn)("deeplinkBehavior")||(0,g.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,g.Nh)("fallbackAttempt",1),i(S,"deep-link-app-upsell-modal",`${window.location.origin}${E(R)}`),J());!(t&&l)&&T&&T(e)},children:k})})]})},R=L(({accessibilityLabel:e,children:t,external:n,externalQueryParams:i,features:l,inline:r=!1,newTab:o,nofollow:s,onTouch:d,onBlur:c,onFocus:u,pressState:p,rounding:m,to:h})=>(0,A.jsx)(T,{external:n,target:o?"blank":null,externalQueryParams:i,features:l,href:h,children:({navigate:n})=>(0,A.jsx)(a.rU,{accessibilityLabel:e,onBlur:c?({event:e})=>c(e):void 0,onFocus:u?({event:e})=>u(e):void 0,underline:"none",href:(0,k.Z)(h),display:r?"inlineBlock":"block",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==d||d(e),e.defaultPrevented||n(e)},rel:s?"nofollow":"none",rounding:m,tapStyle:(Array.isArray(p)?p:[p]).includes("compress")?"compress":"none",children:t})})),F=L(({external:e,externalQueryParams:t,newTab:n,onTouch:i,to:l,...a})=>(0,A.jsx)(T,{external:e,target:n?"blank":null,externalQueryParams:t,href:l,children:({navigate:e})=>(0,A.jsx)(x.Z,{onTouch:t=>{null==i||i(t),t.defaultPrevented||e(t)},...a})})),D=L(x.Z,!0)},951599:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(388011),l=n(245410),a=n(282802),r=n(868489),o=n(352865),s=n(185803),d=n(785893);function c({children:e,invite_code:t}){let{isAuthenticated:n,isBot:r,unauthId:d,userAgent:{platform:c,raw:u}}=(0,a.B)(),{logContextEvent:p}=(0,i.v)(),{checkExperiment:m}=(0,l.F)(),h=async(e,i,l)=>{p({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:i}}),(0,s.Z)({isAuthenticated:n,checkExperiment:m,deeplinkUri:e,fallbackUrl:l,invite_code:t,logContextEvent:p,platform:c,redirectToLite:(0,o.Rp)({isBot:r,platform:c,userAgent:u}),unauthId:d,userAgent:u,app_upsell_type:i})};return e(h)}let u=e=>(0,d.jsx)(r.ty,{children:t=>(0,d.jsx)(c,{...e,invite_code:t})});u.displayName="DeepLinkNavigator";let p=u},996902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),l=n(883119),a=n(40660),r=n(563962),o=n(950695),s=n(785893);function d(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c=(e,t)=>{let n=e&&e.replace(".","_");return t?n&&n.substring(0,50):n};class u extends i.Component{constructor(...e){super(...e),d(this,"state",{href:void 0}),d(this,"onEvent",()=>new Promise((e,t)=>{"undefined"==typeof window&&t();let{filename:n,imgSrc:i,isAndroidTwa:l,isChromeOnIOS:r,isUnauth:o,logContextEvent:s,category:d,viewParameter:u,viewType:p,pinId:m,imageSignature:h}=this.props,{href:g}=this.state;window.AndroidTwa&&window.AndroidTwa.downloadImage?(window.AndroidTwa.downloadImage(i,c(n,l)),e()):r?(this.imageDownload&&this.imageDownload.click(),e()):null==g&&fetch(i,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(t=>{this.setState({href:window.URL.createObjectURL(t)},()=>{this.imageDownload&&(this.imageDownload.click(),e())})}).catch(()=>this.setState({href:this.DOWNLOAD_ERROR})),a.Z.increment(`mweb.${o?"unauth":"auth"}.download.click.${d||"no_category"}`),s({event_type:82,object_id_str:m,view_type:p||3,view_parameter:u||139,aux_data:{image_signature:h}})})),d(this,"DOWNLOAD_ERROR","error")}render(){let{children:e,filename:t,imgSrc:n,isAndroidTwa:a,isChromeOnIOS:r}=this.props,{href:o}=this.state,d=null!=o&&o!==this.DOWNLOAD_ERROR;return(0,s.jsxs)(i.Fragment,{children:[e(this.onEvent),r&&n?(0,s.jsx)(l.xu,{display:"none",children:(0,s.jsx)("a",{ref:e=>this.imageDownload=e,rel:"noopener noreferrer",tabIndex:-1,target:"_blank",href:n})}):d&&(0,s.jsx)(l.xu,{display:"none",children:(0,s.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:c(t,a),href:o})})]})}}function p(e){let t=(0,o.xC)(),n=(0,r.Z)();return(0,s.jsx)(u,{...e,isAndroidTwa:t,logContextEvent:n})}},443601:(e,t,n)=>{"use strict";n.d(t,{H:()=>o,Z:()=>r});var i=n(860438),l=n(98736),a=n(619277);async function r({filename:e,imgSrc:t,imageDownloadSuccessCallback:n,category:i,pinId:a,viewParameter:r,viewType:o,isUnauth:s=!1,platform:d="web",expName:c,expGroup:u},p){return"undefined"==typeof window?Promise.resolve():((0,l.My)("web.download.click",{category:i||"no_category",authType:s?"unauth":"auth",platform:d,viewType:o,expName:c,expGroup:u}),p({event_type:82,object_id_str:a,view_type:o||3,view_parameter:r||139}),t&&document)?fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(t=>{var a,r;let p=document.createElement("a");p.href=window.URL.createObjectURL(t),p.setAttribute("download",e&&e.replace(".","_")),p.style.display="none",null===(a=document.body)||void 0===a||a.appendChild(p),p.click(),null===(r=document.body)||void 0===r||r.removeChild(p),(0,l.My)("web.download.success",{category:i||"no_category",authType:s?"unauth":"auth",platform:d,viewType:o,expName:c,expGroup:u}),null==n||n()}).catch(()=>{throw(0,l.My)("web.download.failure",{category:i||"no_category",authType:s?"unauth":"auth",platform:d,viewType:o,expName:c,expGroup:u}),Error("Download image error")}):Promise.resolve()}let o=(e,t)=>{let n=i.Z.getItem(a.rN)||0,{group:l}=e(t),r=!!l&&l.startsWith("enabled");if(!r)return{expName:t,expGroup:l,limitReached:!0,oldCount:n,newCount:n};let o=l.split("_").pop(),s=o?parseInt(o,10):0,d=n>=s,c=d?n:n+1;return n!==c&&i.Z.setItem(a.rN,c),{expName:t,expGroup:l,limitReached:d,oldCount:n,newCount:c}}},491452:(e,t,n)=>{"use strict";n.d(t,{N:()=>o,SF:()=>i,XN:()=>d,XU:()=>a,b7:()=>l,fL:()=>s,z5:()=>r});let i=5,l=5,a=1,r="var(--color-border-container)",o="var(--color-border-error)",s="var(--color-gray-roboflow-400)",d="4px solid #0084ff80"},41669:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var i=n(883119),l=n(563962),a=n(536042),r=n(245410),o=n(599226),s=n(98736),d=n(618569),c=n(63262),u=n(549201),p=n(272109),m=n(802071),h=n(230910),g=n(198060),_=n(471819),y=n(525104),v=n(712968),f=n(820166),b=n(618671),x=n(785893);let k=({children:e,pulsar:t,testId:n})=>t.show?(0,x.jsx)(i.xu,{position:"relative","data-test-id":n,children:(0,x.jsxs)(i.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,x.jsx)(i.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,x.jsx)(i.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,x.jsx)(i.o3,{})})]})}):(0,x.jsx)(i.xu,{"data-test-id":n,children:e});function P({auxData:e,disabled:t,disableLog:n,followEventType:P,id:S,inline:w,invertColors:T,isFollowed:A,isIdeaPin:C,isLegoEnabled:I,isSecondaryButton:j,isUserFollowButton:E,isUserMe:L,onFollow:R,onUnfollow:F,pinId:D,shouldUseLegoColors:z,showPulsar:M,size:O,textType:Z="FollowFollowing",unfollowEventType:N,viewParameter:K,viewType:B,clientTrackingParams:U}){let H=(0,a.ZP)(),V=(0,u.HG)(),{showToast:G}=(0,c.F9)(),$=(0,d.Z)(),W=(0,l.Z)(),q=(0,o.Z)(),{checkExperiment:Y}=(0,r.F)(),X=(0,_.Z)(),J=(0,m.Z)(),Q=J&&J.isAuth,{unauthFollowUserId:ee,setUnauthFollowUserId:et}=(0,b.f)(),en=(0,v.mN)()(S),ei=(0,y.S6)()(null!=D?D:""),{link_domain:el,native_creator:ea,origin_pinner:er,pinner:eo}=ei||{},es=(0,h.wS)(el,ea,er,eo),ed=null!=en?en:es;(0,p.Z)(()=>{!V&&Q&&ee&&S&&ee===S&&R(S)});let ec=X({fn:()=>{Q?A?(F(S),n||W({event_type:N,view_type:B,view_parameter:K,object_id_str:S,aux_data:e,clientTrackingParams:U})):(R(S),E&&G(({hideToast:e})=>{if(!ed)return null;let t=ed.username?`/${ed.username}/`:"";return(0,x.jsx)(f.Z,{handleHide:e,text:H.bt("   !        .", "Following! Their created Pins will show up in your home feed!", "followButton.follow.informationalToastText", undefined, true),userId:S,href:t,imageUrl:ed.image_medium_url})}),n||W({event_type:P,view_type:B,view_parameter:K,object_id_str:S,aux_data:e,clientTrackingParams:U})):((0,s.My)(`mweb_unauth_follow_button.tap.${String(B)}`),5===B&&26===P&&(0,s.My)("mweb_unauth_board_page_follow_button.tap"),(0,s.NC)(A?"press_profile_unfollow":"press_profile_follow"),$({action:"click",item:"board-follow-button"}),q({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:C?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:V&&Y("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!V&&Y("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),V||et(null!=S?S:""),(0,s.NC)("clickthrough"))},modalHeader:(0,g.N4)({i18n:H,toFollow:!A})}),eu=!A&&!!M,ep=()=>{if(L)return H.bt(" .", "That's you!", "Follow button is disabled because this is you", undefined, true);if("AddRemove"===Z)return A?H.bt("", "Remove", "unfollowButton.removeText", undefined, true):H.bt("", "Add", "followButton.addText", undefined, true);let e="FollowUnfollow"===Z?H.bt("", "Unfollow", "unfollowButton.unfollowText", undefined, true):H.bt("", "Following", "Follow button label - followed state", undefined, true);return A?e:H.bt("", "Follow", "Follow button label - unfollowed state", undefined, true)};return(0,x.jsx)(k,{pulsar:eu?{show:!0,onClick:ec}:{show:!1},testId:L||A?"board-unfollow-button":"board-follow-button",children:(0,x.jsx)(i.zx,{color:z||"AddRemove"===Z||!I&&j||A?"gray":"red",disabled:L||t,fullWidth:w,onClick:eu?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),n||W({event_type:101,component:13672,element:11951,object_id_str:S,view_type:B,view_parameter:K,aux_data:e,clientTrackingParams:U}),ec()},selected:T?!A:z&&A||!!A&&j,size:O,text:ep(),accessibilityLabel:ep()})})}},212380:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(883119),l=n(536042),a=n(785893);let r=({isInModal:e})=>{let t=(0,l.ZP)();return(0,a.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new i.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},children:(0,a.jsx)(i.$j,{accessibilityLabel:t.bt("", "Loading", "Full page loading state", undefined, true),show:!0})})}},589665:(e,t,n)=>{"use strict";n.d(t,{L1:()=>a,Rz:()=>s,WZ:()=>r,cI:()=>l,fe:()=>o,hu:()=>i});let i=64,l=80,a=22,r="HeaderContent",o=671,s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},328939:(e,t,n)=>{"use strict";n.d(t,{fv:()=>v,fS:()=>S,Hs:()=>b,Mv:()=>_,uc:()=>y,dL:()=>g,qS:()=>f,Y4:()=>P,HE:()=>k,Cy:()=>x});var i=n(667294),l=n(973935),a=n(388011),r=n(906215),o=n(785893);function s(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),s(this,"observe",()=>{try{if(this.node=(0,l.findDOMNode)(this),this.node instanceof HTMLElement){let{pinIdStr:e,newsIdStr:t}=this.props.eventData;r.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),s(this,"logImpression",e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}})})}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&r.Z.stop(this.node)}render(){return i.Children.only(this.props.children)}}function c(e){let{logImpression:t}=(0,a.v)();return(0,o.jsx)(d,{...e,logImpression:t})}var u=n(521262),p=n(282802),m=n(567648);function h({auxData:e,component:t,eventData:n,eventType:l,impressionType:o,isPaused:s,objectIdStr:d,viewData:c,viewType:h,viewParameter:g}){let _=(0,i.useRef)(null),{logImpression:y}=(0,a.v)(),v=(0,m.Z)(),f=(0,p.B)(),b=(0,i.useCallback)(()=>{try{if(_.current instanceof HTMLElement){let{pinIdStr:i,newsIdStr:a}=n;r.Z.start(_.current).onExitViewport(i=>{var a,r,s,p,m,b;y({viewData:c||{},viewType:h,viewParameter:g,eventType:l,impressionType:o,auxData:e,component:t,objectIdStr:d,eventData:{endTime:i.endTime,time:i.startTime,pinCellWidth:(null===(a=_.current)||void 0===a?void 0:a.getBoundingClientRect().width)||0,pinCellHeight:(null===(r=_.current)||void 0===r?void 0:r.getBoundingClientRect().height)||0,windowWidth:null===(s=window)||void 0===s?void 0:s.innerWidth,windowHeight:null===(p=window)||void 0===p?void 0:p.innerHeight,...n}});let{attributionSourceId:x,campaignId:k,isPromoted:P,link:S,advertiserId:w}=n;"pinImpressions"===o&&P&&!v&&null!==(m=window.document.featurePolicy)&&void 0!==m&&m.allowsFeature("attribution-reporting")&&(0,u.YS)(o,P,null!=x?x:null,S,k,{appType:f.appTypeDetailed,osType:(0,u.eF)(null!==(b=f.userAgent.osName)&&void 0!==b?b:"Unknown")},null!=w?w:null)}).setDebugId(i||a||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[_.current]);return(0,i.useEffect)(()=>{s||b();let{current:e}=_;return()=>{e instanceof HTMLElement&&r.Z.stop(e)}},[s,b]),_}let g=e=>{let t=h({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},_=e=>{let t=h({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},y=e=>{let t=h({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},v=e=>(0,o.jsx)(c,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),f=e=>{let t=h({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},b=e=>(0,o.jsx)(c,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),x=e=>{let t=h({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},k=e=>{let t=h({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},P=e=>{let t=h({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},S=e=>{let t=h({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3700,impressionType:"boardImpressions",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})}},460914:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(883119),l=n(785893);function a({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:a,rounding:r,fullWidth:o=!1,pressState:s="none",accessibilityLabel:d,role:c}){let u=(Array.isArray(s)?s:[s]).includes("compress");return(0,l.jsx)(i.iP,{fullWidth:o,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:a&&(({event:e})=>a(e)),rounding:r,tapStyle:u?"compress":"none",accessibilityLabel:d,role:c,children:e})}},852930:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(667294),l=n(616550),a=n(883119),r=n(536042),o=n(874261),s=n(265259),d=n(988014),c=n(282802),u=n(549201),p=n(563962),m=n(618569),h=n(785893);function g({breadcrumb:e,isLastBreadcrumb:t,viewType:n}){var i;let l=(0,p.Z)(),r=(0,m.Z)();return(0,h.jsx)(a.xu,{color:t?"secondary":void 0,"data-test-id":"breadcrumb",display:"inlineBlock",paddingX:t?2:void 0,paddingY:t?1:void 0,rounding:"pill",children:(0,h.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,h.jsx)(a.rU,{href:null!==(i=e.url)&&void 0!==i?i:"",onClick:({dangerouslyDisableOnNavigation:e})=>{e(),r({action:"click",item:"breadcrumb"}),l({event_type:102,component:176,element:1155,view_parameter:3713,view_type:n})},children:(0,h.jsx)(a.xv,{color:"default",inline:!0,size:"100",overflow:"noWrap",children:e.name})}),!t&&(0,h.jsx)(a.xu,{paddingX:3,display:"inlineBlock",children:(0,h.jsx)(a.xv,{inline:!0,size:"100",color:"default",children:(0,h.jsx)(a.JO,{accessibilityLabel:"breadcrumb arrow",color:"default",icon:"arrow-forward",size:8})})})]})})}var _=n(458672);let y=`
  .article-row {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  div::-webkit-scrollbar {
    display: none;
  }
`;function v({direction:e}){return(0,h.jsx)(a.xu,{width:16,height:32,position:"absolute",left:"left"===e,right:"right"===e,dangerouslySetInlineStyle:{__style:{backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0), #fff)`}}})}function f({breadcrumbs:e,disableOverflowGradient:t,shouldHideLazyExploreButton:n}){let p=(0,r.ZP)(),m=(0,l.useLocation)(),{origin:f}=(0,c.B)(),b=(0,u.ml)(),x=(0,u.HG)(),[k,P]=b?[2,3]:[4,4],S=(0,d.Q0)(m),w=!1,T=202;(0,d.uM)(m)?T=3:(0,d.dr)(m)?(T=442,w=!0):(0,d.$Y)(m)||(0,d.E0)(m)?T=1:S&&(w=!0,T=580);let A=S?{name:p.bt("", "Watch", "unauth.header.tabs.videos", undefined, true),url:"/videos/"}:{name:p.bt("", "Explore", "unauth.header.tabs.ideas", undefined, true),url:"/ideas/"},C=w?e.slice(0,e.length-1):[...e],I=[...S||!n?[A]:[],...C];return(0,h.jsxs)(a.xu,{"data-test-id":"breadcrumbs",children:[(0,h.jsx)(o.Z,{unsafeCSS:y}),(0,h.jsx)(s.Z,{children:(0,h.jsx)(a.xu,{"data-test-id":"breadcrumbs-list",display:"flex",height:50.5,alignItems:"center",direction:"column",paddingY:P,overflow:"scrollX",justifyContent:x?"center":void 0,dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},children:(0,h.jsxs)(a.xu,{display:"flex",alignItems:"center",margin:x?void 0:"auto",paddingX:k,justifyContent:"end",children:[!t&&(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(v,{direction:"left"}),(0,h.jsx)(v,{direction:"right"})]}),I.map((e,t,n)=>(0,h.jsx)(g,{breadcrumb:e,isLastBreadcrumb:t===n.length-1,viewType:T},e.url))]})})}),(0,h.jsx)(_.Z,{type:"application/ld+json",testId:"breadcrumbs-list-metadata",value:{"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{name:p.bt("Pinterest", "Pinterest", "unauth.header.tabs.pinterest", undefined, true),url:""},A,...e].map((e,t)=>{var n;return{"@type":"ListItem",position:t+1,name:e.name,item:`${f}${null!==(n=e.url)&&void 0!==n?n:""}`}})}})]})}},199727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i,l=n(167912),a=n(448709),r=n(819079),o=n(852930),s=n(785893);let d=void 0!==i?i:i=n(766131),c=(0,a.Z)({useGraphQLAdapter:e=>{var t,n,i,a,r;let o=(0,l.useLazyLoadQuery)(d,{pinId:e});return{breadcrumbs:null!==(t=null===(n=o.v3GetPinQuery)||void 0===n?void 0:null===(i=n.data)||void 0===i?void 0:null===(a=i.pinJoin)||void 0===a?void 0:null===(r=a.seoBreadcrumbs)||void 0===r?void 0:r.map(({name:e,url:t})=>({name:null!=e?e:"",url:null!=t?t:""})))&&void 0!==t?t:[],shouldHideLazyExploreButton:!1}},useLegacyAdapter:e=>{var t;let{data:n,isLoaded:i}=(0,r.Z)({name:"PinResource",options:{id:e,field_set_key:"unauth_ssr_lazy_load"}});return{shouldHideLazyExploreButton:!i,breadcrumbs:(null==n?void 0:null===(t=n.pin_join)||void 0===t?void 0:t.seo_breadcrumbs)||[]}}});function u({pinId:e,shouldUseGraphQL:t}){return(0,s.jsx)(c,{input:t?{enabled:!0,data:e,suspense:{fallback:(0,s.jsx)(o.Z,{breadcrumbs:[],shouldHideLazyExploreButton:!0})}}:{enabled:!1,data:e},children:({data:{breadcrumbs:e,shouldHideLazyExploreButton:t}})=>(0,s.jsx)(o.Z,{breadcrumbs:e,shouldHideLazyExploreButton:t})})}},94339:(e,t,n)=>{"use strict";n.d(t,{G:()=>p,Kl:()=>m,vo:()=>u});var i=n(667294),l=n(583592),a=n(170567),r=n(133244),o=n(785893);let s=()=>n.e(90616).then(n.bind(n,390616)),{Provider:d,useHook:c}=(0,l.Z)("NativeEngagements");function u({children:e}){let[t,n]=(0,r.Z)(s,[]),l=e=>{n({type:"FETCH_COMPLETE",payload:e})};(0,a.Z8)("NativeInteractionsResource",l),(0,a.my)("NativeInteractionsResource",l);let c=(0,i.useMemo)(()=>({dispatch:n,nativeEngagements:t}),[n,t]);return(0,o.jsx)(d,{value:c,children:e})}function p(){let{dispatch:e}=c();return(0,i.useMemo)(()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}),[e])}function m(){let{nativeEngagements:e}=c();return e}},369050:(e,t,n)=>{"use strict";n.d(t,{U:()=>o,m:()=>s});var i=n(667294),l=n(583592),a=n(785893);let{Provider:r,useHook:o}=(0,l.Z)("NavFooterContext");function s({children:e}){let[t,n]=(0,i.useState)(),[l,o]=(0,i.useState)(!1),[s,d]=(0,i.useState)(0),[c,u]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1),[h,g]=(0,i.useState)(!1);return(0,a.jsx)(r,{value:{forceShowNavFooter:h,homeFlyoutText:t,isNavFooterHiddenAfterScroll:l,numUnauthSavedPins:s,setForceShowNavFooter:g,setHomeFlyoutText:n,setIsNavFooterHiddenAfterScroll:o,setNumUnauthSavedPins:d,setShowHomeBadge:u,setShowHomeFlyoutWithButton:m,showHomeBadge:c,showHomeFlyoutWithButton:p},children:e})}},360675:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(883119),l=n(558533);let a=new i.H3([l.Z]),r=a},199999:(e,t,n)=>{"use strict";n.d(t,{D:()=>l,a:()=>a});var i=n(583592);let{Provider:l,useMaybeHook:a}=(0,i.Z)("unauthPageWrapperContext")},913137:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});var i=n(611756),l=n(539130),a=n(619277);let r=({canUpsellNativeApp:e})=>{let t;if("undefined"==typeof window)return t;let n=(0,i.qn)(a.CP),r=!!(n&&Date.now()-Number(n)<864e5),o=(0,i.qn)(a.X)||0,s=Number(o)>=3,d=(0,i.qn)(l.V5),c=Date.now()-Number(d)<l.UH?(0,i.qn)(l.QJ):0,u=c>=l.km;return!e||r||s?u||(t="saveSend"):t="appUpsell",t}},571252:(e,t,n)=>{"use strict";n.d(t,{fW:()=>r,GY:()=>l,bR:()=>a,Jg:()=>i});let i=["goodIdea","love","thanks","wow","haha"],l={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},a={goodIdea:7,love:1,thanks:13,wow:11,haha:5},r=({i18n:e,type:t})=>{let n={default:{staticAsset:"https://s.pinimg.com/webapp/heartOutline-0138e548.svg"},goodIdea:{backgroundColor:"yellow-caramellow-50",staticAsset:"https://s.pinimg.com/webapp/goodIdea-5e547757.svg",animatedAsset:"https://s.pinimg.com/webapp/goodIdea-6fc48116.svg",gridAsset:"https://s.pinimg.com/webapp/goodIdea-082848ba.svg",label:e.bt(" !", "Good idea", "Reaction label to tell a creator that their pin is a good idea", undefined, true),htmlStyle:`
      @keyframes play90 {
        0% {
          background-position: 0px 0px;
        }
        100% {
          background-position: -7380px 0px;
        }
      }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:7},haha:{backgroundColor:"purple-mysticool-100",staticAsset:"https://s.pinimg.com/webapp/haha-8cfa5f5c.svg",animatedAsset:"https://s.pinimg.com/webapp/haha-cd8faac5.svg",gridAsset:"https://s.pinimg.com/webapp/haha-7945c718.svg",label:e.bt("!", "Haha", "Reaction label to tell a creator that the pinner laughed because of their pin", undefined, true),htmlStyle:`
      @keyframes play60 {
        0% {
          background-position: 0px 0px;
        }
        100% {
          background-position: -4920px 0px;
        }
      }
    `,animationStyle:"play60 2000ms steps(60) infinite forwards",type:5},love:{backgroundColor:"red-pushpin-100",staticAsset:"https://s.pinimg.com/webapp/love-78721287.svg",animatedAsset:"https://s.pinimg.com/webapp/love-ccd5b808.svg",gridAsset:"https://s.pinimg.com/webapp/love-1ec7b8e4.svg",label:e.bt(" !", "Love", "Reaction label to tell a creator that the pinner loved their pin", undefined, true),htmlStyle:`
      @keyframes play90 {
        0% {
          background-position: 0px 0px;
        }
        100% {
          background-position: -7380px 0px;
        }
      }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:1},thanks:{backgroundColor:"teal-spabattical-100",staticAsset:"https://s.pinimg.com/webapp/thanks-a8f6f97f.svg",animatedAsset:"https://s.pinimg.com/webapp/thanks-6831daf3.svg",gridAsset:"https://s.pinimg.com/webapp/thanks-b3cf8b93.svg",label:e.bt("!", "Thanks", "Reaction label to tell a creator thank you", undefined, true),htmlStyle:`
      @keyframes play60 {
        0% {
          background-position: 0px 0px;
        }
        100% {
          background-position: -4920px 0px;
        }
      }
    `,animationStyle:"play60 2000ms steps(60) infinite forwards",type:13},wow:{backgroundColor:"orange-firetini-50",staticAsset:"https://s.pinimg.com/webapp/wow-1da53698.svg",animatedAsset:"https://s.pinimg.com/webapp/wow-b776449f.svg",gridAsset:"https://s.pinimg.com/webapp/wow-9e62e75a.svg",label:e.bt("  !", "Wow", "Reaction label to tell a creator that the pinner was wowed by their pin", undefined, true),htmlStyle:`
      @keyframes play90 {
        0% {
          background-position: 0px 0px;
        }
        100% {
          background-position: -7380px 0px;
        }
      }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:11}};return n[t]||null}},154500:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var i=n(667294),l=n(702664),a=n(883119),r=n(563962),o=n(536042),s=n(819079),d=n(90046),c=n(471819),u=n(571252),p=n(785893);let m="cubic-bezier(0, 0, 0.58, 1)",h={loaded:{opacity:1,transitionDuration:"0.20s",transitionTimingFunction:m,transitionProperty:"transform, opacity",transform:"translate(0, 5px)",transformOrigin:"center"},fade:{opacity:.1,transitionDuration:"0.30s",transitionTimingFunction:m,transitionProperty:"transform, opacity",transform:"translate(0, 5px)",transformOrigin:"center"}};function g({reactionLabel:e,handleHideConfirmation:t}){let[n,l]=(0,i.useState)("loaded"),r=(0,i.useRef)();return(0,i.useEffect)(()=>{r.current=requestAnimationFrame(()=>{setTimeout(()=>l("fade"),1e3),setTimeout(()=>t(),1300)})},[]),(0,p.jsx)(a.xu,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",children:(0,p.jsx)(a.xu,{rounding:"pill",position:"absolute",color:"selected",ref:r,height:"20px",display:"flex",alignItems:"center",justifyContent:"center",paddingY:1,paddingX:2,dangerouslySetInlineStyle:{__style:{...h[n],whiteSpace:"nowrap"}},children:(0,p.jsx)(a.xv,{color:"inverse",size:"100",weight:"bold",overflow:"normal",children:e})})})}var _=n(874261),y=n(460914);let v="cubic-bezier(0.25, 0.1, 0.25, 1)",f={icon:{backgroundRepeat:"no-repeat",backgroundSize:"cover"},loading:{opacity:0,transitionDuration:"0.25s",transitionTimingFunction:v,transitionProperty:"transform, opacity",transform:"translateZ(0) translateY(25px) scale(1.28)"},loaded:{opacity:1,transitionDuration:"0.25s",transitionTimingFunction:v,transitionProperty:"transform, opacity",transform:"translateZ(0) translateY(0px) scale(1.28)"},clicked:{transitionDuration:"0.25s",transitionTimingFunction:v,transitionProperty:"transform",transform:"translateZ(0) translateY(-50px) scale(1.2)"},flying:{transitionDuration:"0.25s",transitionTimingFunction:v,transitionProperty:"transform"},label:{transitionDuration:"0.25s",transitionTimingFunction:v,transitionProperty:"transform",transform:"translateZ(0) translateY(0) scale(0.8)",whiteSpace:"nowrap"},fading:{opacity:0,transitionDuration:"0.25s",transitionTimingFunction:v}},b={boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)"};function x({handleReactionClick:e,isCentered:t,isIdeaPinCloseUp:n,isInCommentModule:l,marginTop:s,reactionButtonRect:d,shouldShowReactionTrayUp:c,viewType:m,viewParameter:h,reactionPickerRef:g}){let v=(0,o.ZP)(),x=(0,r.Z)(),[k,P]=(0,i.useState)("loading"),[S,w]=(0,i.useState)(""),[T,A]=(0,i.useState)(),[C,I]=(0,i.useState)(),[j,E]=(0,i.useState)(!1),[L,R]=(0,i.useState)({}),F=(0,i.useRef)(),D=(0,i.useRef)({}),z=()=>{E(!0);let e={...L};u.Jg.forEach(t=>{D.current[t]&&!e[t]&&(e[t]=D.current[t].getBoundingClientRect())}),R(e)},M=()=>{let e={...T};u.Jg.forEach(t=>{let n=L[t],{left:i,top:l}=d,{left:a,top:r}=n,o=i-a-7+1.25*u.Jg.indexOf(t);e[t]={translateX:o,translateY:l-r-8.5}}),A(e)};(0,i.useEffect)(()=>{"loading"===k&&(F.current=requestAnimationFrame(()=>P("loaded"))),!T&&j&&M()},[j]);let O=()=>{document.body&&document.body.style&&(document.body.style.overflow="hidden")},Z=()=>{document.body&&document.body.style&&(document.body.style.overflow="unset")},N=e=>{let t;return j&&u.Jg.forEach(n=>{let i=L[n];if(i&&i.left&&i.right){let{left:l,right:a}=i;e>=l&&e<=a&&(t=n)}}),t||null},K=t=>{l&&t.stopPropagation(),z(),O();let{clientX:n}=t,i=N(n);if(i!==S&&i){if(C&&S){let{type:e}=(0,u.fW)(i);x({event_type:105,element:11354,view_type:m,view_parameter:h,aux_data:{reaction_type:e,duration:`${(Date.now()-C)/1e3} seconds`}})}else!C&&S&&I(Date.now());w(i),P("clicked"),setTimeout(()=>{P("flying"),setTimeout(()=>{e(i)},800),Z()},750)}},B=u.Jg.map((e,t)=>{let n={transitionDelay:`${.2*(t/u.Jg.length)}s`},i={};T&&(i={transform:`translateZ(0) translateX(${T[e].translateX}px) translateY(${T[e].translateY}px) scale(1)`});let{staticAsset:l,animatedAsset:r,label:o,htmlStyle:s,animationStyle:d}=(0,u.fW)({i18n:v,type:e});return(0,p.jsx)(a.xu,{display:"flex",alignSelf:"center",children:(0,p.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{zIndex:e===S&&"clicked"===k?"3":"2"}},children:(0,p.jsxs)(a.xu,{maxHeight:"flying"===k?24:32,maxWidth:"flying"===k?24:32,dangerouslySetInlineStyle:{__style:{..."loading"===k||"loaded"===k||S===e&&"clicked"===k||S===e&&"flying"===k?f[k]:{},...S!==e&&("clicked"===k||"flying"===k)?f.loaded:{},..."loading"===k||"loaded"===k?n:{},...S===e&&"flying"===k?i:{},...S!==e&&"flying"===k?f.fading:{},transformOrigin:"left"}},display:"flex",alignItems:"center",justifyContent:"center",position:"relative",children:[S!==e&&(0,p.jsx)(a.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,p.jsx)(a.xu,{width:32,height:32,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${l})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})}),(0,p.jsxs)(a.xu,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column",position:"relative",children:[(0,p.jsx)(_.Z,{unsafeCSS:s}),S===e&&"clicked"===k&&(0,p.jsx)(a.xu,{rounding:"pill",color:"selected",height:20,dangerouslySetInlineStyle:{__style:f.label},display:"flex",alignItems:"center",justifyContent:"center",paddingY:1,paddingX:2,children:(0,p.jsx)(a.xv,{color:"inverse",size:"100",weight:"bold",overflow:"normal",children:o})}),(0,p.jsx)(y.Z,{onTouch:K,pressState:"none",children:(0,p.jsx)(a.xu,{width:S===e&&"flying"!==k?82:"flying"===k?24:32,height:S===e&&"flying"!==k?82:"flying"===k?24:32,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{...f.icon,...S===e&&"clicked"===k?{animation:d}:{},backgroundImage:`url(${r})`}},ref:t=>{D.current[e]=t}})})]})]})})},t)});return(0,p.jsx)(a.xu,{children:(0,p.jsx)(a.xu,{ref:g,"data-test-id":"reaction-tray",top:!0,left:!0,right:t,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{marginLeft:n?-295:0,marginTop:s||(c?-80:80),userSelect:"none"}},children:(0,p.jsx)(a.Le,{top:0,children:(0,p.jsx)(a.xu,{color:"flying"===k?"transparent":"default",width:300,height:80,display:"flex",alignItems:"center",rounding:"pill",justifyContent:"center",dangerouslySetInlineStyle:{__style:{..."flying"!==k?b:{},userSelect:"none"}},children:(0,p.jsx)(a.xu,{width:"100%",children:(0,p.jsx)(a.xu,{display:"flex",justifyContent:"evenly",onTouchStart:()=>{z()},onTouchMove:e=>{O();let{clientX:t}=e.touches[0],n=N(t);if(n!==S){if(C&&S&&n&&(0,u.fW)(n)){let{type:e}=(0,u.fW)(n);x({event_type:105,element:11354,view_type:m,view_parameter:h,aux_data:{reaction_type:e,duration:`${(Date.now()-C)/1e3} seconds`}})}else!C&&S&&I(Date.now());w(n)}P("clicked")},onTouchEnd:()=>{S&&(P("flying"),setTimeout(()=>{e(S)},325)),Z()},children:B})})})})})})}x.defaultProps={isCentered:!1};var k=n(580691);function P(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.PureComponent{static getDerivedStateFromProps(e,t){let{reactions:n,viewer:i}=e,{isReactionsLoaded:l}=t;if(n.length>0&&!l){let e=!1,t=0;return n.forEach(n=>{var l;i&&i.id&&n&&(null!==(l=n.user.id)&&void 0!==l?l:n.user)===i.id&&(e=!0,t=n.reaction_type)}),{didViewerReact:e,userReaction:t?u.GY[t]:"",isReactionsLoaded:!0}}return null}constructor(e){var t;super(e),t=this,P(this,"state",{isReactionTrayShowing:!1,reactionButtonRect:null,showConfirmation:!1,didViewerReact:!1,userReaction:null,isReactionsLoaded:!1}),P(this,"trayCloseTimer",null),P(this,"observer",null),P(this,"reactionPickerRef",(0,i.createRef)()),P(this,"handleClickOutside",e=>{var t;let{isReactionTrayShowing:n}=this.state;n&&this.reactionPickerRef&&e.target instanceof Element&&!(null!==(t=this.reactionPickerRef.current)&&void 0!==t&&t.contains(e.target))&&this.setState({isReactionTrayShowing:!1})}),P(this,"setReactionButtonRect",()=>{if(this.reactionButton){var e;let t=this.reactionButton.getBoundingClientRect(),{height:n,width:i,top:l,right:a}=t,r=document.createElement("div");r.style.height=n+"px",r.style.width=i+"px",r.style.top=l+"px",r.style.right=a+"px",r.style.position="absolute",r.style.zIndex="-1",null===(e=document.body)||void 0===e||e.append(r),this.setState({reactionButtonRect:t})}}),P(this,"handleIconPositionChange",e=>{e.forEach(e=>{e.intersectionRatio<1&&this.setReactionButtonRect()})}),P(this,"handleScroll",()=>{let{isReactionTrayShowing:e}=this.state;e&&this.hideReactionTray(),this.setReactionButtonRect()}),P(this,"onReactionClick",async function(e){let{addReaction:n,i18n:i,reactionPinId:l,userId:a,clientTrackingParams:r,incrementReactionCount:o,onReactionUpdated:s,pinId:d}=t.props,{type:c}=(0,u.fW)({i18n:i,type:e});await n(c,l,a,r),s&&s(),o(d,c),t.handleShowConfirmation()}),P(this,"handleShowConfirmation",()=>{this.setState({showConfirmation:!0})}),P(this,"handleHideConfirmation",()=>{this.setState({showConfirmation:!1})}),P(this,"handleReactionClick",e=>{this.setState({userReaction:e,didViewerReact:!0},()=>{this.onReactionClick(e),this.trayCloseTimer=setTimeout(this.hideReactionTray,250)})}),P(this,"hideReactionTray",()=>{this.setState({isReactionTrayShowing:!1})}),P(this,"handleClick",e=>{let{didViewerReact:n,userReaction:i}=this.state,{isInCommentModule:l,removeReaction:a,reactionPinId:r,userId:o,requireAuthForLimitedLogin:s,decrementReactionCount:d,onReactionUpdated:c,pinId:p,logContextEvent:m}=this.props;l&&e.stopPropagation(),n||m({event_type:103,element:11354,object_id_str:this.props.pinId,view_type:3,view_parameter:156}),s({fn:async function(){n?(await a(r,o),i&&(d(p,u.bR[i]),c&&c()),t.setState({isReactionTrayShowing:!1,userReaction:null,didViewerReact:!1})):t.setState({isReactionTrayShowing:!0})}})()}),P(this,"handleOneClickReact",()=>{let{didViewerReact:e,userReaction:t}=this.state,{removeReaction:n,reactionPinId:i,userId:l,requireAuthForLimitedLogin:a,decrementReactionCount:r,pinId:o,logContextEvent:s}=this.props;e||s({event_type:103,element:11354,object_id_str:this.props.pinId,view_type:3,view_parameter:156}),a({fn:()=>{e?(n(i,l),t&&r(o,u.bR[t]),this.setState({userReaction:null,didViewerReact:!1})):this.onReactionClick("love")}})()}),this.reactionPickerRef=(0,i.createRef)(),this.handleClickOutside=this.handleClickOutside.bind(this)}componentDidMount(){this.observer=new window.IntersectionObserver(this.handleIconPositionChange),this.reactionButton&&this.observer.observe(this.reactionButton),this.setReactionButtonRect(),window.addEventListener("scroll",this.handleScroll),window.addEventListener("mouseover",this.setReactionButtonRect),window.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("mouseover",this.setReactionButtonRect),window.removeEventListener("mousedown",this.handleClickOutside),clearTimeout(this.trayCloseTimer)}render(){let{isReactionTrayShowing:e,reactionButtonRect:t,userReaction:n,showConfirmation:i,didViewerReact:l}=this.state,{experience:r,i18n:o,nativePinType:s,hasBackground:c,inCommentModuleExp:m,isInCommentModule:h,isIdeaPinCloseUp:_,iconColor:y,isTextButton:v=!1,isTrayPositionRelative:f}=this.props,{animatedAsset:b,staticAsset:k,label:P,backgroundColor:S}=(0,u.fW)({i18n:o,type:l&&n?n:"default"}),w=h?(null==t?void 0:t.top)+window.scrollY+48:48;return(0,p.jsxs)(a.xu,{position:f?"relative":void 0,children:[e&&!!t&&!!t.left&&!!t.top&&(0,p.jsx)(x,{isInCommentModule:h,isCentered:!f,isIdeaPinCloseUp:_,handleReactionClick:this.handleReactionClick,marginTop:f?void 0:w,reactionButtonRect:t,shouldShowReactionTrayUp:"storyPin"===s,viewParameter:156,viewType:3,reactionPickerRef:this.reactionPickerRef}),(0,p.jsx)(a.iP,{onTap:v?this.handleOneClickReact:({event:e})=>{this.handleClick(e)},children:v?(0,p.jsx)(a.xv,{weight:"bold",children:o.bt("", "React", "Closeup.ReactionPicker.Text", undefined, true)}):(0,p.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:S&&!m?`var(--color-${S})`:void 0}},display:"flex",height:m?void 0:48,justifyContent:m?"start":"center",ref:e=>{this.reactionButton=e},rounding:"circle",width:m?34:48,children:l&&n?(0,p.jsx)(a.xu,{width:20,height:20,dangerouslySetInlineStyle:{__style:{backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:`url(${l&&b?b:k})`}}}):m?(0,p.jsx)(a.JO,{icon:"heart-outline",accessibilityLabel:o.bt("", "React", "Accessibility label for reacting to a Pin", undefined, true),size:h?20:24,color:"default"}):(0,p.jsx)(a.hU,{accessibilityLabel:o.bt("", "React", "Accessibility label for reacting to a Pin", undefined, true),bgColor:c?"lightGray":void 0,size:"lg",icon:"heart-outline",iconColor:y||"darkGray"})})}),!e&&!i&&!l&&(0,p.jsx)(a.xu,{position:"absolute",left:!0,top:!0,right:!0,children:(0,p.jsx)(d.Z,{experience:r,eligibleIds:[501979,501996],color:"blue",children:()=>null})}),i&&!!n&&P&&(0,p.jsx)(g,{reactionLabel:P,handleHideConfirmation:this.handleHideConfirmation})]})}}function w(e){var t;let n=(0,l.useDispatch)();(0,s.Z)({name:"ReactionsResource",options:{pin_id:e.pinId,user_id:e.userId}});let i=(0,l.useSelector)(({feeds:t})=>t[`reactions:${e.pinId}`]||[]),a=(0,l.useSelector)(({reactions:e})=>i.length>0?i.map(t=>e[t.id]):[]),d=(0,l.useSelector)(({session:e,users:t})=>t[e.userId]),u=(0,l.useSelector)(({session:e})=>e.userId);return(0,p.jsx)(S,{...e,addReaction:(t,i,l,a)=>n((0,k.Gy)(e.pinId,t,i,l,a)),decrementReactionCount:(e,t)=>n((0,k.Ps)(e,t)),i18n:(0,o.ZP)(),incrementReactionCount:(e,t)=>n((0,k.xQ)(e,t)),logContextEvent:(0,r.Z)(),reactionPinId:null!==(t=e.aggregatedPinDataId)&&void 0!==t?t:"",reactions:a,removeReaction:(t,i,l)=>n((0,k.G3)(e.pinId,t,i,l)),requireAuthForLimitedLogin:(0,c.Z)(),userId:u,viewer:d})}P(S,"defaultProps",{hasBackground:!1,isTrayPositionRelative:!0})},190253:(e,t,n)=>{"use strict";function i(e){let t=Object.keys(e);if(t.length>0){let n=t.sort((t,n)=>e[n]-e[t]).slice(0,3);return n}return null}function l(e){let t=Object.values(e);if(t.length>0){let e=t.reduce((e,t)=>e+t,0);return e}return 0}function a({boardIsCollaborative:e,isDownstreamPromotion:t,isPromoted:n,storyPinDataId:i,videosId:l,isEligibleForStaticImageIdeaPin:a}){return!n&&!t&&(!!l||!!i)&&(null==e||!e)&&!a}n.d(t,{At:()=>i,J6:()=>a,Ud:()=>l})},107877:(e,t,n)=>{"use strict";n.d(t,{bn:()=>o,fJ:()=>d,gC:()=>s});var i=n(702664),l=n(583592),a=n(785893);let{Provider:r,useHook:o}=(0,l.Z)("Boards");function s(){let e=o();return t=>e[t]}function d({children:e}){let t=(0,i.useSelector)(({boards:e})=>e,i.shallowEqual);return(0,a.jsx)(r,{value:t,children:e})}},712968:(e,t,n)=>{"use strict";n.d(t,{Tt:()=>u,cm:()=>c,kW:()=>s,kY:()=>p,mN:()=>d});var i=n(702664),l=n(583592),a=n(802071),r=n(785893);let{Provider:o,useHook:s}=(0,l.Z)("Users");function d(){let e=s();return t=>e[t]}function c(){let e=s();return t=>{let n=Object.keys(e).find(n=>e[n].username===t);return e[null!=n?n:""]}}function u(){let{id:e}=(0,a.Z)(),t=s();return t[null!=e?e:""]}function p({children:e}){let t=(0,i.useSelector)(({users:e})=>e,i.shallowEqual);return(0,r.jsx)(o,{value:t,children:e})}},526007:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var i=n(667294),l=n(782677),a=n(883119),r=n(690108),o=n(527386),s=n(536042),d=n(630089),c=n(756513),u=n(348597),p=n(28557),m=n(907310),h=n(785893);let g=e=>{let t=(0,h.jsx)(a.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,h.jsx)(m.Z,{boardId:e})});return{duration:5e3,thumbnail:t}};var _=n(550140),y=n(802071);function v({boardId:e,hideToast:t,pinId:n,originalPinId:i}){let l=(0,s.ZP)(),r=(0,y.Z)();return(0,h.jsx)(_.ZP,{primaryAction:{accessibilityLabel:l.bt("   ", "Change saved Pin button", "RepinRequest.a11yChangeButton", undefined, true),href:`/pin/${n}/repin/?isEditingPin=true&pinBoardId=${null!=e?e:""}&&isFromToast=true&&originalPinId=${null!=i?i:""}`,label:l.bt("", "Change", "RepinRequest.ChangeButton", undefined, true),size:"lg",onClick:t,role:"link"},duration:5e3,onHide:t,text:(0,h.jsxs)(a.xv,{children:[(0,h.jsx)(a.xv,{inline:!0,children:l.bt(": ", "Saved to ", "RepinRequest.ProfileSaveToastText", undefined, true)}),(0,h.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(a.rU,{display:"inlineBlock",href:r.isAuth?`/${r.username}/_saved`:"/",target:"self",underline:"hover",children:l.bt("", "Profile", "RepinRequest.ProfileSaveToastText.Profile", undefined, true)})})]}),thumbnail:{icon:(0,h.jsx)(a.JO,{accessibilityLabel:l.bt("", "Profile", "RepinRequest.ProfileIcon", undefined, true),icon:"history",size:22})}})}var f=n(894788),b=n(255655);let x="RepinResource",k=({board:e,section:t})=>{let n=(0,s.ZP)(),l="quick_saves"===e.layout,r=l?n.bt("", "Profile", "EditPin.Quicksaves.BoardName", undefined, true):e.name;return t?(0,d.nk)(n.bt("   {{sectionName}}  {{boardName}}", "Saved to {{sectionName}} in {{boardName}}", "Toast for successfully saving to a section within a board", undefined, true),{sectionName:t&&t.title,boardName:e.name}).join(""):(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(a.xv,{color:"default",children:n.bt(":", "Saved to", "Saved to {{ boardName }}", undefined, true)}),(0,h.jsx)(a.xv,{color:"default",weight:"bold",children:r})]})};class P{constructor({boardId:e,dispatch:t,history:n,isOneTapSave:i=!1,isQuickSave:a=!1,onSuccess:r,onUndo:o,originalPinId:s,pinId:d,section:c,showNewUserSavetoProfileAnimation:p=!1,showRepinToasts:m,trackingParams:h,userId:g,viewType:_,historyPush:y,suggestedBoardIds:v,savePinId:f,pinData:{trackingParams:k,viewParameter:P,pinnedToBoardId:S}}){var w,T,A;w="_getNormalizedResponse",T=e=>(0,l.Fv)(e.resource_response.data,b.Z[x]),(w="symbol"==typeof(A=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(w,"string"))?A:String(A))in this?Object.defineProperty(this,w,{value:T,enumerable:!0,configurable:!0,writable:!0}):this[w]=T,this.boardId=e,this.trackingParams=h,this.clientTrackingParams=(0,u.Z)(h.clientTrackingParams||"",k),this.dispatch=t,this.history=n,this.onSuccess=r,this.onUndo=o,this.originalPinId=s,this.pinId=d,this.pinnedToBoardId=h.pinnedToBoardId||(null!=S?S:""),this.showNewUserSavetoProfileAnimation=p,this.showRepinToasts=m,this.section=c,this.isOneTapSave=i,this.isQuickSave=a,this.userId=g,this.viewType=null!=_?_:3,this.historyPush=y,this.suggestedBoardIds=v,this.savePinId=f,this.pinViewParameter=P}get resourceOptions(){var e;return{pin_id:this.pinId,board_id:this.boardId,section:null===(e=this.section)||void 0===e?void 0:e.id,clientTrackingParams:this.clientTrackingParams,user_id:this.userId}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:this.pinViewParameter,object_id_str:this.pinId,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId,is_profile_save:!this.boardId,pin_id:this.pinId,suggested_boards:this.suggestedBoardIds}}}_createRepin(){return r.Z.create(x,{...this.resourceOptions,disable_event_log_info:!0}).callCreate()}processRepin(e){let t=this._createRepin();return t.then(t=>{this.onSuccess&&this.onSuccess();let n=t.resource_response.data,{board:i}=n,{isQuickSave:l,originalPinId:r,showNewUserSavetoProfileAnimation:d}=this,u=this._getNormalizedResponse(t);if(this.dispatch((0,c.XM)(x,this.resourceOptions,t,u)),this.savePinId(this.resourceOptions.pin_id,n.id),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){let e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,c.XM)(x,e,t,u)),this.savePinId(this.originalPinId||"",n.id)}this.dispatch((0,f.M)(n.id,i.id,this.section?this.section.id:void 0,this.userId));let{showRepinToasts:m}=this;return m&&m(({hideToast:e})=>{var t;if(l&&!d)return(0,h.jsx)(v,{hideToast:e,pinId:n.id,boardId:n.board.id,originalPinId:r});let{thumbnail:o}=g(i.id);return(0,h.jsx)(p.Z,{button:(0,h.jsx)(s.oz,{children:e=>(0,h.jsx)(a.zx,{fullWidth:!0,onClick:({event:t})=>{t.preventDefault(),t.stopPropagation();let{onUndo:l}=this;if(l&&!d){var a;l(this.pinId,n.id,i.id,null===(a=this.section)||void 0===a?void 0:a.id,e)}else d&&this.historyPush(`/pin/${n.id}/repin/?isEditingPin=true&pinBoardId=${i.id}&&isFromToast=true&&originalPinId=${null!=r?r:""}`)},text:d?e.bt("", "Organize", "RepinRequest.OrganizeButton", undefined, true):e.bt("", "Undo", "RepinRequest.UndoButton", undefined, true)})}),href:this.section?`${i.url}${null!==(t=this.section.slug)&&void 0!==t?t:""}`:i.url,isRepinToExistingBoard:!0,onHide:e,text:(0,h.jsx)(k,{board:i,section:this.section}),thumbnail:o})}),this.dispatch((0,o.fO)({event_type:5})),e(this.trackingData),n})}}},428876:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});var i=n(702664),l=n(883119),a=n(377234),r=n(765456),o=n(536042),s=n(282802),d=n(819079),c=n(549201),u=n(712968),p=n(667294),m=n(527386),h=n(843843),g=n(616550),_=n(563962),y=n(550140),v=n(525571),f=n(245410),b=n(618569),x=n(63262),k=n(994405),P=n(624524),S=n(471819),w=n(369050),T=n(383755),A=n(260070),C=n(648575),I=n(252315),j=n(785893);let E=()=>{};var L=n(196039);let R=({onTap:e,shouldShowSavedButton:t,text:n})=>(0,j.jsx)(l.iP,{onTap:({event:t})=>{null==e||e(t)},rounding:"pill",fullWidth:!1,children:(0,j.jsx)(l.xu,{color:t&&(0,a.Yc)()?"lightWash":"primary",height:L.oe,rounding:L.dX,display:"flex",justifyContent:"center",alignItems:"center",paddingX:L.rM,paddingY:L.Ai,children:(0,j.jsx)(l.xv,{color:t?"dark":"light",weight:"bold",size:n.length>5?"100":"300",children:n})})}),F=({buttonText:e,clientTrackingParams:t,color:n="red",deviceType:a,experience:r,hasQuickSave:s,hasSaveHandoffExperience:d,inline:c=!0,isLegoSaveStyle:L,isOnIdeaPinCloseup:F,onTouch:D,onUnsave:z,pinId:M,pinnedToBoardId:O,shape:Z,shouldShowSavedButton:N,to:K,viewParameter:B,viewType:U})=>{let H=(0,o.ZP)(),V=(0,i.useDispatch)(),G=(0,m.Ig)();(0,p.useEffect)(()=>{r&&r.placement_id&&V(G(r.placement_id,r.experience_id))},[r,V,G]);let $=function({clientTrackingParams:e,experience:t,hasSaveHandoffExperience:n,onError:l,onTouch:a,onUnsave:r,pinId:s,pinnedToBoardId:d,shouldShowSavedButton:c,showSingleToast:h}){let L=(0,o.ZP)(),R=(0,_.Z)(),F=(0,b.Z)(),D=(0,i.useDispatch)(),z=(0,g.useHistory)(),M=(0,g.useLocation)(),{showToast:O}=(0,x.F9)(),Z=function({showSingleToast:e}){let t=(0,i.useDispatch)(),n=(0,x.F9)()[e?"showOneToast":"showToast"],{forceShowNavFooter:l,setForceShowNavFooter:a}=(0,w.U)(),r=(0,i.useSelector)(({session:e})=>e.shouldHideNavBar);return(e,i)=>{i||(r&&t((0,A.Cp)()),t((0,A.WF)()),l||a(!0)),setTimeout(()=>{i||(r&&t((0,A.FK)()),t((0,A.a5)()),l||a(!1)),n(e)},T.Tt)}}({showSingleToast:h}),N=(0,I.M)(),K=M.pathname.startsWith("/pin"),B=(0,i.useSelector)(({session:e})=>e.hasSavedUnauthPin),U=(0,i.useSelector)(({session:e})=>e.unauthSavePinId),H=(0,u.Tt)(),V=null==H?void 0:H.pin_count,G=(0,p.useRef)(null),$=n&&!B,W=(0,S.Z)(),{checkExperiment:q}=(0,f.F)(),Y=(0,m.be)(),X=(0,v.Z)(null==H?void 0:H.created_at)||q("mweb_show_repin_toast_animation_to_res_user").anyEnabled,J=(0,k.J1)(),Q=e=>z.push(e),ee=s?()=>{var i;R({event_type:102,element:11933}),D((0,C.Z)({checkExperiment:q,history:z,i18n:L,logContextEvent:R,onSuccess:()=>{t&&D(Y(t.placement_id,t.experience_id))},originalPinId:s,pinId:s,trackingParams:{clientTrackingParams:e,pinnedToBoardId:d},showNewUserSavetoProfileAnimation:X,showRepinConfirmation:n&&!K?()=>void 0:Z,disableRepinAnimation:U===s,pinCount:V,historyPush:Q,savePinId:null!==(i=null==N?void 0:N.save)&&void 0!==i?i:()=>{}})).catch(e=>{O(({hideToast:t})=>(0,j.jsx)(y.ZP,{type:"error",text:e.message||L.bt(" ,  .", "Sorry! Something went wrong on our end.", "quickSave.toast.error.message", undefined, true),onHide:t})),null==l||l()})}:E;if((0,p.useEffect)(()=>{$&&!G.current&&s&&!q(J).anyEnabled&&(F({action:"trigger",item:"unauth-save-button-quicksave"}),R({event_type:14581}),ee(),D((0,A.e2)())),G.current=$}),!s)return null;let et=W({fn:e=>{e.stopPropagation(),e.preventDefault(),a&&a(e),c?c&&r&&r(e):ee()},modalHeader:(0,P.Bx)(L)});return et}({clientTrackingParams:t,experience:r,hasSaveHandoffExperience:d,onTouch:D,onUnsave:z,pinId:M,pinnedToBoardId:O,shouldShowSavedButton:N}),W={accessibilityLabel:H.bt("", "Pin", "Pin accessibility label", undefined, true),color:n,inline:L?void 0:c,minHeight:L?48:void 0,onTouch:s?$:D,onUnsave:s?$:z,pressState:"compress",shape:L?"pill":Z,size:"lg",text:e||H.bt("", "Save", "Auth mobile web save button for pin closeup", undefined, true),to:K,unsaveAccessibilityLabel:H.bt("", "Saved", "SaveButton.ExperimentalSavedButtonAccessibilityLabel", undefined, true)},q=N?(0,j.jsx)(l.zx,{text:W.text,accessibilityLabel:W.unsaveAccessibilityLabel,size:W.size,fullWidth:W.inline,onClick:({event:e})=>{var t;null===(t=W.onUnsave)||void 0===t||t.call(W,e)},selected:!0}):(0,j.jsx)(h.Ai,{...W,deeplinkUri:"deeplinkUri",upsellType:"save",viewType:U,viewParameter:B,clientTrackingParams:t,deviceType:a});return F&&"desktop"!==a&&(q=N?(0,j.jsx)(R,{onTap:W.onUnsave,shouldShowSavedButton:!0,text:W.text}):(0,j.jsx)(h.MZ,{...W,clientTrackingParams:t,deeplinkUri:"deeplinkUri",deviceType:a,isActionButton:!0,upsellType:"save",viewParameter:B,viewType:U,children:(0,j.jsx)(R,{onTap:W.onTouch,shouldShowSavedButton:!1,text:W.text})})),(0,j.jsx)(l.xu,{"data-test-id":"save-button-mobile",children:q})},D=({i18n:e,isSaved:t})=>{let n=(0,a.Yc)();return t?{buttonText:e.bt("", "Saved", "closeup.savedButton.text", undefined, true),color:n?"darkGray":"white",inline:!1}:Object.freeze({})};function z({buttonText:e,clientTrackingParams:t,pinId:n,pinnedToBoardId:a,shouldShowSavedButton:p,to:m,...h}){let g=(0,o.ZP)(),_=(0,c.ZP)(),{isAuthenticated:y}=(0,s.B)(),v=(0,u.Tt)(),f=y?v:null,b=D({i18n:g,isSaved:p});(0,d.Z)(f?{name:"UserResource",options:{user_id:f.id,field_set_key:"save_behavior"}}:null);let x=null==f?void 0:f.save_behavior,k=(0,i.useSelector)(({session:e})=>e.unauthSavePinId),P=y&&!!k,S=(0,r._)({id:1000152});return(0,j.jsx)(l.xu,{"data-test-id":"standard-save-button",children:(0,j.jsx)(F,{experience:S,pinnedToBoardId:a,pinId:n,to:m,hasQuickSave:0===x||P,shouldShowSavedButton:p,hasSaveHandoffExperience:P,clientTrackingParams:t,deviceType:_,...h,...b,isLegoSaveStyle:!0})})}},539130:(e,t,n)=>{"use strict";n.d(t,{QJ:()=>l,UH:()=>a,V5:()=>i,km:()=>r});let i="saveSendEducationModalLastDismissed",l="saveSendEducationModalTimesDismissed",a=864e5,r=2},229527:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(667294),l=n(883119),a=n(785893);class r extends i.Component{componentDidMount(){this.anchor&&(!this.props.hash||this.props.hash&&`#${this.props.hash}`===window.location.hash)&&(this.anchor.scrollIntoView(),this.props.offset&&window.scrollBy(0,this.props.offset))}render(){let e=this.props.children?i.Children.only(this.props.children):null;return(0,a.jsx)(l.xu,{ref:e=>this.anchor=e,children:e})}}},141418:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var i,l=n(667294),a=n(702664),r=n(167912),o=n(883119),s=n(943072),d=n(536042),c=n(282802),u=n(819079),p=n(98736),m=n(618569),h=n(348672),g=n(549201),_=n(377234),y=n(88622),v=n(894121),f=n(785893);function b({showFullScreenInfo:e,isOpen:t,interstitialUpsellDismissed:n,children:i}){let l=(0,d.ZP)(),a=(0,g.HG)(),r=(0,g.Wb)();return r||a?(0,f.jsx)(y.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!r,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,f.jsx)(o.xu,{color:(0,_.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,_.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:a?"100vw":"100%",zIndex:new o.Ry(1),children:(0,f.jsx)(o.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:n?0:12,children:i})})}):(0,f.jsx)(v.default,{accessibilityModalLabel:l.bt("", "Close", "Close modal window", undefined, true),isOpen:t,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:l.bt("", "Close", "Close modal window", undefined, true),children:i})}var x=n(50169);let k=void 0!==i?i:i=n(599271);function P({dedupeVisualAnnotations:e,iconColor:t,size:n,isMainPin:i,isAuth:r,pinCreditPrefix:u,onClickTitleOrDomain:_,pinId:y,renderOnlyHiddenSEOContent:v=!1,graphqlRef:k,shoppingKlpUrls:P}){let S=(0,d.ZP)(),w=(0,m.Z)(),{isBot:T}=(0,c.B)(),{unauthInterstitialDismissed:A}=(0,a.useSelector)(({session:e})=>e),[C,I]=(0,l.useState)(!1),j=(0,g.HG)(),E=(0,g.Wb)(),L=(0,h.Z)(),R=!E&&!r,F=k?{type:"graphqlRef",data:k}:{type:"deprecated",data:y},D=(0,f.jsxs)(o.xu,{padding:5,dangerouslySetInlineStyle:R?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,f.jsx)(o.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,f.jsx)(o.hU,{accessibilityLabel:S.bt("", "Cancel", "close modal icon", undefined, true),icon:"cancel",size:"sm",onClick:()=>{(0,p.My)("mweb.unauth.see_more.dismissed"),w({action:"click",item:"close-seo-vase-see-more-button"}),I(!1),i&&(0,p.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,f.jsx)(o.xu,{marginBottom:R?0:8,children:(0,f.jsx)(o.xv,{align:R?"start":"center",weight:R?void 0:"bold",children:(0,f.jsx)("span",{className:"deprecatedTextSizeXL",children:R?null:S.bt("...", "More information", "more information label", undefined, true)})})}),(0,f.jsx)(x.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:u,onClickTitleOrDomain:_,pinId:y,shoppingKlpUrls:P,pinKey:F})]});return v?(0,f.jsx)(o.xu,{display:"none",children:D}):(0,f.jsxs)(o.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,f.jsx)(o.hU,{accessibilityLabel:S.bt("", "See more", "more information icon", undefined, true),icon:"ellipsis",iconColor:null!=t?t:"gray",size:n||"md",onClick:({event:t})=>{t.stopPropagation(),(0,p.My)(`mweb.unauth.see_more.shown.${i?"main_pin":"related_pins"}`),w({action:"click",item:"seo-vase-see-more-button"}),E||r?(I(!0),i&&(0,p.My)("mweb.unauth.see_more.main_pin.shown")):L({pinId:y||"",location:i?"main-pin-more-information":"non-main-pin-more-information",vaseSection:(0,f.jsx)(x.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:u,onClickTitleOrDomain:_,pinId:y,shoppingKlpUrls:P,pinKey:F})})}}),T&&!j?(0,f.jsx)(o.xu,{display:C?"flex":"none",children:D}):(0,f.jsx)(b,{showFullScreenInfo:C,isOpen:C&&!E,interstitialUpsellDismissed:!!A,children:D}),E&&C&&(0,f.jsx)(s.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:D})]})}function S(e){let t=(0,r.useFragment)(k,e.graphqlRef);return(0,f.jsx)(P,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent,graphqlRef:t,shoppingKlpUrls:e.shoppingKlpUrls})}function w(e){return(0,f.jsx)(P,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent,shoppingKlpUrls:e.shoppingKlpUrls})}function T(e){return(0,u.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,f.jsx)(w,{...e})}function A(e){return e.graphqlRef?(0,f.jsx)(S,{...e}):e.lazyLoadAnnotations?(0,f.jsx)(T,{...e}):(0,f.jsx)(w,{...e})}},550766:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(667294),l=n(883119),a=n(133636),r=n(88622),o=n(883414),s=n(785893);let d=new l.Ry(1);function c({anchor:e,children:t,displayOptions:n,onFlyoutDismiss:i}){var a,o;return null!=n&&n.shownWithinMasonry||null!=n&&n.shownWithinProfileHeader?(0,s.jsx)(l.mh,{zIndex:n.shownWithinProfileHeader?d:void 0,children:(0,s.jsx)(l.xu,{zIndex:n.inModal?r.b7:void 0,position:n.inModal?"absolute":void 0,top:!!n.inModal||void 0,children:(0,s.jsx)(l.J2,{anchor:e,idealDirection:null!==(a=n.idealDirection)&&void 0!==a?a:"down",onDismiss:()=>{i()},_deprecatedShowCaret:n.showCaret,size:"flexible",positionRelativeToAnchor:!1,children:t})})}):(0,s.jsx)(l.J2,{anchor:e,idealDirection:null!==(o=null==n?void 0:n.idealDirection)&&void 0!==o?o:"down",onDismiss:()=>{i()},_deprecatedShowCaret:null==n?void 0:n.showCaret,size:"flexible",children:t})}function u({children:e,flyoutDisplayOptions:t,isFlyoutOpen:n,loggingOptions:r,onClick:d,onFlyoutDismiss:u,onToggleFlyout:p,sendObject:m}){let h=(0,i.useRef)(null),g=(0,a.Z)();return(0,s.jsxs)(l.xu,{ref:h,dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,s.jsx)(l.xu,{children:e({handleSendShareFlyoutButtonClick:()=>{if(g){g();return}p()}})}),n&&(0,s.jsx)(c,{anchor:h.current,displayOptions:t,onFlyoutDismiss:u,children:(0,s.jsx)(o.default,{element:r.element,component:r.component,onHide:()=>{null==d||d(),u()},onExternalSend:r.onExternalSend,sendType:m.type,sharedObject:{...m,type:"user"===m.type?"pinner":m.type},viewParameter:r.viewParameter,viewType:r.viewType})})]})}},881610:(e,t,n)=>{"use strict";n.d(t,{l:()=>c,E:()=>d});var i=n(667294),l=n(583592),a=n(170567);function r(e={},t){if("SUGGESTIONS_FETCH_COMPLETE"===t.type){var n,i;let{payload:l}=t;if("ShareSuggestionsResource"===l.resource){let i=t.payload.response.resource_response.data||[],{term:a=""}=null!==(n=l.options)&&void 0!==n?n:{};return{...e,[a]:i}}if("ShareSuggestionsTypeaheadResource"===l.resource){let n=t.payload.response.resource_response.data||{},a=n.items||[],{term:r=""}=null!==(i=l.options)&&void 0!==i?i:{};return{...e,[r]:a}}}return e}var o=n(785893);let{Provider:s,useHook:d}=(0,l.Z)("ShareSuggestions");function c({children:e}){let[t,n]=(0,i.useReducer)(r,{}),l=e=>{n({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,a.Z8)("ShareSuggestionsResource",l),(0,a.Z8)("ShareSuggestionsTypeaheadResource",l);let d=(0,i.useMemo)(()=>({shareSuggestions:t}),[t]);return(0,o.jsx)(s,{value:d,children:e})}},554318:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_,s:()=>g});var i=n(667294),l=n(583592),a=n(608575),r=n(883119),o=n(88622),s=n(536042),d=n(630089),c=n(785893);let u=()=>{var e;let t=(0,s.ZP)(),{dismissWarning:n}=null!==(e=g())&&void 0!==e?e:{};return(0,c.jsx)(r.xu,{paddingX:3,children:(0,c.jsx)(r.zx,{fullWidth:!0,color:"red",onClick:n,text:t.bt("", "Okay", "Dismiss a modal stating that clicking through to a link has been blocked", undefined, true)})})},p=()=>{let e=(0,s.ZP)();return(0,c.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(r.rU,{target:"blank",href:"https://policy.pinterest.com/community-guidelines#section-spam",display:"inlineBlock",underline:"hover",children:e.bt("", "Learn more", "Link text leading to policy website", undefined, true)})})},m=({message:e,sanitized_url:t})=>{var n;let i=(0,s.ZP)(),{dismissWarning:l}=null!==(n=g())&&void 0!==n?n:{};return(0,c.jsx)(o.ZP,{accessibilityModalLabel:i.bt("   ", "We have blocked this link", "Modal label when clicking a spammy link", undefined, true),onDismiss:l,heading:i.bt("!", "Heads up!", "Modal heading when clicking through to a link has been blocked", undefined, true),footer:(0,c.jsx)(u,{}),children:(0,c.jsxs)(r.xu,{padding:6,children:[(0,c.jsx)(r.xv,{children:(0,d.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,c.jsx)(p,{},"learnMoreLink")})}),(0,c.jsxs)(r.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,c.jsx)(r.xu,{marginEnd:3,children:(0,c.jsx)(r.JO,{accessibilityLabel:i.bt("  ", "Blocked link address", "Icon label preceding a block url", undefined, true),color:"error",icon:"report",inline:!0,size:24})}),(0,c.jsx)(r.xv,{inline:!0,lineClamp:1,weight:"bold",children:a.parse(t).hostname})]})]})})},{Provider:h,useMaybeHook:g}=(0,l.Z)("SpammyClickthrough");function _({children:e}){let[t,n]=(0,i.useState)(null),l=(0,i.useCallback)(()=>{n(null)},[n]),a=(0,i.useCallback)(e=>{n(e)},[n]),r=(0,i.useMemo)(()=>({dismissWarning:l,showWarning:a}),[l,a]);return(0,c.jsxs)(h,{value:r,children:[t&&(0,c.jsx)(m,{...t}),e]})}},510336:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d,j:()=>s});var i=n(883119),l=n(536042),a=n(630089),r=n(245410),o=n(785893);let s=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:t,sponsorName:n,sponsorshipStatus:d,textColor:c}){let u;let p=(0,l.ZP)(),m=(0,r.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;return t?u=(0,a.nk)(p.bt(": {{ name }}", "Promoted by {{ name }}", "sponsorship.sponsorshipText.promotedByBrand", undefined, true),{name:n}):d||0===d?n&&!s.includes(d)?u=(0,a.nk)(p.bt("    {{ name }}", "Paid partnership with {{ name }}", "closeup.creator.sponsoredPinTitle", undefined, true),{name:n}):2!==d&&(u=p.bt(" ", "Paid partnership", "closeup.creator.sponsoredPinTitle", undefined, true)):e&&(u=p.bt("  ", "Includes sponsored products", "sponsorship.sponsorshipText.affiliatedProducts", undefined, true)),(0,o.jsxs)(i.xv,{color:c,size:"100",children:[m&&!t&&"Ad  "||"",(0,o.jsx)(a.r7,{text:u})]})}},618671:(e,t,n)=>{"use strict";n.d(t,{f:()=>o,w:()=>s});var i=n(667294),l=n(583592),a=n(785893);let{Provider:r,useHook:o}=(0,l.Z)("Session");function s({children:e}){let[t,n]=(0,i.useState)(void 0),l=(0,i.useCallback)(()=>n(void 0),[]),o=(0,i.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:l}),[t,l]);return(0,a.jsx)(r,{value:o,children:e})}},468776:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(883119),l=n(536042),a=n(98736),r=n(700453),o=n(799006),s=n(199999),d=n(785893);function c({pinId:e}){let t=(0,l.ZP)(),n=(0,s.a)(),c=(0,o.Z)();if(!n)return null;let{setShouldShowLearningUpsell:u}=n;return c?(0,d.jsx)(r.Z,{app_upsell_type:"mweb-unauth-plp-learning-upsell",children:({handleOpenApp:n})=>(0,d.jsx)(i.xu,{alignItems:"center",direction:"row",display:"flex",left:!0,minHeight:70,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},position:"absolute",right:!0,top:!0,width:"100%",zIndex:new i.Ry(99999),children:(0,d.jsx)(i.iP,{onTap:()=>{(0,a.My)("learning.upsell.click.background"),n({deepLinkUri:`/pin/${e}`})},children:(0,d.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",direction:"row",width:"100%",children:[(0,d.jsx)(i.xu,{marginStart:4,marginEnd:2,onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation(),(0,a.My)("learning.upsell.click.icon"),n({deepLinkUri:`/pin/${e}`})},children:(0,d.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 12C0 17.123 3.211 21.497 7.73 23.218C7.62 22.281 7.503 20.736 7.755 19.652C7.972 18.72 9.156 13.714 9.156 13.714C9.156 13.714 8.799 12.999 8.799 11.94C8.799 10.28 9.761 9.04 10.96 9.04C11.98 9.04 12.472 9.805 12.472 10.722C12.472 11.747 11.819 13.279 11.482 14.7C11.201 15.889 12.079 16.859 13.251 16.859C15.374 16.859 17.007 14.62 17.007 11.388C17.007 8.527 14.951 6.528 12.016 6.528C8.618 6.528 6.623 9.077 6.623 11.712C6.623 12.739 7.018 13.839 7.512 14.438C7.609 14.557 7.624 14.66 7.595 14.781C7.504 15.159 7.302 15.97 7.263 16.136C7.21 16.354 7.09 16.401 6.863 16.295C5.371 15.601 4.439 13.42 4.439 11.668C4.439 7.899 7.176 4.439 12.331 4.439C16.475 4.439 19.696 7.392 19.696 11.338C19.696 15.455 17.101 18.769 13.497 18.769C12.286 18.769 11.149 18.139 10.759 17.396C10.759 17.396 10.16 19.678 10.015 20.236C9.733 21.32 8.951 22.692 8.466 23.471C9.584 23.815 10.77 24 12 24C18.627 24 24 18.627 24 12C24 5.373 18.627 0 12 0C5.373 0 0 5.373 0 12Z",fill:"#111111"})})}),(0,d.jsxs)(i.xu,{marginStart:2,marginEnd:2,children:[(0,d.jsx)("span",{style:{fontFamily:"var(--font-family-default-latin)",color:"#111111",fontSize:"16px"},onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation(),(0,a.My)("learning.upsell.click.description"),n({deepLinkUri:`/pin/${e}`})},children:t.bt("    ,      . ", "If you like this idea, see all the details in the app! ", "mweb.unauth.main.pin.learning.app.upsell.description.like", undefined, true)}),(0,d.jsx)("span",{style:{fontFamily:"var(--font-family-default-latin)",fontWeight:"600",color:"#111111",fontSize:"16px"},onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation(),(0,a.My)("learning.upsell.click.cta"),n({deepLinkUri:`/pin/${e}`})},children:t.bt("", "Download", "mweb.unauth.main.pin.learning.app.upsell.cta", undefined, true)})]}),(0,d.jsx)(i.xu,{marginStart:2,marginEnd:4,onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:e=>{u(!1),e.preventDefault(),e.stopPropagation(),(0,a.My)("learning.upsell.click.cancel")},children:(0,d.jsx)(i.JO,{icon:"cancel",accessibilityLabel:"cancel",color:"dark"})})]})})})}):null}},197838:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>S});var i,l=n(667294),a=n(167912),r=n(883119),o=n(536042),s=n(874261),d=n(465991),c=n(282802),u=n(98736),p=n(618569),m=n(549201),h=n(525104),g=n(646081),_=n(785893);let y=`
div::-webkit-scrollbar {
  display: none;
}
`,v=void 0!==i?i:i=n(717988);function f({direction:e,handleClick:t,testId:n,isRTL:i}){let l=(0,o.ZP)(),a=(0,p.Z)(),s=i?["arrow-back","arrow-forward"]:["arrow-forward","arrow-back"];return(0,_.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0,justifyContent:"flex-start",textAlign:"left"}},onClick:e=>{a({action:"click",item:"board-pills-arrow"}),t(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":n,children:(0,_.jsx)(r.xu,{position:"absolute",left:"left"===e,right:"right"===e,borderStyle:"none",children:(0,_.jsx)(r.xu,{"data-test-id":"board-pills-arrow",children:(0,_.jsx)(r.JO,{accessibilityLabel:l.bt("", "Scroll", "annotations.scrollArrow", undefined, true),icon:"left"!==e?s[0]:s[1],size:8,color:"subtle"})})})})}function b({name:e,url:t}){let[n,i]=(0,l.useState)(!1),a=(0,p.Z)(),{country:o,locale:s}=(0,c.B)(),d=(0,m.HG)();return(0,_.jsx)(r.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:(0,_.jsx)(r.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:t?(0,_.jsx)(r.rU,{display:"inlineBlock",tapStyle:"compress",href:t,rounding:8,onClick:()=>{a({action:"click",item:"vase-tag"}),t.split("/").length>=2&&"shopping"===t.split("/")[1]&&(0,u.My)(`${d?"dweb":"mweb"}.vase.shoppingKlp.click`,{country:o,locale:s})},underline:"hover",children:e}):e})})}function x({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t,mode:n,shoppingKlpUrls:i}){let a=(0,l.useRef)(null),[o,u]=(0,l.useState)(!1),[m,h]=(0,l.useState)(!1),g=(0,p.Z)(),{isRTL:v}=(0,c.B)();(0,l.useEffect)(()=>{let e=a.current,t=()=>{if("inlineWithScrollArrows"===n&&a.current){let e=a.current,t=Math.abs(e.scrollLeft||0),n=Math.abs(e.scrollWidth||0),i=t>4,l=t+e.clientWidth<n-4,r=v?i:l,o=v?l:i;u(r),h(o)}else u(!1),h(!1)};return t(),null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}},[n,v]);let x=e=>t=>{t.preventDefault(),t.stopPropagation(),"right"===e&&g({action:"click",item:"board-pills-arrow-button-right"});let n=a.current;if(!n)return;let i=("left"===e?-1:1)*n.clientWidth*.5;n.scrollBy(i,0)},{annotationsWithLinks:k}=(0,d.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t});k.map(e=>{let t=e.name||"";return t});let P=[...k];return i&&(P=i.reduce((e,t)=>(e.push({name:function(e){let t=e.split("/"),n=t[2].split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return n}(t),url:t}),e),P)),(0,_.jsx)(r.kC,{alignItems:"center",justifyContent:"end",children:(0,_.jsxs)(r.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,_.jsx)(s.Z,{unsafeCSS:y}),m&&(0,_.jsx)(f,{direction:"left",handleClick:x("left"),testId:"left-scroll-arrow",isRTL:v}),(0,_.jsx)(r.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:a,children:P.map(({name:e,url:t})=>(0,_.jsx)(b,{name:e,url:t},t||e))}),o&&(0,_.jsx)(r.xu,{"data-test-id":"board-pills-arrow-button-right",children:(0,_.jsx)(f,{direction:"right",handleClick:x("right"),testId:"right-scroll-arrow",isRTL:v})})]})})}function k({dedupeVisualAnnotations:e,graphqlRef:t,mode:n,pinId:i,shoppingKlpUrls:l}){var r;let o=(0,a.useFragment)(v,t),s=(0,g.Z)(o),d=(null==o?void 0:null===(r=o.pinJoin)||void 0===r?void 0:r.visualAnnotation)||[];return(e&&(d=e({pinId:i,visualAnnotations:d})),d.length<1)?null:(0,_.jsx)(x,{mode:n,pinJoinVisualAnnotation:d,pinJoinAnnotationsWithLinks:s||void 0,shoppingKlpUrls:l})}function P(e){var t,n,i;let l=(0,h.S6)()(e.pinId),a=(null==l?void 0:null===(t=l.pin_join)||void 0===t?void 0:t.visual_annotation)||[];return a.length<1?null:(0,_.jsx)(x,{mode:e.mode,pinJoinVisualAnnotation:null==l?void 0:null===(n=l.pin_join)||void 0===n?void 0:n.visual_annotation,pinJoinAnnotationsWithLinks:null==l?void 0:null===(i=l.pin_join)||void 0===i?void 0:i.annotations_with_links,shoppingKlpUrls:e.shoppingKlpUrls})}function S(e){return e.graphqlRef?(0,_.jsx)(k,{...e}):(0,_.jsx)(P,{...e})}},50169:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var i,l=n(667294);n(167912);var a=n(883119),r=n(803817),o=n(536042),s=n(630089),d=n(898252),c=n(465991),u=n(282802),p=n(51536),m=n(98736),h=n(618569),g=n(549201),_=n(32762),y=n(785893);function v({boardUrl:e,boardName:t,boardPrivacy:n,pinnerFullName:i,pinnerImageSmallUrl:l,pinnerImageLargeUrl:r}){let o=(0,g.HG)(),s=(0,h.Z)();if(!e||!t)return null;let d=e.split("/")[1],c=i||d,u=l||r;return(0,y.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[u?(0,y.jsx)(a.Tg,{href:`/${d}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,m.My)(`pcons.${o?"desktop":"mobile"}.see-more-button-creator`),s({action:"click",item:"see-more-button-creator"})},children:(0,y.jsx)(a.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,y.jsx)(a.Ee,{naturalHeight:32,naturalWidth:32,alt:c,fit:"cover",color:"rgb(231, 186, 176)",src:u})})},"profile-link"):null,(0,y.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,y.jsx)(a.xu,{"data-test-id":"see-more-button-creator-full-name",children:(0,y.jsx)(a.iP,{onTap:()=>{(0,m.My)(`pcons.${o?"desktop":"mobile"}.see-more-button-creator-full-name`),s({action:"click",item:"see-more-button-creator-full-name"})},children:(0,y.jsx)(a.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,y.jsx)(a.rU,{href:`/${d}/`,display:"inlineBlock",tapStyle:"compress",underline:"hover",children:c},"profile-link")},"profileLink")})}),"protected"===n?null:(0,y.jsx)(a.xv,{color:"default",inline:!0,size:"100",children:(0,y.jsx)(a.rU,{href:null!=e?e:"",display:"inlineBlock",tapStyle:"compress",underline:"hover",children:null!=t?t:""},"board-link")},"boardLink")]})]})}var f=n(197838);let b=void 0!==i?i:i=n(298262);function x({dedupeVisualAnnotations:e,pin:t,pinId:n,queryRef:i,onClickTitleOrDomain:r,pinCreditPrefix:b,shoppingKlpUrls:x}){var k,P,S,w,T,A,C,I,j;let E=(0,o.ZP)(),L=(0,g.ml)(),R=(0,g.Wb)(),{isAuthenticated:F,isBot:D}=(0,u.B)(),z=(0,h.Z)(),M=r||null,[O,Z]=(0,l.useState)(!1),N=(0,_.si)(),K=(0,_.Re)(),B=(0,c.fs)({pinTitle:t.title,gridTitle:t.gridTitle,richSummaryDisplayName:null===(k=t.richSummary)||void 0===k?void 0:k.displayName,richMetadataTitle:null===(P=t.richMetadata)||void 0===P?void 0:P.title,storyPinDataId:t.storyPinDataId,storyPinDataMetadataPinTitle:null===(S=t.storyPinData)||void 0===S?void 0:null===(w=S.metadata)||void 0===w?void 0:w.pinTitle})||t.description,U=(B||"").length>K,{description:H}=(0,c.eK)({richMetadataDescription:null===(T=t.richMetadata)||void 0===T?void 0:T.description,richSummaryDisplayName:null===(A=t.richSummary)||void 0===A?void 0:A.displayName,closeupUnifiedDescription:t.closeupUnifiedDescription}),V=H.length>N,[G,$]=(0,l.useState)(!V&&!U),W=(0,d._S)(t.domain)?t.domain:"";return(0,y.jsxs)(a.xu,{children:[(0,y.jsxs)(a.xu,{children:[(0,y.jsxs)(a.xu,{as:"figcaption",paddingX:R?11:0,children:[(0,y.jsx)(a.X6,{id:"vase-pin-title",color:"default",size:"300",accessibilityLevel:3,children:O||D?B:(0,p.Z)(B||"",K)}),!!B&&(0,y.jsx)(a.xu,{height:H?8:0}),H&&(V||U)?(0,y.jsx)(a.xu,{"data-test-id":"vase-pin-description",children:(0,y.jsxs)(a.iP,{onTap:()=>{O||F||((0,m.NC)("click_open_description_in_sheet"),z({action:"click",item:"more-description-in-sheet"})),$(!G),Z(!O)},fullWidth:!1,children:[(0,y.jsx)(a.xv,{color:"default",size:"200",inline:!0,children:O||D?H:(0,p.Z)(H,N)}),(0,y.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,y.jsx)(a.xv,{weight:"bold",size:"200",inline:!0,children:O||D?E.bt("", "Less", "Toggle less description button", undefined, true):E.bt("", "More", "Toggle more description button", undefined, true)})})]})}):(0,y.jsx)(a.xu,{"data-test-id":"vase-pin-description",children:(0,y.jsx)(a.xv,{color:"default",size:"200",inline:!0,children:H})})]}),!F&&!D&&L&&(G||D)&&!!W&&(0,y.jsx)(a.xu,{marginTop:2,children:(0,y.jsx)(a.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,s.nk)(E.bt("{{ pinCreditPrefix }} {{ pinCredit }}", "{{ pinCreditPrefix }} {{ pinCredit }}", "tells the user where the pin is from in the form of Saved from website", undefined, true),{pinCreditPrefix:(0,y.jsx)(a.xu,{display:"inlineBlock",children:(0,y.jsx)(a.xv,{inline:!0,size:"200",children:b})},"pinCreditsPrefix"),pinCredit:(0,y.jsxs)(a.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:[M&&(0,y.jsx)(a.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),z({action:"click",item:"pin-domain-link"}),(0,m.My)("mweb_pin_page.pin_link.clickthrouh"),F||(0,m.NC)("click_pin_closeup_link_clickthrough"),M()},tapStyle:"compress",children:(0,y.jsx)(a.xv,{size:"200",lineClamp:1,children:(0,y.jsx)("span",{style:{textDecoration:"underline"},children:W})},"pinLinkDomain")}),t.link&&!M&&(0,y.jsx)(a.rU,{href:t.link,children:(0,y.jsx)(a.xv,{size:"200",underline:!0,children:W})})]},"pinCredits")})})})]}),!!t.board&&(G||D)&&(0,y.jsx)(a.xu,{marginTop:4,children:(0,y.jsx)(v,{boardUrl:t.board.url||void 0,boardName:t.board.name||void 0,boardPrivacy:t.board.privacy||void 0,pinnerFullName:(null===(C=t.pinner)||void 0===C?void 0:C.fullName)||void 0,pinnerImageSmallUrl:null===(I=t.pinner)||void 0===I?void 0:I.imageSmallUrl,pinnerImageLargeUrl:null===(j=t.pinner)||void 0===j?void 0:j.imageLargeUrl})}),(0,y.jsx)(a.xu,{marginTop:4,children:(0,y.jsx)(f.ZP,{dedupeVisualAnnotations:e,pinId:n,mode:"expanded",graphqlRef:i,shoppingKlpUrls:x})})]})}function k({pinKey:e,pinId:t,...n}){let{data:i,childDataKey__DEPRECATED:l}=(0,r.sr)(b,e,{type:"pin",useLegacyAdapter:e=>({board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},closeupUnifiedDescription:e.closeup_unified_description,description:e.description,domain:e.domain,gridTitle:e.grid_title,link:e.link,pinner:e.pinner&&{fullName:e.pinner.full_name,imageLargeUrl:e.pinner.image_large_url,imageSmallUrl:e.pinner.image_small_url},richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},storyPinData:e.story_pin_data&&{metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},storyPinDataId:e.story_pin_data_id,title:e.title})});return i&&(0,y.jsx)(x,{...n,pinId:t,pin:i,queryRef:"graphqlRef"===l.type?l.data:null})}},676794:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(667294),l=n(618446),a=n.n(l),r=n(788241),o=n(266769),s=n(785893);class d extends i.Component{componentDidMount(){let{setCurrentPageData:e,viewData:t,viewParameter:n,viewType:i}=this.props;e({viewData:t,viewParameter:n,viewType:i})}componentDidUpdate(e){let{setCurrentPageData:t,viewData:n,viewParameter:i,viewType:l}=this.props;i===e.viewParameter&&l===e.viewType&&a()(n,e.viewData)||t({viewData:n,viewParameter:i,viewType:l})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:t,component:n,objectIdStr:i,viewData:l,viewParameter:a,viewType:r,clientTrackingParams:d}=this.props;return(0,s.jsx)(o.Z,{auxData:e,component:n,objectIdStr:i,clientTrackingParams:d,viewData:l,viewParameter:a,viewType:r,children:t})}}function c(e){let{setViewContextData:t,clearViewContextData:n}=(0,r.sV)();return(0,s.jsx)(d,{...e,clearCurrentPageData:n,setCurrentPageData:t})}},266769:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294),l=n(563962),a=n(98736);let r=e=>Object.keys(e).reduce((t,n)=>(void 0===e[n]&&delete t[n],t),{...e}),o=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:l,component:o,clientTrackingParams:s,element:d},c)=>{let u=r({event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:l,component:o,clientTrackingParams:s,element:d});-1===Object.keys(u).indexOf("view_type")&&(0,a.My)("mweb.logging.null_view_type"),c(u)};function s(e){let{auxData:t,clientTrackingParams:n,children:a,component:r,element:s,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,m=(0,l.Z)(),h=JSON.stringify(t),g=JSON.stringify(c);return(0,i.useEffect)(()=>{o(e,m)},[m,h,n,r,s,d,g,u,p]),i.Children.only(a)}},700453:(e,t,n)=>{"use strict";n.d(t,{B:()=>g,Z:()=>_});var i=n(667294),l=n(616550),a=n(40660),r=n(388011),o=n(788241),s=n(988014),d=n(282802),c=n(98736),u=n(618569),p=n(799006),m=n(951599),h=n(785893);let g=(e,t)=>"/"===e.pathname?"/":(0,s.am)(e)&&t?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function _({children:e,componentType:t,app_upsell_type:n}){let s=(0,l.useLocation)(),{flushContextEvents:_,logContextEvent:y}=(0,r.v)(),{viewType:v,viewParameter:f}=(0,o.SU)(),b=(0,u.Z)(),{userAgent:{platform:x}}=(0,d.B)();(0,i.useEffect)(()=>{b({action:"view",item:"download-button",within:n})},[s,n,b]);let k=(0,i.useRef)(!1);(0,i.useEffect)(()=>{v&&202!==v?(y({component:t||13106,element:10308,event_type:9976,view_type:v,view_parameter:f,aux_data:{app_upsell_type:n,app_upsell_is_dupe:k.current}}),k.current=!0):a.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:t,view_type:v,view_parameter:f,app_upsell_type:n,app_upsell_is_dupe:k.current})},[t,y,f,v,n]);let P=(0,p.Z)();return(0,i.useEffect)(()=>{P||(0,c.My)(`mweb.app_upsell.forbidden_upsell.${n}`)},[P,n]),(0,h.jsx)(m.Z,{children:i=>e({handleOpenApp:e=>{if(b({action:"click",item:"download-button",within:n}),(0,c.NC)("press_open_app",!0),y({component:t||13106,element:10308,event_type:102,view_type:v||202,view_parameter:f,aux_data:{app_upsell_type:n}}),y({component:t||13106,element:10308,event_type:9977,view_type:v||202,view_parameter:f,aux_data:{app_upsell_type:n}}),_(!0),i){var l;y({component:t||13106,element:10308,event_type:1701,view_type:v||202,view_parameter:f,aux_data:{app_upsell_type:n}}),i(null!==(l=null==e?void 0:e.deepLinkUri)&&void 0!==l?l:g(s,"android"===x),n)}}})})}},277192:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(883119),l=n(894121),a=n(536042),r=n(599551),o=n(282802),s=n(549201),d=n(700453),c=n(115771),u=n(536540),p=n(352865),m=n(785893);let h=({deepLinkUri:e,isOpen:t,onDismiss:n,onOpenInApp:c,to:h,app_upsell_type:g})=>{let _=(0,a.ZP)(),y=(0,s.Wb)(),{isBot:v,userAgent:{platform:f,raw:b}}=(0,o.B)(),x=(0,p.Rp)({isBot:v,platform:f,userAgent:b}),k=(0,r.Z)({href:null!=h?h:""}),P=y?60:40;return(0,m.jsx)(l.default,{accessibilityModalLabel:"",isOpen:t,mobileHideCloseIcon:!0,type:"app_upsell_v1",zIndex:new i.Ry(101),closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,m.jsx)(d.Z,{componentType:14157,app_upsell_type:g,children:({handleOpenApp:t})=>(0,m.jsxs)(i.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,m.jsx)(i.xu,{display:"inlineBlock",position:"absolute",children:(0,m.jsx)(i.xu,{"data-test-id":"appUpsell-continue",children:(0,m.jsx)(i.hU,{accessibilityLabel:_.bt("  ", "close icon background", "accesibility label for close icon on a overlay", undefined, true),icon:"cancel",onClick:({event:e})=>{n({event:e}),k&&!e.defaultPrevented&&k({event:e})},size:"lg",iconColor:"gray"})})}),(0,m.jsxs)(i.xu,{paddingX:2,paddingY:6,children:[(0,m.jsx)(i.xu,{paddingY:2,justifyContent:"center",display:"flex",children:x?(0,m.jsx)(u.Z,{size:P}):(0,m.jsx)(i.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:P})}),(0,m.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,m.jsx)(i.xu,{paddingY:2,children:(0,m.jsx)(i.X6,{align:"center",size:"400",children:x?_.bt(" Pinterest Lite", "Try Pinterest Lite", "mweb.app_upsell.lite_app_upsell_title", undefined, true):_.bt("  Pinterest  ", "Pinterest is better on the app", "mweb.unauth.app_upsell.app_value_prop2", undefined, true)})}),(0,m.jsx)(i.xv,{align:"center",size:"300",children:x?_.bt("  ,    ", "A space-saving way to discover new ideas", "mweb.app_upsell.lite_app_value_prop", undefined, true):_.bt("  ,     ", "Continue in the app for the full experience", "mweb.app_upsell.description4", undefined, true)}),(0,m.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,m.jsx)(i.zx,{fullWidth:!0,size:"lg",color:"red",onClick:()=>{t({deepLinkUri:e}),c()},text:_.bt(" ", "Open app", "mweb.app_upsell.app_upsell_button_text1", undefined, true)})})]})]})]})})})};function g({clientTrackingParams:e,deepLinkUri:t,isOpen:n,onDismiss:i,onOpenInApp:l,shouldTrackDismiss:a,to:r,viewParameter:o,viewType:s,app_upsell_type:d}){return(0,m.jsx)(c.Z,{clientTrackingParams:e,viewType:s,viewParameter:o,children:(0,m.jsx)(h,{deepLinkUri:t,isOpen:n,onDismiss:e=>{a&&(0,c.y)(),i(e)},onOpenInApp:()=>{(0,c.y)(),l()},to:r,app_upsell_type:d})})}},115771:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,y:()=>c});var i=n(667294),l=n(500797),a=n(611756),r=n(173085),o=n(567648),s=n(266769),d=n(785893);let c=()=>{(0,a.Nh)("appUpsell",Date.now()),(0,a.qn)("firstUpsellTime")||(0,a.Nh)("firstUpsellTime",Date.now()),(0,r.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:t,viewParameter:n,viewType:a}){let r=(0,o.Z)();return r||(0,l.FP)(window)?null:(0,d.jsx)(s.Z,{viewType:a,viewParameter:n,component:13106,clientTrackingParams:t,children:(0,d.jsx)(i.Fragment,{children:e})})}},14303:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(883119),l=n(788241),a=n(536042),r=n(266769),o=n(700453),s=n(785893);function d(e){let{viewParameter:t,viewType:n}=(0,l.SU)(),d=(0,a.ZP)(),c=d.bt("    ", "Search this image with the app", "mweb.visual.search.app.upsell.heading.text.hard.ask", undefined, true),u=d.bt("   Pinterest,        ", "Download the free Pinterest app to find ideas inspired by parts of this image", "mweb.visual.search.app.upsell.description.text.soft.ask", undefined, true);return(0,s.jsx)(r.Z,{component:13106,viewType:null!=n?n:202,viewParameter:t,children:(0,s.jsxs)(i.xu,{direction:"column",justifyContent:"center",alignItems:"center",display:"flex",paddingX:7,"data-test-id":"mweb-visual-search-app-upsell",children:[(0,s.jsx)(i.kC,{direction:"row",height:48,width:"100%",justifyContent:"center",children:(0,s.jsx)(i.xu,{height:48,width:48,rounding:"circle",color:"secondary",justifyContent:"center",direction:"row",display:"flex",alignItems:"center",marginTop:-3,children:(0,s.jsx)(i.JO,{accessibilityLabel:d.bt(" ", "Visual search", "mweb.visual.search.app.upsell.flashlight.icon", undefined, true),icon:"flashlight",size:24,color:"default"})})}),(0,s.jsx)(i.xu,{marginTop:4,children:(0,s.jsx)(i.X6,{size:"400",align:"center",children:c})}),(0,s.jsx)(i.xu,{marginTop:2,maxWidth:300,children:(0,s.jsx)(i.xv,{align:"center",size:"300",children:u})}),(0,s.jsx)(i.xu,{marginTop:4,marginBottom:6,direction:"row",justifyContent:"center",display:"flex",children:(0,s.jsx)(o.Z,{componentType:14157,app_upsell_type:e.app_upsell_type,children:({handleOpenApp:t})=>(0,s.jsx)(i.zx,{color:"red",text:d.bt(" ", "Open app", "mweb.app_upsell.app_upsell_button_text1", undefined, true),size:"lg",onClick:()=>t({deepLinkUri:`/pin/${e.pinId}`})})})})]})})}},799006:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(702664);let l=()=>(0,i.useSelector)(({session:{canUseNativeApp:e}})=>e)},757924:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(796994),l=n(989037);function a({action:e,collaboratedByMe:t,collaboratorPermissions:n,ownerId:a}){let r=(0,i.Z)(a),o=(0,l.Z)(t);return r||o&&!!(null!=n&&n.includes(e))}},796994:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(802071);function l(e){let t=(0,i.Z)();return e===t.id}},989037:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(802071);function l(e){let t=(0,i.Z)();return t.isAuth&&e}},36278:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(77494),l=n(282802),a=n(335263),r=n(994405),o=n(785893);function s({children:e,type:t}){let n=(0,l.B)();return(0,o.jsx)(i.Z,{annotateExperiments:[(0,r.J1)(),n.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"],surface:"pin_closeup",constraints:"authDesktop"===t?[...a.d0]:["PinPageMainImageRendered"],customEnabledNavigationTypes:["initial_app_load","client_route_push","client_route_replace"],children:e})}},578702:(e,t,n)=>{"use strict";n.d(t,{$T:()=>_,CI:()=>a,Ch:()=>o,Gb:()=>s,Gg:()=>i,Ie:()=>p,KP:()=>m,Kn:()=>r,Uj:()=>d,bx:()=>h,d2:()=>u,g9:()=>g,iB:()=>y,u6:()=>l,zT:()=>c});let i=508,l=2*i,a=488,r=992,o=672,s=1176,d=.6,c=.84,u=40,p=72,m=740,h=912,g=32,_=24,y={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},335263:(e,t,n)=>{"use strict";let i;n.d(t,{GL:()=>r,_z:()=>l,d0:()=>s,hO:()=>o,pM:()=>a});let l="video",a="image",r=new Map([["DEFAULT",new Set(["button"])],["story_pin",new Set([l])],["product_detail_page",new Set(["description","shopButton","thumbnailsLoaded"])],["product_detail_page_plus",new Set(["description","shopButton","thumbnailsLoaded"])]]),o=(i=new Set,r.forEach(e=>{i=new Set([...i,...e])}),i),s=new Set([...o,a,"resource"])},154522:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>c,Dk:()=>p,Fk:()=>l,fS:()=>d,km:()=>u,lI:()=>r,lJ:()=>a,mS:()=>s,qW:()=>o});var i=n(883119);let l=new i.Ry(1),a=3,r=new i.Ry(a),o=2,s=new i.Ry(o),d=3,c=4,u=new i.Ry(5),p=new i.Ry(100)},515367:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,e:()=>r});var i=n(883119),l=n(282802),a=n(785893);let r=new i.Ry(1);function o({children:e,isImagePinForUnauthOnTablet:t}){let{isAuthenticated:n}=(0,l.B)();return(0,a.jsxs)(i.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:n?void 0:r,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,a.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},898961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>e2});var i,l,a,r,o,s=n(667294),d=n(702664),c=n(167912),u=n(616550),p=n(240684),m=n(883119),h=n(563962),g=n(604094),_=n(527386),y=n(969458),v=n(766046),f=n(468105),b=n(88622),x=n(536042),k=n(630089),P=n(17206),S=n(619795),w=n(110417),T=n(525571),A=n(5342),C=n(988014),I=n(624417),j=n(898252),E=n(769705),L=n(245410),R=n(282802),F=n(819079),D=n(643183),z=n(466946),M=n(599226),O=n(611756),Z=n(552369),N=n(98736),K=n(618569),B=n(739425),U=n(549201),H=n(272109),V=n(472921),G=n(799006),$=n(14303),W=n(757924),q=n(786458),Y=n(586567),X=n(242892),J=n(930359),Q=n(776842),ee=n(209798),et=n(84262),en=n(455605),ei=n(752491),el=n(238941),ea=n(244634),er=n(447398),eo=n(952809),es=n(60743),ed=n(787234),ec=n(889685),eu=n(348597),ep=n(822158),em=n(230910),eh=n(684262),eg=n(772356),e_=n(963181),ey=n(852930),ev=n(199727),ef=n(624524),eb=n(471819),ex=n(369050),ek=n(903201),eP=n(383755),eS=n(199999),ew=n(190253),eT=n(260070),eA=n(446191),eC=n(525104),eI=n(410834),ej=n(467037),eE=n(133835),eL=n(252315),eR=n(117918),eF=n(468776),eD=n(785893);let ez=(0,p.ZP)({resolved:{},chunkName:()=>"StoryPinStream",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(28384).then(n.bind(n,297021)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>297021}),eM=(0,s.lazy)(()=>Promise.all([n.e(68138),n.e(40589)]).then(n.bind(n,692120))),eO=(0,s.lazy)(()=>Promise.all([n.e(24002),n.e(98860),n.e(5834),n.e(37229),n.e(4469)]).then(n.bind(n,577399))),eZ=(0,s.lazy)(()=>Promise.all([n.e(24002),n.e(98860),n.e(5834),n.e(37229),n.e(20594)]).then(n.bind(n,184699))),eN=(0,s.lazy)(()=>Promise.all([n.e(98860),n.e(20013),n.e(21450)]).then(n.bind(n,321450))),eK=(0,p.ZP)({resolved:{},chunkName:()=>"UnauthCloseupRelatedPins",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(98860),n.e(20013),n.e(75676)]).then(n.bind(n,10530)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>10530}),eB=void 0!==i?i:i=n(69039),eU=void 0!==l?l:l=n(849947),eH=void 0!==a?a:a=n(241643),eV=void 0!==r?r:r=n(440433),eG=void 0!==o?o:o=n(273043),e$=({children:e,queryRef:t})=>{var n;return e((0,c.useFragment)(eU,null===(n=(0,c.usePreloadedQuery)(eH,t).v3GetPinQuery)||void 0===n?void 0:n.data))},eW=({children:e,fallback:t,queryRef:n})=>n?(0,eD.jsx)(s.Suspense,{fallback:t,children:(0,eD.jsx)(e$,{queryRef:n,children:t=>t&&e(t)})}):e(null),eq=({children:e,pinId:t})=>{var n;let i=(0,U.HG)();return e((0,c.useFragment)(eV,null===(n=(0,c.useLazyLoadQuery)(eG,{pinId:t,isDesktop:i}).v3GetPinQuery)||void 0===n?void 0:n.data))},eY=s.Fragment,eX=({children:e,uanuthDesktopSocialLandingPopover:t})=>e&&t?(0,eD.jsxs)(m.kC,{gap:{row:4,column:0},justifyContent:"center",children:[t,e]}):e,eJ=({domain:e,isPromoted:t,hasLinkDomainOfficialUser:n,hasLinkUserWebsiteOfficialUser:i,hasNativeCreator:l,hasThirdPartyPinOwner:a,pinnerDomainVerified:r,pinnerDomainUrl:o})=>i||n||a||!!r&&o===e&&!t||l;function eQ({aggregatedPinDataId:e,boardCollaboratedByMe:t,boardCollaboratorPermissions:n,boardIsCollaborative:i,boardOwnerId:l,boardId:a,boardUrl:r,clickthroughInterstitialExperience:o,closeupAttributionFullName:c,commentsDisabled:p,embedSrc:E,embedSubtype:ee,embedType:eC,experience:eB,hasLinkDomain:eU,hasLinkDomainOfficialUser:eH,hasLinkUserWebsiteOfficialUser:eV,hasNativeCreator:eG,hasRichMetadata:e$,hasRichMetadataProducts:eq,hasRichMetadataArticle:eQ,hasRichMetadataRecipe:e0,hasRichMetadataTutorial:e1,hasThirdPartyPinOwner:e2,imageSignature:e3,imagesCount:e6,isDeletedStoryPin:e5,isDownstreamPromotion:e4,isEligibleForAggregatedComments:e8,isEligibleForPdp:e9,isProductPin:e7,isPromoted:te,isStoryPin:tt,isV1IdeaPin:tn,isVideoPin:ti,link:tl,linkDomainName:ta,mobileLink:tr,graphqlRefs:to,originalPinImageDimensions:ts,pinCreatedAt:td,pinDomain:tc,pinTrackingParams:tu,pinId:tp,imagesUrls:tm,pinSectionId:th,pinnedToBoardId:tg,pinnedToBoardUrl:t_,pinnerDomainUrl:ty,pinnerDomainVerified:tv,pinnerId:tf,postDownloadModalEligibilityType:tb,promotedIsRemovable:tx,promoterId:tk,seoBreadcrumbs:tP,shouldOpenInStream:tS,storyPinDataId:tw,textCommentCount:tT,trackedLink:tA,uanuthDesktopSocialLandingPopover:tC,videosId:tI,viewerId:tj,viewingUser:tE}){var tL,tR;let tF=(0,x.ZP)(),tD=(0,u.useHistory)(),tz=(0,u.useLocation)(),tM=(0,u.useRouteMatch)(),tO=(0,U.ZP)(),tZ="desktop"===tO,tN=(0,d.useDispatch)(),tK=(0,G.Z)(),{checkExperiment:tB}=(0,L.F)(),tU=(0,h.Z)(),tH=(0,K.Z)(),tV=(0,M.Z)(),tG=(0,eb.Z)(),{isBot:t$,isSocialBot:tW,isAuthenticated:tq,userAgent:tY,locale:tX}=(0,R.B)(),{setHomeFlyoutText:tJ,setShowHomeBadge:tQ,setShowHomeFlyoutWithButton:t0}=(0,ex.U)(),{comment_id:t1}=(0,u.useParams)(),t2=null==to?void 0:to.pageRef,{group:t3}=tB("mweb_pin_closeup_resize_image",{dangerouslySkipActivation:!0}),{group:t6}=tB("mweb_pin_closeup_resize_image_body",{dangerouslySkipActivation:!0}),[t5,t4]=(0,s.useState)(!tZ&&tq&&!!(t6||t3)),t8=(0,eL.M)(),[t9,t7]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t7(!1)},[tp]);let[ne,nt]=(0,V.Z)(!1,tp),nn=!tZ&&tB(tq?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,ni=!tZ&&!e9&&e8&&tq&&tB("mweb_comment_module").anyEnabled,nl=!te&&!e4&&!e5&&!(tw&&!1===tS),na=tt&&!1!==tS&&!tZ&&!t$&&!nn,nr=tf===tj,no=(0,j._S)(tc)?(0,em.Wj)({i18n:tF,hasLinkDomain:eU,hasRichMetadataArticle:eQ,hasRichMetadataRecipeCategorizedIngredients:e0,hasRichMetadataTutorial:e1,richMetadataRecipeFromAggregatedData:null}):tF.bt("  Pinterest", "Uploaded to Pinterest", "closeup.closeupDetails.pinCreditPrefix", undefined, true);(0,s.useEffect)(()=>{let e=!(0,eh.Z)(tz);e&&tq&&(0,A.Z)(tE,null,28)&&tU({event_type:9956,view_type:3,userIdStr:null==tE?void 0:tE.id}),tq&&(0,N.Nc)("view_pin_page")},[]);let[ns,nd]=(0,s.useState)(!1),[nc,nu]=(0,s.useState)(!1),[np,nm]=(0,s.useState)(!1),[nh,ng]=(0,s.useState)(null),{showUnauthSharingModals:n_}=null!==(tL=(0,z.l)())&&void 0!==tL?tL:Object.freeze({}),ny=(0,f.c)(),nv=e7&&tq,nf=!tZ&&!e7,nb=nv||nf||t5,nx=!e7&&tB("auth_mweb_inline_action_bar").anyEnabled,[nk,nP]=(0,V.Z)(!nb&&(!tq||tZ||nx),tp),nS=nk||t5?"body":"header",nw=(0,W.Z)({action:4,collaboratedByMe:null!=t&&t,collaboratorPermissions:n,ownerId:l}),nT=(0,C.fY)(tz),nA=()=>{!t$&&null!=tE&&tE.id&&"undefined"!=typeof window&&(0,S.U)(window.location,tE.id,!0,tq,e=>tD.replace(e,tz.state))},nC=()=>(0,Z.Z)(()=>{tp&&tU({event_type:110,view_type:3,view_parameter:156,component:ti?179:85,aux_data:{unauth_page_pin_id:tp}})},300),nI=(0,s.useCallback)(()=>{let e={pin_image_signature:e3};tN((0,_.pz)([1000112],t$,tq?{...e,creator_username:c,is_creator_card_shown:!nr&&!!eJ({domain:tc,isPromoted:te,hasLinkDomainOfficialUser:eH,hasLinkUserWebsiteOfficialUser:eV,hasNativeCreator:eG,hasThirdPartyPinOwner:e2,pinnerDomainVerified:tv,pinnerDomainUrl:ty})}:e))},[tN,c,e3,tq,te,t$,eH,eV,eG,e2,tc,tv,ty,nr]);(0,s.useEffect)(()=>{null!=t8&&t8.isSaved(tp)&&ny("Save",tz.pathname)},[t8,tp,tz.pathname]);let nj=e=>{na&&tU({component:229,element:10942,event_type:102,view_type:3,view_parameter:157}),tG({fn:()=>{ng("sendPinModal"),tq||null==n_||n_()},modalHeader:(0,ef.hg)(tF)})(e)},nE=(0,U.ml)();(0,H.Z)(()=>{nA(),(0,P.Z)();let e=(0,B.mB)(window.location.search),t=e.invite_code;if(t&&tU({component:ti?179:85,element:46,event_type:47,view_type:3,view_parameter:156}),tq){if(!tZ){let e=(0,O.qn)(eP.Hn);e||(0,eg.xT)(tE)||(tN((0,eA.Q_)("HAS_DONE_CLOSEUP",1)),(0,O.Nh)(eP.Hn,!0))}}else window.addEventListener("scroll",nC),(0,N.My)(`mweb.pin_page.${tY.platform||"unknown"}`),td&&(0,N.My)("mweb_unauth.pin_page.publish_date"),(0,N.NC)("view_pin_page");return tw&&tN((0,eT.FK)()),t$||nI(),"t"===(0,B.mB)(tz.search).open_share&&nj(),()=>{tw&&tN((0,eT.Cp)()),tq||window.removeEventListener("scroll",nC)}});let nL=(0,s.useRef)({linkDomainName:ta,pinId:tp});(0,s.useEffect)(()=>{let e=nL.current,t=tp!==e.pinId,n=!e.pinId&&tp,i=e&&e.linkDomainName!==ta;t&&(nA(),tq&&(0,N.Nc)("view_pin_page")),(n||t||i&&tq)&&nI(),nL.current={linkDomainName:ta,pinId:tp}});let nR=void 0===tD.location.state,nF=tq&&nR&&t9&&!nc&&!np;(0,s.useEffect)(()=>{nF&&nm((0,ek.Z)())},[nF]),(0,s.useEffect)(()=>{tN((0,eT.Cp)())},[tN]);let nD=(0,eS.a)(),{setShouldShowLearningUpsell:nz,shouldShowLearningUpsell:nM}=null!=nD?nD:{},nO=!tq&&nE&&["ios","android"].includes(tY.platform);(0,s.useEffect)(()=>{if(!nO||!nz)return()=>{};{let e=(0,Z.Z)(()=>{window.scrollY>400&&(nz(!1),(0,N.My)("learning.upsell.dismiss.by.scroll.down"))},10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}},[nO,nz]);let nZ=(0,eI.Z)({embedSrc:E,embedType:eC,hasRichMetadata:e$,hasRichMetadataProducts:eq,hasRichMetadataArticle:eQ,hasRichMetadataRecipe:e0,imagesUrls:tm,isStoryPin:tt,pinId:tp}),nN=(0,eE.Z)({boardId:null!=a?a:"",embedSrc:E,embedType:eC,imagesUrls:tm,pinId:tp,pinnerId:null!=tf?tf:"",pinnedToBoardId:null!=tg?tg:"",pinSectionId:null!=th?th:"",trackingParams:tu}),nK=(0,ej.Z)({embedSrc:E,embedType:eC,imagesUrls:tm,pinId:tp,pinnerId:null!=tf?tf:""}),nB=(0,el.Z)({link:tl,mobileLink:tr,trackedLink:tA}),nU=(0,ew.J6)({boardIsCollaborative:i,isDownstreamPromotion:e4,isEligibleForStaticImageIdeaPin:tt&&!1===tS,isPromoted:te,storyPinDataId:tw,videosId:tI}),nH=tq&&nU,nV=(0,eu.Z)(null===(tR=tz.state)||void 0===tR?void 0:tR.trackingParams,tu),nG=ti&&tq&&!tZ,n$=t2?{type:"graphqlRef",data:t2}:{type:"deprecated",data:tp},nW=(0,ep.Z)(n$),nq={downloadImageUrl:!ti&&(0,I.Z)({imagesUrls:tm,embedSrc:E,embedType:eC,excludeOriginals:!t$&&!tW})||null,isAuthenticated:tq,isBot:t$,isSocialBot:tW,saveButtonConfig:{shouldShowSavedButton:nK,onSaveButtonClick:e=>{nZ(e)},onUnsaveButtonClick:nN,repinPageLocation:(0,j.NK)(tp,tz)},clientTrackingParams:nV,isStoryPin:tt,viewParameter:(0,em.CK)({hasRichMetadata:e$,hasRichMetadataProducts:eq,hasRichMetadataArticle:eQ,hasRichMetadataRecipe:e0}),pinId:tp,canUpsellNativeApp:tK,shouldShowReactions:nH,onSendButtonClick:nj,isChromeOnIOS:"ios"===tY.platform&&"Chrome"===tY.browserName,handleDownloadPinImageClick:()=>{tH({action:"click",item:"download-image-button",within:"action-bar"}),"unauthPostDownloadUpsell"===tb?(ng(null),tZ||tV({attributionLabel:"tap_closeup_download_button",reason:"UPSELL_LOGIN_OR_SIGNUP",mobileOptions:{headingType:"download"}})):tb?ng("postDownloadModal"):ny("Download",tz.pathname)},shouldRenderAsStoryPin:tt&&!1!==tS&&!nn,shouldShowVisitInMoreOptions:nB&&nG},nY=nH&&(tI&&"video"||tt&&"storyPin")||null,nX=nr||nw?tG({fn:()=>tD.push(tM.url+"edit/"),modalHeader:(0,ef.oM)(tF),nextLocation:(0,ef.wI)(tz)}):void 0,nJ=()=>{ng("reportPinModal"),tU({view_type:3,view_parameter:139,element:72,event_type:102,object_id_str:tp||""})},nQ=(0,s.useRef)((null!=tT?tT:0)+(null!=e6?e6:0)>0&&!p),n0=(0,F.Z)(nQ.current&&e&&ni?(0,es.w)({aggregatedPinDataId:e,featuredCommentIds:t1?[t1]:[],isDesktop:!1}):null),n1=(0,eD.jsx)(eW,{queryRef:null==to?void 0:to.detailRef,children:e=>(0,eD.jsx)(ea.Z,{clickthroughInterstitialExperience:o,commentsResource:n0,experience:eB,inCommentModuleExp:!!ni,isActionBarInline:nk||t5,isEligibleForPinReactions:nl,isNewUser:(0,T.Z)(null==tE?void 0:tE.created_at),isRemovablePin:null!=tx&&tx,nativePinType:nY,onMobileTap:()=>{na&&tU({component:229,element:10946,event_type:102,view_type:3,view_parameter:157}),nJ()},onSendButtonClick:nj,pinId:tp,pinnedToBoardId:tg,pinnedToBoardUrl:(nr?r:t_)||"",scrolledToRelatedPins:t9,shouldShowReactions:nH&&!nb,onEditButtonClick:nX,shouldShowBackButton:"header"===nS,shouldShowShareOnVideoCloseup:nG,isEligibleToVisitPin:nB,graphqlRef:e})}),n2=(0,eD.jsx)(eW,{queryRef:null==to?void 0:to.detailRef,children:e=>(0,eD.jsx)(en.Z,{commentsResource:n0,inCommentModuleExp:!!ni,isEligibleForPinReactions:nl,isProductPin:e7,pinId:tp,pinKey:e?{type:"graphqlRef",data:e}:{type:"deprecated",data:tp}})}),n3=(tz.search||"").includes("force_seo")||!tq;return(0,eD.jsx)(Q.Z,{pinKey:n$,pinId:tp,viewParameter:nq.viewParameter,children:(0,eD.jsxs)(X.Z,{closeupPageContext:nq,imageViewer:(0,C.Fr)(tz)&&!na&&tq&&(0,eD.jsx)(eW,{queryRef:null==to?void 0:to.detailRef,children:e=>(0,eD.jsx)(eM,{postDownloadModalEligibilityType:tb,isRemovablePin:!!tx,experience:eB,graphqlRef:e,pinnedToBoardId:tg,pinnedToBoardUrl:(nr?r:t_)||"",pinId:tp,shouldShowSEOPinInfo:n3,setActionBarIsMinifiedToMainPinImage:nd})}),pinKey:n$,hasGutter:!na,stickyUpsell:nO&&nM&&(0,eD.jsx)(eF.Z,{pinId:tp}),children:[(0,eD.jsxs)(eY,{children:[tq&&(0,eD.jsxs)(s.Fragment,{children:[eB&&(0,eD.jsx)(ed.Z,{experience:eB}),eB&&(0,eD.jsx)(ec.Z,{experience:eB}),eB&&(0,eD.jsx)(y.Z,{experience:eB},`${tp}-1000112`),(0,eD.jsx)(v.Z,{placementId:1000494},`${tp}-1000494`),(0,eD.jsx)(v.Z,{placementId:1000500},`${tp}-1000500`)]}),!tq&&nT&&!tZ&&(0,eD.jsx)(eo.Z,{isDesktop:!1,isStoryPin:tt}),"header"===nS&&!ns&&n1,!tq&&(tZ?(0,eD.jsx)(ey.Z,{breadcrumbs:null!=tP?tP:[]}):!na&&(t$?(0,eD.jsx)(ey.Z,{breadcrumbs:null!=tP?tP:[]}):(0,eD.jsx)(ev.Z,{pinId:tp,shouldUseGraphQL:!!t2})))]}),(0,eD.jsxs)(eX,{uanuthDesktopSocialLandingPopover:tC,children:[(nb||nk)&&!na&&(0,eD.jsx)(et.Z,{pinActionBarOptionsButton:nb&&!t9&&(0,eD.jsx)(eW,{queryRef:null==to?void 0:to.detailRef,children:e=>(0,eD.jsx)(m.xu,{"data-test-id":"ellipsis-button",children:(0,eD.jsx)(er.Z,{onMobileTap:nJ,pinCreditPrefix:no,pinId:tp,graphqlRef:e,overlayingPinImage:!0,clickthroughInterstitialExperience:o})})}),l1interestFallbackUrl:null!=tP&&tP[tP.length-1]?tP[tP.length-1].url:""}),na?(0,eD.jsx)(g.Z,{name:"SafeSuspense_Closeup_StoryPinStream",children:(0,eD.jsx)(ez,{fallback:null,pinId:tp,graphqlRef:null==to?void 0:to.storyPinRef})}):e5?(0,eD.jsx)(eR.Z,{}):(0,eD.jsx)(q.Z,{pinId:tp,originalPinImageHeight:ts.height||1,originalPinImageWidth:ts.width||1,setIsEligibleToShowInlineActionBar:t4,children:e=>(0,eD.jsx)(Y.Z,{pinImageResizePercents:e.pinImageResizePercents,resizePinImageExperimentGroup:e.resizePinImageExperimentGroup,setCloseupDetailsHeight:e.setCloseupDetailsHeight,setCloseupPinLinkCreditsHeight:e.setCloseupPinLinkCreditsHeight,setCloseupTitleHeight:e.setCloseupTitleHeight,setUploadedToPinterestTextHeight:e.setUploadedToPinterestTextHeight,setUserAttributionHeight:e.setUserAttributionHeight,setUserRepHeight:e.setUserRepHeight,actionBarIsMinifiedToMainPinImage:ns,clickthroughInterstitialExperience:o,closeupIsFirstPageInHistoryStack:nR,commentModule:ni?n2:null,graphqlRefs:to,isActionBarInline:nk||!!e.resizePinImageExperimentGroup,isImagePinForUnauthOnTablet:!tq&&!ti&&!(0,j.cL)({embedSrc:E,embedSubtype:ee,embedType:eC})&&("tablet"===tO||(0,w.oy)()),isSendPinModalOpen:"sendPinModal"===nh,isVideoPin:ti,onLinklessPinTap:()=>{let e=!ns;nd(e),tN(e?(0,eT.Cp)():(0,eT.FK)())},onMoreButtonClick:nJ,onSendPin:nj,pinActionBar:"body"===nS||e.resizePinImageExperimentGroup?n1:null,pinCloseupExperience:eB,pinId:tp,pinnedToBoardId:tg,setIsActionBarInline:nP,setIsShowingCloseupDetailsSuspenseFallback:nt,shouldShowReactions:nU,shouldShowSEOPinInfo:n3,viewerId:tj})})]}),tq&&!na&&(0,eD.jsx)(g.Z,{name:"SafeSuspense_Closeup_RelatedInterestUpsellContainer",children:(0,eD.jsx)(D.Z,{fallback:(0,eD.jsx)(J.Z,{}),children:(0,eD.jsx)(eN,{auxCommerceData:nW,graphqlConfig:to?{fallback:(0,eD.jsx)(J.Z,{}),isShowingCloseupDetailsSuspenseFallback:ne}:null,isProductDetailPage:e7,onRelatedPinsTitleEnter:()=>t7(!1),onRelatedPinsTitleExit:()=>t7(!0),pinId:tp})})}),!tq&&!na&&!tk&&(0,eD.jsx)(eW,{fallback:(0,eD.jsx)(J.Z,{}),queryRef:null==to?void 0:to.detailRef,children:e=>(0,eD.jsx)(eK,{fallback:(0,eD.jsx)(J.Z,{}),l1Interest:null==tP?void 0:tP[0],isShowingCloseupDetailsSuspenseFallback:ne,onRelatedPinsTitleEnter:()=>t7(!1),onRelatedPinsTitleExit:()=>t7(!0),pinId:tp,pinKey:e?{type:"graphqlRef",data:e}:{type:"deprecated",data:tp}})}),(0,eD.jsx)(eW,{queryRef:null==to?void 0:to.detailRef,children:e=>(0,eD.jsxs)(s.Fragment,{children:[!tq&&"phone"===tO&&tK&&(null==nD?void 0:nD.shouldShowVisualSearchAppUpsell)&&(0,eD.jsx)(b.ZP,{mobileAccessibilityCloseIconLabel:tF.bt("", "Cancel", "mweb.visual.search.app.upsell.cancel.on.pin.page", undefined, true),accessibilityModalLabel:"",_dangerouslyDisableScrollBoundaryContainer:!0,isOpen:!0,onDismiss:()=>{nD.setShouldShowVisualSearchAppUpsell(!1),tU({component:14157,element:10308,event_type:10220,view_type:156,view_parameter:3,aux_data:{upsell_reason:"visual-search-app-upsell-on-pin-page"}})},children:(0,eD.jsx)($.Z,{pinId:tp,app_upsell_type:"visual-search-app-upsell-on-pin-page"})}),tq&&!(0,eg.xT)(tE)&&nR&&t9&&!nc&&!np&&!tB("mweb_turn_off_mini_renux_exp").anyEnabled&&(0,eD.jsx)(g.Z,{name:"SafeSuspense_Closeup_RelatedInterestUpsellContainer",children:(0,eD.jsx)(D.Z,{children:(0,eD.jsx)(eZ,{onComplete:e=>{e&&(tJ((0,k.nk)(tF.bt("      {{ interestName }}", "We've added fresh ideas for {{ interestName }}", "navFooter.flyout.text", undefined, true),{interestName:(0,e_.T_)(e,tX)}).join("")),tQ(!0),t0(!0)),nu(!0)},pinId:tp,showRelatedInterestModal:()=>{ng("relatedInterestsModal")}})})}),tn&&(0,eD.jsx)(ei.Z,{pinId:tp,viewParameter:nq.viewParameter}),(0,eD.jsx)(g.Z,{name:"SafeSuspense_Closeup_CloseupModals",children:(0,eD.jsx)(D.Z,{children:(0,eD.jsx)(m.xu,{"data-test-id":"close-action-bar",children:(0,eD.jsx)(eO,{graphqlRef:e,modal:nh,onDismiss:()=>{tH({action:"click",item:"close-action-bar",within:"action-bar"}),"relatedInterestsModal"===nh&&nu(!0),ng(null)},onEditButtonClick:nX,onSendButtonClick:nj,pinId:tp,postDownloadModalEligibilityType:tb,viewParameter:nq.viewParameter,clientTrackingParams:nV,clickthroughInterstitialExperience:o,shouldShowShareOnVideoCloseup:nG,nativePinType:nY})})})})]})})]})})}function e0(e){var t,n,i,l,a,r,o,s,d,c,p,h,g,_,y,v,f,b,x,k,P,S,w,T,A,I,j,E;let{pinId:L}=e,F=(0,eC.S6)()(L),D=(0,U.HG)(),z=(0,u.useLocation)(),{isAuthenticated:M}=(0,R.B)(),O=null==F?void 0:F.board,Z=null!=F&&F.promoter&&!F.is_downstream_promotion?F.promoter:null,N=null==F?void 0:F.pinner;return F&&N&&O?(0,eD.jsx)(eQ,{...e,aggregatedPinDataId:null!==(t=null===(n=F.aggregated_pin_data)||void 0===n?void 0:n.id)&&void 0!==t?t:"",boardCollaboratedByMe:null!==(i=O.collaborated_by_me)&&void 0!==i&&i,boardCollaboratorPermissions:O.collaborator_permissions,boardIsCollaborative:O.is_collaborative,boardOwnerId:null===(l=O.owner)||void 0===l?void 0:l.id,boardId:O.id,boardUrl:O.url,closeupAttributionFullName:null===(a=F.closeup_attribution)||void 0===a?void 0:a.full_name,commentsDisabled:F.comments_disabled,embedSrc:null===(r=F.embed)||void 0===r?void 0:r.src,embedSubtype:null===(o=F.embed)||void 0===o?void 0:o.subtype,embedType:null===(s=F.embed)||void 0===s?void 0:s.type,graphqlRefs:null,hasLinkDomain:!!F.link_domain,hasLinkDomainOfficialUser:!!(null===(d=F.link_domain)||void 0===d?void 0:d.official_user),hasLinkUserWebsiteOfficialUser:!!(null===(c=F.link_user_website)||void 0===c?void 0:c.official_user),hasNativeCreator:!!F.native_creator,hasRichMetadata:!!F.rich_metadata,hasRichMetadataProducts:!!(null===(p=F.rich_metadata)||void 0===p?void 0:p.products),hasRichMetadataArticle:!!(null===(h=F.rich_metadata)||void 0===h?void 0:h.article),hasRichMetadataRecipe:!!(null===(g=F.rich_metadata)||void 0===g?void 0:g.recipe),hasRichMetadataTutorial:!!(null===(_=F.rich_metadata)||void 0===_?void 0:_.tutorial),hasThirdPartyPinOwner:!!F.third_party_pin_owner,imageSignature:F.image_signature,imagesCount:null===(y=F.aggregated_pin_data)||void 0===y?void 0:null===(v=y.did_it_data)||void 0===v?void 0:v.images_count,isDeletedStoryPin:null!==(f=null===(b=F.story_pin_data)||void 0===b?void 0:b.is_deleted)&&void 0!==f&&f,isDownstreamPromotion:F.is_downstream_promotion,isEligibleForAggregatedComments:F.is_eligible_for_aggregated_comments,isEligibleForPdp:F.is_eligible_for_pdp,isPromoted:F.is_promoted,isV1IdeaPin:F.is_v1_idea_pin,isVideoPin:!!(null!==(x=F.videos)&&void 0!==x&&x.video_list),link:F.link,linkDomainName:null===(k=F.link_domain)||void 0===k?void 0:k.name,mobileLink:F.mobile_link,originalPinImageDimensions:(null===(P=F.images)||void 0===P?void 0:P["236x"])||(null===(S=F.images)||void 0===S?void 0:S["136x136"])||{},pinCreatedAt:F.created_at,pinDomain:F.domain,pinId:L,imagesUrls:F.images?Object.keys(F.images).reduce((e,t)=>{var n,i;return t&&null!==(n=F.images)&&void 0!==n&&null!==(i=n[t])&&void 0!==i&&i.url?{...e,[t]:F.images[t].url}:e},{}):void 0,pinSectionId:null===(w=F.section)||void 0===w?void 0:w.id,pinTrackingParams:F.tracking_params,pinnedToBoardId:null===(T=F.pinned_to_board)||void 0===T?void 0:T.id,pinnedToBoardUrl:null===(A=F.pinned_to_board)||void 0===A?void 0:A.url,pinnerDomainVerified:N.domain_verified,pinnerDomainUrl:N.domain_url,pinnerId:N.id,promoterId:null==Z?void 0:Z.id,promotedIsRemovable:F.promoted_is_removable,seoBreadcrumbs:null===(I=F.pin_join)||void 0===I?void 0:I.seo_breadcrumbs,shouldOpenInStream:F.should_open_in_stream||!1,storyPinDataId:F.story_pin_data_id,textCommentCount:null===(j=F.aggregated_pin_data)||void 0===j?void 0:j.comment_count,trackedLink:F.tracked_link,videosId:null===(E=F.videos)||void 0===E?void 0:E.id}):(0,eD.jsx)(m.xu,{margin:5,children:M||D&&(0,C.fY)(z)?(0,eD.jsx)(J.Z,{}):(0,eD.jsx)(ee.Z,{})})}function e1({graphqlRefs:e,...t}){var n,i,l,a,r,o,s,d,u,p,m,h,g,_,y,v,f,b,x,k,P,S,w,T,A,C,I,j,L,R;let{pinId:F}=t,D=(0,c.useFragment)(eB,e.pageRef),z=(0,E.Z)({type:"graphqlRef",data:D}),{board:M,pinner:O}=D,Z=null===(n=D.pinJoin)||void 0===n?void 0:null===(i=n.seoBreadcrumbs)||void 0===i?void 0:i.map(({name:e,url:t})=>({name:null!=e?e:"",url:null!=t?t:""}));return(0,eD.jsx)(eQ,{...t,aggregatedPinDataId:null!==(l=null===(a=D.aggregatedPinData)||void 0===a?void 0:a.entityId)&&void 0!==l?l:"",boardCollaboratedByMe:null!==(r=null==M?void 0:M.collaboratedByMe)&&void 0!==r&&r,boardCollaboratorPermissions:null==M?void 0:M.collaboratorPermissions,boardIsCollaborative:null==M?void 0:M.isCollaborative,boardOwnerId:null==M?void 0:null===(o=M.owner)||void 0===o?void 0:o.entityId,boardId:null==M?void 0:M.entityId,boardUrl:null==M?void 0:M.url,closeupAttributionFullName:null!==(s=null===(d=D.closeupAttribution)||void 0===d?void 0:d.fullName)&&void 0!==s?s:"",commentsDisabled:D.commentsDisabled,embedSrc:null===(u=D.embed)||void 0===u?void 0:u.src,embedSubtype:null===(p=D.embed)||void 0===p?void 0:p.subtype,embedType:null===(m=D.embed)||void 0===m?void 0:m.type,hasLinkDomain:!!D.linkDomain,hasLinkDomainOfficialUser:!!(null===(h=D.linkDomain)||void 0===h?void 0:h.officialUser),hasLinkUserWebsiteOfficialUser:!!(null===(g=D.linkUserWebsite)||void 0===g?void 0:g.officialUser),hasNativeCreator:!!D.nativeCreator,hasRichMetadata:!!D.richMetadata,hasRichMetadataProducts:!!(null===(_=D.richMetadata)||void 0===_?void 0:null===(y=_.products)||void 0===y?void 0:y.length),hasRichMetadataArticle:!!(null===(v=D.richMetadata)||void 0===v?void 0:v.article),hasRichMetadataRecipe:!!(null===(f=D.richMetadata)||void 0===f?void 0:f.recipe),hasRichMetadataTutorial:!!(null===(b=D.richMetadata)||void 0===b?void 0:b.tutorial),hasThirdPartyPinOwner:!!D.thirdPartyPinOwner,imageSignature:D.imageSignature,imagesCount:null===(x=D.aggregatedPinData)||void 0===x?void 0:null===(k=x.didItData)||void 0===k?void 0:k.imagesCount,isDeletedStoryPin:null!==(P=null===(S=D.storyPinData)||void 0===S?void 0:S.isDeleted)&&void 0!==P&&P,isDownstreamPromotion:D.isDownstreamPromotion,isEligibleForAggregatedComments:D.isEligibleForAggregatedComments,isEligibleForPdp:D.isEligibleForPdp,isPromoted:D.isPromoted,isV1IdeaPin:D.isV1IdeaPin,isVideoPin:!!(null===(w=D.videos)||void 0===w?void 0:w.entityId),link:D.link,linkDomainName:null===(T=D.linkDomain)||void 0===T?void 0:T.name,mobileLink:D.mobileLink,originalPinImageDimensions:D.imageSpec_236x||D.imageSpec_136x136||{},pinCreatedAt:D.createdAt,pinDomain:D.domain,pinId:F,imagesUrls:z,pinSectionId:null===(A=D.section)||void 0===A?void 0:A.entityId,pinTrackingParams:D.trackingParams,pinnedToBoardId:null===(C=D.pinnedToBoard)||void 0===C?void 0:C.entityId,pinnedToBoardUrl:null===(I=D.pinnedToBoard)||void 0===I?void 0:I.url,pinnerDomainVerified:null==O?void 0:O.domainVerified,pinnerDomainUrl:null==O?void 0:O.domainUrl,pinnerId:null==O?void 0:O.entityId,promoterId:null===(j=D.promoter)||void 0===j?void 0:j.entityId,promotedIsRemovable:D.promotedIsRemovable,seoBreadcrumbs:null!=Z?Z:[],shouldOpenInStream:D.shouldOpenInStream||!1,storyPinDataId:D.storyPinDataId,textCommentCount:null===(L=D.aggregatedPinData)||void 0===L?void 0:L.commentCount,trackedLink:D.trackedLink,videosId:null===(R=D.videos)||void 0===R?void 0:R.entityId,graphqlRefs:{...e,pageRef:D}})}function e2({graphqlRefs:e,...t}){if(!e)return(0,eD.jsx)(e0,{...t});let{isStoryPin:n,pinId:i}=t;return n?(0,eD.jsx)(eq,{pinId:i,children:n=>n&&(0,eD.jsx)(e1,{...t,graphqlRefs:{...e,storyPinRef:n}})}):(0,eD.jsx)(e1,{...t,graphqlRefs:{...e,storyPinRef:null}})}},818746:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(883119),l=n(265259),a=n(245410),r=n(282802),o=n(549201),s=n(578702),d=n(460914),c=n(963181),u=n(785893);let p={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},m=({detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:{mainImageEventHandlers:l}})=>{let m=(0,o.ZP)(),h="desktop"===m?8:"undefined"!=typeof window&&window.screen&&window.screen.width<750?0:54,{checkExperiment:g}=(0,a.F)(),{isAuthenticated:_}=(0,r.B)(),y=_?g("auth_closeup_redesign").anyEnabled:g("unauth_closeup_redesign").anyEnabled;return(0,u.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:y?{__style:p}:void 0,paddingX:y?5:void 0,paddingY:y?5:void 0,maxWidth:y?1059:void 0,children:(0,u.jsxs)(i.xu,{position:"relative",display:"flex",maxWidth:s.u6,overflow:"phone"!==m?void 0:"hidden",minHeight:"40vh",rounding:"desktop"===m?void 0:6,dangerouslySetInlineStyle:"phone"!==m?{__style:{justifyContent:"center"}}:{__style:{marginTop:t?0:54,marginRight:h,marginBottom:54,marginLeft:h,boxShadow:"desktop"===m?void 0:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},children:[(0,u.jsx)(d.Z,{onMouseEnter:null==l?void 0:l.onMouseEnter,onMouseLeave:null==l?void 0:l.onMouseLeave,onTouch:null==l?void 0:l.onTouch,pressState:"desktop"===m?"none":"compress",rounding:2,children:(0,u.jsx)(i.xu,{display:"phone"!==m?"block":"flex",height:"100%",justifyContent:"center",overflow:"phone"!==m?void 0:"hidden",rounding:"desktop"===m?8:void 0,width:"phone"!==m?c.Hg:"47vw",children:n})}),(0,u.jsx)(i.xu,{paddingX:"phone"!==m?0:"desktop"===m?8:10,width:"phone"!==m?c.Hg:"47vw",display:"flex",direction:"column",justifyContent:"between",children:e})]})})})},h=({detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:a})=>{let r=(0,o.ZP)();return a?(0,u.jsx)(i.xu,{marginEnd:"auto",marginStart:"auto","data-test-id":"closeup-body-landscape",children:(0,u.jsx)(m,{detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:a})}):(0,u.jsxs)(i.xu,{marginEnd:"auto",marginStart:"auto",maxWidth:"desktop"===r?void 0:"phone"===r?c.g6:c.Hg,"data-test-id":"closeup-body-portrait",children:[t||"desktop"===r?(0,u.jsx)(l.Z,{roundedForLargeDevice:!0,children:n}):n,e]})}},576380:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C}),n(167912);var i,l,a=n(803817),r=n(536042),o=n(630089),s=n(740494),d=n(282802),c=n(883119),u=n(785893);let p=void 0!==i?i:i=n(774049);function m({pin:e}){var t,n;let i=(0,r.ZP)(),{authorUrl:l,authorName:a,url:s,providerName:d,ccUrl:p}=e.attribution||{},m=null===(t=e.attribution)||void 0===t?void 0:null===(n=t.embed)||void 0===n?void 0:n.src,{type:h,src:g,subtype:_}=e.embed||{},y=!!d&&"Unknown"!==d,v={author:(0,u.jsx)(c.xu,{display:"inlineBlock",children:(0,u.jsx)(c.rU,{underline:"none",href:l||"",rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,u.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:a})},"author")},"author"),provider:y?(0,u.jsx)(c.xu,{marginEnd:1,display:"inlineBlock",children:(0,u.jsx)(c.rU,{underline:"always",href:s||"",rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,u.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:d})},"provider")},"provider"):null},f=y?i.bt(" {{ provider }}", "from {{ provider }}", "closeup.description.imageSourceWithProvider", undefined, true):null;return a&&(f=(g||m)&&"gif"!==h&&"pinstory"!==_?y?i.bt("   {{ author }}  {{ provider }}", "Video by {{ author }} on {{ provider }}", "closeup.description.videoSourceWithProvider", undefined, true):i.bt(" : {{ author }}", "Video by {{ author }}", "closeup.description.videoSource", undefined, true):y?i.bt("   {{ author }}  {{ provider }}", "Photo by {{ author }} on {{ provider }}", "closeup.description.photoSourceWithProvider", undefined, true):i.bt(" : {{ author }}", "Photo by {{ author }}", "closeup.description.photoSource", undefined, true)),(0,u.jsx)(c.xu,{display:"inlineBlock","data-test-id":"photo-attribution",children:(0,u.jsxs)(c.xv,{size:"200",inline:!0,children:[!!f&&(0,o.nk)(f,v),p&&(0,u.jsx)(c.rU,{underline:"none",href:p,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,u.jsx)(c.xv,{size:"200",inline:!0,children:i.bt("(cc)", "(cc)", "creative commons link text", undefined, true)})},"link")]})})}function h({pinKey:e}){let{data:t}=(0,a.sr)(p,e,{type:"pin",useLegacyAdapter:e=>({attribution:e.attribution&&{authorName:e.attribution.author_name,authorUrl:e.attribution.author_url,ccUrl:e.attribution.cc_url,embed:e.attribution.embed&&{src:e.attribution.embed.src},providerName:e.attribution.provider_name,url:e.attribution.url},embed:e.embed&&{src:e.embed.src,subtype:e.embed.subtype,type:e.embed.type}})});return t&&(0,u.jsx)(m,{pin:t})}var g=n(667294),_=n(318583),y=n(47034),v=n(377234),f=n(245410),b=n(98736),x=n(618569),k=n(208606),P=n(549201);function S({text:e}){let{isAuthenticated:t,isBot:n}=(0,d.B)(),[i,l]=(0,g.useState)(!1),{checkExperiment:a}=(0,f.F)(),r=(0,P.ZP)(),o=(0,x.Z)(),{anyEnabled:s}=a("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),p=(0,v.vs)(),m=s?p:(0,v.Yc)(),h=(0,g.useCallback)(()=>{i||t||((0,b.NC)("click_open_description"),(0,b.My)("desktop"===r?"pcons.dweb-more-description":"pcons.mweb-more-description"),o({action:"click",item:"more-description"})),l(!i)},[i,t,o,r]);return n?(0,u.jsx)(c.xv,{inline:!0,children:(0,y.Z)(e)}):"desktop"!==r?(0,u.jsx)(k.Z,{Wrapper:({children:e})=>(0,u.jsx)("h2",{style:{fontSize:"14px",wordWrap:"break-word",textAlign:"start"},children:e}),isExpanded:i,description:e,maxHeight:38,handleToggle:h}):(0,u.jsx)(_.Z,{isDarkMode:m,children:(0,y.Z)(e)})}function w({photoAttribution:e,text:t}){let n;let i=(0,P.ZP)(),l=(0,x.Z)(),{checkExperiment:a}=(0,f.F)(),{isAuthenticated:r}=(0,d.B)(),o=r?a("auth_closeup_redesign").anyEnabled:a("unauth_closeup_redesign").anyEnabled;return"phone"===i&&(n=o?"start":"center"),(0,u.jsxs)(c.xu,{"data-test-id":"CloseupDescriptionContainer",maxWidth:"100%",dangerouslySetInlineStyle:{__style:{textAlign:n}},children:[e,t&&(0,u.jsx)(c.xu,{"data-test-id":"main-pin-description-text",children:(0,u.jsx)(c.iP,{onTap:()=>{(0,b.My)("desktop"===i?"pcons.dweb.main-pin-description-text":"pcons.mweb.main-pin-description-text"),l({action:"click",item:"main-pin-description-text"})},children:(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},children:(0,u.jsx)(S,{text:t})})})})]})}let T=void 0!==l?l:l=n(7202),A=(e,t)=>{if(e){let n=e.getTime(),i=new Date().getTime();return null==t||i-n<=31536e6*t}return!1};function C({pinKey:e}){var t,n,i,l,c,p,m,g;let _;let y=(0,r.ZP)(),{isAuthenticated:v,locale:f}=(0,d.B)(),{data:b,childDataKey__DEPRECATED:x}=(0,a.sr)(T,e,{type:"pin",useLegacyAdapter:e=>({attribution:e.attribution&&{__typename:"Attribution"},closeupDescription:e.closeup_description,closeupUnifiedDescription:e.closeup_unified_description,description:e.description,richMetadata:e.rich_metadata&&{article:e.rich_metadata.article&&{datePublished:e.rich_metadata.article.date_published},description:e.rich_metadata.description,recipe:e.rich_metadata.recipe&&{__typename:"RecipeMetadata"}},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},seoDescription:e.seo_description,seoNoindexReason:e.seo_noindex_reason,storyPinDataId:e.story_pin_data_id})});if(!b)return null;let{closeupDescription:k,closeupUnifiedDescription:P,storyPinDataId:S}=b,C=null!==(t=null===(n=b.richMetadata)||void 0===n?void 0:n.description)&&void 0!==t?t:"",I=null!==(i=null===(l=b.richMetadata)||void 0===l?void 0:null===(c=l.article)||void 0===c?void 0:c.datePublished)&&void 0!==i?i:"",j=null!==(p=null===(m=b.richSummary)||void 0===m?void 0:m.displayName)&&void 0!==p?p:"",E=b.description,L=!!b.attribution,R=b.seoDescription||"",F=b.seoNoindexReason||"",D=I&&new Date(I),z=v?null==P?void 0:P.trim():(0,s.Z)({storyPinDataId:S,pinDescription:E,richMetadataDescription:C,richSummaryDisplayName:j,closeupDescription:k,closeupUnifiedDescription:P,seoDescription:R,seoNoindexReason:F}),M=D&&A(D,2)&&z?(0,o.nk)(y.bt("{{ pinDescription }}  : {{ date }}", "{{ pinDescription }} Published on {{ date }}", "closeup.details.descirptionWithPublishedDate", undefined, true),{date:function(e,t){try{return new Intl.DateTimeFormat(t,{month:"long",day:"numeric",year:"numeric",calendar:"gregory"}).format(e)}catch(t){return e?e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate():""}}(D,f),pinDescription:z}).join(""):z;return L&&(_=(0,o.nk)(z?"{{ credit }}  \xb7 ":"{{ credit }}",{credit:(0,u.jsx)(h,{pinKey:x},"article-pin"),descriptionToDisplay:M})),(0,u.jsx)(w,{photoAttribution:_,text:null!==(g=b.richMetadata)&&void 0!==g&&g.recipe?null:z})}},323215:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>eh,fL:()=>eo,xh:()=>ea});var i,l,a=n(667294),r=n(167912),o=n(240684),s=n(883119),d=n(342693),c=n(341027),u=n(651575),p=n(377234),m=n(604094),h=n(803817),g=n(536042),_=n(149596),y=n(525571),v=n(943795),f=n(898252),b=n(465991),x=n(245410),k=n(282802),P=n(643183),S=n(611756),w=n(493851),T=n(993926),A=n(549201),C=n(94080),I=n(576380),j=n(991074),E=n(281922),L=n(956745),R=n(226590),F=n(422279),D=n(18028),z=n(768865),M=n(431570),O=n(248288),Z=n(60743),N=n(230910),K=n(772356),B=n(176081),U=n(712968),H=n(832400),V=n(229527),G=n(141418),$=n(432044),W=n(594563),q=n(196039),Y=n(441266),X=n(932124),J=n(646081),Q=n(582319),ee=n(220271),et=n(197838),en=n(785893);let ei=(0,o.ZP)({resolved:{},chunkName:()=>"Reactions-ReactionAggregation",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(15206).then(n.bind(n,425054)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>425054}),el=(0,a.lazy)(()=>n.e(38427).then(n.bind(n,238427))),ea=2,er=a.Fragment,eo=({children:e})=>{let t=(0,H.H)();return"lg"===t?(0,en.jsx)(s.Le,{top:68,children:(0,en.jsx)(s.xu,{marginStart:4,children:e})}):e},es=(0,a.lazy)(()=>n.e(23132).then(n.bind(n,823132))),ed=void 0!==i?i:i=n(179461),ec=void 0!==l?l:l=n(229985);function eu(e){let t,n;let i=(0,g.ZP)(),{commentCount:l,commentsDisabled:r,commentModule:o,isEligibleForPdp:c,isImagePinForUnauthOnTablet:h,isStoryPin:H,onClickTitleOrDomain:J,shouldShowAggregatedComments:ee,shouldShowReactions:ed,shouldShowSEOPinInfo:ec,viewParameter:eu,viewerId:ep,pinActionBar:em,sourceUserBlockedByMe:eh,sourceUserExplicitlyFollowedByMe:eg,sourceUserFollowerCount:e_,sourceUserFullName:ey,sourceUserId:ev,sourceUserImageLargeUrl:ef,sourceUserimageMediumUrl:eb,sourceUserImageSmallUrl:ex,sourceUserIsVerifiedMerchant:ek,sourceUserUsername:eP,sourceUserVerifiedIdentityVerified:eS,pinId:ew,pinLink:eT,pinDomain:eA,pinProductPrice:eC,pinProductInStock:eI,pinReactionCounts:ej,promoterFullName:eE,hasPinProduct:eL,hasSourceUser:eR,hasOfficialUser:eF,hasLinkDomain:eD,hasNativeCreator:ez,hasOriginPinner:eM,hasPromoter:eO,hasRichMetadataArticle:eZ,hasRichMetadataTutorial:eN,hasRichMetadataRecipe:eK,hasRichMetadataRecipeCategorizedIngredients:eB,hasRichMetadataRecipeAggregateInfo:eU,hasRichMetadataProductOfferSummary:eH,hasRichSummaryProductOfferSummary:eV,richMetadataRecipeFromAggregatedData:eG,richMetadataProductName:e$,richSummaryProductName:eW,pinJoinVisualAnnotation:eq,pinJoinAnnotationsWithLinks:eY,graphqlRef:eX,isActionBarInline:eJ,setIsActionBarInline:eQ,clientTrackingParams:e0,shoppingKlpUrls:e1,storyPinKeyValueBlocks:e2,setCloseupDetailsHeight:e3,setCloseupPinLinkCreditsHeight:e6,setCloseupTitleHeight:e5,setUploadedToPinterestTextHeight:e4,setUserAttributionHeight:e8,setUserRepHeight:e9}=e,{checkExperiment:e7}=(0,x.F)(),te=(0,A.ZP)(),tt="desktop"===te,tn="phone"===te,{isAuthenticated:ti,country:tl,locale:ta,isBot:tr,regionFromIp:to}=(0,k.B)(),ts=(0,U.Tt)(),td=(0,p.vs)(),tc=c&&ti,tu=tc||!tt&&!c,tp=(0,a.useRef)(null),tm=(0,a.useRef)(null),th=(0,a.useRef)(null),tg=(0,a.useRef)(null),t_=(0,a.useRef)(null),ty=(0,a.useRef)(null),tv=(0,a.useRef)(null);(0,B.Z)(e=>{e3&&tm&&tm.current&&tm.current.offsetHeight<72&&e3(e.offsetHeight)},tp),(0,B.Z)(e=>{e6&&e6(e.offsetHeight)},th),(0,B.Z)(e=>{e5&&e5(e.offsetHeight)},tg),(0,B.Z)(e=>{e8&&e8(e.offsetHeight)},ty),(0,B.Z)(e=>{e4&&e4(e.offsetHeight)},t_),(0,B.Z)(e=>{e9&&e9(e.offsetHeight)},tv);let tf=!tt&&(!ti||tu&&eJ||!c&&e7("auth_mweb_inline_action_bar").anyEnabled);if(ti&&c)return(0,en.jsx)(eo,{children:(0,en.jsxs)(s.xu,{"data-test-id":"CloseupDetails",children:[(0,en.jsx)(s.xu,{width:"100%",paddingY:o?0:3,paddingX:2,children:(0,en.jsx)(W.Z,{onClickTitleOrDomain:J,graphqlRef:eX,pinId:ew,inlinePinActionBar:tf?em:void 0,setIsActionBarInline:tu?eQ:void 0})}),o]})});let tb=!tt&&["no_collapse_by_default","collapse_by_default"].includes(e7(ti?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group),tx=(0,f._S)(eA)?(0,N.Fc)({i18n:i,hasRichMetadataProductOfferSummary:eH,richMetadataProductName:e$,richSummaryProductName:eW,hasRichSummaryProductOfferSummary:eV}):void 0,tk=(0,f._S)(eA)?(0,N.Fc)({i18n:i,hasRichMetadataProductOfferSummary:eH,richMetadataProductName:e$,richSummaryProductName:eW,hasRichSummaryProductOfferSummary:eV})||(0,N.Wj)({i18n:i,hasLinkDomain:eD,hasRichMetadataArticle:eZ,hasRichMetadataRecipeCategorizedIngredients:eB,hasRichMetadataTutorial:eN,richMetadataRecipeFromAggregatedData:eG}):void 0,tP=!ti&&eL&&(c||tr||!e7("unauth_gate_product_pins_by_country_and_trustworthiness").anyEnabled),{pinCreditLink:tS,pinCredit:tw}=(0,N.Xe)({hasLinkDomain:eD,hasNativeCreator:ez,hasOriginPinner:eM,pinDomain:eA,sourceUserUsername:eP,sourceUserFullName:ey}),{annotationsWithLinks:tT}=(0,b.eK)({pinJoinVisualAnnotation:eq,pinJoinAnnotationsWithLinks:eY}),tA=(0,N.AH)(eT),tC=eR&&(!ti||tw&&tS),tI=ed&&!!ej&&!e7(`${ti?"auth":"unauth"}_mweb_reactions_expansion_mvp_idea_video_pin`).anyEnabled,tj=(0,y.Z)(null==ts?void 0:ts.created_at)&&!(0,K.V0)(ts),tE=tr&&!tt&&tu&&e7("mweb_render_missing_seo_content_holdout_ff").anyEnabled,tL=tE?!tu:tr||!tu,tR=ti?e7("auth_closeup_redesign").anyEnabled:e7("unauth_closeup_redesign").anyEnabled,tF=!tt&&ec&&(0,en.jsx)(s.xu,{children:(0,en.jsx)(G.Z,{dedupeVisualAnnotations:null,pinId:ew,isMainPin:!0,isAuth:ti,pinCreditPrefix:tk,onClickTitleOrDomain:J,graphqlRef:eX,lazyLoadAnnotations:!ti&&!tr,renderOnlyHiddenSEOContent:!tE&&tu&&tr,shoppingKlpUrls:e1})}),tD=!ti&&H,tz=!tD&&eF&&(0,en.jsx)(s.xu,{marginBottom:2,ref:ty,children:(0,en.jsx)(D.Z,{hideFollowButton:e7("lex_follow_button").group.includes("hide_follow")||tt,justifyContent:tt?"start":"center",viewerId:ep,pinId:ew,graphqlRef:eX,seeMoreButton:tL&&tF,clientTrackingParams:e0})}),tM=!tD&&!!tC&&!eF&&(0,en.jsxs)(s.xu,{flex:"grow",marginTop:tR?void 0:q.dP,"data-test-id":"CloseupUserRep",display:"flex",justifyContent:"between",alignItems:"center",width:"100%",ref:tv,children:[(0,en.jsx)(Q.Z,{activateLexFollowExp:()=>e7("lex_follow_button"),blockedByMe:null!=eh&&eh,explicitlyFollowedByMe:null!=eg&&eg,followerCount:null!=e_?e_:0,fullName:null!=ey?ey:"",id:null!=ev?ev:"",imageLargeUrl:null!=ef?ef:"",imageMediumUrl:null!=eb?eb:"",imageSmallUrl:null!=ex?ex:"",isEligibleForPdp:!!c,isImagePinForUnauthOnTablet:null!=h&&h,isOnCloseup:!0,isVerifiedMerchant:null!=ek&&ek,pinId:ew,textColor:"default",type:"row",username:null!=eP?eP:"",verifiedIdentityVerified:null!=eS&&eS,viewParameter:eu,viewType:3,clientTrackingParams:e0}),tL&&tF]}),tO=tt&&(tT||[]).length>0&&(0,en.jsx)(a.Fragment,{children:(0,en.jsx)(s.xu,{paddingX:0,padding:tR?0:2,marginTop:tR?4:0,children:(0,en.jsx)(et.ZP,{dedupeVisualAnnotations:null,pinId:ew,mode:"inlineWithScrollArrows",graphqlRef:eX,shoppingKlpUrls:e1})})}),tZ=tI&&(0,en.jsx)(m.Z,{name:"SafeSuspense_CloseupDetails_ReactionAggregation",children:(0,en.jsx)(P.Z,{children:(0,en.jsx)(s.xu,{alignSelf:"center",display:"flex",justifyContent:tt||tR?"start":"center",marginTop:tt?2:void 0,children:(0,en.jsx)(ei,{pinId:ew,reactionCounts:ej,viewParameter:156,viewType:3,disableModal:!ti,textSize:d.n,textWeight:"bold"})})})});eA&&eT&&(t={domain:eA,url:eT});let tN=eX?{type:"graphqlRef",data:eX}:{type:"deprecated",data:ew},tK=(e2||[]).map((e,t)=>{var n;return(0,en.jsx)(Y.Z,{categoryType:null!==(n=e.categoryType)&&void 0!==n?n:e.category_type,value:e.value,type:"compact",size:"300"},`key-val-component-${t}`)}).filter(e=>null!=e),tB=q.dP,tU=tI||tn?q.dP:0,tH=ti?void 0:10,tV=tt?"start":"center";return tR&&(tB=tt?4:2,tU=tI||tn?q.dP:1,tH=ti?void 0:8,n=tn,tV="start"),(0,en.jsx)(eo,{children:(0,en.jsxs)(s.xu,{"data-test-id":"CloseupDetails",ref:tp,children:[(0,en.jsxs)(s.xu,{width:"100%",marginTop:4,marginBottom:tb&&!tR?0:4,paddingX:ea,children:[!tf&&em,tn&&tz,tZ,(tt||tP||tA&&(!tC||h))&&(0,en.jsx)(s.xu,{"data-test-id":"callToActionButton",display:ti||tt||h||tP?void 0:"none",marginTop:tU,ref:th,children:(0,en.jsx)(E.Z,{isImagePinForUnauthOnTablet:h,onClickTitleOrDomain:J,pinCreditPrefix:tR?tx:tk,pinDomain:eA})}),!tA&&!tC&&!1===e7("mweb_hide_uploaded_copy").anyEnabled&&(0,en.jsx)(s.xu,{display:"flex",justifyContent:tn?"center":"start",alignItems:"center",marginTop:tI||tn?q.dP:0,ref:t_,children:(0,en.jsx)(s.xv,{size:"200",children:i.bt("  Pinterest", "Uploaded to Pinterest", "closeup.details.uploadToPinterest", undefined, true)})}),tt&&tP&&eC&&(0,en.jsxs)(s.xu,{alignItems:"baseline",display:"flex",direction:"row",marginTop:1,children:[(0,en.jsx)(s.xv,{size:"500",children:eC}),(0,en.jsx)(s.xu,{marginStart:2,children:(0,en.jsx)(s.xv,{size:"400",children:eI?i.bt(" ", "In stock", "closeup.details.productPinInStock", undefined, true):i.bt("  ", "Out of stock", "Product pin out of stock", undefined, true)})})]}),(0,en.jsxs)(er,{children:[tn&&tM,(0,en.jsx)(s.xu,{marginTop:tR?4:q.dP,ref:tg,children:(0,en.jsx)(R.Z,{onClick:J,hasLink:tA,lineClamp:tR?void 0:(0,F.Z)({isImagePinForUnauthOnTablet:h}),pinId:ew,graphqlRef:eX,forceSmallerHeading:n,textAlign:tV})})]}),(0,en.jsx)(er,{children:tn&&tb&&(0,en.jsx)(s.xu,{marginTop:q.dP,children:(0,en.jsx)(T.Z,{items:tK.filter(e=>""!==e),color:td?"light":"default"})})}),!tt&&eC&&(0,en.jsx)(s.xu,{display:"flex",justifyContent:tR?"start":"center",marginTop:2,marginBottom:2,children:(0,en.jsxs)(s.xv,{children:[eC," \xb7 ",eI?i.bt(" ", "In stock", "closeup.details.productPinInStock", undefined, true):i.bt("  ", "Out of stock", "Product pin out of stock", undefined, true)]})}),eK&&eU&&!tj&&(0,en.jsx)(M.Z,{pinId:ew,graphqlRef:eX,boldText:!1,marginTop:q.dP,textSize:"300",isWideViewport:tt}),(0,en.jsx)(s.xu,{ref:tm,children:(0,en.jsx)(er,{children:(0,en.jsx)(_.Z,{options:{threshold:[1]},onVisibilityChange:tu?e=>{if(e&&e.length>0&&eQ){let{intersectionRatio:t,boundingClientRect:n}=e[0],i=n.y<0;eQ(1===t||i)}}:()=>{},children:e=>(0,en.jsx)(s.xu,{ref:e,children:(0,en.jsx)(s.xu,{marginTop:tR?tB:q.dP,children:tP?(0,en.jsx)($.Z,{onClickTitleOrDomain:J,pinKey:tN}):(0,en.jsx)(I.Z,{pinKey:tN})})})})})}),tf&&(0,en.jsx)(s.xu,{marginTop:tR?4:0,marginBottom:tR?4:0,children:em}),tt&&!ti&&tO,!tn&&(0,en.jsx)(s.xu,{marginTop:tR?q.dP:0,children:tM}),!tn&&(0,en.jsx)(s.xu,{marginTop:tR?8:q.dP,children:tz}),tt&&ti&&(0,en.jsx)(s.xu,{"data-test-id":"UnauthVaseFullBleedModalContainer",dangerouslySetInlineStyle:{__style:{visibility:"hidden"}},children:(0,en.jsx)(C.Z,{pinKey:tN,onClose:()=>{}})}),!tt&&eO&&(0,en.jsxs)(a.Fragment,{children:[(0,en.jsx)(s.xu,{marginTop:q.dP,children:(0,en.jsx)(s.iz,{})}),(0,en.jsxs)(s.xu,{alignItems:"center",display:"flex",justifyContent:"between",margin:2,paddingX:1,children:[(0,en.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:i.bt("", "Promoted Pin", "Denotes promoted pin in closeup", undefined, true)}),(0,en.jsx)(m.Z,{name:"SafeSuspense_CloseupDetails_PinFeedbackButton",children:(0,en.jsx)(P.Z,{children:(0,en.jsx)(es,{graphqlRef:eX,pinId:ew,promoter:null!=eE?eE:"",type:"promoted"})})})]}),(0,en.jsx)(s.iz,{})]}),!tj&&eK&&!H&&(0,en.jsx)(V.Z,{hash:"recipe",offset:-v.DEFAULT_HEIGHT,children:(0,en.jsx)(z.ZP,{pinId:ew,graphqlRef:eX})}),!tj&&H&&(0,en.jsx)(j.Z,{graphqlRef:eX,link:t,pinId:null!=ew?ew:"",clientTrackingParams:e0}),!tb&&(0,en.jsx)(L.Z,{graphqlRef:eX,pinId:ew,inCollapsibleModulesExp:tb}),!ti&&tn&&"IN"===tl&&(ta||"").startsWith("en")&&X.N3.includes(to)&&3>=Number((0,S.qn)("indiaUnauthLocaleShowCount",0))&&(0,en.jsx)(m.Z,{name:"SafeSuspense_CloseupDetails_UnauthSwitchLanguageModal",children:(0,en.jsx)(P.Z,{children:(0,en.jsx)(el,{})})}),(0,en.jsx)(u.Z,{pinKey:tN,isDesktop:tt})]}),tt&&ee&&!eL&&(0,en.jsx)(m.Z,{name:"CommentThread",children:(0,en.jsxs)(s.xu,{paddingX:2,marginTop:tH,children:[(0,en.jsx)(s.X6,{size:"400",accessibilityLevel:2,children:l&&!r?(0,w.Z)(i.nbt(["{{ count }}", "{{ count }}", "{{ count }}"], l, "desktopPinCloseup.sectionTitle.commentsCountLabel", true),{count:l.toString()}):i.bt("", "Comments", "desktopPinCloseup.sectionTitle", undefined, true)}),(0,en.jsx)(Z.Z,{isReadOnly:!0,pinKey:tN,pinId:ew,viewParameter:eu}),!tr&&!r&&e7("web_unauth_comment_upsell_copy").anyEnabled&&(0,en.jsx)(O.Z,{isStoryPin:!1,viewParameter:eu})]})}),!tt&&o]})})}let ep=e=>{var t,n,i,l,a,o,s,d,c,u,p,m,h,g,_,y,v,f,b,x,P,S,w,T,A,C,I,j,E,L,R,F,D,z,M,O,Z,N,K,B,U;let H,V;let G=(0,ee.Z)(e),$=(0,J.Z)(e),W=(0,r.useFragment)(ed,e.pinner),q=(0,r.useFragment)(ed,e.nativeCreator),Y=(0,r.useFragment)(ed,null===(t=e.linkDomain)||void 0===t?void 0:t.officialUser),X=(0,r.useFragment)(ed,e.originPinner),Q=(null===(n=e.pinJoin)||void 0===n?void 0:n.visualAnnotation)||[],et=(null===(i=e.pinJoin)||void 0===i?void 0:i.shoppingKlpUrls)||[],en=e.promoter&&!e.isDownstreamPromotion?e.promoter:null,ei=null===(l=e.richMetadata)||void 0===l?void 0:null===(a=l.products)||void 0===a?void 0:a[0],el=null===(o=e.richSummary)||void 0===o?void 0:null===(s=o.products)||void 0===s?void 0:s[0],ea=(null===(d=e.aggregatedPinData)||void 0===d?void 0:d.commentCount)||0,er=(null===(c=e.aggregatedPinData)||void 0===c?void 0:null===(u=c.didItData)||void 0===u?void 0:u.imagesCount)||0,{isAuthenticated:eo}=(0,k.B)();H=q||(e.linkDomain?Y:X||W),eo||H||(H=W);let es=!!e.closeupAttribution;return ei&&ei.name&&ei.offerSummary&&(V=ei.offerSummary),!V&&el&&el.name&&el.offerSummary&&(V=el.offerSummary),{commentCount:ea+er,commentsDisabled:e.commentsDisabled,closeupUnifiedDescription:e.closeupUnifiedDescription,hasLinkDomain:!!e.linkDomain,hasNativeCreator:!!e.nativeCreator,hasOfficialUser:es,hasOriginPinner:!!e.originPinner,hasPinProduct:!!V,hasPromoter:!!en,hasRichMetadataArticle:!!(null!==(m=e.richMetadata)&&void 0!==m&&m.article),hasRichMetadataProductOfferSummary:!!(null!=ei&&ei.offerSummary),hasRichMetadataRecipe:!!(null!==(h=e.richMetadata)&&void 0!==h&&h.recipe),hasRichMetadataRecipeAggregateInfo:!!(null!==(g=e.richMetadata)&&void 0!==g&&null!==(_=g.recipe)&&void 0!==_&&_.displayCookTime)||!!(null!==(y=e.richMetadata)&&void 0!==y&&null!==(v=y.recipe)&&void 0!==v&&v.servingsSummary)||!!(null!==(f=e.richMetadata)&&void 0!==f&&null!==(b=f.recipe)&&void 0!==b&&b.aggregateRating),hasRichMetadataRecipeCategorizedIngredients:!!(null!==(x=e.richMetadata)&&void 0!==x&&null!==(P=x.recipe)&&void 0!==P&&P.categorizedIngredients),hasRichMetadataTutorial:!!(null!==(S=e.richMetadata)&&void 0!==S&&S.tutorial),hasRichSummaryProductOfferSummary:!!(null!=ei&&ei.offerSummary),hasSourceUser:!!H,isEligibleForPdp:e.isEligibleForPdp,pinDomain:e.domain,pinJoinAnnotationsWithLinks:$,pinJoinVisualAnnotation:Q,pinLink:e.link,pinProductInStock:null===(w=V)||void 0===w?void 0:w.inStock,pinProductPrice:null===(T=V)||void 0===T?void 0:T.price,pinReactionCounts:G,promoterFullName:null==en?void 0:en.fullName,richMetadataProductName:null==ei?void 0:ei.name,richMetadataRecipeFromAggregatedData:null===(A=e.richMetadata)||void 0===A?void 0:null===(C=A.recipe)||void 0===C?void 0:C.fromAggregatedData,richSummaryProductName:null==el?void 0:el.name,shouldShowAggregatedComments:e.isEligibleForAggregatedComments,shoppingKlpUrls:et,sourceUserBlockedByMe:null===(I=H)||void 0===I?void 0:I.blockedByMe,sourceUserExplicitlyFollowedByMe:null===(j=H)||void 0===j?void 0:j.explicitlyFollowedByMe,sourceUserFollowerCount:null===(E=H)||void 0===E?void 0:E.followerCount,sourceUserFullName:null===(L=H)||void 0===L?void 0:L.fullName,sourceUserId:null===(R=H)||void 0===R?void 0:R.entityId,sourceUserImageLargeUrl:null===(F=H)||void 0===F?void 0:F.imageLargeUrl,sourceUserimageMediumUrl:null===(D=H)||void 0===D?void 0:D.imageMediumUrl,sourceUserImageSmallUrl:null===(z=H)||void 0===z?void 0:z.imageSmallUrl,sourceUserIsVerifiedMerchant:null===(M=H)||void 0===M?void 0:M.isVerifiedMerchant,sourceUserUsername:null===(O=H)||void 0===O?void 0:O.username,sourceUserVerifiedIdentityVerified:null===(Z=H)||void 0===Z?void 0:null===(N=Z.verifiedIdentity)||void 0===N?void 0:N.verified,storyPinKeyValueBlocks:null===(K=e.storyPinData)||void 0===K?void 0:null===(B=K.metadata)||void 0===B?void 0:null===(U=B.basics)||void 0===U?void 0:U.keyValueBlocks}},em=e=>{var t,n,i,l,a,r,o,s,d,u,p,m,h,g,_,y,v,f,b,x,P,S,w,T,A,C,I,j,E,L,R,F,D,z;let M,O;let{isAuthenticated:Z}=(0,k.B)(),K=(0,U.mN)();if(!e)return null;let B=(null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.comment_count)||0,H=(null===(n=e.aggregated_pin_data)||void 0===n?void 0:null===(i=n.did_it_data)||void 0===i?void 0:i.images_count)||0,V=e.promoter&&!e.is_downstream_promotion?e.promoter:null,G=null===(l=e.rich_metadata)||void 0===l?void 0:null===(a=l.products)||void 0===a?void 0:a[0],$=null===(r=e.rich_summary)||void 0===r?void 0:null===(o=r.products)||void 0===o?void 0:o[0],{link_domain:W,native_creator:q,origin_pinner:Y,pinner:X}=e||{},J=(0,N.wS)(W,q,Y,X);Z||J||(J=X),J&&(M="string"==typeof J?K(J):J);let Q=!!e.closeup_attribution;return G&&G.name&&G.offer_summary&&(O=G.offer_summary),!O&&$&&$.name&&$.offer_summary&&(O=$.offer_summary),{commentCount:B+H,commentsDisabled:e.comments_disabled,hasLinkDomain:!!e.link_domain,hasNativeCreator:!!e.native_creator,hasOfficialUser:Q,hasOriginPinner:!!e.origin_pinner,hasPinProduct:!!O,hasPromoter:!!V,hasRichMetadataArticle:!!(null!==(d=e.rich_metadata)&&void 0!==d&&d.article),hasRichMetadataProductOfferSummary:!!(null!=G&&G.offer_summary),hasRichMetadataRecipe:!!(null!==(u=e.rich_metadata)&&void 0!==u&&u.recipe),hasRichMetadataRecipeCategorizedIngredients:!!(null!==(p=e.rich_metadata)&&void 0!==p&&null!==(m=p.recipe)&&void 0!==m&&m.categorized_ingredients),hasRichMetadataTutorial:!!(null!==(h=e.rich_metadata)&&void 0!==h&&h.tutorial),hasRichSummaryProductOfferSummary:!!(null!=G&&G.offer_summary),hasSourceUser:!!J,isEligibleForPdp:e.is_eligible_for_pdp,pinDomain:e.domain,pinJoinAnnotationsWithLinks:null===(g=e.pin_join)||void 0===g?void 0:g.annotations_with_links,pinJoinVisualAnnotation:null===(_=e.pin_join)||void 0===_?void 0:_.visual_annotation,pinLink:e.link,pinProductInStock:null===(y=O)||void 0===y?void 0:y.in_stock,pinProductPrice:O&&(0,c.Z)({maxPrice:O.max_price,minPrice:O.min_price,price:O.price}),pinReactionCounts:e.reaction_counts,promoterFullName:null==V?void 0:V.full_name,richMetadataProductName:null==G?void 0:G.name,richMetadataRecipeFromAggregatedData:null===(v=e.rich_metadata)||void 0===v?void 0:null===(f=v.recipe)||void 0===f?void 0:f.from_aggregated_data,richSummaryProductName:null==$?void 0:$.name,shouldShowAggregatedComments:e.is_eligible_for_aggregated_comments,shoppingKlpUrls:(null===(b=e.pin_join)||void 0===b?void 0:b.shopping_klp_urls)||[],sourceUserBlockedByMe:null===(x=M)||void 0===x?void 0:x.blocked_by_me,sourceUserExplicitlyFollowedByMe:null===(P=M)||void 0===P?void 0:P.explicitly_followed_by_me,sourceUserFollowerCount:null===(S=M)||void 0===S?void 0:S.follower_count,sourceUserFullName:null===(w=M)||void 0===w?void 0:w.full_name,sourceUserId:null===(T=M)||void 0===T?void 0:T.id,sourceUserImageLargeUrl:null===(A=M)||void 0===A?void 0:A.image_large_url,sourceUserimageMediumUrl:null===(C=M)||void 0===C?void 0:C.image_medium_url,sourceUserImageSmallUrl:null===(I=M)||void 0===I?void 0:I.image_small_url,sourceUserIsVerifiedMerchant:null===(j=M)||void 0===j?void 0:j.is_verified_merchant,sourceUserUsername:null===(E=M)||void 0===E?void 0:E.username,sourceUserVerifiedIdentityVerified:null===(L=M)||void 0===L?void 0:null===(R=L.verified_identity)||void 0===R?void 0:R.verified,storyPinKeyValueBlocks:null===(F=e.story_pin_data)||void 0===F?void 0:null===(D=F.metadata)||void 0===D?void 0:null===(z=D.basics)||void 0===z?void 0:z.key_value_blocks}};function eh({graphqlRef:e,pinId:t,...n}){let{data:i,childDataKey__DEPRECATED:l}=(0,h.HF)(ec,e?{type:"graphqlRef",data:e}:{type:"deprecated",data:t},{type:"pin",useGraphQLAdapter:ep,useLegacyAdapter:em});return!!i&&(0,en.jsx)(eu,{...n,...i,pinId:t,graphqlRef:"graphqlRef"===l.type?l.data:null})}},991074:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var i,l=n(667294),a=n(167912),r=n(883119),o=n(101789),s=n(342693),d=n(44081),c=n(24286),u=n(536042),p=n(245410),m=n(282802),h=n(549201),g=n(323215),_=n(939782),y=n(525104),v=n(785893);let f=void 0!==i?i:i=n(943149);function b({listBlocks:e,templateType:t}){let n=(0,u.ZP)(),i=(0,h.ml)(),{checkExperiment:a}=(0,p.F)(),{isAuthenticated:y}=(0,m.B)(),f=i&&["no_collapse_by_default","collapse_by_default"].includes(a(y?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group),b=new Map([[null,n.bt("", "Notes", "Closeup.CloseupDetailsBasicsLayout.notesLayoutTitle", undefined, true)],[1,n.bt("", "Ingredients", "Closeup.CloseupDetailsBasicsLayout.recipeLayoutTitle", undefined, true)],[2,n.bt("", "Supplies", "Closeup.CloseupDetailsBasicsLayout.diyHomeLayoutTitle", undefined, true)]]);return(0,v.jsx)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:e&&e.length>0&&(0,v.jsxs)(l.Fragment,{children:[f&&(0,v.jsx)(_.Z,{marginStart:-(c.D6+g.xh)}),(0,v.jsx)(r.xu,{marginTop:4,marginBottom:f?4:0,children:(0,v.jsx)(o.Z,{heading:b.get(t),children:(0,v.jsx)(({children:e})=>f?(0,v.jsx)(r.kC,{direction:"column",gap:4,children:e}):(0,v.jsx)(d.Z,{children:e}),{children:e.map((e,t)=>{var n;let i=`${e.heading||"empty"}-${t}-listHeading`;return(0,v.jsxs)(l.Fragment,{children:[(0,v.jsx)(r.xu,{paddingY:f?0:2,marginTop:f?0:2}),(0,v.jsx)(r.xv,{size:s.n,weight:"bold",children:e.heading}),(null!==(n=e.blocks)&&void 0!==n?n:[]).map((t,n)=>{let i=`item-${n}-${e.heading||"empty"}`;return(0,v.jsx)(l.Fragment,{children:(0,v.jsx)(r.xu,{marginBottom:1,children:(0,v.jsxs)(r.xv,{size:s.n,children:[" ",t.text?t.text:""]})})},i)})]},i)})})})})]})})}function x({pinId:e,graphqlRef:t,...n}){var i,l,a,r,o;let s=(0,y.S6)()(e),d=(null==s?void 0:null===(i=s.story_pin_data)||void 0===i?void 0:null===(l=i.metadata)||void 0===l?void 0:l.basics)||{},{key_value_blocks:c,list_blocks:u}=d;return(0,v.jsx)(b,{...n,pinId:e,keyValueBlocks:c,listBlocks:u,title:null!==(a=null==s?void 0:s.title)&&void 0!==a?a:"",templateType:null==s?void 0:null===(r=s.story_pin_data)||void 0===r?void 0:null===(o=r.metadata)||void 0===o?void 0:o.template_type})}function k({pinId:e,graphqlRef:t,...n}){var i,l,r,o,s;let d=(0,a.useFragment)(f,t),c=(null==d?void 0:null===(i=d.storyPinData)||void 0===i?void 0:null===(l=i.metadata)||void 0===l?void 0:l.basics)||{};return(0,v.jsx)(b,{...n,pinId:e,listBlocks:c.listBlocks,keyValueBlocks:c.keyValueBlocks,graphqlRef:d,title:null!==(r=null==d?void 0:d.title)&&void 0!==r?r:"",templateType:null==d?void 0:null===(o=d.storyPinData)||void 0===o?void 0:null===(s=o.metadata)||void 0===s?void 0:s.templateType})}function P(e){return e.graphqlRef?(0,v.jsx)(k,{graphqlRef:e.graphqlRef,...e}):(0,v.jsx)(x,{...e})}},741099:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var i=n(667294),l=n(883119),a=n(536042),r=n(245410),o=n(397352),s=n(282802),d=n(552369),c=n(549201),u=n(464649),p=n(515367),m=n(616550),h=n(599226),g=n(657482),_=n(98736),y=n(618569),v=n(785893);function f({setShowClickthroughOverlay:e,isEligibleForPdp:t,isEligibleForDesktopSocialInviteOverlay:n,inviterFirstName:o,imageSignature:s,pinId:d}){let u=(0,a.ZP)(),p=(0,y.Z)(),f=(0,h.Z)(),{checkExperiment:b}=(0,r.F)(),x=(0,i.useRef)(),k=(0,c.ZP)(),P="desktop"===k,S=o&&n,w=P&&b("dweb_unauth_main_pin_visual_search_v2").group,T="enabled_2_no_upsell"===w||"enabled_rollout"===w||"enabled_1_nav_upsell_post_land"===w,A=S&&(u.bt(",    {{ name }}  Pinterest", "Sign up to join {{ name }} on Pinterest", "pin.closeup.wash.desktop.shareNotification", undefined, true)).replace("{{ name }}",o),C=T?u.bt(" -,    ?     ", "See something you like? Tap to search inside this image", "web.unauth.plp.clickable_wash.header", undefined, true):u.bt(",         ", "Click to make the most out of this idea with a free account", "web.unauth.plp.clickable_wash.header", undefined, true),I=u.bt(",         ", "Tap to make the most out of this idea with a free account", "mweb.unauth.plp.clickable_wash.header", undefined, true),j=(0,m.useHistory)();return(0,v.jsx)(l.iP,{onMouseEnter:()=>{S&&(0,_.My)("dweb.main_pin.social.wash.view"),(0,_.My)("dweb.pin.wash.view")},onMouseLeave:()=>{S&&(0,_.My)("dweb.main_pin.social.wash.dismiss"),(0,_.My)("dweb.pin.wash.dismiss")},onTap:({event:e})=>{if(P){if(e.preventDefault(),p({action:"click",item:"pin-image"}),n&&o&&(0,_.My)("dweb.main_pin.social.wash.click"),T){let e=`/pin/${d}/visual-search/?`;s&&(e+=`imageSignature=${s}`),j.push(e),g.Z.setItem("VISUAL_SEARCH_SOURCE","MAIN_PIN_WASH")}else(0,_.My)("dweb_unauth_main_pin_image_click.signup_modal.show"),f({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}});t&&(0,_.My)("unauth.pdp.pin.img.click",{device:k})}},children:(0,v.jsxs)(l.xu,{zIndex:new l.Ry(2),children:[(0,v.jsx)(l.xu,{top:!0,bottom:!0,left:!0,right:!0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:n?"center":void 0,direction:"column",position:"absolute",ref:x,"data-test-id":"main-pin-hover-overlay",children:(0,v.jsx)(l.xu,{paddingY:10,display:"flex",alignItems:"center",maxWidth:T?260:240,direction:"column",children:(0,v.jsx)(l.xu,{marginTop:8,children:(0,v.jsx)(l.X6,{size:S?"500":"400",align:"center",color:"light",children:P?A||C:I})})})}),!P&&(0,v.jsx)(l.xu,{position:"absolute",top:!0,right:!0,marginTop:4,marginEnd:4,children:(0,v.jsx)(l.hU,{icon:"cancel",iconColor:"white",onClick:({event:t})=>{t.stopPropagation(),e&&(e(!1),(0,_.My)("main.pin.wash.cancel"))},accessibilityLabel:u.bt("  ", "Close pin clickable wash", "mweb.unauth.plp.clickable_wash.close_button", undefined, true),size:"md"})})]})})}var b=n(963181),x=n(199999);let k=e=>{var t;let n=(0,a.ZP)(),{alt:m,clickthroughOverlayOptions:h,color:g,isFlashlightPage:_,naturalHeight:y,naturalWidth:k,placeholder:P,pinImageResizePercent:S=100,pwtElementTimingId:w,pwtSurfaceContext:T,setShowClickthroughOverlay:A,showSpinner:C,src:I,stickyFooter:j,isEligibleForPdp:E,pinId:L,imageSignature:R}=e,F=(0,u.Z)(),{checkExperiment:D}=(0,r.F)(),z=!F,{isAuthenticated:M}=(0,s.B)(),O=(0,c.ZP)(),Z="desktop"===O,N=M&&!Z&&D("auth_mweb_inline_action_bar").anyEnabled,K=(0,i.useRef)(),[B,U]=(0,i.useState)(!z||!!I&&!!P&&P===I),H=(0,i.useRef)(""),V=()=>{T&&T.markConstraintComplete("PinPageMainImageRendered")};(0,i.useEffect)(()=>{let e=new Image;e.onload=()=>U(!0),e.src=I},[]);let G=(0,i.useRef)(null===(t=(0,x.a)())||void 0===t?void 0:t.setHasScrolledPastMainContent);(0,i.useEffect)(()=>{let e=(0,d.Z)(()=>{if(K.current){var t;let n=window.scrollY>K.current.offsetTop+K.current.offsetHeight;null===(t=G.current)||void 0===t||t.call(G,n),n&&window.removeEventListener("scroll",e)}},10);window.addEventListener("scroll",e)},[]);let[$,W]=(0,i.useState)();(0,i.useEffect)(()=>{K.current&&W(K.current.scrollHeight)},[]);let q=!_&&"tablet"===O,Y=z?(0,v.jsx)(o.Z,{alt:m,color:g,elementTiming:w,naturalHeight:y,naturalWidth:k,src:P,onLoad:V}):null;return(0,v.jsxs)(l.xu,{"data-test-id":"pin-closeup-image",dangerouslySetInlineStyle:{__style:{transition:100===S?"":"width 500ms ease-in-out"}},maxHeight:"100%",minHeight:100===S?$:void 0,maxWidth:"tablet"===O?b.g6:void 0,overflow:j?void 0:"hidden",position:"relative",width:_||"phone"===O?`${S}%`:Z?508:b.Hg,rounding:_||"phone"===O?0:6,ref:K,marginTop:"tablet"===O&&N?12:0,children:[!M&&h&&"enabled_3_no_wash_upsell_post_land"!==D("dweb_unauth_main_pin_visual_search_v2").group&&(0,v.jsx)(p.Z,{isImagePinForUnauthOnTablet:!1,children:(0,v.jsx)(f,{setShowClickthroughOverlay:A,inviterFirstName:H.current,isEligibleForPdp:E,imageSignature:R||"",pinId:L||""})}),Y&&(q?(0,v.jsx)(l.xu,{rounding:6,overflow:"hidden",children:Y}):Y),(0,v.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:B?1:0,transition:B&&!Z?"opacity .5s ease-in-out":void 0,backgroundColor:g}},left:!0,position:z?"absolute":"relative",right:!0,rounding:q?6:5,overflow:q?"hidden":void 0,top:!0,children:z?(0,v.jsx)(l.Ee,{alt:m,naturalHeight:y,naturalWidth:k,src:I}):(0,v.jsx)(o.Z,{alt:m,color:g,elementTiming:w,naturalHeight:y,naturalWidth:k,src:I,onLoad:V})}),C&&(0,v.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:B?0:1,transition:B?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!B&&(0,v.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,v.jsx)(l.$j,{accessibilityLabel:n.bt(" ", "Loading image", "Loading higher resolution image", undefined, true),show:!0})})}),j]})}},786458:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(667294),l=n(388011),a=n(220590),r=n(359209),o=n(245410),s=n(549201),d=n(567648),c=n(802071),u=n(785893);let p=({isEligibleForPinImageResizeToBody:e,isEligibleForPinImageResizeToTitle:t,pinId:n})=>{let l;let{checkExperiment:s}=(0,o.F)(),{viewExperience:d}=(0,a.M)(),c=(0,r.Z)(1000511,{pin_id:n}),u=c&&c.experience&&505784===c.experience.experience_id;return(0,i.useEffect)(()=>{u&&d(1000511,505784)},[u,d]),u?(l="",t&&(l=s("mweb_pin_closeup_resize_image").group),!l&&e&&(l=s("mweb_pin_closeup_resize_image_body").group),l):""};function m({children:e,originalPinImageHeight:t,originalPinImageWidth:n,pinId:i,setIsEligibleToShowInlineActionBar:l}){let a=(0,s.ml)(),{checkExperiment:r}=(0,o.F)(),{isAuth:d}=(0,c.Z)(),{group:p}=r("mweb_pin_closeup_resize_image",{dangerouslySkipActivation:!0}),{group:m}=r("mweb_pin_closeup_resize_image_body",{dangerouslySkipActivation:!0});return a&&d&&(p||m)?(0,u.jsx)(h,{originalPinImageHeight:t,originalPinImageWidth:n,pinId:i,setIsEligibleToShowInlineActionBar:l,children:e}):e({pinImageResizePercents:{pinImageResizePercentForShowBodyVariant:100,pinImageResizePercentForShowTitleVariant:100}})}function h({children:e,originalPinImageHeight:t=1,originalPinImageWidth:n=1,pinId:a,setIsEligibleToShowInlineActionBar:r}){let o=(0,d.Z)(),{logContextEvent:s}=(0,l.v)(),c=o?820:window.innerWidth,u=o?1180:window.innerHeight,m=c/n*t,[h,g]=(0,i.useState)(""),[_,y]=(0,i.useState)(0),[v,f]=(0,i.useState)(0),[b,x]=(0,i.useState)(0),[k,P]=(0,i.useState)(0),[S,w]=(0,i.useState)(0),[T,A]=(0,i.useState)(0),[C,I]=(0,i.useState)(!1),[j,E]=(0,i.useState)(!1),[L,R]=(0,i.useState)(m),[F,D]=(0,i.useState)(m);(0,i.useEffect)(()=>{if(_){let e=u-_-86;R(e),I(m>e)}let e=v?b>33?141:138:!v&&b>33?134:b+126,t=u-e-v-k-S-T;t<m&&(D(t),E(m>t))},[_,b,v,m,k,S,T,u]);let z=p({isEligibleForPinImageResizeToBody:C,isEligibleForPinImageResizeToTitle:j,pinId:a});return(0,i.useLayoutEffect)(()=>{z?(s({event_type:15046,component:13283}),r(!0)):r(!1)},[s,z,r]),(0,i.useEffect)(()=>{h!==a&&(g(a),R(m),D(m))},[h,m,a]),e({pinImageResizePercents:{pinImageResizePercentForShowTitleVariant:j?F/m*100:100,pinImageResizePercentForShowBodyVariant:C?L/m*100:100},resizePinImageExperimentGroup:z,setCloseupDetailsHeight:y,setCloseupPinLinkCreditsHeight:f,setCloseupTitleHeight:x,setUploadedToPinterestTextHeight:P,setUserAttributionHeight:w,setUserRepHeight:A})}},109530:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i,l=n(167912),a=n(883119),r=n(536042),o=n(525104),s=n(785893);let d=void 0!==i?i:i=n(284014),c=({embedsrc:e,pinImgSrc:t})=>{let n=(0,r.ZP)(),i={};return e&&e.includes("youtube")&&e.includes("/embed/")&&t&&(i.background=`url("${t}")`,i.backgroundSize="cover",i.backgroundPosition="center"),(0,s.jsx)(a.xu,{column:12,dangerouslySetInlineStyle:{__style:{paddingBottom:"50%",background:i.background,backgroundSize:i.backgroundSize,backgroundPosition:i.backgroundPosition}},overflow:"hidden",position:"relative",rounding:2,children:(0,s.jsx)("iframe",{allowFullScreen:!0,frameBorder:0,src:null==e?void 0:e.replace("http://","https://"),style:{width:"100%",height:"100%",position:"absolute",border:0},title:n.bt(" ", "Embedded content", "Embedded iframe accessibility title", undefined, true)})})},u=({graphqlRef:e})=>{var t;let n=(0,l.useFragment)(d,e),{embed:i,imageSpec_736x:a}=n,r=null!==(t=null==a?void 0:a.url)&&void 0!==t?t:"";return(0,s.jsx)(c,{embedsrc:null==i?void 0:i.src,pinImgSrc:r})},p=({pinId:e})=>{var t;let n=(0,o.S6)()(e),{embed:i,images:l}=null!=n?n:Object.freeze({});return(0,s.jsx)(c,{embedsrc:null==i?void 0:i.src,pinImgSrc:l?null===(t=l["736x"])||void 0===t?void 0:t.url:void 0})};function m({graphqlRef:e,pinId:t}){return e?(0,s.jsx)(u,{graphqlRef:e}):(0,s.jsx)(p,{pinId:t})}},586567:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ee});var i,l,a,r=n(667294),o=n(702664),s=n(167912),d=n(616550),c=n(240684),u=n(883119),p=n(241643),m=n.n(p),h=n(788241),g=n(402833),_=n(898252),y=n(245410),v=n(41162),f=n(282802),b=n(99220),x=n(549201),k=n(818746),P=n(323215),S=n(109530),w=n(990930),T=n(932765),A=n(251951),C=n(142900),I=n(936840),j=n(99562),E=n(673118),L=n(411224),R=n(535483),F=n(525104),D=n(832400),z=n(774042),M=n(521190),O=n(785893);let Z=(0,c.ZP)({resolved:{},chunkName:()=>"CloseupVideo",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(91564).then(n.bind(n,598615)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>598615}),N=(0,c.ZP)({resolved:{},chunkName:()=>"StoryPinCloseupBodyOnDesktop",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(7620),n.e(29164)]).then(n.bind(n,406700)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>406700}),K=(0,c.ZP)({resolved:{},chunkName:()=>"StoryPinCloseupDetailsOnDesktop",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(7620).then(n.bind(n,214109)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>214109}),B=(0,c.ZP)({resolved:{},chunkName:()=>"StoryPinCloseupBodyOnMobile",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(34258).then(n.bind(n,409633)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>409633}),U=(0,c.ZP)({resolved:{},chunkName:()=>"SEODebugModule",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(91576).then(n.bind(n,440482)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>440482}),H=(0,c.ZP)({resolved:{},chunkName:()=>"packages-rich-snippet-LeafSnippet",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(36e3).then(n.bind(n,682959)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>682959}),V=void 0!==i?i:i=n(403309),G=void 0!==l?l:l=n(360142),$=void 0!==a?a:a=n(680178),W=({setIsShowingCloseupDetailsSuspenseFallback:e})=>((0,r.useEffect)(()=>(e(!0),()=>e(!1)),[e]),null),q=({children:e,queryRef:t})=>{var n;return e((0,s.useFragment)(G,null===(n=(0,s.usePreloadedQuery)(m(),t).v3GetPinQuery)||void 0===n?void 0:n.data))},Y=({children:e,fallback:t,queryRef:n})=>n?(0,O.jsx)(r.Suspense,{fallback:t,children:(0,O.jsx)(q,{queryRef:n,children:t=>t&&e(t)})}):e(null);function X({actionBarIsMinifiedToMainPinImage:e,clickthrough:t,closeupIsFirstPageInHistoryStack:n,commentModule:i,embedSrc:l,embedSubtype:a,embedType:c,graphqlRefs:p,hasImages:m,hasProductAdditionalImages:I,shouldRenderAsStoryPinVideo:F,isActionBarInline:V,isEligibleForPdp:G,isImagePinForUnauthOnTablet:q,isSendPinModalOpen:X,isVideoPin:J,onMoreButtonClick:Q,onSendPin:ee,pinActionBar:et,pinCloseupExperience:en,pinId:ei,pinImageLargeUrl:el,pinImageResizePercents:ea={},pinLink:er,pinMobileLink:eo,pinnedToBoardId:es,pinTrackedLink:ed,resizePinImageExperimentGroup:ec="",setCloseupDetailsHeight:eu,setCloseupPinLinkCreditsHeight:ep,setCloseupTitleHeight:em,setIsActionBarInline:eh,setIsShowingCloseupDetailsSuspenseFallback:eg,setUploadedToPinterestTextHeight:e_,setUserAttributionHeight:ey,setUserRepHeight:ev,shipsToUserCountry:ef,shouldShowReactions:eb,shouldShowSEOPinInfo:ex,viewerId:ek}){var eP;let eS=null==p?void 0:p.pageRef,{isAuthenticated:ew,isBot:eT}=(0,f.B)(),{seoDebug:eA}=(0,o.useSelector)(({session:e})=>e),{clientTrackingParams:eC,isStoryPin:eI,viewParameter:ej,shouldRenderAsStoryPin:eE}=(0,A.R)(),eL=(0,d.useLocation)(),eR=(0,D.H)(),eF=(0,v.E)(),eD=(0,x.HG)(),{viewType:ez}=(0,h.SU)(),{checkExperiment:eM}=(0,y.F)(),eO=!eD&&eM(ew?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,[eZ,eN]=(0,r.useState)(!1),[eK,eB]=(0,r.useState)(!0),eU=(0,g.g)(),eH=null==eU?void 0:eU.pinLinkClickHandler,eV=ec.includes("peek_related_pins"),eG=ec.includes("peek_title"),e$=ec.includes("background"),eW=ec.includes("expand_button"),{pinImageResizePercentForShowBodyVariant:eq=100,pinImageResizePercentForShowTitleVariant:eY=100}=ea,eX=()=>{t(),eH&&eH()},eJ=(0,E.Z)(),eQ=()=>eJ({linkType:eo&&"mobile"||ed&&"tracked"||er&&"external"||"original",viewParameter:ej}),e0=(0,o.useDispatch)(),e1=(0,o.useSelector)(({pinNavContext:e})=>(null==e?void 0:e.pinId)!==ei?{}:e,(e,t)=>(null==e?void 0:e.pinId)===(null==t?void 0:t.pinId));(0,r.useEffect)(()=>{null!=e1&&e1.pinId&&e1.pinId!==ei&&e0((0,R.H)())},[]),!1===ef&&!J&&ew&&eM("remove_pdp_shipping_restrictions");let e2=(0,s.useFragment)($,null==p?void 0:p.storyPinRef);return(0,O.jsxs)(T.Z,{imageLargeUrl:el,isVideoPin:J,pinId:ei,children:[eA&&eK&&(0,O.jsx)(U,{entityId:ei,entityType:"pin",setShowSeoDebugModule:eB}),e&&(0,O.jsx)(j.Z,{onMoreButtonTap:Q,onSendButtonTap:ee}),eE?(0,O.jsxs)(r.Fragment,{children:[eD?(0,O.jsx)(N,{pinId:ei,graphqlRef:e2,clientTrackingParams:eC,pinActionBar:et}):(0,O.jsx)(B,{clientTrackingParams:eC,pinId:ei,pinCloseupExperience:en,pinnedToBoardId:es,viewParameter:ej,viewType:3,graphqlRef:e2}),(0,O.jsx)(Y,{queryRef:null==p?void 0:p.detailRef,children:e=>!eD&&!q&&(0,O.jsx)(P.ZP,{pinId:ei,isStoryPin:!0,onClickTitleOrDomain:ew?eQ:eX,shouldShowReactions:eb,shouldShowSEOPinInfo:ex,viewParameter:ej,graphqlRef:e,isActionBarInline:V||!!ec,setIsActionBarInline:eh,clientTrackingParams:eC})})]}):(0,O.jsx)(k.Z,{isShowingBreadcrumbs:!ew&&!(eI&&!eD),sideBySideOptions:("lg"===eR||eD)&&(ew||!ew&&"enabled_3_no_wash_upsell_post_land"!==eM("dweb_unauth_main_pin_visual_search_v2").group)?{mainImageEventHandlers:J?void 0:eD?{onMouseEnter:()=>{eN(!0)},onMouseLeave:()=>{eN(!1)}}:{onTouch:e=>{e.stopPropagation(),e.preventDefault(),eQ()}}}:null,media:(0,O.jsx)(b.Z,{clientTrackingParams:eC,component:J?179:85,viewParameter:ej,children:J?(0,O.jsx)(Z,{isAuthenticated:ew,isFirstPageInHistoryStack:n,isSendPinModalOpen:X,onSendPin:ee,pinId:ei,pinKey:eS?{type:"graphqlRef",data:eS}:{type:"deprecated",data:ei},handleVideoTimeChange:e=>{e0((0,R.k)({pinId:ei,video:{elapsedTime:e}}))},startTimeAt:null==e1?void 0:null===(eP=e1.video)||void 0===eP?void 0:eP.elapsedTime}):(0,_.cL)({embedSrc:l,embedSubtype:a,embedType:c})?(0,O.jsx)(Y,{queryRef:null==p?void 0:p.detailRef,children:e=>(0,O.jsx)(S.Z,{graphqlRef:e,pinId:ei})}):!eD&&I&&(ew?G:!eT)?(0,O.jsx)(Y,{queryRef:null==p?void 0:p.detailRef,children:e=>(0,O.jsx)(z.Z,{pinKey:e?{type:"graphqlRef",data:e}:{type:"deprecated",data:ei},viewParameter:ej,pwtSurfaceContext:eF,unauthLazyLoad:!ew})}):m?(0,O.jsx)(L.x,{children:(0,O.jsx)(w.Z,{actionBarIsMinifiedToMainPinImage:e,clickthrough:eZ?eX:void 0,onImageClick:e=>{e&&(e.preventDefault(),e.stopPropagation()),F||eQ()},shouldShowSEOPinInfo:ex,viewParameter:ej,pinImageResizePercent:eG?eY:eV?eq:100,inPinImageResizeExp:!!ec,setShowClickthroughOverlay:eN,pinId:ei,graphqlRef:eS,shouldRenderAsStaticImageIdeaPin:eI&&!eE,showBaseColorBackground:e$,showExpandActionButton:eW,shouldRenderAsStoryPinVideo:F,renderStoryPinBlock:({placeholder:e})=>F&&eO?(0,O.jsx)(M.Z,{clientTrackingParams:eC,experience:en,location:eL,pinId:ei,pinnedToBoardId:es,viewParameter:ej,viewType:ez,graphqlRef:e2}):(0,O.jsx)(C.Z,{pinId:ei,pinKey:null!=e2?{type:"graphqlRef",data:e2}:{type:"deprecated",data:ei},placeholder:e})})}):(0,O.jsx)(r.Fragment,{children:null})}),detail:eI&&!eE&&eD?(0,O.jsx)(P.fL,{children:(0,O.jsxs)(u.xu,{padding:3,children:[et,(0,O.jsx)(K,{fallback:null,pinId:ei,graphqlRef:e2,shouldHideReactions:!0,disableScroll:!0,clientTrackingParams:eC})]})}):(0,O.jsx)(Y,{queryRef:null==p?void 0:p.detailRef,fallback:(0,O.jsx)(W,{setIsShowingCloseupDetailsSuspenseFallback:eg}),children:t=>(0,O.jsx)(P.ZP,{isStoryPin:eI,pinId:ei,commentModule:i,isImagePinForUnauthOnTablet:q,onClickTitleOrDomain:eX,pinActionBar:e?null:et,setCloseupDetailsHeight:eu,setCloseupPinLinkCreditsHeight:ep,setCloseupTitleHeight:em,setUploadedToPinterestTextHeight:e_,setUserAttributionHeight:ey,setUserRepHeight:ev,shouldShowReactions:eb,shouldShowSEOPinInfo:ex,viewParameter:ej,viewerId:ek,graphqlRef:t,isActionBarInline:V,setIsActionBarInline:eh,clientTrackingParams:eC})})}),!ew&&(0,O.jsx)(Y,{queryRef:null==p?void 0:p.detailRef,children:e=>(0,O.jsx)(H,{pinId:ei,graphqlRef:e})})]})}function J({actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:t,graphqlRefs:n,onLinklessPinTap:i,pinId:l,...a}){var r,o,d,c,u,p,m,h,g,y,v;let f=(0,s.useFragment)(V,n.pageRef),b=(0,I.I)({clickthroughInterstitialExperience:t,linklessOptions:(0,_.rM)({mobileLink:f.mobileLink,trackedLink:f.trackedLink,link:f.link})?{actionBarIsMinifiedToMainPinImage:e,onTap:i}:void 0,graphqlRef:f}),x=null===(r=f.richMetadata)||void 0===r?void 0:null===(o=r.products)||void 0===o?void 0:o[0],k=Number(null==x?void 0:null===(d=x.additionalImageSpec_236x)||void 0===d?void 0:d.length)>0||Number(null==x?void 0:null===(c=x.additionalImageSpec_474x)||void 0===c?void 0:c.length)>0||Number(null==x?void 0:null===(u=x.additionalImageSpec_564x)||void 0===u?void 0:u.length)>0||Number(null==x?void 0:null===(p=x.additionalImageSpec_736x)||void 0===p?void 0:p.length)>0,P=null===(m=f.storyPinData)||void 0===m?void 0:null===(h=m.pages)||void 0===h?void 0:h.filter(e=>!(2===e.layout&&!e.ad||5===e.layout||6===e.layout)),S=null==P?void 0:P.some(e=>{var t;return null===(t=e.blocks)||void 0===t?void 0:t.find(e=>3===e.blockType)}),w=S||((null==P?void 0:P.length)||0)>1;return(0,O.jsx)(X,{...a,actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:t,onLinklessPinTap:i,clickthrough:b,pinId:l,hasImages:!!f.imageSpec_orig,shouldRenderAsStoryPinVideo:!!w,isEligibleForPdp:f.isEligibleForPdp,pinMobileLink:f.mobileLink,pinTrackedLink:f.trackedLink,pinLink:f.link,pinImageLargeUrl:f.imageLargeUrl,shipsToUserCountry:f.shipsToUserCountry,embedSrc:null===(g=f.embed)||void 0===g?void 0:g.src,embedSubtype:null===(y=f.embed)||void 0===y?void 0:y.subtype,embedType:null===(v=f.embed)||void 0===v?void 0:v.type,hasProductAdditionalImages:k,graphqlRefs:{...n,pageRef:f}})}function Q({actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:t,onLinklessPinTap:n,pinId:i,...l}){var a,r,o,s,d,c,u,p;let m=(0,F.S6)()(i),h=(0,I.Z)({clickthroughInterstitialExperience:t,linklessOptions:(0,_.rM)({mobileLink:null==m?void 0:m.mobile_link,trackedLink:null==m?void 0:m.tracked_link,link:null==m?void 0:m.link})?{actionBarIsMinifiedToMainPinImage:e,onTap:n}:void 0,pinId:i}),g=null==m?void 0:null===(a=m.story_pin_data)||void 0===a?void 0:null===(r=a.pages)||void 0===r?void 0:r.filter(e=>!(2===e.layout&&!e.ad||5===e.layout||6===e.layout)),y=null==g?void 0:g.some(e=>{var t;return null===(t=e.blocks)||void 0===t?void 0:t.find(e=>3===e.block_type)}),v=y||((null==g?void 0:g.length)||0)>1;return m?(0,O.jsx)(X,{...l,actionBarIsMinifiedToMainPinImage:e,clickthrough:h,clickthroughInterstitialExperience:t,pinId:i,hasImages:!!m.images,shouldRenderAsStoryPinVideo:!!v,isEligibleForPdp:m.is_eligible_for_pdp,onLinklessPinTap:n,pinMobileLink:m.mobile_link,pinTrackedLink:m.tracked_link,pinLink:m.link,pinImageLargeUrl:m.image_large_url,shipsToUserCountry:m.ships_to_user_country,embedSrc:null===(o=m.embed)||void 0===o?void 0:o.src,embedSubtype:null===(s=m.embed)||void 0===s?void 0:s.subtype,embedType:null===(d=m.embed)||void 0===d?void 0:d.type,hasProductAdditionalImages:Number(null===(c=m.rich_metadata)||void 0===c?void 0:null===(u=c.products)||void 0===u?void 0:null===(p=u[0].additional_images)||void 0===p?void 0:p.length)>0}):null}function ee({graphqlRefs:e,...t}){return e?(0,O.jsx)(J,{...t,graphqlRefs:e}):(0,O.jsx)(Q,{...t})}},990930:(e,t,n)=>{"use strict";n.d(t,{Z:()=>G});var i,l=n(667294),a=n(702664),r=n(167912),o=n(883119),s=n(59089),d=n(377234),c=n(536042),u=n(525571),p=n(265259),m=n(624417),h=n(968358),g=n(898252),_=n(465991),y=n(769705),v=n(245410),f=n(578699),b=n(41162),x=n(360588),k=n(282802),P=n(98736),S=n(348672),w=n(549201),T=n(741099),A=n(251951),C=n(925790),I=n(460914),j=n(772356),E=n(411224),L=n(963181),R=n(199999),F=n(525104),D=n(712968),z=n(204722),M=n(935340),O=n(738162),Z=n(785893);let N=void 0!==i?i:i=n(526859),K=({children:e,onTouch:t})=>{let n=(0,w.HG)();return(0,Z.jsx)(p.Z,{roundedForLargeDevice:!0,children:n?e:(0,Z.jsx)(I.Z,{onTouch:e=>{e.preventDefault(),e.stopPropagation(),t()},pressState:"none",fullWidth:!0,children:e})})},B=({pinId:e})=>(0,a.useSelector)(({feeds:t})=>{let n=t[`related-pins:${e||""}`];return!!n&&0===n.length});function U({actionBarIsMinifiedToMainPinImage:e,clickthrough:t,onImageClick:n,setShowClickthroughOverlay:i,shouldShowSEOPinInfo:a,viewParameter:r,imagesUrls:y,embedSrc:I,embedType:F,description:N,descriptionHtml:U,altText:H,autoAltText:V,dominantColor:G,pinId:$,domain:W,pinJoinVisualAnnotation:q,pinnerConnectionType:Y,hasPromoter:X,graphqlRef:J,isEligibleForPdp:Q,isHiddenPin:ee,isUnsafePin:et,shouldRenderAsStaticImageIdeaPin:en,renderStoryPinBlock:ei,imageSignature:el,shouldRenderAsStoryPinVideo:ea,placeholder:er,isSmallestImgPlaceholder:eo,inPinImageResizeExp:es=!1,pinImageResizePercent:ed,showBaseColorBackground:ec=!1,showExpandActionButton:eu=!1}){var ep,em,eh;let eg=(0,c.ZP)(),e_=(0,b.E)(),ey=(0,d.vs)(),ev=(0,w.HG)(),ef=(0,w.ml)(),eb=(0,E.Z)(),{onSendButtonClick:ex}=(0,A.R)(),ek=(0,S.Z)(),{isAuthenticated:eP,isBot:eS,isSocialBot:ew,countryFromIp:eT,userAgent:{platform:eA,canUseNativeApp:eC}}=(0,k.B)(),eI=(0,w.ZP)(),ej=`${eA}.${eI}`,eE=(0,l.useRef)(Date.now()),eL=(0,l.useRef)(null),eR=!eP&&!ev&&["ios","ipad","android"].includes(eA),eF=!eP&&ef&&["ios","android"].includes(eA),eD=!eP&&ef&&["ios","android"].includes(eA),ez=(0,R.a)(),{shouldShowLearningUpsell:eM,setShouldShowLearningUpsell:eO,hasScrolledPastMainContent:eZ}=null!=ez?ez:Object.freeze({}),eN=(0,D.Tt)(),eK=B({pinId:$}),eB=null,{checkExperiment:eU}=(0,v.F)(),eH=!ev&&eU(eP?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,eV=(0,s.Z)({isHiddenPin:ee,isUnsafePin:et}),eG=!eP&&ef&&!eC;eP||eK||eZ||ev?!eV||eG||eP&&((0,u.Z)(null==eN?void 0:eN.created_at)&&!(0,j.V0)(eN)||X||(0,g.sY)(F)||e)||(eB="visualSearch"):eB="moreLikeThisButton";let e$=(0,O.I)(),eW=(0,m.Z)({imagesUrls:y,embedSrc:I,embedType:F,preferredResolution:function({countryFromIp:e,isBot:t,isDesktop:n,pinnerConnectionType:i,shouldRenderSIIP:l}){return l?"236x":n?void 0:(0,h.Z)(e||"",t,n)&&["Dialup","Cellular"].includes(i)?"236x":"736x"}({isDesktop:ev,countryFromIp:eT,isBot:eS,pinnerConnectionType:Y,shouldRenderSIIP:en}),excludeOriginals:!eS&&!ew});(0,l.useEffect)(()=>{if(e$){var e,t;let n=null!==(e=null===(t=document.getElementById("pin-image-preload"))||void 0===t?void 0:t.getAttribute("href"))&&void 0!==e?e:"",i="";try{i=document.URL.split("/pin/")[1].slice(0,-1)}catch(e){i="unknown"}(0,M.nP)("www.closeup.preloadImageCheck",{sampleRate:1,tags:{isAuthenticated:eP,deviceType:eI,isEqual:n===eW,isGraphQL:!!J}}),(0,f.w)(e=>{let{entries:t}=e,{element:i,url:l}=t[t.length-1];(0,M.nP)("www.closeup.mainPinImageLcpCheck",{sampleRate:1,tags:{isAuthenticated:eP,deviceType:eI,isEqual:eW===l,isGraphQL:!!J,isPreloadEqual:n===l,nodeName:i?i.nodeName:"unknown"}})}),n!==eW&&((0,M.nP)("www.closeup.preloadImageCheckWithId",{sampleRate:.5,tags:{isAuthenticated:eP,deviceType:eI,pinId:i}}),(0,M.nP)("www.closeup.preloadImageCheckWithResolutions",{sampleRate:1,tags:{isAuthenticated:eP,deviceType:eI,resolution:eW.split("/")[3]}}));let l=document.querySelector('[data-test-id="pin-closeup-image"]'),a=(null==l?void 0:l.querySelectorAll("img").length)||0;a>1&&((0,M.nP)("www.closeup.mainImageCount",{sampleRate:1,tags:{isAuthenticated:eP,deviceType:eI}}),(0,M.nP)("www.closeup.mainImageCountWithId",{sampleRate:.1,tags:{isAuthenticated:eP,deviceType:eI,pinId:i}}))}},[]);let eq=ev?508:L.Hg,eY=(0,Z.jsx)(K,{onTouch:()=>{eD&&eO?(eM?(0,P.My)("learning.upsell.tap.hide"):(0,P.My)("learning.upsell.tap.show"),eO(!eM)):n(),eR&&(0,P.My)(`unauth.mweb.${ej}.pin.image.touch`),!eP&&Q&&(0,P.My)("unauth.pdp.pin.img.click",{device:eI})},children:(0,Z.jsxs)(o.xu,{display:"flex",justifyContent:"center",onContextMenu:e=>{!eP&&Q&&(0,P.My)("unauth.pdp.pin.context_menu.open",{device:eI}),e.preventDefault(),e.stopPropagation(),ev?(eb((0,Z.jsx)(z.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},pinId:$,graphqlRef:J,onSendButtonClick:ex,isMainPinImage:!0})),(0,P.My)("pcons.dweb.main_pin.context_menu.open")):(0,P.My)(`${eP?"auth":"unauth"}.mweb_pin_closeup_page.pin_image.long_press`)},onTouchStart:e=>{if((eR||eF)&&(e.stopPropagation(),eE.current=Date.now(),(0,P.My)(`unauth.mweb.${ej}.pin.image.touch.start`),e.changedTouches&&e.changedTouches.length>0)){let t=e.changedTouches.item(0);t&&(eL.current={x:t.clientX,y:t.clientY})}},onTouchMove:e=>{eF&&e.stopPropagation()},onTouchEnd:e=>{if(!eR&&!eF)return;e.stopPropagation(),(0,P.My)(`unauth.mweb.${ej}.pin.image.touch.end`);let t=Date.now()-eE.current>500,n=!1,i=eL.current;if(e.changedTouches&&e.changedTouches.length>0&&i){let t=e.changedTouches.item(0),l=t.clientX-i.x,a=t.clientY-i.y;n=t&&Math.pow(l,2)+Math.pow(a,2)>100}!eR||!t||n||((0,P.My)(`unauth.mweb.${ej}.pin.image.long.touch`),e.preventDefault(),eP||ev||ek({pinId:$,location:"main-pin-long-press"}))},dangerouslySetInlineStyle:{__style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none",background:(()=>{if(es)return ec?`linear-gradient(90deg, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0) ${.25*window.innerWidth}px, rgba(0, 0, 0, 0) ${.5*window.innerWidth}px, rgba(0, 0, 0, 0.0) ${.75*window.innerWidth}px, rgba(0, 0, 0, 0.4) ${window.innerWidth}px)`:ey?"#111111":"#efefef"})()}},children:[(!en||!eH)&&(0,Z.jsx)(T.Z,{alt:a?(0,_.rw)(null!=N?N:"",U||"",q,H||"",V||""):eg.bt(" ", "Pin image", "Pin closeup image", undefined, true),color:G||"#efefef",naturalHeight:null!==(ep=null==er?void 0:er.height)&&void 0!==ep?ep:1,naturalWidth:null!==(em=null==er?void 0:er.width)&&void 0!==em?em:1,clickthroughOverlayOptions:t?{onConfirm:t,visitButtonText:"Uploaded by user"===W?eg.bt(" ", "Uploaded by user", "pin.default_domain", undefined, true):W||""}:void 0,setShowClickthroughOverlay:i,pinImageResizePercent:ed,placeholder:null!==(eh=null==er?void 0:er.url)&&void 0!==eh?eh:"",pwtElementTimingId:x.f,pwtSurfaceContext:e_,showSpinner:eo,src:eW,isEligibleForPdp:Q,pinId:$||"",imageSignature:el||"",stickyFooter:!es&&eB&&(0,Z.jsx)(C.Z,{type:eB,viewParameter:r,imageSignature:el,pinId:$})},$),en&&(eH?(0,Z.jsxs)(o.xu,{width:"phone"===eI?"100%":eq,marginStart:-2,marginEnd:-2,overflow:eB?void 0:"hidden",children:[ei({placeholder:er&&{height:er.height,width:er.width}}),eB&&!ea&&(0,Z.jsx)(C.Z,{type:eB,viewParameter:r,imageSignature:el,pinId:$})]}):(0,Z.jsx)(o.xu,{position:"absolute",left:!0,right:!0,top:!0,bottom:!0,overflow:"hidden",rounding:6,marginStart:-2,marginEnd:-2,children:ei({placeholder:er&&{height:er.height,width:er.width}})}))]})});return(0,Z.jsx)(o.xu,{position:"relative",width:"100%",children:es?(0,Z.jsx)(p.Z,{children:(0,Z.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{background:ec?G||"#efefef":void 0}},children:[eu&&(0,Z.jsx)(o.xu,{position:"absolute",bottom:!0,right:!0,width:"100%",children:(0,Z.jsx)(C.Z,{imageSignature:el,inPinImageResizeExp:es,pinId:$,type:"expand",viewParameter:r})}),eB&&(0,Z.jsx)(o.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",children:(0,Z.jsx)(C.Z,{imageSignature:el,inPinImageResizeExp:es,pinId:$,type:eB,viewParameter:r})}),eY]})}):eY})}function H({graphqlRef:e,pinId:t,...n}){var i,l;let a=(0,r.useFragment)(N,e),o=(0,y.Z)({type:"graphqlRef",data:a}),s=a.imageSpec_236x||a.imageSpec_136x136,d=!!(s&&!a.imageSpec_236x);return(0,Z.jsx)(U,{...n,embedSrc:a.embed&&a.embed.src,embedType:a.embed&&a.embed.type,imagesUrls:o,placeholder:s&&{height:s.height,width:s.width,url:s.url},isSmallestImgPlaceholder:d,description:a.description,descriptionHtml:a.descriptionHtml,altText:a.altText,autoAltText:a.autoAltText,dominantColor:a.dominantColor,pinId:t,domain:a.domain,pinJoinVisualAnnotation:null===(i=a.pinJoin)||void 0===i?void 0:i.visualAnnotation,pinnerConnectionType:null===(l=a.pinner)||void 0===l?void 0:l.connectionType,hasPromoter:!!a.promoter&&!a.isDownstreamPromotion,isEligibleForPdp:!!a.isEligibleForPdp,isHiddenPin:a.isHidden,isUnsafePin:a.isUnsafe,imageSignature:a.imageSignature,graphqlRef:a})}function V({pinId:e,...t}){var n,i,l,a,r,o,s;let d=(0,F.S6)()(e),c=(null==d?void 0:null===(n=d.images)||void 0===n?void 0:n["236x"])||(null==d?void 0:null===(i=d.images)||void 0===i?void 0:i["136x136"]),u=!!(c&&!(null!=d&&null!==(l=d.images)&&void 0!==l&&l["236x"])),p=(0,y.Z)(null!=d?{type:"deprecated",data:d}:null);return(0,Z.jsx)(U,{...t,embedSrc:null==d?void 0:null===(a=d.embed)||void 0===a?void 0:a.src,embedType:null==d?void 0:null===(r=d.embed)||void 0===r?void 0:r.type,imagesUrls:p,placeholder:c&&{height:c.height,width:c.width,url:c.url},isSmallestImgPlaceholder:u,description:null==d?void 0:d.description,descriptionHtml:null==d?void 0:d.description_html,altText:null==d?void 0:d.alt_text,autoAltText:null==d?void 0:d.auto_alt_text,dominantColor:null==d?void 0:d.dominant_color,pinId:e,domain:null==d?void 0:d.domain,pinJoinVisualAnnotation:null==d?void 0:null===(o=d.pin_join)||void 0===o?void 0:o.visual_annotation,pinnerConnectionType:null==d?void 0:null===(s=d.pinner)||void 0===s?void 0:s.connection_type,hasPromoter:!!(d&&d.promoter&&!d.is_downstream_promotion),isEligibleForPdp:!!(null==d?void 0:d.is_eligible_for_pdp),isHiddenPin:null==d?void 0:d.is_hidden,isUnsafePin:null==d?void 0:d.is_unsafe,imageSignature:null==d?void 0:d.image_signature})}function G({graphqlRef:e,...t}){return e?(0,Z.jsx)(H,{...t,graphqlRef:e}):(0,Z.jsx)(V,{...t})}},932765:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(616550),l=n(883119),a=n(272109),r=n(251951),o=n(870428),s=n(994405),d=n(328939),c=n(785893);let u=({children:e,imageLargeUrl:t,isVideoPin:n,pinId:u})=>{let p=(0,i.useHistory)(),{clientTrackingParams:m,viewParameter:h}=(0,r.R)(),g=(0,s.Yg)();return(0,a.Z)(()=>{null==g||g("main_pin_impression")}),(0,c.jsx)(l.xu,{"data-layout-shift-boundary-id":"CloseupPageBody",children:(0,c.jsx)(d.dL,{auxData:{closeup_navigation_type:(0,o.Z)(p)},component:n?179:85,loggingId:u,impressionData:{imageURL:t,type:13},trackingParams:m,slotIndex:-1,viewData:{pin_id:u},viewParameter:h,viewType:3,children:({impressionTrackerRef:t})=>(0,c.jsx)(l.xu,{"data-test-id":"CloseupMainPin",maxWidth:"100%",position:"relative",ref:t,children:e})},u)})}},242892:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_}),n(167912);var i,l=n(883119),a=n(803817),r=n(993869),o=n(882973),s=n(251951),d=n(992865),c=n(667294),u=n(604094),p=n(643183),m=n(785893);function h({children:e,imageViewer:t}){return(0,m.jsxs)(c.Fragment,{children:[(0,m.jsx)(l.xu,{display:t?"visuallyHidden":"block",opacity:t?0:1,"data-layout-shift-boundary-id":"CloseupPageContainerInner",dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-out"}},children:!t&&e}),(0,m.jsx)(u.Z,{name:"SafeSuspense_Closeup_ImageViewer",children:(0,m.jsx)(p.Z,{children:(0,m.jsx)(l.xu,{display:t?"block":"visuallyHidden",opacity:t?1:0,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-in"}},children:t})})})]})}var g=n(126979);function _({children:e,closeupPageContext:t,hasGutter:c,imageViewer:u,pinKey:p,stickyUpsell:_}){let{childDataKey__DEPRECATED:y}=(0,a.sr)(void 0!==i?i:i=n(325168),p,{type:"pin",useLegacyAdapter:()=>({})});return(0,m.jsx)(s.q,{value:t,children:(0,m.jsxs)(l.xu,{position:"relative",width:"100%",children:[!!_&&(0,m.jsx)(l.Le,{top:o.SB,zIndex:new l.Ry(99999),children:_}),(0,m.jsx)(g.Z,{graphqlRef:"graphqlRef"===y.type?y.data:null,onSendButtonClick:t.onSendButtonClick,children:(0,m.jsx)(r.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:!0,hasGutter:c,children:(0,m.jsx)(d.m,{children:(0,m.jsx)(h,{imageViewer:u,children:e})})})})]})})}},251951:(e,t,n)=>{"use strict";n.d(t,{R:()=>a,q:()=>l});var i=n(583592);let{Provider:l,useHook:a}=(0,i.Z)("CloseupPageContext")},930359:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(883119),l=n(536042),a=n(785893);function r(){let e=(0,l.ZP)();return(0,a.jsx)(i.xu,{padding:5,children:(0,a.jsx)(i.$j,{accessibilityLabel:e.bt("   ", "Loading pin data", "closeupPage.loadingPinData", undefined, true),show:!0})})}},776842:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m}),n(167912);var i,l=n(616550),a=n(803817),r=n(99220),o=n(676794),s=n(870428),d=n(480462),c=n(348597),u=n(785893);function p({children:e,pin:{imageSignature:t,isEligibleForPdp:n,isOosProduct:i,isStaleProduct:a,shoppingFlags:p,trackingParams:m},pinId:h,viewParameter:g}){var _;let y=(0,l.useHistory)(),v=(0,l.useLocation)(),f=(0,c.Z)(null===(_=v.state)||void 0===_?void 0:_.trackingParams,m);return(0,u.jsx)(o.Z,{auxData:{closeup_navigation_type:(0,s.Z)(y),commerce_data:(0,d.Z)({isEligibleForPdp:n,isOosProduct:i,isStaleProduct:a,pinShoppingFlags:null!=p?p:[]})},clientTrackingParams:f,objectIdStr:h,viewData:{pin_id:h,closeup_rich_types:null!=p?p:[],image_signature:t||null},viewParameter:g,viewType:3,component:13283,children:(0,u.jsx)(r.Z,{view:3,objectId:h,clientTrackingParams:f,children:e})})}function m({children:e,pinKey:t,...l}){let{data:r}=(0,a.sr)(void 0!==i?i:i=n(162247),t,{type:"pin",useLegacyAdapter:e=>({imageSignature:e.image_signature,isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,shoppingFlags:e.shopping_flags,trackingParams:e.tracking_params})});return r?(0,u.jsx)(p,{pin:r,...l,children:e}):null}},281922:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(883119),l=n(342693),a=n(536042),r=n(630089),o=n(898252),s=n(245410),d=n(282802),c=n(98736),u=n(618569),p=n(549201),m=n(785893);function h({isImagePinForUnauthOnTablet:e,onClickTitleOrDomain:t,pinCreditPrefix:n,pinDomain:h}){let{isAuthenticated:g}=(0,d.B)(),_=(0,a.ZP)(),y=(0,u.Z)(),v=(0,p.HG)(),{checkExperiment:f}=(0,s.F)(),b=g?f("auth_closeup_redesign").anyEnabled:f("unauth_closeup_redesign").anyEnabled,x=v?"start":"center",k=1,P=e?void 0:"bold",S=e?{textDecoration:"underline"}:{};b&&(x="start",k=n?1:0,P=void 0,S={textDecoration:"underline"});let w=(0,o._S)(h);return(0,m.jsx)(i.kC,{alignItems:"center",direction:"row",justifyContent:x,width:"100%",children:(0,r.nk)(_.bt("{{ pinCreditPrefix }} {{ pinCredit }}", "{{ pinCreditPrefix }} {{ pinCredit }}", "tells the user where the pin is from in the form of Saved from website", undefined, true),{pinCreditPrefix:(0,m.jsx)(i.xu,{display:"inlineBlock",children:(0,m.jsx)(i.xv,{inline:!0,size:l.n,children:n})},"pinCreditsPrefix"),pinCredit:w?(0,m.jsx)(i.xu,{display:"inlineBlock",marginStart:k,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,m.jsx)(i.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),y({action:"click",item:"pin-domain-link"}),(0,c.My)("mweb_pin_page.pin_link.clickthrouh"),g||(0,c.NC)("click_pin_closeup_link_clickthrough"),t()},tapStyle:"compress",children:(0,m.jsx)(i.xv,{size:l.n,weight:P,lineClamp:1,children:(0,m.jsx)("span",{style:S,children:h})},"pinLinkDomain")})},"pinCredits"):""})})}},723608:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(536042),l=n(265259),a=n(993869),r=n(41162),o=n(360588),s=n(818746),d=n(741099),c=n(930359),u=n(84262),p=n(673118),m=n(460914),h=n(230910),g=n(785893);let _=e=>{var t,n,i,l;return(0,h.CK)({hasRichMetadata:!!e.richMetadata,hasRichMetadataProducts:!!(null!==(t=e.richMetadata)&&void 0!==t&&null!==(n=t.products)&&void 0!==n&&n.length),hasRichMetadataArticle:!!(null!==(i=e.richMetadata)&&void 0!==i&&i.article),hasRichMetadataRecipe:!!(null!==(l=e.richMetadata)&&void 0!==l&&l.recipe)})};function y({data:e}){var t,n,l;let a=(0,r.E)(),s=(0,i.ZP)(),{derived:{imageUrl:c,placeholder:u},pin:h}=e,y=(0,p.Z)();return(0,g.jsx)(m.Z,{onTouch:e=>{e.preventDefault(),e.stopPropagation(),y({linkType:h.mobileLink&&"mobile"||h.trackedLink&&"tracked"||h.link&&"external"||"original",viewParameter:_(h)})},pressState:"none",fullWidth:!0,children:(0,g.jsx)(d.Z,{alt:s.bt(" ", "Pin image", "Pin closeup image", undefined, true),color:h.dominantColor||"#efefef",naturalHeight:null!==(t=null==u?void 0:u.height)&&void 0!==t?t:1,naturalWidth:null!==(n=null==u?void 0:u.width)&&void 0!==n?n:1,placeholder:null!==(l=null==u?void 0:u.url)&&void 0!==l?l:"",pwtElementTimingId:o.f,pwtSurfaceContext:a,showSpinner:!1,src:c})})}function v({data:e}){return(0,g.jsxs)(a.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:!0,hasGutter:!0,children:[(0,g.jsx)(u.Z,{}),(0,g.jsx)(s.Z,{isShowingBreadcrumbs:!1,sideBySideOptions:null,media:(0,g.jsx)(l.Z,{roundedForLargeDevice:!0,children:(0,g.jsx)(y,{data:e})}),detail:null}),(0,g.jsx)(c.Z,{})]})}},956745:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m}),n(167912);var i,l=n(883119),a=n(870243),r=n(803817),o=n(536042),s=n(630089),d=n(802071),c=n(785893);let u=void 0!==i?i:i=n(737304);function p({inCollapsibleModulesExp:e,pin:t}){var n,i,r,u,p,m,h,g,_,y,v,f;let b;let x=(0,o.ZP)(),k=(0,d.Z)(),P=!((null===(n=t.board)||void 0===n?void 0:n.layout)!=="quick_creates"),S=k.id===(null===(i=t.pinner)||void 0===i?void 0:i.entityId);if(!S||P||!k.isAuth)return null;let{imageMediumUrl:w,username:T}=k||{};if(null!==(r=t.section)&&void 0!==r&&r.title&&t.section.slug){let e=`${null!==(u=null===(p=t.board)||void 0===p?void 0:p.url)&&void 0!==u?u:""}${t.section.slug}/`;b=(0,s.nk)(x.bt("{{ you }} {{ savedTo }} {{ sectionName }}", "{{ you }} {{ savedTo }} {{ sectionName }}", "closeup.savedAttribution.section", undefined, true),{you:(0,c.jsx)(l.xu,{display:"inlineBlock",marginEnd:1,children:(0,c.jsx)(l.rU,{href:`/${T}`,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,c.jsx)(l.xv,{size:"300",weight:"bold",children:x.bt("", "You", "closeup.savedAttribution.user", undefined, true)})},"author")},T),savedTo:(0,c.jsx)(l.xu,{children:(0,c.jsx)(l.xv,{size:"300",children:x.bt("  :", "saved to", "closeup.savedAttribution.savedTo", undefined, true)})},"saved-to"),sectionName:(0,c.jsx)(l.xu,{display:"inlineBlock",marginStart:1,children:(0,c.jsx)(l.rU,{href:e,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,c.jsx)(l.xv,{size:"300",weight:"bold",lineClamp:1,children:null===(m=t.section)||void 0===m?void 0:m.title})},"section")},e)})}else b=(0,s.nk)(x.bt("{{ you }} {{ savedTo }} {{ boardName }}", "{{ you }} {{ savedTo }} {{ boardName }}", "closeup.savedAttribution.board", undefined, true),{you:(0,c.jsx)(l.xu,{display:"inlineBlock",marginEnd:1,children:(0,c.jsx)(l.rU,{href:`/${T}`,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,c.jsx)(l.xv,{inline:!0,size:"300",weight:"bold",children:x.bt("", "You", "closeup.savedAttribution.user", undefined, true)})},"author")},T),savedTo:(0,c.jsx)(l.xu,{children:(0,c.jsx)(l.xv,{size:"300",children:x.bt("  :", "saved to", "closeup.savedAttribution.savedTo", undefined, true)})},"saved-to"),boardName:(0,c.jsx)(l.xu,{display:"inlineBlock",marginStart:1,children:(0,c.jsx)(l.rU,{href:null!==(_=null===(y=t.board)||void 0===y?void 0:y.url)&&void 0!==_?_:"",rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,c.jsx)(l.xv,{inline:!0,size:"300",weight:"bold",children:null!==(v=null===(f=t.board)||void 0===f?void 0:f.name)&&void 0!==v?v:""})},"author")},null!==(h=null===(g=t.board)||void 0===g?void 0:g.url)&&void 0!==h?h:"")});return(0,c.jsxs)(l.xu,{display:"flex",direction:"row",maxWidth:"100%",marginTop:e?0:12,paddingY:e?4:0,"data-test-id":"saved-attribution",children:[(0,c.jsx)(l.xu,{display:"flex",flex:"shrink","data-test-id":"saved-attribution-avatar",children:(0,c.jsx)(l.iP,{rounding:"circle",children:(0,c.jsx)(l.rU,{href:`/${T}`,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,c.jsx)(a.qE,{size:"md",name:T,src:null!=w?w:""})},"profile")})}),(0,c.jsx)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:(0,c.jsx)(l.xu,{"data-test-id":"saved-attribution-board-or-section",alignItems:"baseline",display:"flex",marginStart:2,children:b})})]})}function m({graphqlRef:e,inCollapsibleModulesExp:t,pinId:n}){let{data:i}=(0,r.sr)(u,e?{type:"graphqlRef",data:e}:{type:"deprecated",data:n},{type:"pin",useLegacyAdapter:e=>({board:e.board&&{layout:e.board.layout,name:e.board.name,url:e.board.url},pinner:e.pinner&&{entityId:e.pinner.id},section:e.section&&{slug:e.section.slug,title:e.section.title}})});return i&&(0,c.jsx)(p,{inCollapsibleModulesExp:t,pin:i})}},209798:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(667294),l=n(883119),a=n(536042),r=n(874261),o=n(282802),s=n(756876);let d="undefined"!=typeof window&&window.innerWidth-32||400,c=e=>[{name:`${e}closeup`,width:d,height:d},{name:`${e}title`,width:d,height:24},{name:`${e}attribution`,width:40,height:40},{name:`${e}credit`,width:d-40-8,height:40},{name:`${e}visit_button`,width:d,height:40},{name:`${e}pin_grid_pin`,width:(d-32)/2,height:100}].map(({name:e,width:t,height:n})=>(0,s.Z)({name:e,width:t,height:n})).join("");var u=n(785893);let p="CloseupPageSkeletonLoader__",m=()=>{let e=(0,a.ZP)(),{isAuthenticated:t}=(0,o.B)();return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(r.Z,{unsafeCSS:c(p)}),(0,u.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(l.xu,{marginTop:4,marginEnd:3,children:(0,u.jsx)("div",{className:p+"closeup"})}),(0,u.jsx)(l.xu,{marginTop:3,children:(0,u.jsx)("div",{className:p+"title"})}),(0,u.jsxs)(l.xu,{display:"flex",direction:"row",marginTop:3,children:[(0,u.jsx)(l.xu,{children:(0,u.jsx)("div",{className:p+"attribution"})}),(0,u.jsx)(l.xu,{marginStart:2,children:(0,u.jsx)("div",{className:p+"credit"})})]}),(0,u.jsx)(l.xu,{marginTop:3,children:(0,u.jsx)(l.iz,{})})]}),(0,u.jsx)(l.xu,{marginBottom:3,marginTop:2,children:(0,u.jsx)(l.xv,{weight:"bold",align:t?void 0:"center",children:e.bt(" ", "More like this", "On mobile web pin page, title for related pins beneath pin closeup", undefined, true)})}),(0,u.jsxs)(l.xu,{display:"flex",direction:"row",marginTop:3,children:[(0,u.jsx)(l.xu,{marginStart:t?2:1,marginEnd:t?2:1,children:(0,u.jsx)("div",{className:p+"pin_grid_pin"})}),(0,u.jsx)(l.xu,{marginStart:t?2:1,marginEnd:t?2:1,children:(0,u.jsx)("div",{className:p+"pin_grid_pin"})})]})]})]})}},84262:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(883119),l=n(633917),a=n(282802),r=n(882973),o=n(549201),s=n(519218),d=n(785893);function c({pinActionBarOptionsButton:e,l1interestFallbackUrl:t}){let{isAuthenticated:n}=(0,a.B)(),c=(0,o.ZP)();return(0,d.jsx)(i.Le,{top:n?0:(0,r.x9)(c),children:(0,d.jsx)(i.xu,{position:"absolute",marginTop:2,width:"100%",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:(0,d.jsxs)(i.kC,{justifyContent:"between",children:[(0,d.jsx)(l.Z,{children:(0,d.jsx)(s.Z,{fallbackUrlForExp:t,bgColor:"white",color:"darkGray",fallbackUrl:n?"/":"/ideas",padding:3,viewParameter:156,viewType:3})}),!!e&&(0,d.jsx)(l.Z,{children:e})]})})})}},142900:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d}),n(167912);var i,l=n(635408),a=n(803817),r=n(463031),o=n(896507),s=n(785893);function d({pinId:e,pinKey:t,placeholder:d}){var c,u;let{data:p,childDataKey__DEPRECATED:m}=(0,a.HF)(void 0!==i?i:i=n(947715),t,{type:"pin",useGraphQLAdapter:e=>e.storyPinData,useLegacyAdapter:e=>e?e.story_pin_data:null}),h=null==p?void 0:null===(c=p.pages)||void 0===c?void 0:c[0].pageId,g=null==p?void 0:null===(u=p.pages)||void 0===u?void 0:u[0].blocks,{blocks:_}=(0,l.Z)({storyPinBlocks:null!=g?g:[],blocksToRender:[r.h8.COMMENT_REPLY_STICKER,r.h8.GENERIC_STICKER,r.h8.HEADING,r.h8.MENTION_STICKER,r.h8.PARAGRAPH,r.h8.PRODUCT_STICKER,r.h8.VTO_MAKEUP_STICKER,r.h8.IMAGE]});return p?(0,s.jsx)(o.Z,{blocks:_,isActive:!0,isCoverImageWithTitle:!0,isSinglePage:!0,isStaticImageIdeaPin:!0,muteVideos:!0,pinAspectRatio:((null==d?void 0:d.width)||0)/((null==d?void 0:d.height)||1),pinId:e,pageId:h,maybeGraphqlRef:"graphqlRef"===m.type?m.data:null}):null}},226590:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var i,l=n(167912),a=n(883119),r=n(525571),o=n(943795),s=n(465991),d=n(245410),c=n(282802),u=n(98736),p=n(549201),m=n(460914),h=n(525104),g=n(712968),_=n(229527),y=n(785893);let v=({children:e,handleTap:t})=>t?(0,y.jsx)(m.Z,{onTouch:t,pressState:"compress",children:e}):e,f=void 0!==i?i:i=n(357285);function b({onClick:e,hasLink:t,forceSmallerHeading:n,textAlign:i,pinTitle:l,gridTitle:m,richSummaryDisplayName:h,richMetadataTitle:f,storyPinDataId:b,storyPinDataMetadataPinTitle:x,pinJoinVisualAnnotation:k,lineClamp:P,seoNoindexReason:S,seoTitle:w}){let T=(0,p.ZP)(),{isAuthenticated:A,isBot:C}=(0,c.B)(),I=(0,g.Tt)(),{checkExperiment:j}=(0,d.F)(),E=(0,r.Z)(null==I?void 0:I.created_at)&&!(null!=I&&I.is_matured_new_user),L=A?j("auth_closeup_redesign").anyEnabled:j("unauth_closeup_redesign").anyEnabled,R=(0,s.Ly)({pinTitle:l,gridTitle:m,richSummaryDisplayName:h,richMetadataTitle:f,storyPinDataId:b,storyPinDataMetadataPinTitle:x,pinJoinVisualAnnotation:k,seoNoindexReason:S,seoTitle:w}),F="desktop"===T?"start":"center";return L&&(F="start"),(0,y.jsx)(_.Z,{hash:"details",offset:-o.DEFAULT_HEIGHT,children:(0,y.jsx)(a.kC,{alignItems:"desktop"===T?"start":"center",direction:"column",justifyContent:"center",children:(0,y.jsx)(a.xu,{"data-test-id":"pinTitle",maxWidth:"100%",alignSelf:L?"start":"stretch",children:(0,y.jsx)(v,{handleTap:"desktop"!==T&&t?t=>{t.preventDefault(),t.stopPropagation(),(0,u.My)("mweb_pin_page.pin_title.click"),A||(0,u.NC)("unauth_click_pin_closeup_title"),e()}:null,children:(0,y.jsx)(a.X6,{align:i||F,accessibilityLevel:1,overflow:"breakWord",size:n||E?"400":"500",lineClamp:C?void 0:P,children:R})})})})})}function x(e){var t,n,i,a,r,o,s;let d=(0,l.useFragment)(f,e.graphqlRef);return(0,y.jsx)(b,{onClick:e.onClick,hasLink:e.hasLink,forceSmallerHeading:e.forceSmallerHeading,lineClamp:e.lineClamp,textAlign:e.textAlign,pinId:e.pinId,pinTitle:null==d?void 0:d.title,gridTitle:null==d?void 0:d.gridTitle,richSummaryDisplayName:null!==(t=null==d?void 0:null===(n=d.richSummary)||void 0===n?void 0:n.displayName)&&void 0!==t?t:"",richMetadataTitle:null!==(i=null==d?void 0:null===(a=d.richMetadata)||void 0===a?void 0:a.title)&&void 0!==i?i:"",storyPinDataId:null==d?void 0:d.storyPinDataId,storyPinDataMetadataPinTitle:null==d?void 0:null===(r=d.storyPinData)||void 0===r?void 0:null===(o=r.metadata)||void 0===o?void 0:o.pinTitle,pinJoinVisualAnnotation:(null==d?void 0:null===(s=d.pinJoin)||void 0===s?void 0:s.visualAnnotation)||void 0,seoNoindexReason:null==d?void 0:d.seoNoindexReason,seoTitle:null==d?void 0:d.seoTitle})}function k(e){var t,n,i,l,a,r,o;let s=(0,h.S6)()(e.pinId||"");return s?(0,y.jsx)(b,{onClick:e.onClick,hasLink:e.hasLink,forceSmallerHeading:e.forceSmallerHeading,lineClamp:e.lineClamp,textAlign:e.textAlign,pinId:e.pinId,pinTitle:s.title,gridTitle:s.grid_title,richSummaryDisplayName:null!==(t=null===(n=s.rich_summary)||void 0===n?void 0:n.display_name)&&void 0!==t?t:"",richMetadataTitle:null!==(i=null===(l=s.rich_metadata)||void 0===l?void 0:l.title)&&void 0!==i?i:"",storyPinDataId:s.story_pin_data_id,storyPinDataMetadataPinTitle:null===(a=s.story_pin_data)||void 0===a?void 0:null===(r=a.metadata)||void 0===r?void 0:r.pin_title,pinJoinVisualAnnotation:null===(o=s.pin_join)||void 0===o?void 0:o.visual_annotation,seoNoindexReason:s.seo_noindex_reason,seoTitle:s.seo_title}):null}function P(e){return e.graphqlRef?(0,y.jsx)(x,{...e}):(0,y.jsx)(k,{...e})}},455605:(e,t,n)=>{"use strict";n.d(t,{Z:()=>F});var i,l,a,r=n(667294),o=n(702664);n(167912);var s=n(616550),d=n(442279),c=n(883119),u=n(618762),p=n(803817),m=n(536042),h=n(76008),g=n(251951),_=n(870243),y=n(245410),v=n(802071),f=n(329689),b=n(384722),x=n(621363),k=n(785893);let P=void 0!==i?i:i=n(244785);function S({closeCommentComposerModal:e,isCommentComposerOpen:t,isInCommentModule:n,openCommentComposerModal:i,pinId:l,pinKey:a,shouldShowAvatar:r}){var o;let{childDataKey__DEPRECATED:s}=(0,p.sr)(P,a,{type:"pin",useLegacyAdapter:()=>({})}),d=(0,m.ZP)(),{checkExperiment:u}=(0,y.F)(),h=(0,v.Z)(),S=(0,f.Z)(),{anyEnabled:w}=u("web_m10n_business_access_orbac_ga"),T=w?(0,b.lJ)(h,S):"",A=(0,g.R)(),{viewParameter:C}=A,I=h.isAuth?{image_medium_url:T?null===(o=S.user)||void 0===o?void 0:o.imgUrl:h.imageMediumUrl,username:T?(0,b.Ms)(h,S):h.username}:{},j=d.bt(" ", "Add a comment", "commentComposer.placeholder.addAComment", undefined, true);return(0,k.jsxs)(c.xu,{children:[(0,k.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",children:[r&&I&&(0,k.jsx)(c.xu,{alignItems:"end",display:"flex",marginEnd:2,children:(0,k.jsx)(_.qE,{src:I.image_medium_url,name:I.username,size:"md"})}),(0,k.jsx)(c.xu,{flex:"grow",minHeight:44,rounding:6,dangerouslySetInlineStyle:{__style:{borderColor:"#efefef",borderStyle:"solid",borderWidth:2}},children:(0,k.jsx)(c.xu,{display:"flex",height:"100%",alignItems:"center",marginStart:4,children:(0,k.jsx)(c.iP,{accessibilityLabel:d.bt("    ", "Add a comment for this Pin", "InlineCommentComposerInternal.commentForPin", undefined, true),onTap:({event:e})=>{i(e)},fullHeight:!1,children:(0,k.jsx)(c.xv,{color:"subtle",size:"300",children:j})})})})]}),t&&(0,k.jsx)(x.Z,{inCommentModuleExp:!0,isInCommentModule:n,isModalOpen:!1,onDismiss:e,pinId:l,pinKey:s,viewParameter:C})]})}var w=n(448861),T=n(606900),A=n(630089);let C=void 0!==l?l:l=n(541507);function I({closeThreadModal:e,closeupAttributionUsername:t,comment:n,commentsResource:i,featuredCommentId:l,hasManyComments:a,isCommentThreadOpen:r,isStoryPin:o,pinId:s,pinKey:d,pinVideosId:u,viewParameter:h}){var g,_,f,b;let P;let{childDataKey__DEPRECATED:S}=(0,p.sr)(C,d,{type:"pin",useLegacyAdapter:()=>({})}),{user:{first_name:I,image_medium_url:j,username:E},id:L,tags:R=[]}=n,F=!1,D=[n.user],z="";"aggregatedcomment"===n.type?(F=n.highlighted_by_pin_owner,D.push(...n.tagged_users),z=`${E} ${n.text}`):(P=(n.images[0]||{})["150x150"],z=`${E} ${n.details}`);let M=[{offset:0,length:E.length,color:"darkGray"},...R.map(e=>({...e,offset:(e.offset||0)+E.length+1,color:"shopping"}))],O=(0,m.ZP)(),{checkExperiment:Z}=(0,y.F)(),{isAuth:N}=(0,v.Z)(),{anyEnabled:K}=Z(`${N?"auth":"unauth"}_mweb_reactions_expansion_mvp_${u||o?"idea_video":"web"}_pin`),B="userdiditdata"===n.type,U=B&&Z("mweb_photo_commenting").anyEnabled,H=1===n.comment_tag,V=P&&(0,k.jsx)(c.xu,{marginTop:1,marginBottom:U?2:4,children:(0,k.jsx)(c.zd,{width:150,height:150,rounding:2,wash:!0,children:(0,k.jsx)(c.Ee,{alt:null!==(g=P.url)&&void 0!==g?g:"",src:null!==(_=P.url)&&void 0!==_?_:"",color:"#efefef",naturalWidth:null!==(f=P.width)&&void 0!==f?f:1,naturalHeight:null!==(b=P.height)&&void 0!==b?b:1},P.url)})});return(0,k.jsxs)(c.xu,{marginBottom:4,children:[(0,k.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,k.jsx)(c.xu,{marginEnd:2,children:(0,k.jsx)(w.Z,{isQuestion:H,name:I||E||"",size:"sm",src:null!=j?j:""})}),(0,k.jsxs)(c.kC,{flex:"grow",justifyContent:"center",direction:"column",children:[(0,k.jsxs)(c.kC,{justifyContent:"between",children:[(0,k.jsx)(c.kC.Item,{minWidth:0,children:(0,k.jsxs)(c.kC,{direction:"column",dataTestId:"author-and-comment-container",children:[U&&V,(0,k.jsx)(T.Z,{hasManyComments:a,isFirstTaggedUserAuthor:!0,isInCommentModule:!0,shouldShowFirstNameOnly:!0,taggedUsers:D,tags:M,text:z}),!U&&V]})}),l===L&&(0,k.jsx)(c.xu,{alignSelf:"center",color:"primary",height:8,rounding:"pill",minWidth:8})]}),F&&(0,k.jsx)(c.xu,{marginTop:4,marginBottom:3,children:(0,k.jsx)(c.xv,{size:"100",children:(0,A.nk)(O.bt(",   : @{{ closeupAttributionUsername }}", "Highlighted by @{{ closeupAttributionUsername }}", "comment.highlighted.label", undefined, true),{closeupAttributionUsername:t})})})]})]}),r&&(0,k.jsx)(x.Z,{commentsResource:i,inCommentModuleExp:!0,isModalOpen:!0,isReactionsExpansionEnabled:K,onDismiss:e,pinId:s,pinKey:S,viewParameter:h})]})}var j=n(274796),E=n(712968);let L=(0,d.P1)((e,t,n)=>n,({feeds:e},t)=>e[`${j.Z.UNIFIED_COMMENTS}:${t||""}`],({didItData:e})=>e,(e,t,n,i)=>i,(e,t,n,i)=>(null==t?void 0:t.map(({id:t,type:l})=>{var a,r;let o="aggregatedcomment"===l.toLowerCase()?e[t]:n[t];if(!o)return;let s="string"==typeof o.user?null!==(a=i[o.user])&&void 0!==a?a:{}:null!==(r=o.user)&&void 0!==r?r:{};return{...o,tagged_users:(o.tagged_users||[]).map(e=>{var t;return null!==(t=i[e.id])&&void 0!==t?t:{}}),user:null!=s?s:{}}}).filter(e=>e))||[]),R=void 0!==a?a:a=n(643321);function F({commentsResource:e,inCommentModuleExp:t,isEligibleForPinReactions:n,isProductPin:i,pinId:l,pinKey:a}){var d;let{data:_,childDataKey__DEPRECATED:y}=(0,p.sr)(R,a,{type:"pin",useLegacyAdapter:e=>{var t,n,i,l;return{aggregatedPinData:e.aggregated_pin_data&&{commentCount:e.aggregated_pin_data.comment_count,didItData:e.aggregated_pin_data.did_it_data&&{imagesCount:e.aggregated_pin_data.did_it_data.images_count},entityId:null!==(t=e.aggregated_pin_data.id)&&void 0!==t?t:""},closeupAttribution:e.closeup_attribution&&{entityId:null!==(n=e.closeup_attribution.id)&&void 0!==n?n:"",username:e.closeup_attribution.username},commentsDisabled:e.comments_disabled,pinner:e.pinner&&{entityId:e.pinner.id},storyPinData:e.story_pin_data&&{entityId:null!==(i=e.story_pin_data.id)&&void 0!==i?i:""},videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"},entityId:null!==(l=e.videos.id)&&void 0!==l?l:""}}}}),{aggregatedPinData:v,closeupAttribution:f,commentsDisabled:b,storyPinData:x,videos:P}=_||{},{entityId:w,commentCount:T,didItData:A}=v||{},C=(0,m.ZP)(),j=(0,E.kW)(),F=(0,h.lV)(),{comment_id:D}=(0,s.useParams)(),z=(0,g.R)(),{viewParameter:M}=z,O=(0,o.useSelector)(e=>L(e,w,F,j)),[Z,N]=(0,r.useState)(!1),[K,B]=(0,r.useState)(!1),U=(null!=T?T:0)+(null!==(d=null==A?void 0:A.imagesCount)&&void 0!==d?d:0),H=!!(null!=x&&x.entityId);return(0,k.jsx)(c.xu,{paddingX:2,marginBottom:6,marginTop:6,dangerouslySetInlineStyle:{__style:{borderTop:i?void 0:"1px solid #efefef",borderBottom:"1px solid #efefef"}},children:(0,k.jsx)(c.xu,{marginTop:6,marginBottom:6,children:(0,k.jsxs)(c.iP,{onTap:()=>{O.length>0?N(!0):B(!0)},children:[(0,k.jsx)(u.Z,{aggregatedPinDataId:w,commentCount:U,commentsDisabled:b,inCommentModuleExp:t,isEligibleForPinReactions:n,isInCommentModule:!0,nativePinType:H&&"storyPin"||(null==P?void 0:P.videoList)&&"video"||"image",pinUid:l,shouldUseGraphQL:"graphqlRef"===y.type}),O.length>0&&(0,k.jsx)(I,{closeThreadModal:()=>{N(!1)},closeupAttributionUsername:null==f?void 0:f.username,comment:O[0],commentsResource:e,featuredCommentId:D,hasManyComments:U>1,isCommentThreadOpen:Z,isStoryPin:H,pinId:l,pinKey:y,pinVideosId:null==P?void 0:P.entityId,viewParameter:M}),b?(0,k.jsx)(c.xv,{color:"subtle",children:C.bt("    ", "Comments are turned off for this Pin", "commentModule.disabledState.message", undefined, true)}):(0,k.jsx)(S,{closeCommentComposerModal:()=>{B(!1)},isCommentComposerOpen:K,isInCommentModule:!0,openCommentComposerModal:e=>{B(!0),e.stopPropagation()},pinKey:y,pinId:l,shouldShowAvatar:!O.length})]})})})}},558533:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(883119),l=n(515367);let a=new i.H3([l.e]),r=a},939782:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(883119),l=n(785893);let a=function({marginStart:e}){return(0,l.jsx)(i.xu,{width:"100vw",dangerouslySetInlineStyle:{__style:{marginLeft:`${4*e}px`}},children:(0,l.jsx)(i.iz,{})})}},752491:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(667294),l=n(883119),a=n(388011),r=n(88622),o=n(536042),s=n(785893);function d({pinId:e,viewParameter:t}){let{logContextEvent:n}=(0,a.v)(),d=(0,o.ZP)(),[c,u]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{u(!1)},[e]),c)?null:(0,s.jsx)(r.ZP,{accessibilityModalLabel:"",mobileIsSlideUp:!0,isOpen:!0,onDismiss:()=>{n({event_type:102,view_type:3,view_parameter:t,element:12511}),u(!0)},mobileHideCloseIcon:!0,children:(0,s.jsx)(l.xu,{rounding:6,padding:9,marginBottom:3,color:"default",children:(0,s.jsxs)(l.kC,{gap:{row:0,column:4},direction:"column",alignItems:"center",justifyContent:"center",children:[(0,s.jsx)(l.xv,{align:"center",children:d.bt("       ,    .      .", "This Pin was created with early test tools that no longer exist, so parts of the content may be permanently missing.", "storyPinCloseup.MobileModal.V1DeprecationMessage", undefined, true)}),(0,s.jsx)(l.zx,{color:"red",text:d.bt("!", "Got it", "storyPinCloseup.MobileModal.V1DeprecationAcknowledgementButton", undefined, true),onClick:()=>{n({event_type:102,view_type:3,view_parameter:t,element:12511}),u(!0)}})]})})})}},99562:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(883119),l=n(282802),a=n(785893);let r=new i.H3([new i.Ry(0)]);function o({onMoreButtonTap:e,onSendButtonTap:t}){let{userAgent:{platform:n}}=(0,l.B)();return(0,a.jsxs)(i.xu,{position:"absolute",top:!0,zIndex:r,width:"100%",padding:6,display:"flex",justifyContent:"end",children:[(0,a.jsx)(i.hU,{accessibilityLabel:"share",icon:"android"===n?"android-share":"share",bgColor:"transparentDarkGray",onClick:t,size:"md"}),(0,a.jsx)(i.xu,{marginStart:2,children:(0,a.jsx)(i.hU,{accessibilityLabel:"overflow menu",icon:"ellipsis",bgColor:"transparentDarkGray",onClick:e,size:"md"})})]})}},925790:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(883119),l=n(282802),a=n(549201),r=n(667294),o=n(164671),s=n(552369),d=n(618569),c=n(882973),u=n(272109),p=n(785893);function m({pinId:e,imageSignature:t}){let n=(0,a.HG)(),l=(0,a.ml)(),[m,h]=(0,r.useState)(!1),[g,_]=(0,r.useState)(!1),y=(0,r.useRef)(),v=(0,d.Z)();return(0,u.Z)(()=>{let e=(0,s.Z)(()=>{if(y.current){let t=y.current,{top:n}=t.getBoundingClientRect(),i=n>(l?c.SB:c.Pw);!g&&i&&(h(!0),_(!0),window.removeEventListener("scroll",e))}},10);n?h(!0):window.addEventListener("scroll",e)}),(0,p.jsx)(i.xu,{display:"flex",alignItems:"stretch",justifyContent:"end",ref:y,paddingX:n?2:0,"data-test-id":"visual-search-icon",children:(0,p.jsx)(i.xu,{overflow:"hidden",children:(0,p.jsx)(i.iP,{onTap:()=>{v({action:"click",item:"visual-search-icon",within:"pin-image"})},children:(0,p.jsx)(o.default,{animateShopButton:m,id:e,imageSignature:t,onAnimationComplete:()=>{h(!1)},surfaceType:"flashlight"})})})})}var h=n(616550),g=n(388011),_=n(377234),y=n(536042);function v({pinId:e,viewParameter:t}){let n=(0,y.ZP)(),l=(0,_.vs)(),{logContextEvent:a}=(0,g.v)(),r=(0,h.useHistory)();return(0,u.Z)(()=>{a({element:10405,event_type:120,view_type:3})}),(0,p.jsx)(i.iP,{onTap:()=>{a({component:128,element:10405,event_type:102,view_parameter:t,view_type:3}),r&&e&&r.push(`/pin/${e}#imgViewer`)},children:(0,p.jsx)(i.xu,{"data-test-id":"expand-action-icon",alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:l?"rgba(51, 51, 51, 0.8)":"rgba(255, 255, 255, 0.8)",transform:"scaleX(-1)",marginLeft:-4}},display:"flex",height:44,justifyContent:"center",rounding:"pill",width:44,children:(0,p.jsx)(i.JO,{accessibilityLabel:n.bt(",   ", "Button to expand the image", "expandAction.button", undefined, true),color:"default",icon:"maximize",size:20})})})}var f=n(98736),b=n(199999);function x({imageSignature:e,pinId:t,showUpsell:n=!0,viewParameter:r}){let o=(0,y.ZP)(),{logContextEvent:s}=(0,g.v)(),c=(0,d.Z)(),{isAuthenticated:m}=(0,l.B)(),v=(0,_.vs)(),x=(0,a.HG)(),k=(0,a.ml)(),P=(0,h.useHistory)(),S=(0,b.a)();return(0,u.Z)(()=>{s({aux_data:{image_signature:e},component:128,element:234,event_type:120,view_parameter:r,view_type:3})}),(0,p.jsx)(i.iP,{onTap:({event:i})=>{m||((0,f.My)(`${x?"dweb":"mweb"}_pin_page.flashlight_icon_click`),c({action:"click",item:"visual-search-icon",within:"pin-image"})),i.stopPropagation(),i.preventDefault(),s({aux_data:{image_signature:e},component:128,element:234,event_type:102,view_parameter:r,view_type:3}),!m&&k&&S&&n?S.setShouldShowVisualSearchAppUpsell(!0):P&&t?P.push(`/pin/${t}/visual-search/`):(0,f.My)(`${x?"dweb":"mweb"}_pin_page.flashlight_icon_click.error`)},tapStyle:"compress",children:(0,p.jsx)(i.xu,{"data-test-id":"visual-search-icon",alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:v?"rgba(51, 51, 51, 0.8)":"rgba(255, 255, 255, 0.8)"}},display:"flex",height:44,justifyContent:"center",rounding:"pill",width:44,children:(0,p.jsx)(i.JO,{accessibilityLabel:o.bt(" ", "Visual search", "flashlight.button", undefined, true),color:"default",icon:"flashlight",size:20})})})}var k=n(992865);let P=()=>{let{isScrolledToPins:e,scrollToPins:t}=(0,k.Z)(),n=(0,y.ZP)();return e&&t(!1),(0,p.jsx)(i.xu,{"data-test-id":"more-like-this-button",children:(0,p.jsx)(i.iP,{onTap:({event:e})=>{e.stopPropagation(),e.preventDefault(),(0,f.My)("remove_drawer_exp.more_like_this.scroll_to_pins"),t(!0)},children:(0,p.jsx)(i.kC,{alignItems:"stretch",justifyContent:"end",children:(0,p.jsxs)(i.xu,{alignContent:"between",alignItems:"center",color:"default",display:"flex",padding:3,rounding:"pill",children:[(0,p.jsx)(i.xu,{marginEnd:3,rounding:"pill",color:"default",children:(0,p.jsx)(i.xv,{inline:!0,weight:"bold",children:n.bt(" ", "More like this", "mobilePinPage.relatedPins.title", undefined, true)})}),(0,p.jsx)(i.JO,{accessibilityLabel:n.bt("    ", "Scroll to related pins button", "mobilePinPage.relatedPins.scroll", undefined, true),color:"dark",icon:"arrow-down",inline:!0})]})})})})},S=({isDesktop:e})=>e?-68:-60;function w({imageSignature:e,inPinImageResizeExp:t=!1,pinId:n,type:r,viewParameter:o}){let{isAuthenticated:s}=(0,l.B)(),d=(0,a.HG)();return(0,p.jsx)(i.Le,{bottom:0,children:(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:S({isDesktop:d}),marginRight:t&&"visualSearch"===r?-8:0,marginLeft:t&&"expand"===r?-4:0}},padding:2,position:"expand"===r?"relative":"absolute",right:"expand"!==r,children:"moreLikeThisButton"===r?(0,p.jsx)(P,{}):"expand"===r?(0,p.jsx)(v,{pinId:n,viewParameter:o}):"visualSearch"!==r||s?(0,p.jsx)(x,{imageSignature:e,pinId:n,viewParameter:o}):(0,p.jsx)(m,{pinId:n})})})}},18028:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i,l=n(667294),a=n(702664),r=n(167912),o=n(883119),s=n(563962),d=n(870243),c=n(536042),u=n(734417),p=n(630089),m=n(245410),h=n(282802),g=n(436422),_=n(41669),y=n(427778),v=n(525104),f=n(712968),b=n(785893);let x=void 0!==i?i:i=n(268511);function k({hideFollowButton:e,hideFollowerCount:t,viewerId:n,justifyContent:i,avatarSize:r,seeMoreButton:v,graphqlRef:x,pinId:k,pinImageSignature:P,userData:S,clientTrackingParams:w}){let T=(0,c.ZP)(),A=(0,u.Z)(),{checkExperiment:C}=(0,m.F)(),{isAuthenticated:I}=(0,h.B)(),j=I?C("auth_closeup_redesign").anyEnabled:C("unauth_closeup_redesign").anyEnabled,{id:E="",image_medium_url:L,follower_count:R,followed_by_me:F,username:D="",is_ads_only_profile:z=!1,ads_only_profile_site:M=""}=S,O=(0,f.mN)()(E),Z=(0,a.useDispatch)(),N=(0,l.useRef)(),K=(0,s.Z)(),{locale:B}=(0,h.B)(),[U,H]=(0,l.useState)(O?O.explicitly_followed_by_me:F),V=z&&M,G=V&&M?M:`/${D}/`;return(0,b.jsxs)(o.xu,{display:"flex",direction:"row","data-test-id":"official-user-attribution",alignItems:"center",justifyContent:i||"center",children:[(0,b.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",flex:"shrink",children:(0,b.jsx)(o.Tg,{href:G,rel:V?"nofollow":"none",target:V?"blank":null,onTap:()=>{V&&K({event_type:9371,element:13382,component:123})},children:(0,b.jsx)(d.qE,{name:D,size:r||"md",src:null!=L?L:""})})}),(0,b.jsxs)(o.xu,{display:"flex",direction:"column",marginStart:2,justifyContent:"center",minWidth:0,children:[(0,b.jsx)(g.Z,{fontWeight:"bold",graphqlRef:x,pinId:k}),!t&&(0,b.jsx)(o.xv,{size:j?"200":"300",children:(0,p.nk)(T.bt("{{ followerCount }} .", "{{ followerCount }} followers", "closeup.officialUser.followerCount", undefined, true),{followerCount:A(B,R||0,{shortform:!0,shortform_maximum_fraction_digits:0})})})]}),v,!e&&(0,b.jsx)(l.Fragment,{children:(0,b.jsx)(o.xu,{marginStart:"auto",ref:N,children:(0,b.jsx)(_.Z,{followEventType:45,id:E,isFollowed:U,isUserFollowButton:!0,isUserMe:n===E,onFollow:e=>{H(!0),Z((0,y.ZN)(e,null,w))},onUnfollow:e=>{H(!1),Z((0,y.fv)(e,null,w))},pinId:k,size:"lg",shouldUseLegoColors:!0,unfollowEventType:46,viewType:3,auxData:k&&P?{pin_id:k,image_signature:P}:void 0,clientTrackingParams:w})})})]})}function P({graphqlRef:e,pinId:t,...n}){var i,a,o,s,d,c;let u=(0,r.useFragment)(x,e),p=u.closeupAttribution;return p&&u?(0,b.jsx)(k,{...n,pinId:t,pinImageSignature:null!==(i=u.imageSignature)&&void 0!==i?i:void 0,userData:{id:null!==(a=p.entityId)&&void 0!==a?a:void 0,image_medium_url:null!==(o=p.imageMediumUrl)&&void 0!==o?o:void 0,follower_count:null!==(s=p.followerCount)&&void 0!==s?s:void 0,followed_by_me:null!==(d=p.followedByMe)&&void 0!==d?d:void 0,username:null!==(c=p.username)&&void 0!==c?c:void 0,is_ads_only_profile:!!p.isAdsOnlyProfile,ads_only_profile_site:p.adsOnlyProfileSite},graphqlRef:u}):(0,b.jsx)(l.Fragment,{})}function S({pinId:e,...t}){var n;let i=(0,v.S6)()(e),a=null==i?void 0:i.closeup_attribution;return a&&i?(0,b.jsx)(k,{...t,pinId:e,pinImageSignature:null!==(n=i.image_signature)&&void 0!==n?n:void 0,userData:a}):(0,b.jsx)(l.Fragment,{})}function w({graphqlRef:e,...t}){return e?(0,b.jsx)(P,{...t,graphqlRef:e}):(0,b.jsx)(S,{...t})}},436422:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i,l=n(667294),a=n(167912),r=n(883119),o=n(563962),s=n(793085),d=n(525104),c=n(785893);let u=void 0!==i?i:i=n(584473);function p({getDisplayName:e,fontWeight:t="normal",isVerifiedMerchant:n,fullName:i="",verifiedIdentityVerified:l,username:a="",isAdsOnlyProfile:d=!1,adsOnlyProfileSite:u="",onMouseDown:p}){let m=(0,o.Z)(),h=d&&u,g=h&&u?u:`/${a}/`;return(0,c.jsx)(r.Tg,{href:g,rel:h?"nofollow":"none",target:h?"blank":null,onMouseDown:()=>{p&&p()},onTap:()=>{h&&m({event_type:9371,element:13382,component:123})},children:(0,c.jsxs)(r.kC,{alignItems:"center",direction:"row",justifyContent:"start",minWidth:0,children:[(0,c.jsx)(r.xu,{"data-test-id":"creator-profile-name",children:(0,c.jsx)(r.xv,{size:"300",lineClamp:1,weight:t,children:e?e(i):i})}),(n||l)&&(0,c.jsx)(r.xu,{marginStart:1,marginEnd:2,children:(0,c.jsx)(s.Z,{showVerifiedIdentity:!n,isVerifiedMerchant:n,size:"sm"})})]})})}function m(e){var t,n,i,r,o,s;let d=(0,a.useFragment)(u,e.graphqlRef),m=null==d?void 0:d.closeupAttribution;return m?(0,c.jsx)(p,{getDisplayName:e.getDisplayName,fontWeight:e.fontWeight,isVerifiedMerchant:null!==(t=m.isVerifiedMerchant)&&void 0!==t?t:void 0,fullName:null!==(n=m.fullName)&&void 0!==n?n:void 0,verifiedIdentityVerified:null!==(i=null===(r=m.verifiedIdentity)||void 0===r?void 0:r.verified)&&void 0!==i?i:void 0,username:null!==(o=m.username)&&void 0!==o?o:void 0,isAdsOnlyProfile:null!==(s=m.isAdsOnlyProfile)&&void 0!==s&&s,adsOnlyProfileSite:m.adsOnlyProfileSite,onMouseDown:e.onMouseDown}):(0,c.jsx)(l.Fragment,{})}function h(e){var t;let n=(0,d.S6)()(e.pinId),i=null==n?void 0:n.closeup_attribution;return i?(0,c.jsx)(p,{getDisplayName:e.getDisplayName,fontWeight:e.fontWeight,isVerifiedMerchant:i.is_verified_merchant,fullName:i.full_name,verifiedIdentityVerified:null===(t=i.verified_identity)||void 0===t?void 0:t.verified,username:i.username,isAdsOnlyProfile:i.is_ads_only_profile,adsOnlyProfileSite:i.ads_only_profile_site,onMouseDown:e.onMouseDown}):(0,c.jsx)(l.Fragment,{})}function g(e){return e.graphqlRef?(0,c.jsx)(m,{...e}):(0,c.jsx)(h,{...e})}},244634:(e,t,n)=>{"use strict";n.d(t,{Z:()=>J});var i,l,a=n(667294),r=n(167912),o=n(883119),s=n(604094),d=n(536042);let c=({hasRecipe:e,hasArticle:t,i18n:n})=>e?n.bt("", "Make it", "pinPage.pinActionBar.Makeit.Button", undefined, true):t?n.bt("", "Read it", "pinPage.pinActionBar.Readit.Button", undefined, true):n.bt("", "Visit", "pinPage.pinActionBar.visitButton", undefined, true);var u=n(450667),p=n(245410),m=n(282802),h=n(643183),g=n(549201),_=n(802071),y=n(736409),v=n(611756);let f=()=>{let e=(0,v.qn)("relatedPinsAppUpsell"),t=e&&Date.now()-e>y.F4;return!e||t};var b=n(799006),x=n(251951),k=n(873610),P=n(944625),S=n(292439),w=n(393786),T=n(447398),A=n(618569),C=n(936840),I=n(994405),j=n(785893);let E=void 0!==i?i:i=n(157035),L=({clickthrough:e,onLoad:t,actionButtonText:n})=>{let i=(0,A.Z)(),l=(0,I.Yg)();return(0,a.useEffect)(()=>{t&&t()},[t]),(0,j.jsx)(o.xu,{"data-test-id":"main-pin-section-visit-button",children:(0,j.jsx)(o.zx,{accessibilityLabel:n,fullWidth:!0,size:"lg",onClick:()=>{i({action:"click",item:"main-pin-section-visit-button"}),null==l||l("main_pin_clickthrough"),e()},text:n||""})})},R=({clickthroughInterstitialExperience:e,graphqlRef:t,actionButtonText:n})=>{let i=(0,r.useFragment)(E,t),l=(0,C.I)({clickthroughInterstitialExperience:e,graphqlRef:i});return(0,j.jsx)(L,{clickthrough:l,actionButtonText:n})},F=({clickthroughInterstitialExperience:e,pinId:t,actionButtonText:n})=>{let i=(0,C.Z)({clickthroughInterstitialExperience:e,pinId:t});return(0,j.jsx)(L,{clickthrough:i,actionButtonText:n})};function D({clickthroughInterstitialExperience:e,pinId:t,graphqlRef:n,actionButtonText:i}){return n?(0,j.jsx)(R,{graphqlRef:n,clickthroughInterstitialExperience:e,actionButtonText:i}):(0,j.jsx)(F,{clickthroughInterstitialExperience:e,pinId:t,actionButtonText:i})}var z=n(787198),M=n(411056),O=n(525104),Z=n(712968),N=n(428876),K=n(259501),B=n(753081);let U=(0,a.lazy)(()=>n.e(68657).then(n.bind(n,468657))),H=(0,a.lazy)(()=>Promise.resolve().then(n.bind(n,154500))),V=void 0!==l?l:l=n(272245),G=({children:e,experience:t,onCompleteRef:n})=>{let i=(0,a.useRef)();return(0,j.jsxs)(a.Fragment,{children:[(0,j.jsx)(o.xu,{ref:i,children:(0,j.jsx)(o.xu,{children:e})}),(0,j.jsx)(s.Z,{name:"SafeSuspense_PinActionBarSaveButton_ExperienceTooltipDelayedPulsar",children:(0,j.jsx)(h.Z,{children:(0,j.jsx)(U,{experience:t,eligibleIds:[503459,503761],anchor:i.current,showTooltip:!0,onCompleteRef:n})})})]})},$=()=>{let{locale:e}=(0,m.B)();(0,a.useEffect)(()=>{(0,u.we)(e)},[e])};function W({pinId:e,viewParameter:t}){let n=(0,d.ZP)(),[i,l]=(0,a.useState)(!1),r=(0,a.useRef)(null);return(0,j.jsxs)(o.xu,{ref:r,children:[(0,j.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,j.jsx)(K.Z,{onDefaultSendButtonClick:()=>{l(!0)},viewParameter:t})}),i&&(0,j.jsx)(B.Z,{anchor:r.current,objectId:e,objectType:1,onDismiss:()=>l(!1),viewType:3,viewParameter:t,component:194,title:n.bt(" ", "Send this pin", "PinCloseup.ShareMenu.Title", undefined, true)})]})}function q({aggregatedPinDataId:e,clickthroughInterstitialExperience:t,commentsResource:n,experience:i,inCommentModuleExp:l,isEligibleForAggregatedComments:r,isEligibleForPinReactions:c,isNewUser:u,isRemovablePin:y,onEditButtonClick:v,onMobileTap:A,onSendButtonClick:C,pinId:E,actionButtonText:L,pinnedToBoardId:R,pinnedToBoardUrl:F,nativePinType:O,scrolledToRelatedPins:B,shouldShowReactions:U,shouldShowBackButton:V,shouldShowShareOnVideoCloseup:q,isEligibleToVisitPin:Y,hasPin:X,isEligibleForPdp:J,pinnerBlockedByMe:Q,maybeGraphqlRef:ee,isActionBarInline:et}){let en=(0,d.ZP)(),{checkExperiment:ei}=(0,p.F)(),el=(0,g.HG)(),{isAuthenticated:ea}=(0,m.B)(),er=(0,x.R)(),{clientTrackingParams:eo,isStoryPin:es,shouldRenderAsStoryPin:ed,saveButtonConfig:ec,viewParameter:eu}=er,ep=(0,b.Z)(),em=(0,a.useRef)(null),{id:eh}=(0,_.Z)(),eg=(0,Z.mN)()(null!=eh?eh:""),{countryFromIp:e_}=(0,m.B)(),{COUNTRY_CODES:ey}=M.LAW_CONFIGURATION.dsa,ev=ey.includes(e_),ef=!ea&&ev,eb=J&&ea||!el&&!J,ex=ea&&!el&&ei("auth_mweb_inline_action_bar").anyEnabled,ek=(0,k.z)(),eP=(0,I.Yg)();$();let eS=!!i&&8===i.type;if(!el&&es&&ed)return null;if(B&&ea&&!ex&&!eb){let e=ep&&u&&!(null!=eg&&eg.is_partner)&&f();return(0,j.jsx)(S.Z,{backButton:V?(0,j.jsx)(P.Z,{bgColor:"white"}):null,headerLimitedOverflow:eS,isRelatedPinsAppUpsellShown:e,isTransparentBackground:!0,isActionBarInline:et,showHorizontalActionBar:eb,isDesktop:el})}let ew=!el&&!J&&r&&(!ea||["enabled","running_experiments"].includes(ei("community_engagement_holdout_2023_h1").group));return(0,j.jsx)(S.Z,{isActionBarInline:et,showHorizontalActionBar:eb,backButton:V?(0,j.jsx)(P.Z,{}):null,commentButton:ew&&(0,j.jsx)(z.default,{commentsResource:n,inCommentModuleExp:l,isEligibleForPinReactions:c,pinKey:ee?{type:"graphqlRef",data:ee}:{type:"deprecated",data:E},pinId:E,viewParameter:eu}),editOrMoreButton:!eb&&(v?(0,j.jsx)(o.xu,{"data-test-id":"editBoardButton",children:(0,j.jsx)(o.hU,{accessibilityLabel:en.bt("", "edit", "Pin edit button", undefined, true),iconColor:"darkGray",icon:"edit",onClick:({event:e})=>v(e),size:"lg"})}):(0,w.E)(er,ef)&&!!X&&(0,j.jsx)(o.xu,{"data-test-id":"ellipsis-button",children:(0,j.jsx)(T.Z,{onMobileTap:A,pinId:E,graphqlRef:ee})})),headerLimitedOverflow:eS,saveButton:ea&&(y||Q)?null:(0,j.jsx)(G,{experience:i,onCompleteRef:em,children:(0,j.jsx)(N.Z,{clientTrackingParams:eo,deeplinkUri:ec.shouldShowSavedButton&&F||ec.repinPageLocation.deeplinkUri,onTouch:e=>{var t;null===(t=em.current)||void 0===t||t.call(em),ec.onSaveButtonClick(e);let n=!!(null!=ek&&ek.getData(E));null==eP||eP(n?"main_pin_savebutton_pinactionbar_withcloseuppreviewdata":"main_pin_savebutton_pinactionbar")},onUnsave:ec.onUnsaveButtonClick,pinId:E,pinnedToBoardId:R,shouldShowSavedButton:ec.shouldShowSavedButton,to:ec.repinPageLocation.mwebUri,viewType:3,viewParameter:eu,color:"primary"})}),shareButtonGroup:U&&O?(0,j.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,j.jsx)(s.Z,{name:"SafeSuspense_PinActionBarSaveButton_ReactionPickerContainer",children:(0,j.jsx)(h.Z,{children:(0,j.jsx)(H,{aggregatedPinDataId:e,clientTrackingParams:eo,pinId:E,nativePinType:O,experience:i})})}),q&&(0,j.jsx)(K.Z,{onDefaultSendButtonClick:C,viewParameter:er.viewParameter})]}):(0,j.jsx)(o.xu,{"data-test-id":"share-button",children:!ea&&el?(0,j.jsx)(W,{pinId:E,viewParameter:er.viewParameter}):(0,j.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,j.jsx)(K.Z,{onDefaultSendButtonClick:C,viewParameter:er.viewParameter})})}),visitButton:!q&&Y?(0,j.jsx)(o.xu,{paddingX:2,"data-test-id":"visit-button-mobile",children:(0,j.jsx)(D,{clickthroughInterstitialExperience:t,pinId:E,graphqlRef:ee,actionButtonText:L})}):null,isDesktop:el})}let Y=({graphqlRef:e,...t})=>{var n,i,l,a,o;let s=(0,d.ZP)(),u=(0,r.useFragment)(V,e),p=null===(n=u.richMetadata)||void 0===n?void 0:n.recipe,m=c({hasRecipe:!!(null!=p&&p.name&&null!==(i=p.categorizedIngredients)&&void 0!==i&&i.length&&!p.fromAggregatedData),hasArticle:!!(null!==(l=u.richMetadata)&&void 0!==l&&l.article),i18n:s});return(0,j.jsx)(q,{aggregatedPinDataId:null===(a=u.aggregatedPinData)||void 0===a?void 0:a.entityId,hasPin:!!u,isEligibleForAggregatedComments:u.isEligibleForAggregatedComments,isEligibleForPdp:u.isEligibleForPdp,pinnerBlockedByMe:null===(o=u.pinner)||void 0===o?void 0:o.blockedByMe,maybeGraphqlRef:u,actionButtonText:m,...t})},X=({pinId:e,...t})=>{var n,i,l;let a=(0,O.S6)()(e),r=(0,d.ZP)(),o=null==a?void 0:a.pinner,s=null==a?void 0:null===(n=a.rich_metadata)||void 0===n?void 0:n.recipe,u=c({hasRecipe:!!(null!=s&&s.name&&s.categorized_ingredients&&!s.from_aggregated_data),hasArticle:!!(null!=a&&null!==(i=a.rich_metadata)&&void 0!==i&&i.article),i18n:r});return(0,j.jsx)(q,{aggregatedPinDataId:null==a?void 0:null===(l=a.aggregated_pin_data)||void 0===l?void 0:l.id,pinId:e,actionButtonText:u,hasPin:!!a,isEligibleForAggregatedComments:null==a?void 0:a.is_eligible_for_aggregated_comments,isEligibleForPdp:null==a?void 0:a.is_eligible_for_pdp,pinnerBlockedByMe:null==o?void 0:o.blocked_by_me,maybeGraphqlRef:null,...t})};function J({graphqlRef:e,...t}){return e?(0,j.jsx)(Y,{graphqlRef:e,...t}):(0,j.jsx)(X,{...t})}},944625:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(883119),l=n(282802),a=n(251951),r=n(519218),o=n(785893);let s=({bgColor:e,color:t})=>{let{viewParameter:n}=(0,a.R)(),{isAuthenticated:s}=(0,l.B)();return(0,o.jsx)(i.xu,{"data-test-id":"back-button",children:(0,o.jsx)(r.Z,{bgColor:e,color:t||"darkGray",fallbackUrl:s?"/":"/ideas",padding:"auto",viewParameter:n,viewType:3,size:"xl"})})}},292439:(e,t,n)=>{"use strict";n.d(t,{V:()=>p,Z:()=>h});var i=n(667294),l=n(883119),a=n(943795),r=n(245410),o=n(282802),s=n(832400),d=n(785893);let c=new l.Ry(2),u=new l.Ry(1),p=new l.Ry(4),m=({children:e,headerLimitedOverflow:t,isDesktop:n,isActionBarInline:i,isRelatedPinsAppUpsellShown:r,isTransparentBackground:o,showHorizontalActionBar:s,zIndex:c,isCloseupRedesign:u})=>!n&&s?(0,d.jsxs)(l.xu,{children:[(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{opacity:i?0:1,transition:"opacity .4s ease-in-out"}},children:(0,d.jsx)(a.FixedFooter,{paddingY:5,hasTopShadow:!0,zIndex:c,children:e},String(o))}),i&&(0,d.jsx)(l.xu,{paddingY:u?0:5,dangerouslySetInlineStyle:{__style:{opacity:i?1:0,transition:"opacity .4s ease-in-out"}},children:e})]}):(0,d.jsx)(a.FixedHeader,{headerLimitedOverflow:t,isTranslucent:!o,isTransparentBackground:o,ignoreObstructions:o,paddingY:r?0:void 0,zIndex:c,children:e},String(o)),h=({backButton:e,commentButton:t,copyButton:n,editOrMoreButton:a,headerLimitedOverflow:h,isActionBarInline:g=!1,isDesktop:_,isRelatedPinsAppUpsellShown:y,isTransparentBackground:v,saveButton:f,showHorizontalActionBar:b,shareButtonGroup:x,visitButton:k})=>{let P;let S=(0,s.H)(),{isAuthenticated:w}=(0,o.B)(),{checkExperiment:T}=(0,r.F)(),A=w?T("auth_closeup_redesign").anyEnabled:T("unauth_closeup_redesign").anyEnabled;return w?"lg"===S?P=c:b&&(P=p):P=b?p:u,(0,d.jsx)(l.xu,{"data-test-id":"header",children:(0,d.jsx)(m,{headerLimitedOverflow:h,isDesktop:_,isActionBarInline:g,isRelatedPinsAppUpsellShown:y,isTransparentBackground:v,showHorizontalActionBar:b,zIndex:P,isCloseupRedesign:A,children:(0,d.jsx)(l.xu,{marginTop:A?0:-1,marginBottom:A?0:-1,children:(0,d.jsx)(l.kC,{alignItems:"center",justifyContent:"between",children:b?(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:t||null}),(0,d.jsxs)(l.xu,{display:"flex",alignItems:"center",justifyContent:"start",marginStart:!t&&x?12:0,children:[k||null,f||null]}),(0,d.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:x||null})]}):(0,d.jsxs)(i.Fragment,{children:[(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[!!e&&(0,d.jsx)(l.xu,{marginStart:A?0:-1,color:v?"default":void 0,rounding:"circle",dangerouslySetInlineStyle:{__style:v?{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}:{}},children:e}),(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[t||null,A?a||null:x||null,A?x||null:a||null,n||null]})]}),(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[k||null,f||null]})]})})})})})}},393786:(e,t,n)=>{"use strict";n.d(t,{E:()=>A,Z:()=>L});var i,l=n(167912),a=n(883119),r=n(388011),o=n(737311),s=n(765456),d=n(536042),c=n(630089),u=n(245410),p=n(497088),m=n(599226),h=n(549201),g=n(802071),_=n(700453),y=n(251951),v=n(936840),f=n(996902),b=n(460914),x=n(395253),k=n(154500),P=n(525104),S=n(785893);let w=void 0!==i?i:i=n(463146),T=({canUpsellNativeApp:e,downloadImageUrl:t,pinId:n,shouldShowReactions:i,isAuthenticated:l,shouldShowVisitInMoreOptions:a})=>n?{react:i,editPin:l,downloadImageUrl:t,openInApp:e,reportPin:l,sendPin:i,visitPin:a}:Object.freeze({}),A=(e,t)=>{let n=T(e);return!!(n.react||n.openInApp||n.sendPin||n.downloadImageUrl||n.reportPin||n.visitPin||t)},C=({imageUrl:e,closeupUnifiedDescription:t,gridTitle:n,title:i,pinId:l,imageSignature:r,textSize:o})=>{let s=(0,d.ZP)(),{isChromeOnIOS:c,viewParameter:u,handleDownloadPinImageClick:p,isAuthenticated:g}=(0,y.R)(),_=(0,m.Z)(),v=(0,h.HG)(),x=t&&t.trim();return(0,S.jsx)(f.Z,{imgSrc:e,isChromeOnIOS:c,filename:n||i||x,pinId:l,viewParameter:u,viewType:3,imageSignature:r||void 0,children:e=>(0,S.jsx)(a.xu,{"data-test-id":"more-options-download-pin",children:(0,S.jsx)(b.Z,{pressState:"none",onTouch:()=>{e().then(()=>{v&&!g&&_({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_closeup_download_button",desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnDweb",container:"download"}}}),p()})},children:(0,S.jsx)(a.xv,{weight:"bold",size:o,children:s.bt(" ", "Download image", "Button to download Pin image", undefined, true)})})})})},I=({aggregatedPinDataId:e,pinId:t,domain:n,closeupUnifiedDescription:i,gridTitle:l,title:m,imageSignature:f,textSize:P,onDismiss:w,onEditButtonClick:A,isIdeaPin:I,isIdeaPinDeleted:j,shouldShowShareOnVideoCloseup:E,clickthroughInterstitialExperience:L,nativePinType:R})=>{let F=(0,d.ZP)(),D=(0,y.R)(),{clientTrackingParams:z,onSendButtonClick:M,isAuthenticated:O}=D,Z=(0,v.Z)({clickthroughInterstitialExperience:L,pinId:t}),{logContextEvent:N}=(0,r.v)(),K=(0,s._)({id:1000112}),B=(0,h.HG)(),{isAuth:U}=(0,g.Z)(),{checkExperiment:H}=(0,u.F)(),V=T(D);return(0,S.jsxs)(a.kC,{direction:"column",gap:{row:0,column:4},children:[V.react&&!!R&&!B&&!H(`${U?"auth":"unauth"}_mweb_reactions_expansion_mvp_idea_video_pin`).anyEnabled&&(0,S.jsx)(o.Z,{name:"SafeSuspense_PinActionBarMoreOptionsMenu_ReactionPickerContainer",children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(b.Z,{pressState:"none",onTouch:w,children:(0,S.jsx)(k.default,{aggregatedPinDataId:e,clientTrackingParams:z,pinId:t,nativePinType:R,experience:K,isTextButton:!0})})})}),!B&&V.editPin&&A&&(0,S.jsx)(a.xu,{"data-test-id":"editBoardButton",children:(0,S.jsx)(b.Z,{pressState:"none",onTouch:()=>A(),children:(0,S.jsx)(a.xv,{weight:"bold",size:P,children:F.bt(" ", "Edit Pin", "closeup.PinActionBarMoreOptions.editButton", undefined, true)})})}),V.openInApp&&(0,S.jsx)(_.Z,{componentType:14162,app_upsell_type:O?"auth-pin-page-action-bar":"unauth-pin-page-action-bar",children:({handleOpenApp:e})=>(0,S.jsx)(a.xu,{"data-test-id":"more-options-open-app",children:(0,S.jsx)(b.Z,{pressState:"none",onTouch:()=>e({deepLinkUri:`pin/${t}`}),children:(0,S.jsx)(a.xv,{weight:"bold",size:P,children:F.bt("  ", "Open in app", "Option in overflow menu on Pin closeup to open the Pin in the Pinterest app", undefined, true)})})})}),!E&&!I&&V.sendPin&&(0,S.jsx)(a.xu,{"data-test-id":"more-options-send-app",children:(0,S.jsx)(b.Z,{pressState:"none",onTouch:M,children:(0,S.jsx)(a.xv,{weight:"bold",size:P,children:F.bt(" ", "Send Pin", "Option in overflow menu on Pin closeup to send this pin", undefined, true)})})}),!I&&V.visitPin&&(0,S.jsx)(b.Z,{pressState:"none",onTouch:Z,children:(0,S.jsx)(a.xv,{weight:"bold",size:P,children:(0,c.Wc)(F.bt("   {{domain}}", "Visit {{domain}}", "videoPinCloseup.overflowMenu.visit", undefined, true),{domain:n||""})})}),!I&&!j&&V.downloadImageUrl&&(0,S.jsx)(C,{imageUrl:V.downloadImageUrl,closeupUnifiedDescription:i,gridTitle:l,title:m,pinId:t,imageSignature:f,textSize:P}),V.reportPin&&(0,S.jsx)(x.Z,{callbackFunction:w,nextLocation:`/pin/${t}/report/`,children:(0,S.jsx)(a.xv,{weight:"bold",size:P,children:(0,S.jsx)(a.xu,{"data-test-id":"more-options-report-pin",children:(0,S.jsx)(a.rU,{href:`/pin/${t}/report/`,tapStyle:"none",onClick:()=>{N({view_type:48,element:176,event_type:102,component:13,object_id_str:t})},children:F.bt("  ", "Report Pin", "Takes you to a separate page where you can give reasons why you are reporting this Pin (e.g spam, pornography)", undefined, true)})})})})]})},j=({graphqlRef:e,...t})=>{var n,i,a,r;let o=(0,l.useFragment)(w,e);return(0,S.jsx)(I,{aggregatedPinDataId:null===(n=o.aggregatedPinData)||void 0===n?void 0:n.entityId,pinId:null!==(i=o.entityId)&&void 0!==i?i:"",domain:o.domain,closeupUnifiedDescription:o.closeupUnifiedDescription,gridTitle:o.gridTitle,title:o.title,imageSignature:o.imageSignature,isIdeaPinDeleted:null!==(a=null===(r=o.storyPinData)||void 0===r?void 0:r.isDeleted)&&void 0!==a&&a,...t})},E=e=>{var t,n,i,l;let{pinId:a}=(0,y.R)(),r=e.pinId||a,o=(0,P.S6)()(r);return(0,S.jsx)(I,{aggregatedPinDataId:null==o?void 0:null===(t=o.aggregated_pin_data)||void 0===t?void 0:t.id,pinId:null!==(n=null==o?void 0:o.id)&&void 0!==n?n:"",domain:null==o?void 0:o.domain,closeupUnifiedDescription:null==o?void 0:o.closeup_unified_description,gridTitle:null==o?void 0:o.grid_title,title:null==o?void 0:o.title,imageSignature:null==o?void 0:o.image_signature,isIdeaPinDeleted:null!==(i=null==o?void 0:null===(l=o.story_pin_data)||void 0===l?void 0:l.is_deleted)&&void 0!==i&&i,...e})};function L({graphqlRef:e,...t}){return e?(0,S.jsx)(j,{graphqlRef:e,...t}):(0,S.jsx)(E,{...t})}},447398:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var i,l=n(667294),a=n(167912),r=n(883119),o=n(536042),s=n(282802),d=n(98736),c=n(618569),u=n(348672),p=n(549201),m=n(251951),h=n(936840),g=n(525104),_=n(204722),y=n(50169),v=n(785893);let f=void 0!==i?i:i=n(179419),b=({pinId:e,pinCreditPrefix:t,onClickTitleOrDomain:n,onMobileTap:i,hasPinner:a,graphqlRef:h,overlayingPinImage:g=!1,shoppingKlpUrls:f=[]})=>{let b;let x=(0,o.ZP)(),k=(0,c.Z)(),P=(0,u.Z)(),{onSendButtonClick:S}=(0,m.R)(),w=(0,l.useRef)(),T=(0,p.HG)(),A=(0,p.Wb)(),{isAuthenticated:C}=(0,s.B)(),[I,j]=(0,l.useState)(null),E=!!I;(0,l.useEffect)(()=>{let e=()=>{j(null),(0,d.My)("dweb.unauth.context_menu.click_away")};return E&&document.addEventListener("click",e),()=>{E&&document.removeEventListener("click",e)}},[E]);let L=g?"white":"darkGray";return T||(L=g?"darkGray":"white",b=g?"white":"darkGray"),(0,v.jsxs)(l.Fragment,{children:[(0,v.jsx)(r.xu,{ref:w,children:(0,v.jsx)(r.hU,{accessibilityLabel:x.bt("", "more", "Pin more button", undefined, true),iconColor:L,bgColor:b,icon:"ellipsis",onClick:({event:l})=>{if(C||T){if(k({action:"click",item:"ellipsis-button"}),T){if(l.stopPropagation(),l.preventDefault(),(0,d.My)("dweb.ellipsis_button.context_menu.open"),w.current){let e=w.current.getBoundingClientRect(),t=e.left,n=e.top;j({x:t,y:n})}}else i(l)}else e&&a?P({pinId:e,location:"main-pin-overflow",vaseSection:!A&&(0,v.jsx)(y.Z,{dedupeVisualAnnotations:null,pinId:e,pinKey:h?{type:"graphqlRef",data:h}:{type:"deprecated",data:e},pinCreditPrefix:t,onClickTitleOrDomain:n,shoppingKlpUrls:f})}):i(l)},size:"lg"})}),I&&T&&e&&a&&(0,v.jsx)(_.Z,{desktopContextMenuState:I,pinId:e,source:"dweb.plp.ellipsis.button",graphqlRef:h,onSendButtonClick:S})]})},x=({graphqlRef:e,pinId:t,pinCreditPrefix:n,onMobileTap:i,overlayingPinImage:l,clickthroughInterstitialExperience:r})=>{var o;let s=(0,a.useFragment)(f,e),d=(0,h.I)({clickthroughInterstitialExperience:r,graphqlRef:s});return(0,v.jsx)(b,{hasPinner:!!s.pinner,pinId:t,pinCreditPrefix:n,onClickTitleOrDomain:d,onMobileTap:i,graphqlRef:s,overlayingPinImage:l,shoppingKlpUrls:(null===(o=s.pinJoin)||void 0===o?void 0:o.shoppingKlpUrls)||[]})},k=({pinId:e,pinCreditPrefix:t,onMobileTap:n,overlayingPinImage:i,clickthroughInterstitialExperience:l})=>{var a,r;let o=(0,g.S6)()(e),s=(0,h.Z)({clickthroughInterstitialExperience:l,pinId:e});return(0,v.jsx)(b,{hasPinner:!!(null!=o&&o.pinner),pinId:e,pinCreditPrefix:t,onClickTitleOrDomain:s,onMobileTap:n,overlayingPinImage:i,shoppingKlpUrls:null!==(a=null==o?void 0:null===(r=o.pin_join)||void 0===r?void 0:r.shopping_klp_urls)&&void 0!==a?a:[]})};function P({graphqlRef:e,pinId:t,pinCreditPrefix:n,onMobileTap:i,overlayingPinImage:l,clickthroughInterstitialExperience:a}){let r={pinId:t,pinCreditPrefix:n,onMobileTap:i,overlayingPinImage:l,clickthroughInterstitialExperience:a};return e?(0,v.jsx)(x,{...r,graphqlRef:e}):(0,v.jsx)(k,{...r})}},768865:(e,t,n)=>{"use strict";n.d(t,{IS:()=>v,Ys:()=>y,ZP:()=>T,j$:()=>x});var i,l=n(667294),a=n(167912),r=n(883119),o=n(101789),s=n(44081),d=n(536042),c=n(630089),u=n(245410),p=n(895200),m=n(282802),h=n(525104),g=n(785893);let _=void 0!==i?i:i=n(24789),y=({m:e,h:t,rm:n,rh:i},l,a=!1)=>e&&(!t||i<=0)?a?(0,c.nk)(l.bt("{{mins}}", "{{mins}}min", "closeup.makeRecipeTimeText.minutes", undefined, true),{mins:n.toString()}):(0,c.nk)(l.nbt(["{{mins}} ", "{{mins}} ", "{{mins}} "], n, "number showing the minutes to complete a recipe", true),{mins:n.toString()}):t?a?(0,c.nk)(l.bt("{{hrs}} {{mins}}", "{{hrs}}hr {{mins}}min", "closeup.makeRecipeTimeText.hours", undefined, true),{hrs:t.toString(),mins:e.toString()}):(0,c.nk)(l.nbt(["{{hrs}} ", "{{hrs}} ", "{{hrs}} "], i, "number showing the hours to complete a recipe", true),{hrs:i.toString()}):null,v=({m:e,h:t,rm:n,rh:i,i18n:l})=>e&&(!t||i<=0)?(0,c.nk)(l.bt("{{mins}}", "{{mins}}m", "number showing minutes to complete a recipe", undefined, true),{mins:n.toString()}):t?(0,c.nk)(l.bt("{{hrs}} {{mins}}", "{{hrs}}h {{mins}}m", "number showing hours to complete a recipe", undefined, true),{hrs:t.toString(),mins:e.toString()}):null,f=(e,t)=>{let n=e&&e.length>0&&e.join(", "),i=t&&t.summary;return n&&i?`${n}  ${i}`:n||i},b=e=>e?e.reduce((e,t)=>{var n,i;return e+(null!==(n=null===(i=t.ingredients)||void 0===i?void 0:i.length)&&void 0!==n?n:0)},0):0,x=({displayCookTime:e,i18n:t,isShortened:n})=>y((0,p.u)(e),t,n);function k({category:e,ingredients:t,textSize:n="300"}){return(0,g.jsxs)(r.xu,{marginBottom:4,children:[e&&(0,g.jsx)(r.xu,{children:(0,g.jsx)(r.xv,{weight:"bold",size:n,children:e})}),(null!=t?t:[]).map(e=>{var t,i;return(0,g.jsx)(r.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,g.jsxs)(r.xv,{size:n,children:[" ",e.amt||null," ",e.name]})},`${null!==(t=e.name)&&void 0!==t?t:""}-${null!==(i=e.name)&&void 0!==i?i:""}`)})]})}let P=({categorizedIngredients:e,displayCookTime:t,image:n,ingredientCount:i,ingredientsDescription:a,name:c})=>{let p=(0,d.ZP)(),{checkExperiment:h}=(0,u.F)(),{isAuthenticated:_}=(0,m.B)(),y=_?h("auth_closeup_redesign").anyEnabled:h("unauth_closeup_redesign").anyEnabled,v=t?x({displayCookTime:t,i18n:p,isShortened:!0}):null;if(!v&&!i&&!a)return null;let f=p.bt("", "Ingredients", "Closeup.PinRecipe.ingredientsLabel", undefined, true);return(0,g.jsxs)(r.xu,{"data-test-id":"pin-recipe-container",direction:"column",display:"flex",marginTop:y?8:12,marginBottom:y?0:4,marginEnd:y?0:6,overflow:"hidden",children:[(0,g.jsx)("meta",{content:c,itemProp:"name"}),n&&(0,g.jsx)("meta",{content:n,itemProp:"image"}),(0,g.jsx)(r.xu,{"data-test-id":"one-pin-layout",children:Array.isArray(e)&&e.length>0&&(0,g.jsx)(o.Z,{heading:f,children:(0,g.jsx)(s.Z,{children:e.map(({category:e,ingredients:t},n)=>{let i=`ingredient-${n}`;return(0,g.jsx)(l.Fragment,{children:(0,g.jsx)(r.xu,{marginBottom:4,children:(0,g.jsx)(k,{category:e,ingredients:t,textSize:"300"})})},i)})})})})]})},S=({graphqlRef:e})=>{let t=(0,a.useFragment)(_,e),{imageSpec_474x:n,richMetadata:i}=t,l=null==i?void 0:i.recipe,r=null==l?void 0:l.categorizedIngredients,o=b(r),s=(null==l?void 0:l.categorizedIngredients)&&f(l.diets,l.servingsSummary);return(0,g.jsx)(P,{categorizedIngredients:r,displayCookTime:null==l?void 0:l.displayCookTime,image:null==n?void 0:n.url,ingredientCount:o,ingredientsDescription:s,name:null==l?void 0:l.name})},w=({pinId:e})=>{var t,n;let i=(0,h.S6)()(e),l=(null==i?void 0:null===(t=i.rich_metadata)||void 0===t?void 0:t.recipe)||{},{display_cook_time:a,name:r,categorized_ingredients:o,diets:s,servings_summary:d}=l,c=b(o),u=o&&f(s,d);return(0,g.jsx)(P,{categorizedIngredients:o,displayCookTime:a,image:(null===(n=((null==i?void 0:i.images)||{})["474x"])||void 0===n?void 0:n.url)||"",ingredientCount:c,ingredientsDescription:u,name:r})};function T({graphqlRef:e,pinId:t}){return e?(0,g.jsx)(S,{graphqlRef:e}):(0,g.jsx)(w,{pinId:t})}},431570:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i,l=n(167912),a=n(883119),r=n(536042),o=n(630089),s=n(245410),d=n(31407),c=n(282802),u=n(549201),p=n(768865),m=n(525104),h=n(785893);let g=void 0!==i?i:i=n(761952);function _({boldText:e=!0,marginTop:t=3,onlyShowNumber:n=!1,textSize:i="md",width:l=12,isWideViewport:m,ratingBestRating:g,ratingRatingValue:_,ratingReviewCount:y,hasPinRecipe:v,displayCookTime:f,dietList:b,servingSummaryServes:x}){let k=(0,r.ZP)(),{checkExperiment:P}=(0,s.F)(),{isAuthenticated:S}=(0,c.B)(),w=S?P("auth_closeup_redesign").anyEnabled:P("unauth_closeup_redesign").anyEnabled,T=(0,u.ZP)(),A=(0,o.nk)(k.nbt(["{{review_count}} ", "{{review_count}} ", "{{review_count}} "], null != y ? y : 0, "closeup.recipe.ratings", true),{review_count:y}),C=f?(0,p.j$)({displayCookTime:f,i18n:k,isShortened:!0}):null,I=Number(x),j=(0,o.nk)(k.nbt(["{{serves}}", "{{serves}}", "{{serves}}"], Number.isNaN(I) ? 0 : I, "closeup.recipe.serves", true),{serves:x}).join(""),E=[b,j].filter(Boolean),L=(0,o.nk)(k.bt("{{ ratingStars }}: {{ count }}", "{{ ratingStars }} {{ count }}", "closeup.recipe.rating", undefined, true),{ratingStars:(0,h.jsx)(d.Z,{rating:_,max_rating:g,width:l},"ratingStars"),count:(0,h.jsx)(a.xv,{inline:!0,size:i,weight:e?"bold":"normal",children:n?y:A},"ratingCount")});v&&(L=(0,h.jsx)(a.xu,{"data-test-id":"CookTime",children:(0,o.nk)(k.bt("{{ recipeText }} {{cookTime}} {{ pinRecipe }}", "{{ recipeText }} {{cookTime}} {{ pinRecipe }}", "closeup recipe cooktime", undefined, true),{recipeText:(0,h.jsx)(a.xv,{inline:!0,children:L},"recipeText"),cookTime:(0,h.jsxs)(a.xv,{inline:!0,children:[C&&"\xb7 ",C]},"cookTimeText"),pinRecipe:(0,h.jsx)(a.xv,{inline:!0,children:E.length>0&&(0,h.jsx)(a.xv,{inline:!0,children:` \xb7 ${E.join(" \xb7 ")}`})},"pinRecipe")})}));let R=m||"phone"!==T?"start":"center";return w&&(R="start"),(0,h.jsx)(a.xu,{alignItems:"baseline","data-test-id":"PinRecipeContainer",display:v&&"phone"===T?"block":"flex",justifyContent:"start",marginTop:t,children:(0,h.jsx)(a.xv,{align:R,inline:!0,children:L})})}let y=({graphqlRef:e,...t})=>{var n,i,a,r;let o=(0,l.useFragment)(g,e),{richMetadata:s}=o,d=null==s?void 0:s.recipe;return(0,h.jsx)(_,{...t,displayCookTime:null==d?void 0:d.displayCookTime,dietList:((null==d?void 0:d.diets)||[]).join(", "),servingSummaryServes:null==d?void 0:null===(n=d.servingsSummary)||void 0===n?void 0:n.serves,hasPinRecipe:!!(null!=s&&s.recipe),ratingBestRating:null==d?void 0:null===(i=d.aggregateRating)||void 0===i?void 0:i.bestRating,ratingRatingValue:null==d?void 0:null===(a=d.aggregateRating)||void 0===a?void 0:a.ratingValue,ratingReviewCount:null==d?void 0:null===(r=d.aggregateRating)||void 0===r?void 0:r.reviewCount})},v=({pinId:e,...t})=>{var n,i,l,a,r;let o=(0,m.S6)()(e),s=(null==o?void 0:null===(n=o.rich_metadata)||void 0===n?void 0:n.recipe)||{},{diets:d,display_cook_time:c,servings_summary:u}=s;return(0,h.jsx)(_,{...t,displayCookTime:c,dietList:(d||[]).join(", "),servingSummaryServes:null==u?void 0:u.serves,hasPinRecipe:!!(null!=o&&null!==(i=o.rich_metadata)&&void 0!==i&&i.recipe),ratingBestRating:null===(l=s.aggregate_rating)||void 0===l?void 0:l.best_rating,ratingRatingValue:null===(a=s.aggregate_rating)||void 0===a?void 0:a.rating_value,ratingReviewCount:null===(r=s.aggregate_rating)||void 0===r?void 0:r.review_count})};function f({graphqlRef:e,pinId:t,...n}){return e?(0,h.jsx)(y,{...n,graphqlRef:e}):(0,h.jsx)(v,{...n,pinId:t})}},979275:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(883119),l=n(536042),a=n(282802),r=n(785893);let o=({onSendButtonClick:e,trackShareTap:t,color:n,size:o,bgColor:s})=>{let d=(0,l.ZP)(),{userAgent:{platform:c}}=(0,a.B)();return(0,r.jsx)(i.hU,{accessibilityLabel:d.bt("", "Send", "Board.Pin.SendButton", undefined, true),onClick:({event:n})=>{e(n),t()},size:o||"lg",bgColor:s||"transparent",iconColor:n||"darkGray",icon:"android"===c?"android-share":"share"})}},248288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(883119),l=n(123228),a=n(394366),r=n(245410),o=n(643183),s=n(599226),d=n(98736),c=n(738318),u=n(785893);function p(e){let{checkExperiment:t}=(0,r.F)(),{viewParameter:n,isStoryPin:p}=e,m=(0,s.Z)();return(0,u.jsx)(o.Z,{fallback:null,children:(0,u.jsx)(i.xu,{marginTop:4,children:(0,u.jsx)(a.Z,{commentWarningModalState:l.A9.NONE,dismissCommentWarningModal:()=>{},objectType:c.o.pin,onEnter:()=>{(0,d.My)(p?"dweb.unauth.comment_compose.story_pin.tap":"dweb.unauth.comment_compose.tap"),m({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_comment_composer",desktopOptions:{modalType:t("web_unauth_comment_upsell_copy").group.includes("signup")?"signup":"login",modalOptions:{source:"commentComposerExp",container:"closeup"}}})},statusType:"textStaticDisplay",viewParameter:n})})})}},657006:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let i="imgViewer"},870428:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(286354);let l=e=>{let t=(0,i.Z)({url:e.location.search});switch(e.action){case"PUSH":if("news_hub"===t.entrySource)return"deeplink";return"click";case"REPLACE":return"click";case"POP":if(!e.location.key)return"deeplink";return"click";default:return null}}},422279:(e,t,n)=>{"use strict";function i({isImagePinForUnauthOnTablet:e}){return e?3:2}n.d(t,{Z:()=>i})},32762:(e,t,n)=>{"use strict";n.d(t,{Ph:()=>l,Re:()=>r,si:()=>a});var i=n(549201);let l=(e,t)=>e&&!t?e:null,a=()=>{let e=(0,i.ZP)();return"phone"!==e?180:130},r=()=>{let e=(0,i.ZP)();return"phone"!==e?180:80}},936840:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z,I:()=>D});var i,l=n(702664),a=n(167912),r=n(616550),o=n(563962),s=n(527386),d=n(525571),c=n(354428),u=n(624417),p=n(898252),m=n(769705),h=n(282802),g=n(98736),_=n(618569),y=n(739425),v=n(251951),f=n(870428),b=n(32762),x=n(970588);let k=async({pinId:e,link:t,mobileLink:n,origImageUrl:i,trackedLink:l,clientTrackingParams:a})=>{var r;let o=await (0,x.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:a,pin_id:null!=e?e:null,url:null!==(r=(0,p.Zt)({link:t,mobileLink:n,origImageUrl:i,trackedLink:l}))&&void 0!==r?r:""}});if(!o||!o.resource_response||o.resource_response.error)return"error";{let{redirect_status:e}=o.resource_response.data;return e}},P=e=>{k(e).then(e=>(0,g.My)(`mweb.unauth.clickthrough_quality.${e}`))};var S=n(348597),w=n(822158),T=n(836),A=n(495590),C=n(525104);let I=void 0!==i?i:i=n(567045),j=({commerceData:e,imageSignature:t,location:n,pinId:i,trackingParams:l,viewParameter:a})=>{let r=(0,S.Z)((n.state||{}).trackingParams,l);return{object_id_str:i,component:4,element:35,view_type:3,view_parameter:a,clientTrackingParams:r,aux_data:{commerce_data:e,image_signature:t}}},E=()=>navigator.onLine,L=({context:{completeExperience:e,dispatch:t,history:n,isAuthenticated:i,isBot:l,isSocialBot:a,location:r,logContextEvent:o,shouldUpsellHomePage:d,trackInteraction:m,userIsNew:h,viewExperience:_},data:{category:v,clickthroughInterstitialExperience:b,commerceData:x,domain:k,embedSrc:S,embedType:w,hasPin:A,hasPromoter:C,imageSignature:I,imagesUrls:L,link:R,linkDomainOfficialUserImageMediumUrl:F,linklessOptions:D,mobileLink:z,pinId:M,trackedLink:O,trackingParams:Z,viewParameter:N}})=>()=>{var K;if(!A)return;let B=j({commerceData:x,imageSignature:I,location:r,pinId:M,trackingParams:Z,viewParameter:N});(0,g.My)("mweb_pin_page.pin_image.clickthrough_occurred"),m({action:"click",item:"clickthrough"}),i||P({pinId:M,link:R,mobileLink:z,origImageUrl:null==L?void 0:L.orig,trackedLink:O,clientTrackingParams:B.clientTrackingParams});let U=(0,T.jC)(B);12===U&&o({event_type:8948,view_type:3,view_parameter:N,object_id_str:M,clientTrackingParams:B.clientTrackingParams,aux_data:{image_signature:I,closeup_navigation_type:(0,f.Z)(n),click_type:"clickthrough",cosmic_ray_count:"1"}});let H=null!==(K=(0,p.Zt)({link:R,mobileLink:z,origImageUrl:null==L?void 0:L.orig,trackedLink:O}))&&void 0!==K?K:"",V={pin:M,client_tracking_params:B.clientTrackingParams};if(D){if(!D.actionBarIsMinifiedToMainPinImage){let e=new XMLHttpRequest;e.open("GET",(0,c.Se)(H,{queryParams:V})),e.send()}D.onTap();return}let G=!C&&(h||d);if(G&&t((0,s.kd)(1000162)),G&&b){t(_(b.placement_id,b.experience_id)),t(e(b.placement_id,b.experience_id));let n=(0,c.Se)(H,{queryParams:V}),i=(0,u.Z)({imagesUrls:L,embedSrc:S,embedType:w,excludeOriginals:!l&&!a}),o=r.pathname+r.search;if(!E())return;window.open((0,y.ru)("/pin_redirect",{domain:null!=k?k:"",domainImageUrl:null!=F?F:"",origin:o,pinCategory:v,pinImageUrl:i,redirectUrl:n}),"_blank")}else{if(!E())return;(0,c.Gj)(H,{queryParams:V})}},R=()=>{let e=(0,r.useHistory)(),t=(0,r.useLocation)(),n=(0,l.useDispatch)(),i=(0,A.S)(),a=(0,l.useSelector)(({users:e,session:t})=>(0,d.Z)(e[t.userId].created_at)),{isAuthenticated:c,isBot:u,isSocialBot:p}=(0,h.B)(),m=(0,o.Z)(),g=(0,_.Z)(),y=(0,s.be)(),v=(0,s.Ig)();return{history:e,location:t,dispatch:n,shouldUpsellHomePage:i,userIsNew:a,isAuthenticated:c,isBot:u,isSocialBot:p,logContextEvent:m,trackInteraction:g,completeExperience:y,viewExperience:v}},F=e=>L({context:R(),data:e}),D=({clickthroughInterstitialExperience:e,linklessOptions:t,graphqlRef:n})=>{var i,l,r,o,s,d;let{viewParameter:c}=(0,v.R)(),u=(0,a.useFragment)(I,n),p=(0,m.Z)({type:"graphqlRef",data:u}),h=(0,w.Z)({type:"graphqlRef",data:u});return F({hasPromoter:!!(u.promoter&&!u.isDownstreamPromotion),viewParameter:c,clickthroughInterstitialExperience:e,linklessOptions:t,hasPin:!!u.entityId,pinId:null!==(i=u.entityId)&&void 0!==i?i:"",commerceData:h,imageSignature:u.imageSignature,mobileLink:u.mobileLink,trackingParams:u.trackingParams,link:u.link,trackedLink:u.trackedLink,imagesUrls:p,embedSrc:null===(l=u.embed)||void 0===l?void 0:l.src,embedType:null===(r=u.embed)||void 0===r?void 0:r.type,category:null!==(o=u.category)&&void 0!==o?o:"",domain:u.domain,linkDomainOfficialUserImageMediumUrl:null===(s=u.linkDomain)||void 0===s?void 0:null===(d=s.officialUser)||void 0===d?void 0:d.imageMediumUrl})},z=({clickthroughInterstitialExperience:e,linklessOptions:t,pinId:n})=>{var i,l,a,r,o;let s=(0,C.S6)()(n),d=(0,b.Ph)(null==s?void 0:s.promoter,null==s?void 0:s.is_downstream_promotion),{viewParameter:c}=(0,v.R)(),u=(0,w.Z)({type:"deprecated",data:n}),p=(0,m.Z)(null!=s?{type:"deprecated",data:s}:null);return F({hasPromoter:!!d,viewParameter:c,clickthroughInterstitialExperience:e,linklessOptions:t,hasPin:!!s,pinId:null!==(i=null==s?void 0:s.id)&&void 0!==i?i:"",commerceData:u,imageSignature:null==s?void 0:s.image_signature,mobileLink:null==s?void 0:s.mobile_link,trackingParams:null==s?void 0:s.tracking_params,link:null==s?void 0:s.link,trackedLink:null==s?void 0:s.tracked_link,imagesUrls:p,embedSrc:null==s?void 0:null===(l=s.embed)||void 0===l?void 0:l.src,embedType:null==s?void 0:null===(a=s.embed)||void 0===a?void 0:a.type,category:null==s?void 0:s.category,domain:null==s?void 0:s.domain,linkDomainOfficialUserImageMediumUrl:null==s?void 0:null===(r=s.link_domain)||void 0===r?void 0:null===(o=r.official_user)||void 0===o?void 0:o.image_medium_url})}},238941:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(525571),l=n(898252),a=n(802071),r=n(772356),o=n(712968);function s({link:e,mobileLink:t,trackedLink:n}){let{id:s}=(0,a.Z)(),d=(0,o.mN)()(null!=s?s:"");return!!(e||t||n)&&!((0,i.Z)(null==d?void 0:d.created_at)&&!(0,r.V0)(d))&&!(0,l.ZE)(e)}},952809:(e,t,n)=>{"use strict";n.d(t,{X:()=>P,Z:()=>S});var i,l=n(167912),a=n(883119),r=n(643183),o=n(868489),s=n(870243),d=n(536042),c=n(599226),u=n(98736),p=n(460914),m=n(40660),h=n(785893);function g({isStoryPin:e,inviteText:t,inviterFirstName:n,isThinnerStyle:i,username:l}){let r=t.split(n);return(0,h.jsx)(a.xu,{children:(0,h.jsx)(p.Z,{onTouch:()=>{m.Z.increment("mweb_social_unauth.closeup.social_text_click")},pressState:"none",children:(0,h.jsxs)(a.kC,{direction:"row",gap:{row:1,column:0},children:[(0,h.jsx)(a.xv,{inline:!0,size:"300",children:r[0]}),e?(0,h.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:(0,h.jsx)(a.rU,{href:"/"+l,target:"blank",onClick:()=>(0,u.My)("mweb_unauth_inviter_profile_click"),children:n})}):(0,h.jsx)(a.xv,{inline:!0,size:i?"200":"300",weight:i?"normal":"bold",children:(0,h.jsx)(a.rU,{href:"/"+l,target:"blank",onClick:()=>(0,u.My)("mweb_unauth_inviter_profile_click_not_story"),children:n})}),(0,h.jsx)(a.xv,{inline:!0,size:i?"200":"300",children:r[1]})]})})})}function _({inviter:e,socialContextBannerStyle:t,setShouldShowSocialUpsellBanner:n}){let{shouldShowSignupUpsellText:i,isDismissible:l}=t,r=(0,d.ZP)(),{username:o}=e,m=e.imageMediumUrl,_=e.firstName,y=(0,c.Z)();return(0,h.jsx)(a.kC,{justifyContent:l?"center":"start",alignItems:"center",children:(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.iP,{fullHeight:!0,onTap:()=>{(0,u.My)("dweb.unauth.social_banner.click"),y({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_desktop_unauth_social_context_banner",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,h.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",height:44,width:l?1012:void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},marginTop:2,marginBottom:6,marginStart:l?0:2,paddingX:l?4:2,paddingY:4,rounding:"pill",position:l?"static":"absolute",top:!0,zIndex:new a.Ry(1),children:[(0,h.jsx)(a.xu,{marginTop:8,marginBottom:8,marginEnd:1,width:32,children:(0,h.jsx)(p.Z,{onTouch:e=>{e.stopPropagation(),o&&window.open("/"+o),(0,u.My)("dweb.unauth.social_banner.avatar_click")},pressState:"none",children:null!=m&&m.includes("default")?(0,h.jsx)(a.JO,{accessibilityLabel:"pinterest logo",color:"default",icon:"pinterest",size:24}):(0,h.jsx)(s.qE,{size:"fit",src:null!=m?m:void 0,name:_})})}),(0,h.jsxs)(a.kC,{flex:"grow",direction:"row",children:[(0,h.jsx)(g,{isStoryPin:!1,inviteText:i?(r.bt(" {{ name }}     .", "{{ name }} shared this idea.", "pin.closeup.long_banner.desktop.shareNotification", undefined, true)).replace("{{ name }}",_):(r.bt(" {{ name }}      ", "{{ name }} shared this idea ", "pin.closeup.banner.desktop.shareNotification", undefined, true)).replace("{{ name }}",_),inviterFirstName:_,username:o,isThinnerStyle:i}),i&&(0,h.jsx)(a.xu,{marginStart:1,marginEnd:2,children:(0,h.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:r.bt(",  ", "Sign up to join them", "pin.header.social_context_dweb", undefined, true)})})]}),l&&(0,h.jsx)(a.hU,{icon:"cancel",accessibilityLabel:"cancel",size:"sm",onClick:({event:e})=>{e.stopPropagation(),(0,u.My)("unauth.dweb.social_banner.dismiss"),null==n||n(!1)}})]})})})})}var y=n(245410),v=n(549201),f=n(700453),b=n(799006);function x({inviter:{imageMediumUrl:e,username:t,firstName:n},isStoryPin:i}){let l=(0,d.ZP)(),{checkExperiment:r}=(0,y.F)(),o=(0,v.ml)(),_=()=>m.Z.increment("mweb_social_unauth.closeup.avatar_click"),x=(0,b.Z)(),k=(0,c.Z)(),P=(l.bt(" {{ name }}     .", "{{ name }} shared this idea", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",t),S="undefined"!=typeof window&&window.innerWidth<360,w=t.length>25,T=o&&!i&&r("mweb_social_context_header_upsell").anyEnabled,A=r("mweb_social_context_header_upsell").group;return x&&i?(0,h.jsxs)(a.kC,{gap:{row:2,column:0},alignItems:"center",justifyContent:"center",minHeight:w?100:80,children:[(0,h.jsx)(a.xu,{marginTop:4,marginBottom:4,width:40,children:(0,h.jsx)(p.Z,{onTouch:_,pressState:"none",children:(0,h.jsx)(s.qE,{size:"fit",src:null!=e?e:void 0,name:n})})}),(0,h.jsx)(a.kC.Item,{flex:"grow",children:(0,h.jsxs)(a.xu,{display:"flex",direction:w?"column":"row",alignItems:"center",justifyContent:w?"start":"between",padding:w?3:0,children:[(0,h.jsxs)(a.kC,{direction:"column",alignItems:"start",gap:{row:0,column:1},wrap:!S,children:[(0,h.jsx)(a.kC,{children:(0,h.jsxs)(a.xv,{align:w?"center":"start",children:[(0,h.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(a.rU,{display:"inlineBlock",href:`/${null!=t?t:""}/`,target:"blank",onClick:()=>(0,u.My)("mweb_unauth_inviter_profile_click"),underline:"hover",children:t})}),P.split(t)[1]]})}),!w&&(0,h.jsx)(a.xv,{size:"100",children:l.bt(" Pinterest,    ", "Open Pinterest to see more", "unauth.mweb.shared.banner.edu", undefined, true)})]}),(0,h.jsx)(a.xu,{display:"flex",justifyContent:"center",alignItems:"center",minWidth:w?0:100,marginTop:w?3:0,children:(0,h.jsx)(f.Z,{componentType:14161,app_upsell_type:"social-context-header",children:({handleOpenApp:e})=>(0,h.jsx)(a.zx,{onClick:()=>e(),size:"md",text:l.bt(" ", "Open app", "unauth.mweb.shared.banner.cta", undefined, true)})})})]})})]}):(0,h.jsx)(p.Z,{onTouch:()=>{T&&k({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_mobile_unauth_social_context_header"})},pressState:"none",children:(0,h.jsxs)(a.kC,{alignItems:"center",gap:4,justifyContent:"start",minHeight:80,children:[(0,h.jsx)(a.xu,{marginTop:4,marginStart:T?2:0,marginBottom:4,width:48,children:(0,h.jsx)(p.Z,{onTouch:_,pressState:"none",children:(0,h.jsx)(s.qE,{src:null!=e?e:void 0,name:n})})}),(0,h.jsxs)(a.kC,{alignItems:T?"start":"center",justifyContent:"start",direction:"column",children:[(0,h.jsx)(a.xu,{marginStart:T?-1:0,children:(0,h.jsx)(g,{isStoryPin:i,inviteText:T&&A.includes("join")?(l.bt(" {{ name }}     .", "{{ name }} shared this idea", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",n):T&&A.includes("converse")?(l.bt("{{ name }}  ", "{{ name }} sent an idea", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",n):T&&A.includes("explore")?(l.bt("{{ name }}   ", "{{ name }} sent this idea", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",n):(l.bt(" {{ name }}     ", "{{ name }} shared this idea with you", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",n),inviterFirstName:n,username:t,isThinnerStyle:T})}),T&&(0,h.jsx)(a.xu,{marginTop:1,children:(0,h.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:A.includes("join")?l.bt(",       Pinterest", "Tap to join them on Pinterest", "pin.closeup.header.shareNotification.text", undefined, true):A.includes("converse")?l.bt(",   ", "Tap to share feedback", "pin.closeup.header.shareNotification.text", undefined, true):A.includes("explore")&&l.bt(",     ", "Tap to see more like it", "pin.closeup.header.shareNotification.text", undefined, true)})})]})]})})}let k=void 0!==i?i:i=n(80259),P=({children:e,variables:t})=>e((0,l.useLazyLoadQuery)(k,t));function S({inviterFirstNameRef:e,isDesktop:t,isStoryPin:n,setShouldShowSocialUpsellBanner:i,socialContextBannerStyle:l}){return(0,h.jsx)(r.Z,{children:(0,h.jsx)(o.ty,{children:r=>r?(0,h.jsx)(P,{variables:{inviteCode:r},children:r=>{var o,s;let d=null===(o=r.v3GetInviteCodeQuery)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.sender,{firstName:c,imageMediumUrl:u,username:p}=null!=d?d:Object.freeze({});return c&&p?(e&&(e.current=c),t?(0,h.jsx)(_,{inviter:{firstName:c,imageMediumUrl:u,username:p},socialContextBannerStyle:null!=l?l:{isDismissible:!0,shouldShowSignupUpsellText:!0},setShouldShowSocialUpsellBanner:i}):(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)"}},marginStart:-2,paddingX:2,marginEnd:-2,children:(0,h.jsx)(x,{inviter:{firstName:c,imageMediumUrl:u,username:p},isStoryPin:!!n})})):null}}):null})})}},493876:(e,t,n)=>{"use strict";n.d(t,{E:()=>h,Z:()=>_});var i=n(702664),l=n(624417),a=n(282802),r=n(599226),o=n(860438),s=n(98736),d=n(549201),c=n(369050),u=n(199999),p=n(260070),m=n(619277);let h=({action:e,isAuthenticated:t})=>(0,s.My)(`mweb_${e}.closeup.is_auth_${String(t)}`),g=(e,t,n,i)=>{n&&e((0,p.Cp)()),t||i(!0),setTimeout(()=>{n||e((0,p.FK)()),t&&i(!1)},3e3)};function _({embedSrc:e,embedType:t,imagesUrls:n,pinId:s,isFromUnauthContextMenu:_,attributionLabel:y}){var v;let f=(0,u.a)(),{numUnauthSavedPins:b,setNumUnauthSavedPins:x}=(0,c.U)(),k=(0,i.useDispatch)(),P=(0,d.ZP)(),S=(0,r.Z)(),w=!!(s&&f&&f.unauthSavedPinsStore.isSaved(s)),{forceShowNavFooter:T,setForceShowNavFooter:A}=(0,c.U)(),C=null!==(v=(0,i.useSelector)(({session:e})=>e.shouldHideNavBar))&&void 0!==v&&v,{isBot:I,isSocialBot:j}=(0,a.B)();if(f&&s)return{isSaved:w,onSave:()=>{h({action:"save_click",isAuthenticated:!1});let i="save",a=!0;if("desktop"!==P){let{unauthSavedPinsStore:r}=f,d=!!r.pins.length;!_&&r.canSaveMore()?(r.save({id:s,imageUrl:(0,l.Z)({imagesUrls:n,embedSrc:e,embedType:t,excludeOriginals:!I&&!j})}),a=!1,x(b+1),g(k,T,C,A)):("desktop"!==P?k((0,p.QZ)(s)):o.Z.setItem(m.M8,s),i=d&&!_?"extended_save_out_of_quota":"save")}else o.Z.setItem(m.M8,s);a&&S({attributionLabel:"extended_save_out_of_quota"===i?"click_save_button_with_max_unauth_saves":y||"click_save_button_on_closeup",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",mobileOptions:{headingType:i},desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save"}}})},onUnsave:()=>{b>=1&&x(b-1);let{unauthSavedPinsStore:e}=f;e.unsave(s),h({action:"unsave_click",isAuthenticated:!1}),"desktop"===P&&o.Z.removeItem(m.M8)}}}},673118:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),l=n(616550),a=n(388011),r=n(788241),o=n(282802),s=n(98736),d=n(618569),c=n(657006),u=n(624658);function p(){var e;let{isAuthenticated:t}=(0,o.B)(),n=(0,l.useLocation)(),p=(0,l.useHistory)(),m=(0,d.Z)(),{logContextEvent:h}=(0,a.v)(),{viewType:g}=(0,r.SU)(),[_,y]=(0,i.useState)(!1),v=(0,l.useRouteMatch)(),f=null===(e=n.state)||void 0===e?void 0:e.trackingParams;return({linkType:e,viewParameter:n})=>{if((0,s.NC)("click_pin_closeup_image"),t||m({action:"click",item:"pin-image"}),(0,u.Z)(e),t){v.params.id&&p.push(`/pin/${v.params.id}#${c.v}`,{trackingParams:f});return}_?(h({event_type:14688,element:13319,component:14215,view_type:g,view_data:n,aux_data:{upsell_reason:"click_pin_closeup_image"}}),p.push("/signup"),(0,s.My)("main.pin.wash.click")):((0,s.My)("main.pin.wash.show"),y(!_))}}},992865:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,m:()=>r});var i=n(667294),l=n(785893);let a=(0,i.createContext)({isScrolledToPins:!1,scrollToPins:()=>{}});function r({children:e}){let[t,n]=(0,i.useState)(!1),r=(0,i.useMemo)(()=>({isScrolledToPins:t,scrollToPins:n}),[t,n]);return(0,l.jsx)(a.Provider,{value:r,children:e})}let o=()=>(0,i.useContext)(a)},60743:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T,w:()=>k});var i,l=n(667294),a=n(702664);n(167912);var r=n(616550),o=n(442279),s=n(883119),d=n(668166),c=n(803817),u=n(819079),p=n(549201),m=n(272109),h=n(802071),g=n(76008),_=n(738318),y=n(726304),v=n(952239),f=n(274796),b=n(712968),x=n(785893);let k=({aggregatedPinDataId:e,featuredCommentIds:t,featuredDidItIds:n,isDesktop:i,isReversed:l=!1,noCache:a=!1})=>({name:"UnifiedCommentsResource",options:{aggregated_pin_id:e,comment_featured_ids:t,did_it_featured_ids:n,page_size:i?10:25,redux_normalize_feed:!0,is_reversed:l},noCache:a}),P=(0,o.P1)((e,t,n)=>n,({feeds:e},t)=>e[`${f.Z.UNIFIED_COMMENTS}:${t||""}`],({didItData:e})=>e,(e,t,n,i)=>i,(e,t,n,i)=>(null==t?void 0:t.map(({id:t,type:l})=>{var a,r;let o="aggregatedcomment"===l.toLowerCase()?e[t]:n[t];if(!o)return;let s="string"==typeof o.user?null!==(a=i[o.user])&&void 0!==a?a:{}:null!==(r=o.user)&&void 0!==r?r:{};return{...o,tagged_users:(o.tagged_users||[]).map(e=>{var t;return null!==(t=i[e.id])&&void 0!==t?t:{}}),user:null!=s?s:{}}}).filter(e=>e))||[]),S=void 0!==i?i:i=n(371446),w=({aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:n,commentsDisabled:i,commentsResource:o,hasComments:c,isReadOnly:f,pinId:S,inCommentModuleExp:w,isVideo:T,pinnerId:A,scrollContainer:C,setIsComposingNewComment:I=()=>{},storyPinDataId:j,viewParameter:E,toggleComposerForReply:L,openMwebOverflowMenu:R})=>{let{comment_id:F}=(0,r.useParams)(),D=(0,a.useDispatch)(),z=(0,p.HG)(),M=(0,h.Z)(),O=(0,l.useRef)(c),Z=(0,u.Z)(O.current&&e&&!w?k({aggregatedPinDataId:e,featuredCommentIds:F?[F]:[],isDesktop:z}):null),N=w?o:Z,{removeUnauthCommentPinId:K,unauthCommentPinId:B}=(0,y.C)(),U=(0,g.lV)(),{toggleAggregatedCommentHelpful:H,toggleAggregatedCommentLike:V}=(0,g.nf)(),G=(0,b.kW)(),$=(0,a.useSelector)(t=>P(t,e,U,G)),[W,q]=(0,l.useState)(void 0),Y=()=>{I(!0)};return(0,m.Z)(()=>{!z&&M.isAuth&&B&&S&&B===S&&(Y(),K())}),(0,l.useEffect)(()=>{let e=()=>{let t=!!C&&C.scrollTop+C.clientHeight+10>=C.scrollHeight;N&&!N.isFetching&&(N.isAtEnd?null==C||C.removeEventListener("scroll",e):t&&N.fetchMore())};return null==C||C.addEventListener("scroll",e),()=>{null==C||C.removeEventListener("scroll",e)}},[N,C]),(0,x.jsx)(l.Fragment,{children:(0,x.jsx)(s.xu,{display:"flex",marginTop:z?6:0,width:"100%",children:(0,x.jsx)(d.Z,{comments:$,commentsDisabled:i,isDesktop:z,isReadOnly:f,isLoaded:N&&N.isLoaded||!c,openOverflowMenu:R,toggleReplyComposer:L,parentId:null!=e?e:"",parentType:_.o.pin,toggleHelpful:(e,t,n)=>()=>{n?D((0,v.YH)({didItDataId:e,isMarkedHelpfulByMe:t})):H({aggregatedCommentId:e,isMarkedHelpfulByMe:t})},toggleLike:(e,t,n)=>()=>{n?D((0,v.wH)({didItDataId:e,isLikedByMe:t})):V({aggregatedCommentId:e,isLikedByMe:t})},userAvatarSize:"sm",aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:n,pinId:S,isVideo:T,storyPinDataId:j,pinnerId:A,showReactionListForComment:q,reactionListCommentId:W,viewParameter:E})})})};function T({pinKey:e,...t}){var n,i,l,a,r,o,s,d,u;let{data:p}=(0,c.sr)(S,e,{type:"pin",useLegacyAdapter:e=>{var t,n,i;return{aggregatedPinData:e.aggregated_pin_data&&{commentCount:e.aggregated_pin_data.comment_count,didItData:e.aggregated_pin_data.did_it_data&&{imagesCount:e.aggregated_pin_data.did_it_data.images_count},entityId:null!==(t=e.aggregated_pin_data.id)&&void 0!==t?t:""},closeupAttribution:e.closeup_attribution&&{entityId:null!==(n=e.closeup_attribution.id)&&void 0!==n?n:"",username:e.closeup_attribution.username},commentsDisabled:e.comments_disabled,doneByMe:e.done_by_me,entityId:e.id,pinner:e.pinner&&{entityId:e.pinner.id},storyPinData:e.story_pin_data&&{entityId:null!==(i=e.story_pin_data.id)&&void 0!==i?i:""},videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}}}}),m=((null==p?void 0:null===(n=p.aggregatedPinData)||void 0===n?void 0:n.commentCount)||0)+((null==p?void 0:null===(i=p.aggregatedPinData)||void 0===i?void 0:null===(l=i.didItData)||void 0===l?void 0:l.imagesCount)||0);return(0,x.jsx)(w,{aggregatedPinDataId:null==p?void 0:null===(a=p.aggregatedPinData)||void 0===a?void 0:a.entityId,closeupAttributionId:null==p?void 0:null===(r=p.closeupAttribution)||void 0===r?void 0:r.entityId,closeupAttributionUsername:null==p?void 0:null===(o=p.closeupAttribution)||void 0===o?void 0:o.username,commentsDisabled:null==p?void 0:p.commentsDisabled,disablePhotoCommentSelection:!!(null!=p&&p.doneByMe),hasComments:m>0&&!(null!=p&&p.commentsDisabled),isVideo:!!(null!=p&&null!==(s=p.videos)&&void 0!==s&&s.videoList),pinId:null==p?void 0:p.entityId,pinnerId:null==p?void 0:null===(d=p.pinner)||void 0===d?void 0:d.entityId,storyPinDataId:null==p?void 0:null===(u=p.storyPinData)||void 0===u?void 0:u.entityId,...t})}},621363:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ee});var i,l,a=n(667294),r=n(702664);n(167912);var o=n(442279),s=n(883119),d=n(914939),c=n(618762),u=n(123228),p=n(394366),m=n(388011),h=n(88622),g=n(803817),_=n(81660),y=n(536042),v=n(630089),f=n(315219),b=n(245410),x=n(549201),k=n(272109),P=n(802071),S=n(76008),w=n(738318),T=n(676794),A=n(60743),C=n(219236),I=n(411132),j=n(785893);let E=({action:e,text:t})=>(0,j.jsx)(s.iP,{onTap:e,children:(0,j.jsx)(s.xv,{weight:"bold",children:t})});var L=n(150875),R=n(550140),F=n(63262);let D={SPAM:"spam",PORN:"nudity",SELF_INJURY:"self-harm",HATE_SPEECH:"hate-speech",HARASSMENT:"attacks",VIOLENCE:"graphic-violence",MEDICAL_MISINFORMATION:"medical-misinformation"},z=e=>[{key:D.SPAM,title:e.bt("", "Spam", "report.comment.option.spam.title", undefined, true),subtitle:e.bt("     ", "Misleading or repetitive posts", "report.comment.option.spam.subtitle", undefined, true)},{key:D.PORN,title:e.bt("  ", "Sexual commentary", "report.comment.option.sexualCommentary.title", undefined, true),subtitle:e.bt("  ", "Sexually explicit content", "report.comment.option.sexualCommentary.subtitle", undefined, true)},{key:D.SELF_INJURY,title:e.bt("", "Self-harm", "report.comment.option.selfHarm.title", undefined, true),subtitle:e.bt(" ,   , , ", "Eating disorders, cutting, suicide, drugs", "report.comment.option.selfHarm.subtitle", undefined, true)},{key:D.MEDICAL_MISINFORMATION,title:e.bt("  ", "Medical misinformation", "report.comment.option.medicalMisinformation.title", undefined, true),subtitle:e.bt("          ", "Harmful or misleading content about health and safety", "report.comment.option.medicalMisinformation.subtitle", undefined, true)},{key:D.HATE_SPEECH,title:e.bt(" ", "Hate speech", "report.comment.option.hateSpeech.title", undefined, true),subtitle:e.bt("        ", "Prejudice or attacks directed at protected groups", "report.comment.option.hateSpeech.subtitle", undefined, true)},{key:D.HARASSMENT,title:e.bt("   ", "Harassment or privacy violations", "report.comment.option.harassment.title", undefined, true),subtitle:e.bt(",    ", "Blackmail, personal attacks or bullying", "report.comment.option.harassment.subtitle", undefined, true)},{key:D.VIOLENCE,title:e.bt(" ", "Graphic violence", "report.comment.option.violence.title", undefined, true),subtitle:e.bt("    ", "Threats or promotion of violence", "report.comment.option.violence.subtitle", undefined, true)}],M=({onReasonSelect:e})=>{let t=(0,y.ZP)();return z(t).map(({key:n,title:i,subtitle:l})=>(0,j.jsx)(s.iP,{onTap:e(n),children:(0,j.jsxs)(s.xu,{paddingY:3,display:"flex",justifyContent:"between",children:[(0,j.jsxs)(s.xu,{children:[(0,j.jsx)(s.X6,{size:"400",children:i}),(0,j.jsx)(s.xv,{size:"300",color:"subtle",children:l})]}),(0,j.jsx)(s.JO,{icon:"arrow-forward",accessibilityLabel:t.bt(" ", "Arrow Forward", "reportPinReasonSelection.openUrl.accessibilityLabel", undefined, true),color:"default"})]})},n))},O=e=>({[D.SPAM]:{title:e.bt("  ?", "Report spam?", "Confirm report comment reason title", undefined, true),removals:[e.bt(",    ", "Misleading content or behavior", "Example of spam", undefined, true),e.bt(" ", "Repetitive posts", "Example of spam", undefined, true),e.bt(" ", "Unsolicited commercial messages", "Example of spam", undefined, true)]},[D.PORN]:{title:e.bt("    ?", "Report a sexual comment?", "Confirm report comment reason title", undefined, true),removals:[e.bt("  ", "Graphic sexual descriptions", "Example of sexual comment", undefined, true),e.bt("   ", "Unsolicited sexual remarks", "Example of sexual comment", undefined, true),e.bt("    ", "Links to sexual content", "Example of sexual comment", undefined, true)]},[D.SELF_INJURY]:{title:e.bt("   ?", "Report this comment?", "Confirm report comment reason title", undefined, true),removals:[e.bt(" , ,      ", "Encouragement of self-injury, suicide, eating disorders and substance abuse", "Example of self-injury", undefined, true),e.bt("   ", "Buying or selling drugs", "Example of self-injury", undefined, true),e.bt("    ", "Jokes about self-harm", "Example of self-injury", undefined, true)],notes:e.bt("      .", "We may send support resources to the person who left this comment.", "Note on further actions Pinterest may take in the case of self-harm content.", undefined, true)},[D.MEDICAL_MISINFORMATION]:{title:e.bt("    ?", "Report medical misinformation?", "Confirm report comment reason title", undefined, true),removals:[e.bt("      / ", "False cures for cancer or other chronic or terminal illnesses", "Example of medical misinformation", undefined, true),e.bt(" ", "Anti-vaccination advice", "Example of medical misinformation", undefined, true)],nonRemovals:[e.bt(" ,       ,   ", "Diet advice, including cleanses and supplements that can boost the immune system", "Example of a comment we will not remove", undefined, true),e.bt(" ,       ", "Teas, oils and herbs proposed for aromatic and sleep quality", "Example of a comment we will not remove", undefined, true)]},[D.HATE_SPEECH]:{title:e.bt("   ?", "Report hateful speech?", "Confirm report comment reason title", undefined, true),removals:[e.bt("      ", "Attacks or slurs directed at protected groups", "Example of hate speech", undefined, true),e.bt("   ,   ", "Support for hate groups and their messages", "Example of hate speech", undefined, true),e.bt(" -    ", "Denial of someones gender or sexual identity", "Example of hate speech", undefined, true)]},[D.HARASSMENT]:{title:e.bt("    ?", "Report harassment?", "Confirm report comment reason title", undefined, true),removals:[e.bt("", "Bullying", "Example of harassment", undefined, true),e.bt(" ,   ", "Profanity directed at individuals", "Example of harassment", undefined, true),e.bt("  (    )", "Personally identifiable information (even if shared voluntarily)", "Example of harassment", undefined, true)]},[D.VIOLENCE]:{title:e.bt("   ?", "Report graphic violence?", "Confirm report comment reason title", undefined, true),removals:[e.bt("  ", "Glorification or promotion of violence", "Example of violence", undefined, true),e.bt(" ", "Threats of harm", "Example of violence", undefined, true)]}}),Z=e=>{let t="policies";switch(e){case D.SPAM:return[D.SPAM,"spamPin"];case D.PORN:return[t,D.PORN];case D.SELF_INJURY:return[t,"hurtfulContent","selfHarm"];case D.HATE_SPEECH:return[t,"hurtfulContent","hateSpeech"];case D.HARASSMENT:return[t,"hurtfulContent","harassingMeOrMyChild"];case D.VIOLENCE:return[t,"gore"];default:return[]}},N=({commentId:e,onDismiss:t,reason:n})=>{let i=(0,y.ZP)(),{flagAggregatedComment:l,aggregatedCommentHidden:r}=(0,S.nf)(),{showToast:o}=(0,F.F9)(),[d,c]=(0,a.useState)(!1),{title:u,nonRemovals:p,removals:m}=O(i)[n];return(0,j.jsxs)(a.Fragment,{children:[(0,j.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,j.jsx)(s.xu,{paddingY:4,children:(0,j.jsx)(s.X6,{align:"center",children:u})}),(0,j.jsxs)(s.xu,{paddingY:4,children:[(0,j.jsx)(s.xv,{children:i.bt("   :", "We remove things such as", "comment.report.removeIntro", undefined, true)}),(0,j.jsx)(s.xu,{paddingY:2,children:m.map(e=>(0,j.jsxs)(s.xv,{children:[" ",e]},e))})]}),p&&(0,j.jsxs)(s.xu,{paddingY:4,children:[(0,j.jsx)(s.xv,{children:"We don't remove things like"}),(0,j.jsx)(s.xu,{paddingY:2,children:p.map(e=>(0,j.jsxs)(s.xv,{children:[" ",e]},e))})]}),(0,j.jsx)(s.xu,{alignSelf:"center",marginTop:3,children:(0,j.jsx)(s.zx,{color:"red",onClick:()=>{r(e),l({commentId:e,reason:n,detailedReasons:Z(n)}).then(()=>{o(({hideToast:e})=>(0,j.jsx)(R.ZP,{text:i.bt("!       Pinterest  .", "Thanks! Your feedback helps us improve Pinterest.", "reportPinReasonDetail.submit.toast", undefined, true),onHide:e})),setTimeout(()=>{t()},3500)})},size:"lg",text:i.bt("", "Report", "reportCommentConfirmation.button.report", undefined, true)})})]}),d&&(0,j.jsx)(R.ZP,{onHide:()=>{c(!1)},text:i.bt("!      Pinterest ", "Thanks! Your feedback helps us improve Pinterest", "comment.report.confirmationToast", undefined, true),duration:3500})]})},K=({commentId:e,isModalOpen:t,onDismiss:n})=>{let i=(0,y.ZP)(),[l,r]=(0,a.useState)(void 0);if((0,a.useEffect)(()=>{t&&r(void 0)},[t]),!e)return null;let{windowHeight:o}=(0,L.Z)();return(0,j.jsx)(h.ZP,{mobileAccessibilityCloseIconLabel:i.bt("", "Close", "commentThreadModal.close", undefined, true),accessibilityModalLabel:"",heading:i.bt("  ", "Report Comment", "reportComment.heading", undefined, true),isOpen:t,mobileIsSlideUp:!0,onDismiss:n,children:(0,j.jsx)(s.xu,{height:o-90,paddingX:5,paddingY:3,children:l?(0,j.jsx)(N,{commentId:e,onDismiss:n,reason:l}):(0,j.jsx)(M,{onReasonSelect:e=>()=>{r(e)}})})})};var B=n(446191);let U=({author:e,commentId:t,isMenuOpen:n,isViewingOwnComment:i,onDelete:l,onDismiss:o,openEditComposer:d})=>{let c=(0,y.ZP)(),{isAuth:u}=(0,P.Z)(),p=(0,r.useDispatch)(),{logContextEvent:g}=(0,m.v)(),{aggregatedCommentsHiddenForUser:_}=(0,S.nf)(),[v,f]=(0,a.useState)(!1),b=e=>()=>{g({component:14349,event_type:e})};return(0,j.jsxs)(a.Fragment,{children:[(0,j.jsx)(h.ZP,{mobileAccessibilityCloseIconLabel:c.bt("", "Close", "commentOverflowMenu.close", undefined, true),accessibilityModalLabel:"",isOpen:n,mobileIsSlideUp:!0,onDismiss:()=>o(!1),children:(0,j.jsx)(s.xu,{padding:3,"data-test-id":"comment-overflow-menu",children:(0,j.jsx)(s.kC,{direction:"column",gap:{row:0,column:4},children:u?(0,j.jsx)(a.Fragment,{children:i?(0,j.jsxs)(s.kC,{direction:"column",gap:4,children:[(0,j.jsx)(s.xu,{"data-test-id":"overflow-edit-menu-option",children:(0,j.jsx)(E,{action:d,text:c.bt("", "Edit", "commentOverflowMenu.option.edit", undefined, true)})}),(0,j.jsx)(s.xu,{"data-test-id":"overflow-delete-menu-option",children:(0,j.jsx)(E,{action:l(t),text:c.bt("", "Delete", "commentOverflowMenu.option.delete", undefined, true)})})]}):(0,j.jsxs)(s.kC,{direction:"column",gap:4,children:[(0,j.jsx)(s.xu,{"data-test-id":"overflow-report-menu-option",children:(0,j.jsx)(E,{action:()=>{f(!0)},text:c.bt("", "Report", "commentOverflowMenu.option.report", undefined, true)})}),(0,j.jsx)(I.Z,{cancelBlockCallback:b(9408),onBlock:()=>{let{id:t}=e;p((0,B.Ge)({id:t,blockSource:"comment",blockContext:t,logContextEvent:g})),_(t),b(9407)()},onBlockCallback:()=>o(!0),openModalCallback:b(9406),size:"300",user:e})]})}):(0,j.jsx)(s.rU,{href:"https://policy.pinterest.com/de/netzdg/",target:"blank",underline:"none",children:(0,j.jsx)(s.xv,{weight:"bold",children:c.bt("     NetzDG", "Report comment for NetzDG", "commentOverflowMenu.option.reportForNetzDG", undefined, true)})})})})}),(0,j.jsx)(K,{commentId:t,isModalOpen:v,onDismiss:()=>{f(!1),o(!0)}})]})};var H=n(726304),V=n(638136),G=n(690108),$=n(491452),W=n(952239),q=n(274796);let Y={height:150,signature:"",url:"",width:150},X=(0,o.P1)((e,t,n)=>n,({feeds:e},t)=>e[`${q.Z.UNIFIED_COMMENTS}:${t}`],({didItData:e})=>e,(e,t,n)=>(null==t?void 0:t.map(({id:t,type:i})=>{let l="aggregatedcomment"===i.toLowerCase()?e[t]:n[t];return l}).filter(e=>e))||[]),J=void 0!==i?i:i=n(553703),Q=void 0!==l?l:l=n(871354);function ee({commentsResource:e,inCommentModuleExp:t,isEligibleForPinReactions:n,isInCommentModule:i,isModalOpen:l,isReactionsExpansionEnabled:o,onDismiss:I,pinId:E,pinKey:L,viewParameter:R}){var F,D,z,M,O,Z,N,K,B,ee;let et;let{data:en,childDataKey__DEPRECATED:ei}=(0,g.sr)(J,L,{type:"pin",useLegacyAdapter:e=>{var t,n;return{aggregatedPinData:e.aggregated_pin_data&&{commentCount:e.aggregated_pin_data.comment_count,didItData:e.aggregated_pin_data.did_it_data&&{imagesCount:e.aggregated_pin_data.did_it_data.images_count},entityId:null!==(t=e.aggregated_pin_data.id)&&void 0!==t?t:""},commentsDisabled:e.comments_disabled,doneByMe:e.done_by_me,storyPinData:e.story_pin_data&&{entityId:null!==(n=e.story_pin_data.id)&&void 0!==n?n:""},videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}}}}),{refetch:el}=(0,_.Z)(Q,{pinId:E},{suspendOnRefetch:!1}),ea=(0,y.ZP)(),{isAuth:er}=(0,P.Z)(),eo=(0,x.HG)(),es=(0,P.Z)(),ed=(0,S.lV)(),ec=(0,r.useDispatch)(),{checkExperiment:eu}=(0,b.F)(),{logContextEvent:ep}=(0,m.v)(),em=(0,a.useRef)(null),[eh,eg]=(0,a.useState)(!!i),{removeUnauthCommentPinId:e_,unauthCommentPinId:ey}=(0,H.C)(),{updateAggregatedComment:ev}=(0,S.nf)(),ef=(0,V.Z)(),eb=(0,d.Z)(),ex=function(){let{aggregatedCommentDeleted:e,updateCommentCount:t}=(0,S.nf)();return async({commentId:n,parentId:i,isReply:l})=>{G.Z.create("AggregatedCommentResource",{commentId:n,pinId:l?void 0:i}).callDelete().then(()=>{e(i,n),l&&t(i,-1)})}}(),[ek,eP]=(0,a.useState)(""),[eS,ew]=(0,a.useState)(void 0),[eT,eA]=(0,a.useState)(void 0),[eC,eI]=(0,a.useState)(u.A9.NONE),[ej,eE]=(0,a.useState)(!1),[eL,eR]=(0,a.useState)(void 0),[eF,eD]=(0,a.useState)(void 0),[ez,eM]=(0,a.useState)(Y),[eO,eZ]=(0,a.useState)(!!(null!=en&&en.doneByMe)),eN=es.isAuth?es.id:null,eK=null==en?void 0:null===(F=en.aggregatedPinData)||void 0===F?void 0:F.entityId,eB=(0,r.useSelector)(e=>X(e,eK,ed)),eU=ea.bt(" ", "Add comment", "commentComposer.heading.addComment", undefined, true),eH=()=>{eP(eU),eg(!0)};if((0,k.Z)(()=>{!eo&&es.isAuth&&ey&&E&&ey===E&&(eH(),e_())}),!en)return null;let eV="",eG=[];eS&&(eu("mweb_photo_comment_replies").anyEnabled?"aggregatedcomment"===eS.parentType||"userdiditdata"===eS.parentType:"aggregatedcomment"===eS.parentType)?(eV=`@${eS.user.username} `,eG=[{length:eS.user.username.length+1,object_id:eS.user.id,offset:0,tag_type:$.XU}]):eT&&(eV=null!==(ee=eT.text||eT.details)&&void 0!==ee?ee:"",eG=eT.tags,et=eT.images?eT.images[0]["150x150"]:void 0);let e$=()=>{eg&&eg(!1),i&&I(),ew(void 0),eA(void 0),eP(""),eM(Y)},eW=e=>{eE(!1),e||ep({component:14349,event_type:10128})},eq=()=>{e$(),eW(!0)},eY=async(e,t,n)=>{var i,l,a;let r;if(eT)"userdiditdata"===eT.type&&eu("mweb_photo_commenting").anyEnabled?(ec((0,W.IU)({id:eT.id,details:e,pinId:null!=E?E:"",image_signatures:null!==(i=eT.image_signatures)&&void 0!==i?i:[]})),eq()):r=ev({commentId:eT.id,force:n,text:e,tags:"[]"});else if(E){let i=(null==eS?void 0:eS.parentType)==="aggregatedcomment",o=(null==eS?void 0:null===(l=eS.parentType)||void 0===l?void 0:l.toLowerCase())===w.n.didIt,s=i||o?null==eS?void 0:eS.parentId:(null==eS?void 0:eS.id)||(null===(a=en.aggregatedPinData)||void 0===a?void 0:a.entityId),d=(null==eS?void 0:eS.type)==="userdiditdata",c=d||o?w.o.didIt:w.o.aggregatedComment;if(s){if(ez.signature){let t={aggregatedPinDataId:s,details:e,image_signatures:ez.signature,pin_id:null!=E?E:"",username:es.username||"",fromUnifiedComment:!0};await ec((0,W.DD)(t)),eZ(!0),el(),eq()}else r=eu("mweb_photo_comment_replies").anyEnabled?eb({force:n,fromUnifiedComment:!0,objectId:s,pinId:E,objectType:eS?c:w.o.pin,text:e,tags:JSON.stringify(t),replyToCommentId:i||o?null==eS?void 0:eS.id:void 0}):ef({force:n,parentId:s,pinId:E,text:e,tags:JSON.stringify(t),isReply:!!eS,replyToCommentId:i?null==eS?void 0:eS.id:null})}}if(!r)return!0;try{await r,el(),eq()}catch(e){return[f.ky,f.LJ].includes(e.api_error_code)&&eI(e.api_error_code===f.ky?u.A9.WARNING:u.A9.BLOCK),!1}return!0},eX=()=>{eI(u.A9.NONE)},eJ=({photoHeight:e,photoUrl:t,photoWidth:n,photoSignature:i})=>{eM({height:e,url:t,signature:i,width:n})},eQ=(null!==(D=null===(z=en.aggregatedPinData)||void 0===z?void 0:z.commentCount)&&void 0!==D?D:0)+(null!==(M=null===(O=en.aggregatedPinData)||void 0===O?void 0:null===(Z=O.didItData)||void 0===Z?void 0:Z.imagesCount)&&void 0!==M?M:0),e0=!!(null!==(N=en.storyPinData)&&void 0!==N&&N.entityId);return(0,j.jsxs)(s.xu,{children:[(0,j.jsx)(h.ZP,{mobileAccessibilityCloseIconLabel:ea.bt("", "Close", "commentThreadModal.close", undefined, true),accessibilityModalLabel:"",heading:!o&&ea.bt("", "Comments", "commentThreadModal.heading", undefined, true),isOpen:l,mobileHideCloseIcon:o,mobileIsSlideUp:!0,onDismiss:I,children:(0,j.jsx)(T.Z,{viewParameter:R,viewType:98,children:(0,j.jsxs)(s.kC,{alignContent:"stretch",alignItems:"stretch",justifyContent:"start",direction:"column",height:"75vh",dataTestId:"comment-modal-container",children:[o&&(0,j.jsx)(c.Z,{aggregatedPinDataId:null===(K=en.aggregatedPinData)||void 0===K?void 0:K.entityId,commentCount:eQ,commentsDisabled:en.commentsDisabled,inCommentModuleExp:t,isEligibleForPinReactions:n,nativePinType:e0&&"storyPin"||(null===(B=en.videos)||void 0===B?void 0:B.videoList)&&"video"||"image",onCancel:I,pinUid:E,shouldUseGraphQL:"graphqlRef"===ei.type}),(0,j.jsx)(s.xu,{display:"flex",flex:"grow",paddingX:4,paddingY:6,minHeight:128,overflow:"scrollY",ref:em,children:(0,j.jsx)(A.Z,{commentsResource:e,scrollContainer:em.current,disablePhotoCommentSelection:eO,inCommentModuleExp:t,isComposingNewComment:eh,isReadOnly:!er,pinId:E,pinKey:ei,setIsComposingNewComment:eg,viewParameter:R,toggleComposerForReply:(e,t,n)=>{if(e){let{user:{first_name:i,full_name:l,username:a}}=e;eP((0,v.nk)(ea.bt("  {{ name }}", "Reply to {{ name }}", "commentComposer.heading.replyTo", undefined, true),{name:i||l||a}).join("")),e.parentId=t,e.parentType=n}ew(e)},openMwebOverflowMenu:e=>{eE(!0),eR(e.id),eD(e.user)}})}),!en.commentsDisabled&&er&&(0,j.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid var(--color-gray-roboflow-200)"}},paddingX:4,paddingY:4,children:eu("mweb_photo_commenting").anyEnabled?!eh&&(0,j.jsx)(p.Z,{commentWarningModalState:u.A9.NONE,disablePhotoCommentSelection:eO,dismissCommentWarningModal:()=>{},handlePhotoSelect:eJ,objectType:w.o.pin,onEnter:eH,statusType:"textStaticDisplay",viewParameter:R}):(0,j.jsx)(p.Z,{commentWarningModalState:u.A9.NONE,disablePhotoCommentSelection:eO,dismissCommentWarningModal:()=>{},handlePhotoSelect:eJ,objectType:w.o.pin,onEnter:eH,statusType:"textStaticDisplay",viewParameter:R})}),!eo&&(0,j.jsx)(C.Z,{commentWarningModalState:eC,defaultText:eV,disablePhotoCommentSelection:eO,dismissCommentWarningModal:eX,handlePhotoSelect:eJ,heading:ek,initialMentions:eG,isCommentReply:!!eS,isCommentEdit:!!eT,isModalOpen:!!eh||!!eS||!!eT,onDismiss:e$,onPost:eY,uploadedPhotoProperties:ez,postedPhoto:et}),eL&&!!eF&&(0,j.jsx)(U,{author:eF,commentId:eL,isMenuOpen:ej,isViewingOwnComment:eF.id===eN,onDelete:e=>()=>{var t;let n=(null==eS?void 0:eS.id)||(null===(t=en.aggregatedPinData)||void 0===t?void 0:t.entityId),i=eB.find(e=>e.id===eL),l=null!=i?i:ed[null!=eL?eL:""];try{n&&("aggregatedcomment"===l.type?ex({commentId:e,parentId:n,isReply:!!eS}).then(()=>{eW(!0)}):ec((0,W.lg)({aggregatedPinDataId:null!=eK?eK:"",feedType:q.Z.UNIFIED_COMMENTS,id:e,isOwnedByMe:!0,pinId:null!=E?E:"",username:l.user.username,updateParentDidItCount:!0})),eZ(!1),el(),eW(!0))}catch(e){}},onDismiss:eW,openEditComposer:()=>{let e=eB.find(e=>e.id===eL),t=null!=e?e:ed[null!=eL?eL:""];t&&(!t.images||eu("mweb_photo_commenting").anyEnabled)&&(eP(ea.bt(" ", "Edit comment", "commentComposer.heading.editComment", undefined, true)),eA(t))}})]})})}),!eo&&i&&(0,j.jsx)(C.Z,{commentWarningModalState:eC,defaultText:eV,disablePhotoCommentSelection:eO,dismissCommentWarningModal:eX,handlePhotoSelect:eJ,heading:eU,initialMentions:eG,isCommentReply:!!eS,isCommentEdit:!!eT,isModalOpen:!!eh||!!eS||!!eT,onDismiss:e$,onPost:eY,uploadedPhotoProperties:ez,postedPhoto:et})]})}},787198:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var i,l=n(667294);n(167912);var a=n(616550),r=n(883119),o=n(563962),s=n(377234),d=n(803817),c=n(536042),u=n(245410),p=n(98736),m=n(802071),h=n(251951),g=n(621363),_=n(196039),y=n(785893);function v({color:e}){return(0,y.jsx)(r.xu,{alignItems:"center",minHeight:_.CR,minWidth:_.CR,"data-test-id":"comment-button-container",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:'url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyMiAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS4wMDAyIDJDNS45Mzc2NiAyIDEuODMzNSA2LjEwNDE3IDEuODMzNSAxMS4xNjY3QzEuODMzNSAxMy4zNjMzIDIuNjA4NSAxNS4zNzgzIDMuODk2ODMgMTYuOTU3NUwyLjY4MDE2IDIxLjQ4MDhDMi41OTEgMjEuODM3NSAyLjk3MTgzIDIyLjEyNTggMy4yOTEgMjEuOTQ0Mkw3LjUyNTE2IDE5LjY0NzVDOC41OTc2NiAyMC4wODY3IDkuNzY5MzMgMjAuMzMzMyAxMS4wMDAyIDIwLjMzMzNDMTYuMDYyNyAyMC4zMzMzIDIwLjE2NjggMTYuMjI5MiAyMC4xNjY4IDExLjE2NjdDMjAuMTY2OCA2LjEwNDE3IDE2LjA2MjcgMiAxMS4wMDAyIDJaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjMiLz4KPC9zdmc+Cg==")',WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",background:e}},display:"flex",justifyContent:"center",position:"relative"})}var f=n(726304);let b=void 0!==i?i:i=n(249117);function x({commentsResource:e,inCommentModuleExp:t,isEligibleForPinReactions:n,pinId:i,pinKey:x,viewParameter:k}){var P;let{data:S,childDataKey__DEPRECATED:w}=(0,d.sr)(b,x,{type:"pin",useLegacyAdapter:e=>({videos:e.videos&&{entityId:e.videos.id||""}})}),T=(0,s.vs)(),A=(0,c.ZP)(),{checkExperiment:C}=(0,u.F)(),I=(0,o.Z)(),{comment_id:j}=(0,a.useParams)(),{unauthCommentPinId:E}=(0,f.C)(),{isStoryPin:L,shouldRenderAsStoryPin:R}=(0,h.R)(),{isAuth:F}=(0,m.Z)(),[D,z]=(0,l.useState)(!!j||F&&!!E&&!!i&&E===i);if(!S)return null;let{anyEnabled:M}=C(`${F?"auth":"unauth"}_mweb_reactions_expansion_mvp_${null!==(P=S.videos)&&void 0!==P&&P.entityId||L?"idea_video":"web"}_pin`),O=R||T;return(0,y.jsx)(l.Fragment,{children:(0,y.jsxs)(r.xu,{"data-test-id":"comment-button",children:[(0,y.jsx)(r.iP,{accessibilityLabel:A.bt("", "comments", "closeup.storyPin.actionBar.commentThread", undefined, true),onTap:()=>{F||(0,p.My)("pcons.comment_button_clicked"),I({event_type:102,element:2,view_type:3}),z(!0)},children:M?(0,y.jsx)(r.xu,{alignItems:"center",minHeight:_.CR,minWidth:_.CR,"data-test-id":"comment-button-container",display:"flex",justifyContent:"center",position:"relative",children:(0,y.jsxs)(l.Fragment,{children:[(0,y.jsx)(r.xu,{position:"absolute",children:(0,y.jsx)(r.JO,{accessibilityLabel:"",color:O?"light":"dark",icon:"speech",size:24})}),(0,y.jsx)(r.xu,{position:"absolute",children:(0,y.jsx)(r.JO,{accessibilityLabel:"",color:O?"dark":"light",icon:"heart",size:10})})]})}):(0,y.jsx)(v,{color:O?"white":"black"})}),D&&(0,y.jsx)(g.Z,{commentsResource:e,inCommentModuleExp:t,isEligibleForPinReactions:n,isModalOpen:!0,isReactionsExpansionEnabled:M,onDismiss:()=>{z(!1)},pinId:i,pinKey:w,viewParameter:k})]})})}},726304:(e,t,n)=>{"use strict";n.d(t,{C:()=>o,p:()=>s});var i=n(667294),l=n(583592),a=n(785893);let{Provider:r,useHook:o}=(0,l.Z)("Session");function s({children:e}){let[t,n]=(0,i.useState)(void 0),l=(0,i.useCallback)(()=>n(void 0),[]),o=(0,i.useMemo)(()=>({unauthCommentPinId:t,setUnauthCommentPinId:n,removeUnauthCommentPinId:l}),[t,l]);return(0,a.jsx)(r,{value:o,children:e})}},219236:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(667294),l=n(883119),a=n(388011),r=n(88622),o=n(536042),s=n(643183),d=n(785893);let c=(0,i.lazy)(()=>Promise.all([n.e(72586),n.e(46888),n.e(96069),n.e(17932)]).then(n.bind(n,417932))),u=({commentWarningModalState:e,defaultText:t,disablePhotoCommentSelection:n,dismissCommentWarningModal:u,handlePhotoSelect:p,heading:m,initialMentions:h,isCommentEdit:g,isCommentReply:_,isModalOpen:y,onDismiss:v,onPost:f,placeholder:b,uploadedPhotoProperties:x,postedPhoto:k})=>{let P=(0,o.ZP)(),{logContextEvent:S}=(0,a.v)(),[w,T]=(0,i.useState)(!1);(0,i.useEffect)(()=>{y&&S({component:14348,event_type:8983})},[y,S]);let A=(0,d.jsx)(l.xv,{align:"center",size:"300",weight:"bold",children:m});return(0,d.jsx)(r.ZP,{mobileAccessibilityCloseIconLabel:P.bt("", "Close", "commentComposer.close", undefined, true),accessibilityModalLabel:"",heading:A,mobileIsFullscreen:w,isOpen:y,mobileIsSlideUp:!0,onDismiss:()=>{S({component:14348,event_type:8985}),v(),T(!1)},children:(0,d.jsx)(l.xu,{padding:3,children:(0,d.jsx)(s.Z,{children:(0,d.jsx)(c,{defaultText:t,disablePhotoCommentSelection:n,dismissCommentWarningModal:u,handlePhotoSelect:p,initialMentions:h,isCommentEdit:!!g,isCommentReply:!!_,onPost:(e,t,n)=>()=>{S({component:14348,event_type:8984}),f(e,t,n)},placeholder:b,postedPhoto:k,toggleFullScreen:e=>{T(e)},uploadedPhotoProperties:x,warningModalState:e})})})})}},638136:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(702664),l=n(690108),a=n(76008),r=n(541268),o=n(274796);function s(){let e=(0,i.useDispatch)(),{aggregatedCommentCreated:t,updateCommentCount:n}=(0,a.nf)();return async({force:i,parentId:a,pinId:s,text:d,tags:c,isReply:u,replyToCommentId:p})=>l.Z.create(u?"AggregatedCommentReplyResource":"AggregatedCommentResource",{force:i,objectId:a,pinId:s,tags:c,text:d,replyToCommentId:p}).callCreate().then(i=>{let l=i.resource_response.data;t(a,l),e((0,r.vX)({feedType:u?o.Z.AGGREGATED_COMMENT_REPLIES:o.Z.UNIFIED_COMMENTS,feedId:a,itemIds:[l.id],itemType:l.type})),u&&n(a,1)})}},425118:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(667294),l=n(240684),a=n(883119),r=n(536042),o=n(28630),s=n(589665),d=n(785893);let c=new a.Ry(s.fe),u=new a.H3([c]),p=new a.H3([u]),m={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:6},h={width:540,height:363},g={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:4},_={width:320,height:215},y=(0,l.ZP)({resolved:{},chunkName:()=>"video-VideoWrapper",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(67631),n.e(3875)]).then(n.bind(n,473383)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>473383});function v(e){let{displayData:t,handleComplete:n,handleDismiss:l,isMobile:r}=e,{video:s,image:c,title:u,body:p,completeButton:h,dismissButton:_}=t,y=r?"center":"start",v=(0,o.Z)({url:h.url});return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(f,{isMobile:r,image:c,video:s,handleDismiss:l,title:u}),(0,d.jsxs)(a.xu,{margin:(r?g:m).gestaltModalMargin,justifyContent:"center",display:"flex",direction:"column",children:[(0,d.jsx)(a.X6,{align:y,children:u}),(0,d.jsx)(a.xu,{marginTop:2,marginBottom:4,children:(0,d.jsx)(a.xv,{align:y,children:p})}),(0,d.jsxs)(a.xu,{margin:-1,display:"flex",justifyContent:r?"center":"end",dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}},children:[_&&!_.hideDismissButton&&(0,d.jsx)(a.xu,{padding:1,fit:!0,minWidth:r?130:void 0,flex:r?"grow":"none",children:(0,d.jsx)(a.zx,{fullWidth:r,color:"gray",size:"lg",text:_.text,onClick:l})}),h&&(0,d.jsx)(a.xu,{padding:1,fit:!0,minWidth:r?130:void 0,flex:r?"grow":"none",children:h.url?(0,d.jsx)(a.ZP,{fullWidth:r,color:"red",size:"lg",text:h.text,onClick:()=>n(),href:h.url,rel:v?"nofollow":"none"}):(0,d.jsx)(a.zx,{fullWidth:r,color:"red",size:"lg",text:h.text,onClick:()=>n()})})]})]})]})}let f=e=>{var t,n;let{isMobile:i,image:l,video:o,handleDismiss:s,title:c}=e,u=(0,r.ZP)(),v=i?g:m,f=i?_:h,b=(0,d.jsx)(a.xu,{margin:v.closeButtonMargin,display:"flex",justifyContent:i?"start":"end",position:"absolute",zIndex:p,width:f.width-2*v.modalMargin,children:(0,d.jsx)(a.hU,{accessibilityLabel:u.bt("", "Dismiss", "experiences.ExperienceModalWindow.modalDismissIconButton", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:s,size:"sm"})}),x=l?l.imageAlt:c,k=l?l.url:null==o?void 0:null===(t=o.metadata)||void 0===t?void 0:t.thumbnail,P=(null==l?void 0:null===(n=l.dominantColor)||void 0===n?void 0:n.length)===3?`rgb(${l.dominantColor[0]}, ${l.dominantColor[1]}, ${l.dominantColor[2]})`:"rgb(111, 91, 77)",S=f.width/f.height,w={width:f.width,height:f.height};l&&l.width&&l.height?(S=l.width/l.height,w={width:l.width,height:l.height}):o&&o.metadata.width&&o.metadata.height&&(S=o.metadata.width/o.metadata.height,w={width:o.metadata.width,height:o.metadata.height});let T=k&&(0,d.jsx)(a.Ee,{alt:x||"",color:P,naturalHeight:w.height,naturalWidth:w.width,src:k,fit:"cover"}),A=Math.trunc(f.width/S);return(0,d.jsxs)(a.xu,{top:!0,left:!0,bottom:!0,right:!0,width:f.width,height:A,overflow:"hidden",children:[b,l&&T,o&&(0,d.jsx)(y,{fallback:T,aspectRatio:S,objectFit:"cover",captions:"",controls:!1,loop:!0,isAutoPlay:!0,onPlay:()=>{},onPlayError:()=>{},playing:!0,playsInline:!0,poster:(null==l?void 0:l.url)||o.metadata.thumbnail,src:o.url,volume:0})]})}},787234:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var i=n(33476),l=n(667294),a=n(883119),r=n(874261),o=n(279409),s=n(150875),d=n(716793),c=n(377234),u=n(599551),p=n(250307),m=n(28630),h=n(785893);let g=40,_={lightMode:{backgroundColor:"#E60023",color:"#FFFFFF"},darkMode:{backgroundColor:"#E60023",color:"#FFFFFF"}},y={lightMode:{backgroundColor:"#EFEFEF",color:"#111111"},darkMode:{backgroundColor:"#292929",color:"#EFEFEF"}},v=({color:e,isPrimary:t,shape:n,text:i,textColor:l})=>{let r=(0,c.Yc)()?"darkMode":"lightMode",o=(t?_:y)[r];return(0,h.jsx)(a.xv,{align:"center",weight:"bold",children:(0,h.jsx)("div",{className:t?"banner-button-primary":"banner-button-secondary",style:{backgroundColor:e||o.backgroundColor,borderRadius:"pill"===n?"24px":"4px",color:l||o.color,padding:"10px 14px"},children:i})})},f=({external:e,onTouch:t,pressState:n,to:i,accessibilityLabel:l,color:r,isPrimary:o,textColor:s,minHeight:d=g,shape:c,text:_})=>{let y=(0,p.Z)(i),f=(0,u.Z)({externalData:{dangerouslyForceOffsiteUrl:e},href:y});return(0,h.jsx)(a.xu,{"aria-label":l,minHeight:d,children:y?(0,h.jsx)(a.Tg,{onTap:({event:e})=>{null==t||t(e),e.defaultPrevented||f({event:e})},href:y,target:"blank",rel:(0,m.Z)({url:y})?"nofollow":"none",tapStyle:n||"none",rounding:"pill"===c?"pill":2,children:(0,h.jsx)(v,{color:r,isPrimary:o,shape:c,text:_,textColor:s})}):(0,h.jsx)(a.iP,{onTap:({event:e})=>null==t?void 0:t(e),tapStyle:n||"none",rounding:"pill"===c?"pill":2,children:(0,h.jsx)(v,{color:r,isPrimary:o,shape:c,text:_,textColor:s})})})};function b(e){return e.startsWith("https://")||e.startsWith("http://")}let x=function({experience:e,onComplete:t,onDismiss:n}){let{display_data:i={},experience_id:c,placement_id:u}=e||{},p=(0,l.useMemo)(()=>(0,o.Z)(d.Z)(i),[i]),{backgroundColorNarrowMweb:m,backgroundColorWideMweb:g,backgroundImageNarrow:_,backgroundImageWide:y,button1ColorNarrowMweb:v,button1ColorWideMweb:x,button1TextColorNarrowMweb:k,button1TextColorWideMweb:P,button1Text:S,button1Uri:w,button2ColorNarrowMweb:T,button2ColorWideMweb:A,button2TextColorNarrowMweb:C,button2TextColorWideMweb:I,button2Text:j,button2Uri:E,completeButtonAction:L,coverImage:R,detailedTextWithLinks:F,iconImage:D,layoutNarrow:z,layoutWide:M,links:O,linkTitles:Z,primaryColorNarrowMweb:N,primaryColorWideMweb:K,titleText:B}=p,{windowWidth:U}=(0,s.Z)(),H=U<=480,V=H?z:M,G=!H&&3!==V,$=H?N:K,{altText:W,uri:q}=(H?_:y)||{},{altText:Y,uri:X}=R||{},{altText:J,uri:Q}=D||{},ee=H&&2===V||!H&&2===V,et=H?"96px":"48px",en=H&&3===V,ei=e=>{!e&&u&&c&&n&&n()},el=e=>{t&&t(e)},ea=S&&(0,h.jsx)(a.xu,{marginEnd:2,children:(0,h.jsx)(f,{accessibilityLabel:S,color:H?v:x,external:w?b(w):void 0,onTouch:()=>ei(w),shape:"pill",text:S,textColor:H?k:P,to:w})}),er=j&&(0,h.jsx)(f,{accessibilityLabel:j,color:H?T:A,external:E?b(E):void 0,isPrimary:!0,onTouch:()=>el(L),shape:"pill",text:j,textColor:H?C:I,to:E}),eo=O.reduce((e,t,n)=>{let i=b(t)?'rel="noreferrer noopener" target="_blank"':"",l=`<a href="${t}" ${i}>${Z[n]}</a>`;return e.replace(`{${n}}`,l)},F),es={backgroundImage:!q||ee||en?void 0:`url(${q})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:H?m:g,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},marginBottom:1,rounding:4,children:(0,h.jsxs)(a.zd,{rounding:4,children:[en&&X&&(0,h.jsx)(a.kC,{alignItems:"start",height:128,justifyContent:"center",width:"100%",children:(0,h.jsx)(a.Ee,{alt:Y||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:X})}),(0,h.jsxs)(a.xu,{"aria-label":W,alignItems:"center",dangerouslySetInlineStyle:{__style:es},direction:G?"row":"column",display:"flex",justifyContent:"between",marginTop:en?-2:0,padding:6,children:[(0,h.jsxs)(a.kC,{alignItems:"center",direction:G?"row":"column",justifyContent:"between",maxWidth:G?void 0:"560px",children:[ee&&Q&&(0,h.jsx)(a.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginEnd:G?4:0,marginBottom:G?0:6,children:(0,h.jsx)(a.xu,{height:et,width:et,children:(0,h.jsx)(a.zd,{rounding:G?4:6,children:(0,h.jsx)(a.Ee,{alt:J||"icon",naturalHeight:1,naturalWidth:1,src:Q})})})}),!G&&B&&(0,h.jsx)(a.xv,{align:"center",weight:"bold",children:(0,h.jsx)(a.xu,{marginBottom:2,dangerouslySetInlineStyle:{__style:{color:$,fontSize:"20px"}},children:B})}),F&&(0,h.jsxs)(a.xv,{align:G?"start":"center",overflow:"normal",children:[(0,h.jsx)(r.Z,{unsafeCSS:`
                      .nag-text a {
                        color: ${$||""};
                        font-weight: bold;
                      }`}),(0,h.jsx)("div",{className:"nag-text",dangerouslySetInnerHTML:{__html:eo},style:{color:$}})]})]}),(ea||er)&&(0,h.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:G?0:-1,marginStart:G?4:0,marginTop:G?0:4,wrap:!G,children:[ea,er]})]})]})})},k=({experience:e={}})=>(0,h.jsx)(i.Z,{experience:e,predicate:e=>e&&e.display_data&&1===e.display_data.component_type,children:({complete:e,dismiss:t,experience:n})=>(0,h.jsx)(x,{experience:n,onComplete:e,onDismiss:t})})},889685:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(667294),l=n(702664),a=n(527386),r=n(33476),o=n(785893);let s=[502321,502322];class d extends i.Component{componentDidMount(){let{experience:e,completeExperience:t}=this.props;e&&s.includes(e.experience_id)&&t(e.placement_id,e.experience_id,!0)}render(){return(0,o.jsx)(r.Z,{experience:this.props.experience,eligibleIds:s,children:(0,o.jsx)("span",{})})}}function c(e){let t=(0,l.useDispatch)(),n=(0,a.be)();return(0,o.jsx)(d,{...e,completeExperience:(e,i,l)=>t(n(e,i,l))})}},90046:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),l=n(702664),a=n(883119),r=n(527386),o=n(33476),s=n(460914),d=n(785893);function c(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.PureComponent{constructor(...e){super(...e),c(this,"state",{paused:!1,showPulsar:!1,hasMounted:!1}),c(this,"handleDismiss",()=>{let{onClickDismiss:e,dismissExperience:t,experience:n}=this.props;if(!n)return;let{experience_id:i,placement_id:l}=n;t(l,i),e&&e()}),c(this,"wrapperRef",(0,i.createRef)())}componentDidMount(){this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}componentDidUpdate(e){this.props.experience&&e.experience!==this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}mountPulsar(){let{experience:e}=this.props;if(!e)return;let{display_data:t}=e;t.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){let e=this.wrapperRef,{paused:t}=this.state;if(!e||!e.current)return null;let n=e.current.getBoundingClientRect(),{height:i,width:l}=n;return(0,d.jsx)(s.Z,{pressState:"none",children:(0,d.jsx)(a.xu,{position:"absolute",zIndex:new a.Ry(1),dangerouslySetInlineStyle:{__style:{marginTop:-(68+i/2),marginLeft:-(68-l/2),pointerEvents:"none"}},children:(0,d.jsx)(a.o3,{paused:t,size:136})})})}render(){let{children:e,color:t,eligibleIds:n,experience:i,idealDirection:l,onClickComplete:r,showCaret:s,size:c,textWeight:u="bold",textAlign:p,textOverflow:m,fontSize:h}=this.props,{showPulsar:g,hasMounted:_}=this.state;if(!i||!n.includes(i.experience_id)||!_)return e({experience:i});let{display_data:{scroll_to_dismiss:y,scroll_to_dismiss_delay_in_seconds:v=0,...f}}=i;return(0,d.jsx)(o.Z,{eligibleIds:n,experience:i,children:({complete:n})=>{let o=()=>(_(),setTimeout(this.handleDismiss,1e3*v)),_=()=>{y&&(window.removeEventListener("scroll",o),window.removeEventListener("touchmove",o))};y&&(window.addEventListener("scroll",o),window.addEventListener("touchmove",o));let b=()=>{_(),n(1)};return(0,d.jsxs)(a.xu,{ref:this.wrapperRef,children:[e({experience:i}),g?this.renderPulsar():f.has_tooltip&&(0,d.jsx)(a.J2,{anchor:this.wrapperRef.current,color:"blue"===t?"deprecatedBlue":t,idealDirection:l||"down",onDismiss:this.handleDismiss,_deprecatedShowCaret:s,size:c,children:(0,d.jsx)(a.xu,{padding:3,children:(0,d.jsxs)(a.kC,{direction:"column",gap:{row:0,column:3},children:[(0,d.jsx)(a.xu,{column:12,children:(0,d.jsxs)(a.xv,{align:"right"===p?"end":p,color:"inverse",overflow:m,size:h,weight:u||"bold",children:[f.text,f.secondary_cta_link&&(0,d.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,d.jsx)(a.xv,{size:h,weight:"bold",color:"inverse",children:(0,d.jsx)(a.rU,{display:"inlineBlock",target:"blank",href:f.secondary_cta_link.url,underline:"hover",children:f.secondary_cta_link.text})})})]})}),f.complete_button_text&&(0,d.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:f.complete_button_text&&(0,d.jsx)(a.kC,{alignContent:"center",children:(0,d.jsx)(a.zx,{color:"white",onClick:()=>{b(),r&&r()},size:"md",text:f.complete_button_text})})})]})})})]})}})}}function p(e){let t=(0,l.useDispatch)(),n=(0,r.be)(),i=(0,r.Am)();return(0,d.jsx)(u,{...e,dismissExperience:(e,n)=>t(i(e,n)),completeExperience:(e,i)=>t(n(e,i))})}},536540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(785893);function l({size:e,noCircle:t}){return(0,i.jsxs)("svg",{height:e,style:{display:"block"},viewBox:t?"3 3 70 70":"-3 -3 82 82",width:e,children:[t?null:(0,i.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,i.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},971467:(e,t,n)=>{"use strict";n.d(t,{_l:()=>f,cO:()=>v,t2:()=>b,w2:()=>x,xM:()=>y});var i=n(667294),l=n(616550),a=n(690108),r=n(988014),o=n(739425),s=n(549201),d=n(802071),c=n(785893);let u="UnauthDesktopSocialPinLandingPageContext",p="AthDesktopSocialPinLandingPageContext",m="AuthMobileSocialPinLandingPageContext",h=(0,i.createContext)(),g=({children:e})=>{let[t,n]=(0,i.useState)(!1),[l,a]=(0,i.useState)(!1),r=(0,i.useMemo)(()=>({hasSeenAuthMobileLandingToast:t,setHasSeenAuthMobileLandingToast:n,hasSeenAuthDesktopLandingToast:l,setHasSeenAuthDesktopLandingToast:a}),[t,n,l,a]);return(0,c.jsx)(h.Provider,{value:r,children:e})},_=(0,i.createContext)({key:"",data:null}),y=({children:e})=>{let t=(0,l.useLocation)(),n=(0,d.Z)(),h=n&&n.isAuth,y=(0,s.HG)(),v=(0,i.useRef)((0,r.fY)(t)&&(0,o.mB)(t.search).invite_code||null),f=(0,l.matchPath)(t.pathname,{path:"/pin/:id"}),b=f&&f.params.id||"",[x,k]=(0,i.useState)({key:"",data:null});return(0,i.useEffect)(()=>{(async function(){let e=v.current;if(e)try{let i=a.Z.create("InviteCodeMetadataResource",{invite_code:e}),l=await i.callGet(),r=l.resource_response.data;if(r){var t;let e=null!==(t=r.sender)&&void 0!==t?t:null,i=h&&e.id!==n.id&&(null==e?void 0:e.should_show_messaging)&&n.should_show_messaging;!h&&y?k({key:u,data:{inviter:e,popoverData:e&&![5,9,12,16].includes(r.invite_channel)?{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name}:null}}):i&&!y?k({key:m,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:n.id||""},pin:{pinId:b}}}}):i&&y&&k({key:p,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:n.id||""},pin:{pinId:b}}}})}else k({key:"",data:null})}catch(e){k({key:"",data:null})}})()},[h,y,n.id,b,n.should_show_messaging]),(0,c.jsx)(g,{children:(0,c.jsx)(_.Provider,{value:x,children:e})})},v=()=>{let e=(0,i.useContext)(_);return e.key===u?e:null},f=()=>{let e=(0,i.useContext)(_);return e.key===m?e:null},b=()=>{let e=(0,i.useContext)(_);return e.key===p?e:null},x=()=>(0,i.useContext)(h)},480462:(e,t,n)=>{"use strict";function i({isEligibleForPdp:e,isOosProduct:t,isStaleProduct:n,pinShoppingFlags:i}){if(i){let l={pin_is_shop_the_look:i.includes(2),pin_show_pdp:e||t||n,is_available:i.includes(1),is_product_pin_v2:i.includes(5),is_rich_product_pin:i.includes(6)};return JSON.stringify(l)}}n.d(t,{Z:()=>i})},348597:(e,t,n)=>{"use strict";function i(e,t){return e||`${t||""}~0`}n.d(t,{Z:()=>i})},822158:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o}),n(167912);var i,l=n(803817),a=n(480462);let r=void 0!==i?i:i=n(46844);function o(e){let{data:t}=(0,l.sr)(r,e,{type:"pin",useLegacyAdapter:e=>({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,shoppingFlags:e.shopping_flags})});return t?(0,a.Z)({isEligibleForPdp:t.isEligibleForPdp,isOosProduct:t.isOosProduct,isStaleProduct:t.isStaleProduct,pinShoppingFlags:t.shoppingFlags}):null}},352865:(e,t,n)=>{"use strict";n.d(t,{G3:()=>c,Rp:()=>d,kp:()=>o});var i=n(736409),l=n(611756),a=n(173085);let r=14*i.F4,o=(e,t)=>{let n=function(){let e=Date.now(),t=Number((0,l.qn)("appUpsell")),n=Number((0,l.qn)("firstUpsellTime")),i=!!(0,a.qn)("showedAppUpsellCurrentSession");return{currentTime:e,firstUpsellTime:n,lastUpsellTime:t,showedAppUpsellCurrentSession:i}}();return e?function(e,t,n){let{currentTime:i,firstUpsellTime:a,lastUpsellTime:o,showedAppUpsellCurrentSession:s}=e;return(n=n||r,!a||i<a+t)?!s:i-o>n&&((0,l.L_)("firstUpsellTime"),!0)}(n,i.F4):function(e,t){let{currentTime:n,lastUpsellTime:i}=e;return t=t||r,!i||n-i>t}(n,t)},s=e=>{e=e.toLowerCase();let t=e.match(/android\s([0-9\.]*)/i);return t?t[1]:void 0},d=({isBot:e,platform:t,userAgent:n})=>{try{return!e&&"android"===t&&7>parseFloat(s(n))}catch(e){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},509342:(e,t,n)=>{"use strict";n.d(t,{AA:()=>a,E9:()=>_,EU:()=>f,IO:()=>v,KH:()=>c,Lg:()=>m,QR:()=>d,Uw:()=>l,ZR:()=>b,dy:()=>s,eA:()=>p,eV:()=>h,fo:()=>g,k7:()=>r,rT:()=>y,tz:()=>u,u9:()=>x,zR:()=>o,zu:()=>i});let i="OPEN_UNAUTH",l="openUnauthType",a="_isAfterLogin",r="_lastVisitedPages",o="_lastVisitedPagesBeforeLogin",s="_lastVisitedBoardPages",d="_lastVisitedPagesBeforeNavPage",c="_lastVisitedSessionPages",u="_unauthVisitedPages",p=20,m="_inviteCodeRedemption",h="_paidTrafficLand",g="_unauthReferrerString",_="unauthTopicsFollowed",y=["US","CA","NZ","AU"],v=new Set(["GB","IE"]),f=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),b=new Set(["BR","MX","AR","CL","CO","PE"]),x="ad_img"},624658:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(40660);let l=e=>{i.Z.increment(`closeup.image.clicked.${e}`,1,{platform:"mobile"})}},185803:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(40660),l=n(865173),a=n(739425);let r="http://play.google.com/store/apps/details?id=com.pinterest",o=["access_token","new_password","new_password_confirm","password","next"],s=(e,t)=>t?(0,a.ru)(e,{invite_code:t}):e,d=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){let t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?s(e,n):"ios"===t||"ipad"===t?s(e.iOS,n):"android"===t?s(e.android,n):null},c=({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:l,app_upsell_type:r})=>({deeplink_path:d(e,n,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",o),install_id:l,utm_source:140,utm_medium:2152,app_upsell_type:r,...i?{af_r:i}:null}),u=({deeplinkUri:e,invite_code:t,platform:n,unauthId:i,app_upsell_type:l})=>{let r=JSON.stringify({deeplink_path:d(e,n,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",o),install_id:i}),s=(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:r,app_upsell_type:l});return{referrer:s}},p=({unauthId:e,app_upsell_type:t})=>{let n=(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e,app_upsell_type:t});return{referrer:encodeURI(n)}},m=({isAuthenticated:e,checkExperiment:t,deeplinkUri:n,fallbackUrl:o,invite_code:s,logContextEvent:d,platform:m,redirectToLite:h,unauthId:g,userAgent:_,app_upsell_type:y})=>{null==d||d({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}});let v="https://pinterest.onelink.me/TVSr/21e04bfd",f=null==t?void 0:t(e?"mweb_auth_apple_app_store_custom_page_referral":"mweb_unauth_apple_app_store_custom_page_referral").group;switch(f){case"enabled_1":v="https://pinterest.onelink.me/TVSr/d47vxerq";break;case"enabled_2":v="https://pinterest.onelink.me/TVSr/hhstj28i";break;case"enabled_3":v="https://pinterest.onelink.me/TVSr/b16kbfgq";break;case"enabled_4":v="https://pinterest.onelink.me/TVSr/nfh3eyy2";break;case"enabled_5":v="https://pinterest.onelink.me/TVSr/elsthgd7"}if(n){let f=c({isAuthenticated:e,deeplinkUri:n,fallbackUrl:o,invite_code:s,platform:m,unauthId:g,userAgent:_,app_upsell_type:y});if(i.Z.increment("mweb.deeplink",1,{platform:m}),s&&i.Z.increment("mweb.deeplink.invite_code",1),i.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:!!g}),h){i.Z.increment("mweb.deeplink.lite_link",1),null==d||d({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}});let e=p({unauthId:g,app_upsell_type:y});window.location.href=(0,a.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===m){let e=u({deeplinkUri:n,invite_code:s,platform:m,unauthId:g,app_upsell_type:y});(0,l.v)()?(0,l.Z)().then(n=>{if(n.length>0){let e=(0,a.ru)(window.location.href,f),n=null==t?void 0:t("mweb_auth_deep_link_to_android_app_change").group;if("enabled_self"===n)window.open(e,"_self");else if("enabled_location"===n)window.location.href=e;else{let t=window.open(e);t||null==d||d({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}})}}else null==d||d({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}}),window.location.href=(0,a.ru)(r,e)}).catch(()=>{i.Z.increment("mweb_android.deeplink.playStore.error",1)}):(null==d||d({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}}),window.location.href=(0,a.ru)(r,e))}else{if(i.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===m&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,a.ru)("https://pinterest.com/pinterest-predicts",f);return}null==d||d({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}}),window.location.href=(0,a.ru)(v,f)}}}},230910:(e,t,n)=>{"use strict";n.d(t,{AH:()=>d,CK:()=>s,Fc:()=>r,Wj:()=>a,Xe:()=>l,kb:()=>o,wS:()=>i});let i=(e,t,n,i)=>t||(e?e.official_user:n||i);function l({hasLinkDomain:e,hasNativeCreator:t,hasOriginPinner:n,pinDomain:i,sourceUserUsername:l,sourceUserFullName:a}){return!t&&(e||n)&&l?{pinCreditLink:`/${l}/`,pinCredit:a}:{pinCreditLink:void 0,pinCredit:!t&&e?i:""}}let a=({i18n:e,hasLinkDomain:t,hasRichMetadataArticle:n,hasRichMetadataRecipeCategorizedIngredients:i,hasRichMetadataTutorial:l,richMetadataRecipeFromAggregatedData:a})=>(!t||a)&&e.bt(": ", "Saved by ", "Closeup pin annotation", undefined, true)||l&&e.bt(": ", "Saved from ", "pin annotation", undefined, true)||i&&e.bt(" : ", "Recipe from ", "pin annotation", undefined, true)||n&&e.bt(" : ", "Article from ", "pin annotation", undefined, true)||e.bt(": ", "From ", "Closeup pin annotation", undefined, true);function r({i18n:e,hasRichMetadataProductOfferSummary:t,richMetadataProductName:n,richSummaryProductName:i,hasRichSummaryProductOfferSummary:l}){return t&&n||!t&&i&&l?e.bt(": ", "Product sold by ", "pin annotation", undefined, true):""}let o=({hasLinkDomain:e,richMetadata:t,richSummary:n})=>{var i;return e&&!(null!=t&&null!==(i=t.recipe)&&void 0!==i&&i.fromAggregatedData)&&null!=t&&t.products&&t.products[0]&&t.products[0].name&&t.products[0].offerSummary?t.products[0].offerSummary:null!=n&&n.products&&n.products[0]&&n.products[0].name&&n.products[0].offerSummary?n.products[0].offerSummary:void 0},s=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:n,hasRichMetadataRecipe:i})=>e?t?144:n?141:i?145:139:140,d=e=>!!e&&!e.startsWith("https://i.pinimg.com")},684262:(e,t,n)=>{"use strict";function i(e){return!!e.key}n.d(t,{Z:()=>i})},836:(e,t,n)=>{"use strict";let i;n.d(t,{XK:()=>s,jC:()=>o,yd:()=>d});var l=n(541842);let a=null,r=null,o=(i=null,e=>{var t,n,o;if(e&&!i){let o={...e,time:(0,l.Z)()};return i={...o,event_type:12},null===(t=r)||void 0===t||t.logContextEvent(i),null===(n=a)||void 0===n||n.storeClickthroughProperties(o),12}if(!e&&i){let e={...i,event_type:4100,duration_ns:(0,l.Z)()-i.time};return null===(o=r)||void 0===o||o.logContextEvent(e),i=null,4100}return null}),s=e=>{a=e},d=e=>{r=e}},261453:(e,t,n)=>{"use strict";n.d(t,{CC:()=>s,H$:()=>c,Mt:()=>r,dp:()=>d,p9:()=>u});var i=n(611756),l=n(173085),a=n(509342);let r=(e,t,n,l,r,o,s=a.k7)=>{let d=(0,i.qn)(s)?JSON.parse((0,i.qn)(s)):[];if(!d[0]||d[0].path!==e){let a=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:t||"",first_pin_id:n||"",image_info:l||"",pin_description:r||"",is_shared:!!o,pin_invite_code:o}];(0,i.Nh)(s,JSON.stringify(a.concat(d)))}},o=()=>{let e;let t=(0,l.qn)(a.KH);if(!t)return[];try{e=JSON.parse(t)}catch(t){e=[]}return e},s=({path:e,image:t,dominant_color:n,pin_description:i,pin_id:r})=>{let s=o();s[0]&&s[0].path===e||(0,l.Nh)(a.KH,JSON.stringify([{path:e,image:t,pin_description:i||"",dominant_color:n||"",pin_id:r||""}].concat(s)))};function d(e,t,n,i,l,o){r(e,t,n,i,l,o,a.zR)}let c=(e,t,n,i,l)=>{r(e,t,n,i,null!=l?l:"","",a.dy)};function u(e,t,n,i,l){r(e,t,n,i,l,"",a.QR)}},495590:(e,t,n)=>{"use strict";n.d(t,{E:()=>r,S:()=>o});var i=n(667294),l=n(611756);let a="_loggingInNotHome",r=e=>{e?(0,l.Nh)(a,1):(0,l.L_)(a)},o=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(!0)},[]),e&&(0,l.qn)(a)}},411224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,x:()=>c});var i=n(667294),l=n(98736),a=n(785893);let r=(0,i.createContext)(()=>{}),o=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="hidden")},s=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")},d=()=>(0,i.useEffect)(()=>s,[]),c=({children:e})=>{let[t,n]=(0,i.useState)(null);d();let c=(0,i.useCallback)(e=>{(0,l.My)("dweb.unauth.context_menu.open_menu"),o(),n(e)},[]),u=!!t;return(0,i.useEffect)(()=>{let e=()=>{n(null),s(),(0,l.My)("dweb.unauth.context_menu.click_away")};return u&&document.addEventListener("click",e),()=>{u&&document.removeEventListener("click",e)}},[u]),(0,a.jsx)(r.Provider,{value:c,children:(0,a.jsxs)(i.Fragment,{children:[e,t]})})},u=()=>(0,i.useContext)(r)},772356:(e,t,n)=>{"use strict";function i(e){return!!(null==e?void 0:e.is_matured_new_user)}n.d(t,{IR:()=>r,V0:()=>i,Wn:()=>a,xT:()=>l});let l=e=>!!e&&2===e.login_state,a=e=>!!(e&&e.match(/\/static\/images\/user\/default_\d+\.png$/));function r(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},963181:(e,t,n)=>{"use strict";n.d(t,{D5:()=>o,Hg:()=>l,T_:()=>r,g6:()=>a,w6:()=>i});let i=(e,t)=>Array.from({length:t-e},(t,n)=>n+e),l=508,a=600;function r(e,t){if(!t.startsWith("en"))return e;let n=e.split(" ").map(e=>{let t=e===e.toUpperCase();return t?e:e.toLowerCase()});return n.join(" ")}let o=()=>{let e=new URL(window.location.href),t=e.hostname.replace("www.",""),n=e.pathname;return`${t}${n=n.replace(/\/\d+\//,"/").replace(/\/$/,"")}`}},756876:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=({name:e,width:t,height:n})=>{let i=`${t}${"number"==typeof t?"px":""}`,l=`${n}${"number"==typeof n?"px":""}`,a="number"==typeof t?t:236;return`
.${e} {
  -webkit-animation-duration: 1s;
  -webkit-animation-fill-mode: forwards;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-name: ${e}_placeHolderShimmer;
  -webkit-animation-timing-function: linear;
  border-radius: 16px;
  background: #f6f7f9;
  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);
  background-repeat: no-repeat;
  background-size: ${a} ${l};
  width: ${i};
  height: ${l};
}

@keyframes ${e}_placeHolderShimmer{
  0% {
      background-position: -${a}px 0;
  }
  100% {
      background-position: ${a}px 0;
  }
}
`}},393599:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,o:()=>l});var i=n(583592);let{Provider:l,useHook:a}=(0,i.Z)("LimitedLogin")},198060:(e,t,n)=>{"use strict";n.d(t,{N4:()=>a,Wh:()=>i,hr:()=>l});let i=e=>e.bt(",  ", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),l=e=>e.bt(" !   Pinterest,      .", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),a=({i18n:e,toFollow:t})=>t?e.bt(",  ", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt(",  ", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true)},624524:(e,t,n)=>{"use strict";n.d(t,{Bb:()=>_,Bx:()=>s,F4:()=>o,OG:()=>a,Qj:()=>d,_6:()=>g,gv:()=>r,hg:()=>c,is:()=>m,jP:()=>h,lt:()=>l,oM:()=>u,wI:()=>p});var i=n(739425);let l=e=>e.bt(",  ", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),a=e=>e.pathname,r=({firstName:e,i18n:t})=>e?(t.bt("{{ name }}    ", "{{ name }} invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true)).replace("{{ name }}",e):t.bt("     ", "Your friends invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true),o=e=>{let t=(0,i.mB)(e.search).board_url;if(t){let e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},s=e=>e.bt(",   ", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),d=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},c=e=>e.bt(",   ", "Log in to send this Pin", "limitedLogin.modalHeader.send", undefined, true),u=e=>e.bt(",   ", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),p=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},m=e=>e.bt(",     ", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true),h=e=>e.bt(",    ", "Log in to hide this Pin", "limitedLogin.modalHeader.hidePin", undefined, true),g=e=>e.bt(",   ", "Log in to share the profile", "limitedLogin.modalHeader.shareProfile", undefined, true),_=e=>e.bt(",   ", "Log in to create a board", "limitedLogin.modalHeader.createBoard", undefined, true)},395253:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(536042),l=n(624524),a=n(393599),r=n(785893);function o({children:e,callbackFunction:t,modalHeader:n,nextLocation:o}){let s=(0,i.ZP)(),{viewer:d,loginForMore:c,limitedLoginModalSubheader:u,limitedLoginModalNextLocation:p}=(0,a.H)(),m="LIMITED_LOGIN"===d.type;return(0,r.jsx)("div",{onClickCapture:e=>{m&&(t&&t(),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),null==c||c.setVisible(!0),null==u||u.setText(n||(0,l.lt)(s)),o&&(null==p||p.setRoute(o)))},children:e})}},471819:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(536042),l=n(549201),a=n(393599),r=n(198060);let o=()=>{let e=(0,i.ZP)(),t=(0,l.HG)(),{viewer:n,loginForMore:o,limitedLoginModalSubheader:s,limitedLoginModalNextLocation:d}=(0,a.H)(),c="LIMITED_LOGIN"===n.type;return c?({modalHeader:n,nextLocation:i})=>l=>{let a=null;l&&(l.nativeEvent&&l.nativeEvent instanceof Event?a=l:l.event&&(a=l.event)),a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()),null==o||o.setVisible(!0),null==s||s.setText(n||(t?(0,r.hr)(e):(0,r.Wh)(e))),i&&(null==d||d.setRoute(i))}:({fn:e})=>e}},383755:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>u,Jw:()=>g,L7:()=>i,Qc:()=>l,Tt:()=>y,UF:()=>d,UV:()=>r,W1:()=>a,Ws:()=>p,ZW:()=>s,cK:()=>_,cy:()=>h,o4:()=>m,tr:()=>c,vF:()=>o});let i=1,l=2,a="female",r="male",o="unspecified",s="en-US",d="US",c=3,u="has_done_closeup",p="Gender",m="InterestPicker",h="LoadingStep",g="AppInstall",_={NUX_GENDER_STEP_NAME:p,NUX_INTEREST_PICKER_STEP_NAME:m,NUX_LOADING_STEP_NAME:h,NUX_APP_INSTALL_STEP_NAME:g},y=2500},28557:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(667294),l=n(376030),a=n(883119),r=n(536042),o=n(455788),s=n(272109),d=n(874261),c=n(785893);let u=`
@keyframes baseEduToastIconScale {
  0% {
    transform: scale(0)
  }
  30% {
    transform: scale(1.2);
  }
  50% {
    transform: scale(1);
  }
}
`;function p({addedStyles:e,button:t,headerText:n,icon:l,iconOverride:r,minHeight:o,subHeaderText:s}){return(0,c.jsx)(a.xu,{display:"flex",justifyContent:"center",width:"100vw",paddingX:2,children:(0,c.jsxs)(a.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:o||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{let e=r||(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(d.Z,{unsafeCSS:u}),(0,c.jsx)(a.xu,{alignItems:"center",color:"education","data-test-id":"pin-save-toast",direction:"column",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,c.jsx)(a.JO,{accessibilityLabel:l.accessibilityLabel,color:l.color,dangerouslySetSvgPath:l.dangerouslySetSvgPath,icon:l.icon,inline:l.inline,size:l.size})})]});return(0,c.jsx)(a.xu,{marginEnd:4,children:e})})(),(0,c.jsxs)(a.xu,{marginEnd:"auto","data-test-id":"pin-save-toast-header",children:[(0,c.jsx)(a.xv,{color:"default",weight:"bold",children:n}),!!s&&(0,c.jsx)(a.xu,{paddingY:1,children:(0,c.jsx)(a.xv,{size:"300",color:"default",children:s})})]}),(0,c.jsx)(a.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}var m=n(217861);function h(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g="cubicBezier(0.25, 0.1, 0.25, 1)",_="encourageToastIconContainer",y="encourageToastIconRadiateBg",v="encourageToastIconRadiateRing",f={targets:`#${_}`,duration:300,scale:1.4,easing:g},b={targets:`#${_}`,duration:300,scale:1,easing:g,endDelay:1e3},x={targets:`#${_}`,duration:300,scale:.42,easing:g},k={targets:`#${y}`,duration:400,opacity:0,scale:1.6,easing:g},P={targets:`#${v}`,duration:650,opacity:0,scale:2,easing:g};class S extends i.PureComponent{constructor(...e){super(...e),h(this,"delayTimer",null),h(this,"requestAnimationFrameId",null),h(this,"playAnimation",()=>{this.requestAnimationFrameId=window.requestAnimationFrame(()=>{(0,l.Z)(k),(0,l.Z)(P),(0,l.Z)(f).finished.then(()=>{(0,l.Z)(b).finished.then(()=>{l.Z.set(`#${_}`,{transformOrigin:"top right"}),(0,l.Z)(x)})})})}),h(this,"getHeaderText",()=>{let{text:e}=this.props;return Array.isArray(e)?e[0]:e}),h(this,"getIconProps",()=>({accessibilityLabel:this.props.i18n.bt(" ", "Check icon", "Label for check icon on toast shown after board create", undefined, true),color:"inverse",icon:"check",size:30})),h(this,"getSubHeaderText",()=>{let{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""}),h(this,"renderAnimatedIcon",()=>(0,c.jsxs)(a.xu,{height:68,position:"relative",width:68,children:[(0,c.jsx)(a.xu,{"data-test-id":"pin-save-toast",width:60,height:60,overflow:"hidden",position:"absolute",rounding:4,dangerouslySetInlineStyle:{__style:{left:"4px",top:"4px"}},children:this.props.thumbnail}),(0,c.jsxs)(a.xu,{id:_,height:68,width:68,dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},position:"absolute",children:[(0,c.jsx)(a.xu,{color:"infoBase",id:y,width:68,height:68,position:"absolute",rounding:"circle",dangerouslySetInlineStyle:{__style:{left:"0px",top:"0px",transform:"scale(0)"}}}),(0,c.jsx)(a.xu,{id:v,width:66,height:66,position:"absolute",rounding:"circle",opacity:1,dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:"1px",top:"1px",transform:"scale(0)"}}}),(0,c.jsx)(a.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:68,justifyContent:"center",minHeight:68,minWidth:68,position:"absolute",rounding:"circle",width:68,children:(0,c.jsx)(a.JO,{accessibilityLabel:this.props.i18n.bt(" ", "Check icon", "Label for check icon on toast shown after board create", undefined, true),color:"inverse",icon:"check",size:30})})]})]}))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){let{isRepinToExistingBoard:e,button:t}=this.props;return(0,c.jsx)(p,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:e?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function w(e){let{duration:t,onHide:n}=e,l=(0,r.ZP)(),[d,u]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!1),g=(0,i.useRef)(),_=()=>{u(!0),g.current=setTimeout(n,200)},y=()=>{g.current&&clearTimeout(g.current)},v=()=>{g.current=setTimeout(_,t||m.w)};(0,s.Z)(()=>(setTimeout(()=>h(!0),100),v(),y));let f=(0,c.jsx)(S,{...e,i18n:l});return e.href&&(f=(0,c.jsx)(a.rU,{href:e.href,onClick:_,rounding:"pill",tapStyle:"none",children:f})),(0,c.jsx)(o.Z,{children:(0,c.jsx)(a.mh,{children:(0,c.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...function({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}({hiding:d,visible:p})}},justifyContent:"center",position:"fixed",width:"100%",display:"flex",zIndex:m.k,children:f})})})}},903201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(611756);function l(){let e=(0,i.qn)("lastViewedMiniRenux");return!!e&&Date.now()-Number(e)<2592e5}},451826:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>X,getPinResourceOptions:()=>H});var i,l,a=n(667294),r=n(702664),o=n(167912),s=n(616550),d=n(240684),c=n(243370),u=n(765456),p=n(898252),m=n(245410),h=n(578699),g=n(845092),_=n(282802),y=n(85044),v=n(331211),f=n(739425),b=n(769623),x=n(549201),k=n(272109),P=n(802071),S=n(799006),w=n(36278),T=n(898961),A=n(930359),C=n(723608),I=n(270697),j=n(994405),E=n(971467),L=n(261453),R=n(968358),F=n(199999),D=n(913137),z=n(260070),M=n(525104),O=n(712968),Z=n(935340),N=n(113309),K=n(738162),B=n(785893);let U=(0,d.ZP)({resolved:{},chunkName:()=>"tv-EpisodeCloseupPage",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(92918),n.e(69717),n.e(10293)]).then(n.bind(n,640585)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>640585}),H=({id:e,isAuthenticated:t,addUserConnectionType:n,shouldLazyLoadPinJoin:i,getPageMetadata:l,addResourceLatency:a})=>t?{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0,add_connection_type:n,add_resource_latency:a}:{id:e,field_set_key:"unauth_react_main_pin",get_page_metadata:l?"seo":void 0,add_connection_type:n,fetch_pin_join_by_default:!i},V=void 0!==i?i:i=n(907673),G=void 0!==l?l:l=n(91394);function $({description:e,dominantColor:t,graphqlRefs:n,imageSignature:i,isGif:l,isLoaded:o,isProductPin:d,isRecipePin:p,isStoryPin:m,isVideoPin:y,pinId:v,pinImage:b,pinTitle:w,renderAuthMobilePinLandingToast:A,uanuthDesktopSocialLandingPopover:C}){let I=(0,N.U)(),j=(0,r.useDispatch)(),R=(0,s.useLocation)(),M=(0,x.ZP)(),U=(0,u._)({id:1000112}),{id:H}=(0,P.Z)(),{isAuthenticated:V,isBot:G}=(0,_.B)(),$=(0,O.mN)()(null!=H?H:""),W=(0,K.I)(),q=(0,r.useSelector)(({experiences:e})=>e),Y=l&&"gif"||d&&"productPin"||p&&"recipePin"||m&&"storyPin"||y&&"video"||"image";(0,a.useEffect)(()=>{I&&setTimeout(()=>{var e;null===(e=I.preload)||void 0===e||e.call(I,new URL("pin/[id]/repin.js","file://"))},500)},[]),(0,a.useEffect)(()=>{if(W){let e=document.querySelector('div[data-test-id="CloseupMainPin"]');(0,h.w)(t=>{let{entries:i}=t,{element:l}=i[i.length-1];(0,Z.nP)("www.closeup.lcpCheck",{sampleRate:1,tags:{isAuthenticated:V,deviceType:M,isGraphQL:!!n,isMainPin:null==e?void 0:e.contains(l),nodeName:l?l.nodeName:"unknown",pinType:Y}})})}},[]),(0,c.Z)("closeup");let X=(0,x.HG)();(0,a.useEffect)(()=>{let n=()=>{j((0,z.Cp)()),window.removeEventListener("scroll",n)};if(X||G?j(m?(0,z.FK)():(0,z.Cp)()):window.addEventListener("scroll",n),V)i&&j((0,z.xu)(i));else{var l;let n=R.pathname,a=null!=e?e:"";(0,L.Mt)(n,i),(0,L.CC)({path:n,image:b,dominant_color:null!=t?t:null,pin_description:a,pin_id:v});let r=(0,f.mB)(R.search).invite_code;(0,L.dp)(n,i,v,b,null!=a?a:"",r),null!==(l=R.state)&&void 0!==l&&l.isFromNavFooterPage||(0,L.p9)(n,i,v,b,"pin")}},[R]);let J=(0,F.a)(),Q=null==J?void 0:J.onPinTypeLoad,ee=!!o;(0,a.useEffect)(()=>{ee&&Q&&Q(m)},[ee,m,Q]);let et="pin_closeup_lcp",en=(0,g.PY)(et);(0,a.useEffect)(()=>{en&&(0,g.ku)({stopwatchName:et,binaryAnnotationName:"pinType",value:Y,annotationType:"STRING"})},[en,Y]);let ei=(0,S.Z)(),el=V?(0,D.o)({canUpsellNativeApp:ei}):"unauthPostDownloadUpsell",ea=(0,E.w2)();return(0,k.Z)(()=>{if(!A||!ea||ea.hasSeenAuthMobileLandingToast)return()=>{};let{setHasSeenAuthMobileLandingToast:n}=ea,i=setTimeout(()=>{A({type:"pin",id:v,data:{title:w||e||"",imgUrl:(null==b?void 0:b.url)||"",dominantColor:t||""}})},3e3);return()=>{n(!0),clearTimeout(i)}}),(0,B.jsx)(T.Z,{clickthroughInterstitialExperience:q[1000162],experience:U,isProductPin:d,isStoryPin:m,graphqlRefs:n,pinId:v,postDownloadModalEligibilityType:el,uanuthDesktopSocialLandingPopover:C,viewerId:null!=H?H:"",viewingUser:$})}function W({pinId:e,queryRefs:t,...n}){var i,l,a,r,d,c,u,m,h,g,y,f,b;let x=(0,o.usePreloadedQuery)(G,t.pageRef),k=(0,o.useFragment)(V,null===(i=x.v3GetPinQuery)||void 0===i?void 0:i.data),{isAuthenticated:P,countryFromIp:S,country:w}=(0,_.B)();return k?k.creatorClass&&k.creatorClassInstance?(0,v.pf)(w,S,P)?(0,B.jsx)(s.Redirect,{to:"/tv/error"}):(0,B.jsx)(U,{pinId:e}):(0,B.jsx)($,{...n,description:k.description,dominantColor:k.dominantColor,graphqlRefs:{...t,pageRef:k},imageSignature:null!==(l=k.imageSignature)&&void 0!==l?l:"",isGif:(0,p.sY)(null===(a=k.embed)||void 0===a?void 0:a.type),isLoaded:!0,isProductPin:!!k.isEligibleForPdp,isRecipePin:(null===(r=k.richSummary)||void 0===r?void 0:r.typeName)==="recipe",isStoryPin:!!k.storyPinDataId,isVideoPin:!!(null!==(d=k.videos)&&void 0!==d&&null!==(c=d.videoUrls)&&void 0!==c&&c.length),pinId:e,pinImage:k.imageSpec_236x?{dominant_color:null!==(u=k.imageSpec_236x.dominantColor)&&void 0!==u?u:"",height:null!==(m=k.imageSpec_236x.height)&&void 0!==m?m:0,type:null!==(h=k.imageSpec_236x.type)&&void 0!==h?h:"",url:null!==(g=k.imageSpec_236x.url)&&void 0!==g?g:"",width:null!==(y=k.imageSpec_236x.width)&&void 0!==y?y:0}:null,pinTitle:null!==(f=null!==(b=k.gridTitle)&&void 0!==b?b:k.gridDescription)&&void 0!==f?f:"",storyPinDataId:k.storyPinDataId}):(0,B.jsx)(s.Redirect,{to:{pathname:P?"/":"/ideas/",state:{showError:!0}}})}function q({pinId:e,queryRefs:t,...n}){let i=(0,I.Z)(e);return(0,B.jsx)(a.Suspense,{fallback:i.enabled?(0,B.jsx)(C.Z,{data:i.data}):(0,B.jsx)(A.Z,{}),children:"QUERY_MISS"!==t&&(0,B.jsx)(W,{...n,pinId:e,queryRefs:t})})}function Y({pinId:e,...t}){var n,i,l,a,r,o,d,c,u;let{country:h,countryFromIp:g,isBot:f,isAuthenticated:b}=(0,_.B)(),k=(0,x.HG)(),P=(0,R.Z)(null!=g?g:"",f,k),S=(0,I.Z)(e),{checkExperiment:w}=(0,m.F)(),T=(0,j.J1)(),A=b&&w(T).group.includes("add_latency"),E=(0,y.Z)({name:"PinResource",options:H({id:e,isAuthenticated:b,addUserConnectionType:P,shouldLazyLoadPinJoin:!k&&!b&&!f,addResourceLatency:A})}),L=(0,M.S6)()(e),F=E.data||L;return null!=F&&null!==(n=F.creator_class)&&void 0!==n&&n.id&&null!==(i=F.creator_class_instance)&&void 0!==i&&i.id?(0,v.pf)(h,g,b)?(0,B.jsx)(s.Redirect,{to:"/tv/error"}):(0,B.jsx)(U,{pinId:e}):!F&&S.enabled?(0,B.jsx)(C.Z,{data:S.data}):(0,B.jsx)($,{...t,description:null==F?void 0:F.description,dominantColor:null==F?void 0:F.dominant_color,graphqlRefs:null,imageSignature:null==F?void 0:F.image_signature,isGif:(0,p.sY)(null==F?void 0:null===(l=F.embed)||void 0===l?void 0:l.type),isLoaded:!!F,isProductPin:!!(null!=F&&F.is_eligible_for_pdp),isRecipePin:(null==F?void 0:null===(a=F.rich_summary)||void 0===a?void 0:a.type_name)==="recipe",isStoryPin:!!(null!=F&&F.story_pin_data_id),isVideoPin:!!(null!=F&&null!==(r=F.videos)&&void 0!==r&&r.video_list),pinId:e,pinImage:null!==(o=null==F?void 0:null===(d=F.images)||void 0===d?void 0:d["236x"])&&void 0!==o?o:null,pinTitle:null!==(c=null!==(u=null==F?void 0:F.grid_title)&&void 0!==u?u:null==F?void 0:F.grid_description)&&void 0!==c?c:"",storyPinDataId:null==F?void 0:F.story_pin_data_id})}function X({queryRefs:e,...t}){let n=(0,s.useRouteMatch)(),{pinId:i}=(0,b.Z)(n.params.id||"");return(0,B.jsx)(w.Z,{type:"duplo",children:"GRAPHQL_DISABLED"===e?(0,B.jsx)(Y,{...t,pinId:i}):(0,B.jsx)(q,{...t,pinId:i,queryRefs:e})})}},968358:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(509342);let l=(e,t,n)=>!t&&!n&&i.ZR.has(e)},411056:(e,t,n)=>{"use strict";n.d(t,{C:()=>d,LAW_CONFIGURATION:()=>c,Z:()=>u});var i=n(682492),l=n.n(i),a=n(883119),r=n(187309),o=n(536042),s=n(785893);let d=["DMCA","Trademark","GDPR"],c={test:{LAW:"test",DECIDER_KEY:"legal_webapp_takedown_form_test",COUNTRY_CODES:["US"],API:"/v3/legal/takedowns/test/",COMPLAINTS_OFFICE:!0,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1},netzdg:{LAW:"netzdg",DECIDER_KEY:"legal_webapp_takedown_form_netzdg",COUNTRY_CODES:["DE"],API:"/v3/legal/takedowns/netzdg/",COMPLAINTS_OFFICE:!0,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1},turkey:{LAW:"turkey",DECIDER_KEY:"legal_webapp_takedown_form_turkey",COUNTRY_CODES:["TR"],API:"/v3/legal/takedowns/turkey/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1},koplg:{LAW:"koplg",DECIDER_KEY:"legal_webapp_takedown_form_koplg",COUNTRY_CODES:["AT"],API:"/v3/legal/takedowns/koplg/",COMPLAINTS_OFFICE:!0,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1},loi_fr:{LAW:"loi_fr",DECIDER_KEY:"legal_webapp_takedown_form_fr",COUNTRY_CODES:["FR"],API:"/v3/legal/takedowns/fr_dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1},dsa:{LAW:"dsa",DECIDER_KEY:"legal_webapp_takedown_form_dsa",EXPERIMENT_KEY:"legal_web_dsa_form",COUNTRY_CODES:r.Z.filter(e=>"GB"!==e&&"CH"!==e),API:"/v3/legal/takedowns/dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!0}};function u(e,t){let n=(0,o.ZP)(),i={test:{header:"Test Header",subHeader:"Test SubHeader",laws:[{name:"Test Law A",label:"Test Law A"},{name:"Test Law B",label:"Test Law B"}]},netzdg:{header:n.bt("    NetzDG", "NetzDG Complaint Form", "Takedown.NetzDG.FormTitle", undefined, true),subHeader:n.bt("     ,    ,           (NetzDG).       ,       .", "Use this form to identify content that violates German laws that are subject to the Netzwerkdurchsetzungsgesetz (NetzDG). Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.", "Takedown.NetzDG.FormDescription", undefined, true),laws:[{name:"Dissemination of propaganda material of unconstitutional organizations (Section 86 StGB)",label:n.bt("     (86   )", "Dissemination of propaganda material of unconstitutional organizations (Section 86 StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Using symbols of unconstitutional organizations (Section 86a StGB)",label:n.bt("     (86a   )", "Using symbols of unconstitutional organizations (Section 86a StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Preparation of a serious violent offense endangering the state (Section 89a StGB)",label:n.bt("   ,    (89a   )", "Preparation of a serious violent offense endangering the state (Section 89a StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Encouraging the commission of a serious violent offense endangering the state (Section 91 StGB)",label:n.bt("     ,    (91   )", "Encouraging the commission of a serious violent offense endangering the state (Section 91 StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Treasonous forgery (Section 100a StGB)",label:n.bt("  (100a   )", "Treasonous forgery (Section 100a StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Public incitement to crime (Section 111 StGB)",label:n.bt("      (111   )", "Public incitement to crime (Section 111 StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Breach of the public peace by threatening to commit offenses (Section 126 StGB)",label:n.bt("        (126   )", "Breach of the public peace by threatening to commit offenses (Section 126 StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Forming criminal organizations (Section 129 StGB)",label:n.bt("   (129   )", "Forming criminal organizations (Section 129 StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Forming terrorist organizations (Section 129a StGB)",label:n.bt("   (129a   )", "Forming terrorist organizations (Section 129a StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Criminal and terrorist organizations abroad; extended confiscation and deprivation (Section 129b StGB)",label:n.bt("     ;        (129b   )", "Criminal and terrorist organizations abroad; extended confiscation and deprivation (Section 129b StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Incitement to hatred (Section 130 StGB)",label:n.bt("  (130   )", "Incitement to hatred (Section 130 StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Dissemination of depictions of violence (Section 131 StGB)",label:n.bt("  (131   )", "Dissemination of depictions of violence (Section 131 StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Rewarding and approving of criminal offenses (Section 140 StGB)",label:n.bt("     (140   )", "Rewarding and approving of criminal offenses (Section 140 StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Insulting denominations, religious communities and ideological associations (Paragraph 166 StGB)",label:n.bt(" ,      (166   )", "Insulting denominations, religious communities and ideological associations (Paragraph 166 StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Making available child pornography by broadcasting, media services, or telecommunication services (Section 184b/184d StGB)",label:n.bt("       ,      (184b/184d   )", "Making available child pornography by broadcasting, media services, or telecommunication services (Section 184b/184d StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Insult (Section 185 StGB)",label:n.bt(" (185   )", "Insult (Section 185 StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Defamation (Section 186 StGB)",label:n.bt(" (186   )", "Defamation (Section 186 StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Intentional Defamation (Section 187 StGB)",label:n.bt(" ( 187  )", "Intentional Defamation (Section 187 StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Denigration of the memory of the deceased (Paragraph 189 StGB)",label:n.bt("   (189   )", "Denigration of the memory of the deceased (Paragraph 189 StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Violation of intimate privacy by taking photographs (Section 201a StGB)",label:n.bt("         ( 201a  )", "Violation of intimate privacy by taking photographs (Section 201a StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Threatening the commission of a felony (Section 241 StGB)",label:n.bt("   (241   )", "Threatening the commission of a felony (Section 241 StGB)", "Takedown.NetzDG.Law", undefined, true)},{name:"Forgery of data intended to provide proof (Section 269 StGB)",label:n.bt(" ,     (269   )", "Forgery of data intended to provide proof (Section 269 StGB)", "Takedown.NetzDG.Law", undefined, true)}]},turkey:{header:(0,s.jsx)(a.xu,{"data-test-id":"turkish-law-complaint-header",children:n.bt("    -  ", "Turkish Internet Law Complaint Form", "Takedown.Turkey.FormSubHeader", undefined, true)}),subHeader:n.bt("     ,    ,    -  .       ,       .", "Use this form to identify content that violates Turkish laws that are subject to the Turkish Internet Law. Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.", "Takedown.Turkey.FormSubheader", undefined, true),laws:[{label:n.bt("  ", "Personal rights violation", "Takedown.Turkey.Law.Personal", undefined, true),name:"Personal rights violation"},{label:n.bt("   ", "Privacy rights violation", "Takedown.Turkey.Law.Privacy", undefined, true),name:"Privacy rights violation"}]},koplg:{header:n.bt(" KOPL-G ()", "Austria KoPl-G Form", "AustriaKoPl-G.FormTitle", undefined, true),subHeader:n.bt("     ,    ,           (KOPL-G).       ,       .", "Use this form to identify content that violates Austrian laws that are subject to the Kommunikationsplattformen-Gesetz (KoPl-G). Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.", "AustriaKoPl-G.FormDescription", undefined, true),laws:[{label:"N\xf6tigung",name:"N\xf6tigung"},{label:"Gef\xe4hrliche Drohung",name:"Gef\xe4hrliche Drohung"},{label:"Beharrliche Verfolgung",name:"Beharrliche Verfolgung"},{label:"Fortdauernde Bel\xe4stigung im Wege einer Telekommunikation",name:"Fortdauernde Bel\xe4stigung im Wege einer Telekommunikation"},{label:"Vorwurf einer schon abgetanen gerichtlich strafbaren Handlung",name:"Vorwurf einer schon abgetanen gerichtlich strafbaren Handlung"},{label:"Beleidigung",name:"Beleidigung"},{label:"Unbefugte Bildaufnahmen",name:"Unbefugte Bildaufnahmen"},{label:"Erpressung",name:"Erpressung"},{label:"Herabw\xfcrdigung religi\xf6ser Lehren",name:"Herabw\xfcrdigung religi\xf6ser Lehren"},{label:"Pornographische Darstellungen Minderj\xe4hriger",name:"Pornographische Darstellungen Minderj\xe4hriger"},{label:"Anbahnung von Sexualkontakten zu Unm\xfcndigen",name:"Anbahnung von Sexualkontakten zu Unm\xfcndigen"},{label:"Terroristische Vereinigung",name:"Terroristische Vereinigung"},{label:"Anleitung zur Begehung einer terroristischen Straftat",name:"Anleitung zur Begehung einer terroristischen Straftat"},{label:"Anleitung zu terroristischen Straftaten und Guthei\xdfung terroristischer Straftaten",name:"Anleitung zu terroristischen Straftaten und Guthei\xdfung terroristischer Straftaten"},{label:"Verhetzung",name:"Verhetzung"},{label:"Nazionalsozialistische Propaganga",name:"Nazionalsozialistische Propaganga"}]},loi_fr:{header:n.bt("     ", "Bill confirming respect for the principles of the Republic Form", "French_DSA.FormTitle", undefined, true),subHeader:n.bt("     ,    ,        .       ,       .", "Use this form to identify content that violates French laws that are subject to the bill confirming respect for the principles of the Republic. Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.", "French_DSA.FormDescription", undefined, true),laws:[{name:"Apology of/sympathy to crimes",label:n.bt("      ", "Apology of/sympathy to crimes", "French_DSA.Law", undefined, true)},{name:"Provocation to discrimination, hatred or violence on the ground of origin, ethnic group, nation, race or religion, or sex, sexual orientation or gender identity or their disability",label:n.bt("  ,      ,  , ,   , ,  ,    ", "Provocation to discrimination, hatred or violence on the ground of origin, ethnic group, nation, race or religion, or sex, sexual orientation or gender identity or their disability", "French_DSA.Law", undefined, true)},{name:"Challenging the existence of crimes against humanity, denial, minimization or trivialization of crimes of genocide, crimes of enslavement or war crimes",label:n.bt("    , ,     ,    ", "Challenging the existence of crimes against humanity, denial, minimization or trivialization of crimes of genocide, crimes of enslavement or war crimes", "French_DSA.Law", undefined, true)},{name:"Sexual harassment",label:n.bt(" ", "Sexual harassment", "French_DSA.Law", undefined, true)},{name:"Child pornography",label:n.bt(" ", "Child pornography", "French_DSA.Law", undefined, true)},{name:"Human trafficking",label:n.bt(" ", "Human trafficking", "French_DSA.Law", undefined, true)},{name:"Procuring/pimping",label:n.bt("/", "Procuring/pimping", "French_DSA.Law", undefined, true)},{name:"Direct provocation or public apology for acts of terrorism",label:n.bt("        ", "Direct provocation or public apology for acts of terrorism", "French_DSA.Law", undefined, true)},{name:"Insult based on origin, ethnic group, nation, race or religion",label:n.bt("   ,  , ,   ", "Insult based on origin, ethnic group, nation, race or religion", "French_DSA.Law", undefined, true)},{name:"Insult based on gender, sexual orientation, gender identify or disability",label:n.bt("   ,    ,    ", "Insult based on gender, sexual orientation, gender identify or disability", "French_DSA.Law", undefined, true)}]},dsa:{header:n.bt("       ", "European Union Illegal Content Reporting Form", "DSA.FormTitle", undefined, true),subHeader:n.bt("      , ,   ,     .        ,       .", "Use this form to report content you believe to be illegal in the European Union. Please fill out the form with as much detail as possible to allow us to efficiently evaluate your report.", "DSA.FormDescription", undefined, true),laws:[{name:"Promoting or condoning terrorist acts",label:n.bt("    ", "Promoting or condoning terrorist acts", "DSA.Law", undefined, true),subtext:n.bt(",        ", "E.g., Incitement to or apology of terrorist acts", "DSA.Law", undefined, true)},{name:"Threatening commission of or condoning serious criminal offense",label:n.bt("      ", "Threatening commission of or condoning serious criminal offense", "DSA.Law", undefined, true),subtext:n.bt(",           ", "E.g., Threats to commit serious criminal offense against individuals or their condemnation", "DSA.Law", undefined, true)},{name:"Child sexual abuse material (CSAM)",label:n.bt("      (CSAM)", "Child sexual abuse material (CSAM)", "DSA.Law", undefined, true),subtext:n.bt(",    ,    ", "E.g., Dissemination or procurement of child pornographic content", "DSA.Law", undefined, true)},{name:"Hate speech, hateful acts and discrimination",label:n.bt(" ,    ", "Hate speech, hateful acts and discrimination", "DSA.Law", undefined, true),subtext:n.bt(",  ,            ", "E.g., Incitement to hatred, violence or discrimination against protected and vulnerable groups", "DSA.Law", undefined, true)},{name:"Graphic Violence",label:n.bt(" ", "Graphic Violence", "DSA.Law", undefined, true),subtext:n.bt(",      , ,    ", "E.g., Gore/graphic wounds and mutilation, beatings, excessive blood, corpses", "DSA.Law", undefined, true)},{name:"Denying or condoning crimes against humanity",label:n.bt("     ", "Denying or condoning crimes against humanity", "DSA.Law", undefined, true),subtext:n.bt(",  ,       ", "E.g., Denial of genocides, war crimes and other crimes against humanity", "DSA.Law", undefined, true)},{name:"Illegal goods and services",label:n.bt("   ", "Illegal goods and services", "DSA.Law", undefined, true),subtext:n.bt(",   ,      ", "E.g., Illegal sale of drugs, live animals or the illegal offer of services", "DSA.Law", undefined, true)},{name:"Harassment",label:n.bt(" ", "Harassment", "DSA.Law", undefined, true),subtext:n.bt(",      ", "E.g., Online stalking or sexual harassment", "DSA.Law", undefined, true)},{name:"Harmful to minors",label:n.bt("  ", "Harmful to minors", "DSA.Law", undefined, true),subtext:n.bt(",      ,      ,     ", "E.g., Incitement of minors to engage in actions which put them in physical danger or to intentionally harm themselves", "DSA.Law", undefined, true)},{name:"Nudity or pornography",label:n.bt("    ", "Nudity or pornography", "DSA.Law", undefined, true),subtext:n.bt(",   ", "E.g., Dissemination of pornographic content", "DSA.Law", undefined, true)},{name:"Disinformation",label:n.bt("", "Disinformation", "DSA.Law", undefined, true),subtext:n.bt(",       ", "E.g., Deliberate disinformation of individuals or groups of people", "DSA.Law", undefined, true)},{name:"Affront to personal honor",label:n.bt(" ", "Affront to personal honor", "DSA.Law", undefined, true),subtext:n.bt(",   ", "E.g., Insults or defamation", "DSA.Law", undefined, true)},{name:"Violation of privacy",label:n.bt(" ", "Violation of privacy", "DSA.Law", undefined, true),subtext:n.bt(",     ", "E.g., Non-consensual sharing of private images", "DSA.Law", undefined, true)},{name:"DMCA",label:n.bt("  ", "Copyright infringement", "DSA.Law", undefined, true),subtext:(0,s.jsxs)(a.xv,{size:"100",inline:!0,color:"warning",children:[" ",n.bt("", "Fill out the", "Dsa.Law.DMCA", undefined, true),(0,s.jsxs)(a.rU,{href:"https://www.pinterest.com/about/copyright/dmca-pin/",underline:"always",display:"inline",children:[" ",n.bt("       ", " Copyright Complaint form here", "DSA.Law", undefined, true)]})]})},{name:"Trademark",label:n.bt("    ", "Trademark infringement", "DSA.Law", undefined, true),subtext:(0,s.jsxs)(a.xv,{size:"100",inline:!0,color:"warning",children:[" ",n.bt(" ", "Fill out the ", "Dsa.Law.Trademark", undefined, true),(0,s.jsxs)(a.rU,{href:"https://www.pinterest.com/about/trademark/",underline:"always",display:"inline",children:[" ",n.bt("        ", "Trademark Complaint form here", "DSA.Law", undefined, true)]})]})},{name:"GDPR",label:n.bt("   ", "Contains my personal data", "DSA.Law", undefined, true),subtext:(0,s.jsxs)(a.xv,{size:"100",inline:!0,color:"warning",children:[" ",n.bt("  ,       : ", "You can delete your data by going to your settings or by contacting ", "Dsa.Law.GDPR", undefined, true),(0,s.jsxs)(a.rU,{href:"mailto:privacy-support@pinterest.com",underline:"always",display:"inline",children:[" ",n.bt("privacy-support@pinterest.com", "privacy-support@pinterest.com", "DSA.Law", undefined, true)]})]})},{name:"Other illegal behavior",label:n.bt("  ", "Other illegal behavior", "DSA.Law", undefined, true),subtext:n.bt("  ,          ", "Report behavior that does not match the above categories here", "DSA.Law", undefined, true)}]}},r={header:n.bt("  ", "Complaint Information", "AustriaKoPl-G.ComplaintInformation.Header", undefined, true),reportedUrl:n.bt(" URL- ", "Identify the URL of the content", "AustriaKoPl-G.ContentUrlField", undefined, true),dsaReportedUrl:n.bt(" URL- ,     ", "What is the URL of the content you want to report?", "Dsa.ContentUrlField", undefined, true),reportedUrlHelperText:n.bt("  URL- ,     .         .", "Please provide the full URL of the content you are complaining about. 1 URL per form.", "AustriaKoPl-G.ComplaintInformation.ContentUrl.HelperText", undefined, true),contentPortionHeader:n.bt("  ,     ", "What portion(s) of the content are you reporting?", "AustriaKoPl-G.ContentReporting.Header", undefined, true),dsaContentPortionHeader:n.bt("  ,     ", "What portion of the content are you reporting?", "DSA.ContentReporting.Header", undefined, true),lawsViolatedLabel:n.bt("(-) (-),   ,   ?", "Which law(s) do you believe the content violates?", "AustriaKoPl-G.ContentReporting.Header", undefined, true),dsaLawsViolatedLabel:n.bt("          ?", "Why do you think this content is illegal under local law?", "DSA.ContentReporting.Header", undefined, true),dsaLawsViolatedSubtext:n.bt("   ,  ,       .", "Please carefully consider the option you select, so we can address your report as efficiently as possible.", "DSA.ContentReporting.Subtext", undefined, true),otherLabel:n.bt("   ", "Enter other portion of content", "AustriaKoPl-G.ContentPortion.OtherValue", undefined, true),dsaOtherLabel:n.bt("   ,    ", "Please describe what other portion of the content you are reporting", "DSA.ContentPortion.OtherValue", undefined, true),additionalInformationLabel:n.bt("      ()", "Additional information on illegality of content (Optional)", "AustriaKoPl-G.ContentReporting.Header", undefined, true),additionalInformationPlaceholder:n.bt("  250", "250 character limit...", "AustriaKoPl-G.ContentReporting.Header", undefined, true),dsaAdditionalInformationLabel:n.bt("    ,     .           ().", "Please provide additional information about why you think the content is illegal. You may cite or link to relevant statutes, if you like. (Optional)", "DSA.ContentReporting.Header", undefined, true),dsaAdditionalInformationPlaceholder:n.bt("   ", "Provide additional details here", "DSA.ContentReporting.Placeholder", undefined, true),countryHeader:n.bt("        ?", "Under what countrys laws do you believe this content is illegal?", "DSA.Country.Header", undefined, true),otherViolationLabel:n.bt("  ,          ", "Report behavior that does not match the above categories here", "DSA.OtherViolation.Field", undefined, true),attachmentLabel:n.bt("     ,        (  ),    .   PDF-,    5.", "If you have additional documents that could help us understand your report (e.g., court order), you can attach it here. Please upload PDFs only, with a maximum file size of 5 MB.", "DSA.OtherViolation.Field", undefined, true),moduleCollapseLabel:n.bt(" ", "Collapse the module", "DSA.CollapseModule", undefined, true),moduleExpandLabel:n.bt(" ", "Expand the module", "DSA.ExpandModule", undefined, true),noCountryResultText:n.bt("    ", "No countries found", "DSA.NoCountries", undefined, true),clearButtonLabel:n.bt("  ", "Clear search field", "DSA.ClearInput", undefined, true),invalidUrlText:n.bt(" URL-", "Invalid URL", "DSA.Invalid Url", undefined, true),selectedLawErrorText:n.bt("     ", "Please fill out the appropriate form for this complaint", "DSA.InvalidLaw", undefined, true),multiselectPlaceholder:n.bt(" ", "Select an option", "DSA.Multiselect.Placeholder", undefined, true)},d={contactHeader:n.bt(" ", "Contact Information", "TakedownsContactInformation.OwnerInformationHeading", undefined, true),companyCheckbox:n.bt("      ? ()", "Do you represent a complaints office? (Yes)", "TakedownsContactInformation.ComplaintsOfficeValidation", undefined, true),company:n.bt("   ", "Complaints office", "TakedownsContactInformation.ComplaintsOfficeNameField", undefined, true),trustedFlaggerCheckbox:n.bt("  ? ()", "Are you a trusted flagger? (Yes)", "TakedownsContactInformation.TrustedFlagger", undefined, true),trustedFlaggerSubtext:n.bt("    ,  ,   ,     ", "Trusted flaggers are designated parties, usually associated with NGOs, government entities, or private bodies", "TakedownsContactInformation.TrustedFlaggerSubtext", undefined, true),anonSubmissionCheckbox:n.bt("  ? ()", "Do you wish to remain anonymous? (Yes)", "TakedownsContactInformation.AnonSubmission", undefined, true),anonSubmissionSubtext:n.bt("    ,         ,         .", "If you select this box, you will not receive any additional communications about your report, including the final outcome of your report.", "TakedownsContactInformation.AnonSubmissionSubtext", undefined, true),organization:n.bt(" ", "Organization Name", "TakedownsContactInformation.OrganizationNameField", undefined, true),name:n.bt(" ", "Name of Reporter", "TakedownsContactInformation.NameField", undefined, true),email:n.bt(" . ", "Email Address", "TakedownsContactInformation.EmailField", undefined, true),phone:n.bt(" ", "Phone Number", "TakedownsContactInformation.PhoneField", undefined, true),address:n.bt(" ", "Full Address", "TakedownsContactInformation.AddressField", undefined, true)},u={termsHeading:n.bt("  ,  , :", "By checking the following boxes, I confirm:", "TakedownsForm.LabelForCheckboxes", undefined, true),isAccurate:n.bt("     .", "The information in this application is accurate.", "TakedownsContactInformation.isAccurateBoolean", undefined, true),consequences:n.bt(" ,                      Pinterest    .", "I understand that if I use this form to submit fraudulent or abusive complaints, I might be subject to claims of liability by Pinterest or other third parties.", "temp", undefined, true),possibleSuspension:n.bt(" ,                   Pinterest.", "I understand that frequently submitting reports that are fraudulent or abusive may lead Pinterest to suspend the processing of my reports.", "TakedownsContactInformation.possibleSuspension", undefined, true),terms:(0,s.jsx)(a.xv,{children:n.bt("   ,     (-) (-).", "I have a good faith belief that the content violates the law(s) identified.", "TakedownsContactInformation.termsBoolean", undefined, true)}),dsaIsAccurate:n.bt(" ,           .", "I have a good faith belief that the information and allegations contained in this report are accurate and complete.", "TakedownsContactInformation.DSA.termsBoolean", undefined, true),submitText:n.bt("", "Submit", "TakedownsForm.SubmitApplication", undefined, true),cancelText:n.bt("", "Cancel", "TakedownsForm.CancelApplication", undefined, true),errorCallout:n.bt("      ", "Please fill out all required fields before submitting the application", "CCP.AppValidationCallout", undefined, true)},p={pin_image:n.bt("   ", "Pin Image / Video", "TakedownsForm.ContentPortion.Image", undefined, true),pin_description:n.bt(" ", "Pin Description", "TakedownsForm.ContentPortion.Description", undefined, true),pin_notes:n.bt("/  ", "Pin Comments / Notes", "TakedownsForm.ContentPortion.Notes", undefined, true),profile_image:n.bt(" ", "Profile Image", "TakedownsForm.ContentPortion.Image", undefined, true),profile_name:n.bt(" ", "Profile Name", "TakedownsForm.ContentPortion.Name", undefined, true),profile_description:n.bt(" ", "Profile Description", "TakedownsForm.ContentPortion.Description", undefined, true),board_name:n.bt(" ", "Board Name", "TakedownsForm.ContentPortion.Name", undefined, true),board_description:n.bt(" ", "Board Description", "TakedownsForm.ContentPortion.Description", undefined, true),other:n.bt("", "Other...", "TakedownsForm.ContentPortion.Other", undefined, true)},m=l()({takedown:i[e],contactInformation:d,complaints:r,terms:u,reportedPortion:p},t);return l()({configuration:c[e],translations:m})}},434927:(e,t,n)=>{"use strict";n.d(t,{AL:()=>L,CY:()=>s,Ct:()=>b,FW:()=>c,Jd:()=>v,Lc:()=>l,M5:()=>F,MV:()=>x,OL:()=>S,RA:()=>g,RZ:()=>i,S2:()=>a,S7:()=>A,Tx:()=>f,Vr:()=>p,XP:()=>E,Ym:()=>w,Zf:()=>m,aj:()=>r,bQ:()=>_,gn:()=>d,hK:()=>k,jn:()=>C,k6:()=>u,mD:()=>h,oF:()=>P,oZ:()=>T,oc:()=>I,wL:()=>y,wS:()=>o,wW:()=>R,yd:()=>j});let i=1200,l=240,a=426,r=60,o=1100,s=8,d=200,c=8,u=2,p="400",m=71+4*c,h="OVERVIEW",g="VISUALS",_="PRODUCTS",y="ATTENDEES",v="REVIEW",f={UPCOMING:1,PREVIOUS:2,PENDING:3,DRAFT:4,REJECTED:5},b={PRE_LIVE:1,OFFLINE:2,LIVE:3,POST_LIVE:4},x={NORMAL:1,PRODUCT_DROP:2,SHOPPING:3},k={NORMAL:1,PRODUCT_DROP:2,SHOPPING:3},P={PENDING:1,REJECTED:2,APPROVED:3,DRAFT:4,SOFT_REJECTED:5},S={BAD_TITLE:1,BAD_COVER_IMAGE:2,BAD_DATETIME:3,TITLE_NOT_DESCRIPTIVE:4,ALREADY_BOOKED_TIME:5,START_TIME_IN_PAST:6,COVER_IMG_BLURRY:7,COVER_IMG_CONTENT:8,COVER_IMG_FAIL_GUIDELINES:9,VIDEO_CONTENT:10},w={TRENDSETTER:0,IMMERSIVE:1,HOW_TO:2,TRANSFORMATIVE:3,LIVE_EVENT:4},T={PENDING:0,APPROVED:1,HIDDEN:2},A={CREATOR_STUDIO:1,PINTEREST_APP:2,MANAGED:3},C={CLASS_HERO_VIDEO:"1",CLASS_INSTANCE_HERO_VIDEO:"2",CLASS_INSTANCE_REPLAY_VIDEO:"3",APPLICATION_EXAMPLE_VIDEO:"4"},I={NO_LIVE_CREATOR:1,MANAGED_CREATOR:2,COMMUNITY_CREATOR:3,ORGANIC_CREATOR:4},j=new Intl.DateTimeFormat().resolvedOptions().timeZone||"America/Los Angeles",E={PIN_ID:"424605071130991177",PIN_URL:"https://www.pinterest.com/pin/424605071130991177/",PIN_URL_SHORTENED:"https://pin.it/2T2eRb6"},L={IS_SPONSORED:!0,IS_NOT_SPONSORED:!1},R={IS_SPONSORED:"I am receiving something of value for including links or promoting a brand/product in my episode.",IS_NOT_SPONSORED:"I am not receiving anything of value from a brand/product for including links or a brand/product in my episode OR I am not including any brand/product in my episode."},F="Anytime you receive something of value to promote a brand or its product(s), you have an obligation to disclose that. Something of value can be money, like affiliate earnings or direct payments from the brand. It can also be free products or even discounts on products. If your episode includes multiple products and you were only compensated for some of those products, you must still disclose that."},952055:(e,t,n)=>{"use strict";function i(e,t,n){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}n.d(t,{Z:()=>i})},789144:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=(e,t)=>`${e}:${t||""}`},248641:(e,t,n)=>{"use strict";n.d(t,{O:()=>o,Q:()=>s});var i=n(756513),l=n(789144),a=n(541268);let r=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],o={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:i},l)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...l?{orbac_subject_id:l}:Object.freeze({})})},s=e=>r.reduce((t,n)=>{let r=[(0,a.N8)("profileBoards",(0,l.Z)(e,n))];return[!0,!1].forEach(t=>{[!0,!1].forEach(l=>{r.push((0,i.jB)(o.name,o.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:l})))})}),t.concat(r)},[])},176081:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(667294);function l(e,t){let n=null,l=null,a=null,r=()=>{if(n){let t=n.clientHeight,i=n.clientWidth;(l!==t||a!==i)&&(l=t,a=i,e(n)),window.requestAnimationFrame(r)}},o=t=>{n&&n===t||(n=t,l=t.clientHeight,a=t.clientWidth,e(n),r())},s=()=>{n=null};(0,i.useEffect)(()=>(t.current&&o(t.current),()=>{s()}),[t])}},953595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(883119),l=n(88622),a=n(536042),r=n(630089),o=n(837792),s=n(549201),d=n(785893);let c=o.K_Y+"?source=block_dialogue";function u({firstName:e,onBlockUser:t,onClearModal:n}){let o=(0,a.ZP)(),u=(0,s.HG)(),p=(0,r.nk)(o.bt("  {{ firstName }}?", "Block {{ firstName }}?", "blockUser.modal.header", undefined, true),{firstName:e}).join(""),m=(0,r.nk)(o.bt("  {{ firstName }},       ,     .   -    .", "Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each others profiles.", "blockUser.modal.description", undefined, true),{firstName:e});return u?(0,d.jsxs)(l.ZP,{accessibilityModalLabel:p,onDismiss:n,heading:p,footer:(0,d.jsxs)(i.xu,{marginStart:-1,marginEnd:-1,display:"flex",alignItems:"center",justifyContent:"end",children:[(0,d.jsx)(i.xu,{padding:1,children:(0,d.jsx)(i.zx,{fullWidth:!0,size:"md",text:o.bt("", "Cancel", "blockUser.modal.cancel", undefined, true),onClick:n})}),(0,d.jsx)(i.xu,{padding:1,children:(0,d.jsx)(i.zx,{fullWidth:!0,size:"md",color:"red",text:o.bt("", "Block", "Button to confirm blocking a user", undefined, true),onClick:t})})]}),role:"alertdialog",size:"md",children:[(0,d.jsx)(i.xu,{padding:4,"data-test-id":"block-text",children:(0,d.jsx)(i.xv,{children:m})}),(0,d.jsx)(i.xu,{padding:4,children:(0,d.jsx)(i.xv,{color:"default",weight:"bold",children:(0,d.jsx)(i.rU,{target:"blank",href:c,children:o.bt("", "Learn more", "link to help center to learn more about blocking", undefined, true)})})})]}):(0,d.jsxs)(l.ZP,{accessibilityModalLabel:p,onDismiss:n,mobileHideCloseIcon:!0,type:"block_button",children:[(0,d.jsx)(i.xu,{paddingX:3,paddingY:5,alignItems:"center",display:"flex",children:(0,d.jsx)(i.X6,{accessibilityLevel:1,size:"500",children:p})}),(0,d.jsx)(i.xu,{marginBottom:3,marginStart:2,marginEnd:2,children:(0,d.jsx)(i.xv,{align:"center",children:m})}),(0,d.jsxs)(i.xu,{marginStart:-1,marginEnd:-1,display:"flex",alignItems:"center",justifyContent:"center",children:[(0,d.jsx)(i.xu,{padding:1,children:(0,d.jsx)(i.zx,{fullWidth:!0,size:"md",text:o.bt("", "Cancel", "blockUser.modal.cancel", undefined, true),onClick:n})}),(0,d.jsx)(i.xu,{padding:1,children:(0,d.jsx)(i.zx,{fullWidth:!0,size:"md",color:"red",text:o.bt("", "Block", "Button to confirm blocking a user", undefined, true),onClick:t})})]})]})}},407264:(e,t,n)=>{"use strict";n.d(t,{$n:()=>f,A4:()=>P,CE:()=>h,ET:()=>I,F$:()=>v,Kw:()=>A,Nv:()=>T,PA:()=>k,X_:()=>C,d9:()=>b,e1:()=>m,o4:()=>w,vB:()=>_});var i=n(782677),l=n(690108),a=n(970588),r=n(575794),o=n(756513),s=n(911767),d=n(541268),c=n(1731),u=n(255655),p=n(274796);function m(e){return t=>{let{boardId:n,sectionIdBefore:i,sectionIdAfter:l,sourceSectionId:r,targetSectionId:o}=e;t((0,d._f)({feedType:p.Z.BOARD_SECTIONS,feedId:n,itemType:"boardsection",sourceItemId:r,targetItemId:o}));let s=Object.freeze({});return i&&(s={...s,section_before:i}),l&&(s={...s,section_after:l}),(0,a.Z)({url:`/v3/board/sections/${r}/reorder/`,method:"POST",data:s})}}function h(e,t){return n=>n((0,r.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}function g(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function _({boardId:e,name:t,nameSource:n,pinImport:i,initialPinIds:a=[]},r,u,m){let h=0;"RECOMMENDATION"===n?h=1:"EDITED_RECOMMENDATION"===n&&(h=2);let _={board_id:e,initial_pins:i&&!i.all?i.pinIds:a,name:t,name_source:h,...u?{orbac_subject_id:u}:Object.freeze({})};return t=>l.Z.create("BoardSectionResource",_).callCreate({showError:!1}).then(({resource_response:{data:n}})=>{m({event_type:7100,object_id_str:n.id}),t(g(e,n)),t((0,d.vX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[n.id],itemType:"boardsection"})),t((0,s.Tq)(e,"pin_count")),t((0,o.jB)("BoardSectionsRepinResource",{board_id:e}));let{all:l,pinIds:a}=i||{all:!1,pinIds:[]};return l?new Promise((i,l)=>t((0,c.Z)({inverseSelection:!0,selectedPinIds:a,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:n.id}},r)).then(()=>i(n)).catch(l)):(a.length>0&&t((0,d.N8)(p.Z.BOARDFEED,e)),n)})}function y(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function v(e,t,n){return i=>l.Z.create("BoardSectionEditResource",{section_id:t,...n?{orbac_subject_id:n}:Object.freeze({})}).callDelete({showError:!1}).then(()=>Promise.all([i(y(e,t)),i((0,d.EX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[t],itemType:"boardsection"})),i((0,s.Tq)(e,"pin_count")),i((0,o.jB)("BoardSectionsRepinResource",{board_id:e}))]))}function f(e,t,n,i){return a=>l.Z.create("BoardSectionEditResource",{section_id:t,title:n,...i?{orbac_subject_id:i}:Object.freeze({})}).callCreate({showError:!1}).then(t=>{let n=t.resource_response.data;return a(t=>{let i=n.board;if(i&&i.id!==e){var l,a,r,o,c;t(y(e,null!==(l=n.id)&&void 0!==l?l:"")),t((0,d.EX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[null!==(a=n.id)&&void 0!==a?a:""],itemType:"boardsection"})),t((0,s.Tq)(e,"pin_count")),t(g(null!==(r=i.id)&&void 0!==r?r:"",n)),t((0,d.vX)({feedId:null!==(o=i.id)&&void 0!==o?o:"",feedType:p.Z.BOARD_SECTIONS,itemIds:[null!==(c=n.id)&&void 0!==c?c:""],itemType:"boardsection"})),t((0,s.Tq)(e,"pin_count"))}else t({type:"SECTION_UPDATED",payload:{boardId:e,section:n}})}),a((0,o.jB)("BoardSectionsRepinResource",{board_id:e})),n})}function b(e,t,n){return i=>(0,a.Z)({url:`/v3/board/sections/${t}/merge/${n}/`,method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then(l=>Promise.all([i(y(e,t)),i((0,o.jB)("BoardSectionsRepinResource",{board_id:e})),i(h(n)),i((0,d.N8)(p.Z.BOARD_SECTION_PINS,n))]).then(()=>l))}let x=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t}),k=(e,t)=>n=>l.Z.create("BoardSectionEditResource",{...t,section_id:e}).callCreate().then(i=>(n(x(e,t)),i.resource_response.data)),P=e=>t=>l.Z.create("BoardSectionResource",{section_id:e}).callGet().then(n=>{let i=n.resource_response.data||{id:"",title:""};return t(x(e,i)),n}),S=(e,t,n,i)=>({type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:t,boardId:n,pinCount:i}}),w=(e,t,n,i)=>a=>{let r=l.Z.create("BoardSectionEditResource",{section_id:t}).callDelete();return a(S(e,t,n,i)),r},T=(e,t,n,a)=>r=>{let s={board_id:e,initial_pins:t,name:n},c="BoardSectionResource";return l.Z.create(c,s).callCreate().then(n=>{let l=n.resource_response.data,m=(0,i.Fv)(l,u.Z[c]);return a({event_type:7100,object_id_str:l.id}),r((0,o.XM)(c,s,n,m)),r(g(e,l)),r((0,d.vX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[l.id],itemType:"boardsection"})),t.length&&r({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:l.id},pinIds:t}}),n})},A=e=>t=>{let{source:n,target:a,pinIds:r}=e;if(t({type:"PINS_MOVE",payload:e}),n.boardlessPins||a.boardId!==n.boardId){let e={board_id:a.boardId,pin_ids:r,section_id:a.sectionId};return l.Z.create("BulkEditResource",e).callUpdate()}if(a.sectionId){let e={section_id:a.sectionId,pins:r},n="BoardSectionEditResource";return l.Z.create(n,e).callUpdate().then(l=>{let a=(0,i.Fv)(l.resource_response.data,u.Z[n]);return t((0,o.XM)(n,e,l,a)),l})}let s={section_id:n.sectionId,pins:r};return l.Z.create("BoardSectionPinsResource",s).callDelete()},C=e=>t=>{t({type:"PINS_MOVE_ALL",payload:e});let{source:n,target:i,excludePinIds:a}=e,r={board_id:n.boardId,new_board_id:i.boardId,pin_ids:a,old_section_id:n.sectionId,new_section_id:i.sectionId};return l.Z.create("BulkEditSelectAllResource",r).callUpdate()},I=(e,t,n,i,l)=>a=>a(T(e,[],t,l)).then(t=>{let l=t.resource_response.data.id;return a(C({source:{boardId:e,sectionId:i},target:{boardId:e,sectionId:l},excludePinIds:n}))})},911767:(e,t,n)=>{"use strict";n.d(t,{Br:()=>m,Cr:()=>T,K8:()=>f,L1:()=>D,Tq:()=>y,YQ:()=>F,YV:()=>w,ZP:()=>A,aX:()=>C,eo:()=>g,fJ:()=>M,md:()=>h,oG:()=>_,oL:()=>I,of:()=>b,xH:()=>v,xQ:()=>x,xR:()=>R,xk:()=>P,yT:()=>p,zS:()=>z});var i=n(690108),l=n(40045),a=n(970588),r=n(575794),o=n(756513),s=n(952055),d=n(248641),c=n(541268),u=n(274796);function p(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function m(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function h(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function g({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}}}let _=(e,t)=>n=>n((0,r.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function y(e,t,n){return(0,r.U)("BoardResource",{options:{board_id:e,field_set_key:t,...n?{orbac_subject_id:n}:{}}})}function v(e,t,n){return i=>(0,a.Z)({url:`/v3/boards/${e}/merge/${t}/`,method:"POST",data:n?{orbac_subject_id:n}:{}}).then(()=>Promise.all([i(g({boardId:e})),i(y(t,"pin_count")),i((0,c.N8)(u.Z.BOARD_SECTIONS,t))]))}function f(e){return t=>{e&&(0,d.Q)(e).forEach(e=>{t(e)})}}let b=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),x=e=>_(e,"pin_count");function k(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function P(e,t){return n=>(n(k(e)),i.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function S(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function w(e,t){return n=>(n(S(e)),i.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}let T=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),A=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function C(e,t,n){let a={name:e,privacy:l.Z.BoardPrivacy.PUBLIC,username:t,...n?{orbac_subject_id:n}:Object.freeze({})};return e=>i.Z.create("BoardResource",a).callCreate().then(n=>{let i=n.resource_response.data;return e(t&&(0,o.jB)("BoardsResource",(0,s.Z)(t,!1))),i})}function I(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}let j=(e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),E=(e,t,n)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:n}}),L=(e,t,n,i)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:n,collaboratingUsers:i}}),R=(e,t,n)=>async l=>{l(j(e,t));let a=await i.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();return a.resource_response.error||n({event_type:29,object_id_str:e}),a},F=(e,t,n,l,a,r)=>async o=>{var s,d;let c="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";o(E(e,null!==(s=null==l?void 0:l.id)&&void 0!==s?s:"",n));try{let n=await i.Z.create(c,{board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(d=null==l?void 0:l.id)&&void 0!==d?d:"",...r?{orbac_subject_id:r}:{}}).callDelete();n.resource_response.error||a({event_type:"accepted"===t?25:29,object_id_str:e})}catch(i){o(L(e,n,t,[l]))}},D=(e,t,n,l)=>a=>{let r=i.Z.create("BoardResource",{board_id:n}).callDelete();return a(g({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:l})),r},z=(e,t)=>n=>i.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then(i=>(n((0,c.Qv)("archived-boards",[{id:e,type:"board"}])),n(k(e,t)),i)),M=(e,t)=>n=>i.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then(i=>(n((0,c.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),n(S(e)),i))},844689:(e,t,n)=>{"use strict";n.d(t,{V:()=>r,u:()=>a});var i=n(690108),l=n(911767);let a=e=>t=>i.Z.create("BoardResource",{board_id:e}).callGet().then(e=>{let n=e&&e.resource_response&&e.resource_response.data;return n&&t((0,l.yT)(n)),e});function r(e,t,n){return(a,r)=>{let{boards:o}=r(),s=o[e],d=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},c={allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description,name:t.name,privacy:t.privacy,sensitivity:t.sensitivity||null,...n?{orbac_subject_id:n}:Object.freeze({}),...d};return a((0,l.yT)({...c,id:e})),i.Z.create("BoardResource",{...c,board_id:e}).callUpdate().then(e=>{let n=e&&e.resource_response&&e.resource_response.data||t;return a((0,l.yT)(n)),e}).catch(e=>{throw s&&a((0,l.yT)(s)),e})}}},952239:(e,t,n)=>{"use strict";n.d(t,{DD:()=>u,lg:()=>p,Th:()=>h,YH:()=>s,wH:()=>o,IU:()=>m,L8:()=>c});var i=n(690108),l=n(970588),a=n(541268),r=n(274796);function o({didItDataId:e,isLikedByMe:t}){return n=>((0,l.Z)({url:`/v3/did_it/${e}/like/`,method:t?"DELETE":"POST"}),n({type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:!t}}))}function s({didItDataId:e,isMarkedHelpfulByMe:t}){return n=>((0,l.Z)({url:`/v3/helpful/2/${e}/`,method:t?"DELETE":"POST"}),n({type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:!t}}))}function d(e){return{type:"USER_DID_IT_DATA_DELETE",payload:{id:e}}}function c(e,t){return{type:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}function u({aggregatedPinDataId:e,details:t,fromUnifiedComment:n,image_signatures:l,pin_id:o,username:s,updateParentDidItCount:d}){let u={aggregatedPinDataId:e,details:t,image_signatures:l,pin_id:o};return t=>i.Z.create("DidItActivityResource",u).callCreate().then(i=>{let l=i.resource_response.data;t({type:"PIN_DID_IT",payload:{id:o,value:!0}}),t({type:"USER_DID_IT_DATA_CREATE",payload:{user_did_it_data:l}}),t((0,a.vX)({feedId:e,feedType:n?r.Z.UNIFIED_COMMENTS:r.Z.TRIED_IT_FEED,itemIds:[l.id],itemType:l.type})),t((0,a.vX)({feedId:s,feedType:r.Z.TRIED_IT_FEED,itemIds:[l.id],itemType:l.type})),d&&t(c(e,1))},()=>{})}function p({aggregatedPinDataId:e,feedType:t,id:n,isOwnedByMe:l,pinId:o,username:s,updateParentDidItCount:u}){return p=>{i.Z.create("DidItActivityResource",{user_did_it_data_id:n,pinId:o}).callDelete().then(()=>{l&&p({type:"PIN_DID_IT",payload:{id:o,value:!1}}),p(d(n)),p((0,a.EX)({feedId:null!=e?e:"",feedType:t||r.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),p((0,a.EX)({feedId:s,feedType:r.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),p((0,a.EX)({feedId:s,feedType:r.Z.UNIFIED_COMMENTS,itemIds:e?[e]:[],itemType:"userdiditdata"})),u&&p(c(n,-1))},()=>{})}}function m({id:e,details:t,image_signatures:n,pinId:l}){let a={details:t,image_signatures:n,user_did_it_data_id:e,pin_id:l};return e=>{i.Z.create("DidItActivityResource",a).callUpdate().then(t=>{let n=t.resource_response.data;e({type:"USER_DID_IT_DATA_UPDATE",payload:{user_did_it_data:n}})},()=>{})}}function h(e,t,n,i,o){return s=>{(0,l.Z)({url:`/v3/did_it/${n}/flag/`,method:"PUT",data:{reason:i,detailed_reasons:t,explanation:void 0}}).then(()=>{s(d(n)),e&&s((0,a.EX)({feedId:e,feedType:r.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),s((0,a.EX)({feedId:o,feedType:r.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"}))},()=>{})}}},541268:(e,t,n)=>{"use strict";function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function l(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:()=>r,N8:()=>l,Qv:()=>a,_f:()=>i,vX:()=>o});let a=(e,t,n=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}});function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function o(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},1731:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m,S:()=>p});var i=n(690108),l=n(911767),a=n(407264),r=n(541268),o=n(274796),s=n(820997);let d=e=>t=>{s.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t.bt(",      .", "Please wait until the previous board action finishes.", " - ", undefined, true);default:return e.message}}(t,e))},c=e=>(0,r.N8)(e.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,e.sectionId||e.boardId);function u(e,t){let{source:n,target:i}=e;i.boardId!==n.boardId?(t((0,l.Tq)(n.boardId,"pin_count")),t((0,l.Tq)(i.boardId,"pin_count"))):n.sectionId&&i.sectionId||t((0,l.Tq)(i.boardId,"pin_count")),n.sectionId&&t((0,a.CE)(n.sectionId)),i.sectionId&&t((0,a.CE)(i.sectionId))}function p(e){return t=>{let{selectedPinIds:n,source:i,target:l}=e;t((0,r.EX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,r.vX)({feedId:l.sectionId||l.boardId,feedType:l.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,itemIds:n,itemType:"pin"})),u(e,t)}}function m(e,t){return n=>(function(e,t,n){let{inverseSelection:l,selectedPinIds:a,source:s,target:u,orbacSubjectId:p}=e;if(s.boardId===u.boardId&&(s.sectionId||null)===(u.sectionId||null))return Promise.reject();if(l){let e={board_id:s.boardId,new_board_id:u.boardId,old_section_id:s.sectionId||void 0,new_section_id:u.sectionId||void 0,pin_ids:a,orbac_subject_id:p};return i.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(c(s)),t(c(u))])).catch(d(n))}{let e=(e,n)=>{t((0,r.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,itemIds:a,itemType:"pin"})),t((0,r.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,itemIds:a,itemType:"pin"}))};e(s,u);let l=()=>e(u,s);if(u.boardId===s.boardId){if(u.sectionId){let e={section_id:u.sectionId,pins:a,orbac_subject_id:p};return i.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{l(),d(n)(e)})}{let e={section_id:s.sectionId,pins:a,orbac_subject_id:p};return i.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{l(),d(n)(e)})}}{let e={board_id:u.boardId,section_id:u.sectionId||void 0,pin_ids:a,orbac_subject_id:p};return i.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{l(),d(n)(e)})}}})(e,n,t).then(()=>u(e,n))}},535483:(e,t,n)=>{"use strict";function i(e){return{type:"PIN_NAV_CONTEXT_CREATE",payload:e}}function l(){return{type:"PIN_NAV_CONTEXT_DELETE"}}n.d(t,{H:()=>l,k:()=>i})},894788:(e,t,n)=>{"use strict";n.d(t,{M:()=>s,i:()=>c});var i=n(782677),l=n(690108),a=n(756513),r=n(446191),o=n(255655);let s=(e,t,n,i)=>({type:"PIN_ADD",payload:{pinId:e,boardId:t,boardSectionId:n,pinnerId:i}}),d=(e,t)=>new Promise(n=>{e?(0,r.eR)(e).then(e=>{n(e)}):n(t)}),c=e=>t=>{let{method:n,guid:r,image_base64:c,image_url:u}=e;return d(c,u).then(d=>{let c={...e,method:"button"!==n||r?n:"button_external",image_url:d,image_base64:void 0},u="PinResource";return l.Z.create(u,c).callCreate().then(e=>{let n=(0,i.Fv)(e.resource_response.data,o.Z[u]);t((0,a.XM)(u,c,e,n));let l=e.resource_response.data,{board:{id:r},pinner:{id:d},section:p}=l,m=p&&p.id;return t(s(l.id,r,m,d)),e})})}},826260:(e,t,n)=>{"use strict";function i(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}n.d(t,{R:()=>i})},540459:(e,t,n)=>{"use strict";n.d(t,{L:()=>o,q:()=>d});var i=n(690108),l=n(911767),a=n(541268),r=n(274796);function o(e){return t=>{let{inSelectAll:n,selectedPinIds:o,orbacSubjectId:s,source:{boardId:d,sectionId:c}}=e;return t((0,l.xQ)(d)),t((0,a.EX)({feedId:c||d,feedType:c?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,inverseSelection:n,itemIds:o,itemType:"pin"})),i.Z.create(n?"BulkEditSelectAllResource":"BulkEditResource",{board_id:d,section_id:c,pin_ids:o,orbac_subject_id:s}).callDelete()}}let s=(e,t,n,i)=>({type:"PIN_DELETE",payload:{pinId:e,boardId:t,boardSectionId:n,userId:i}}),d=({pinId:e,boardId:t,boardSectionId:n,clientTrackingParams:l})=>(a,r)=>{let o=i.Z.create("PinResource",{id:e,client_tracking_params:l}).callDelete(),{session:{userId:d}}=r();return a(s(e,t,n,d)),o}},16393:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a,a:()=>l});var i=n(970588);function l(e,t){return async n=>{let{resource_response:l}=await (0,i.Z)({url:`/v3/storypins/${e}/mentions/`,method:"DELETE"});return n({type:"DELETE_PIN_MENTION",payload:{pinId:e,userId:t}}),l}}function a(e){return async t=>{let{resource_response:n}=await (0,i.Z)({url:`/v3/aggregated_comments/${e}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),{data:l}=n;return t({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:l.id,tagged_users:l.tagged_users}}),n}}},580691:(e,t,n)=>{"use strict";n.d(t,{G3:()=>u,Gy:()=>c,Ps:()=>s,fA:()=>p,xQ:()=>d});var i=n(782677),l=n(690108),a=n(756513),r=n(255655);function o(e,t,n){return{type:"UPDATE_PIN_REACTION_COUNT",payload:{increment:t,reactionType:n,pinId:e}}}function s(e,t){return o(e,!1,t)}function d(e,t){return o(e,!0,t)}let c=(e,t,n,o,s)=>d=>{let c={pin_id:e,user_id:o,reaction_type:t,reaction_pin_id:n,action_type:"reaction",client_tracking_parameters:s},u="ReactionsResource";return l.Z.create(u,c).callUpdate().then(e=>{let t=(0,i.Fv)(e.resource_response.data,r.Z[u]);d((0,a.XM)(u,c,e,t))})},u=(e,t,n,o)=>s=>{let d={pin_id:e,user_id:n,reaction_pin_id:t,action_type:"unreaction",client_tracking_parameters:o},c="ReactionsResource";return l.Z.create(c,d).callDelete().then(e=>{let t=(0,i.Fv)(e.resource_response.data,r.Z[c]);s((0,a.XM)(c,d,e,t))})};function p(e,t,n){return{type:"PIN_UPDATE_REACTION_COUNT",payload:{id:e,increment:t,reactionType:n}}}},260070:(e,t,n)=>{"use strict";n.d(t,{Cp:()=>s,FK:()=>o,H5:()=>f,MI:()=>h,O0:()=>m,QZ:()=>r,W:()=>y,WF:()=>c,Wz:()=>b,a5:()=>u,dz:()=>_,e0:()=>p,e2:()=>a,iW:()=>v,n1:()=>l,rm:()=>d,xu:()=>g});var i=n(988014);let l=()=>({type:"DISMISS_UNAUTH_SAVE"}),a=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),r=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),o=()=>({type:"HIDE_NAV_FOOTER"}),s=()=>({type:"SHOW_NAV_FOOTER"}),d=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),c=()=>({type:"SHOW_REPIN_ANIMATION"}),u=()=>({type:"HIDE_REPIN_ANIMATION"}),p=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),m=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),h=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),g=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),_=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),y=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),v=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},f=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),b=(e,t)=>({type:"SET_LANDING_PAGE_TYPE",payload:e?(0,i.bo)(e)?"today":(0,i.dr)(e)?"ideas":t&&(0,i.dZ)(e,t)?"own_section":t&&(0,i.J)(e,t)?"own_board":(0,i.OJ)(e)?"section":(0,i.am)(e)?"board":(0,i.L6)(e)?"closeup":(0,i.C$)(e)?"home":(0,i.cD)(e)?"profile":(0,i.En)(e)?"search":(0,i.$V)(e)?"topic":"":""})},427778:(e,t,n)=>{"use strict";n.d(t,{KF:()=>c,ZN:()=>o,fv:()=>d,kE:()=>p,yA:()=>s});var i=n(690108),l=n(970588),a=n(446191);function r(e,t,n,l){return i.Z.create("UserFollowResource",{user_id:e,invite_code:l||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:n})}function o(e,t=null,n,i){return l=>{r(e,t,n,i).callCreate().catch(()=>l((0,a.P_)(e,!1))),l((0,a.P_)(e,!0))}}function s(e,t=null,n,i){return async l=>{l((0,a.P_)(e,!0)),await r(e,t,n,i).callCreate().catch(t=>{throw l((0,a.P_)(e,!1)),t})}}function d(e,t=null,n){return i=>{r(e,t,n).callDelete().catch(()=>i((0,a.P_)(e,!0))),i((0,a.P_)(e,!1))}}function c(e,t=null,n){return async i=>{i((0,a.P_)(e,!1)),await r(e,t,n).callDelete().catch(t=>{throw i((0,a.P_)(e,!0)),t})}}let u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),p=e=>t=>{e.length>0&&((0,l.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>t(u(e,!1))),t(u(e,!0)))}},446191:(e,t,n)=>{"use strict";n.d(t,{Ge:()=>d,JS:()=>r,OF:()=>b,P_:()=>o,Q_:()=>p,b8:()=>m,eR:()=>f,h2:()=>c,h6:()=>u});var i=n(690108),l=n(970588),a=n(336436);function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let o=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),s=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),d=({id:e,orbacSubjectId:t,blockSource:n,blockContext:l,logContextEvent:a})=>async r=>{r(s(e,!0));let o=await i.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:n,block_context:l}).callCreate().catch(()=>r(s(e,!1)));return a({event_type:54,object_id_str:e}),o},c=(e,t)=>async n=>{n(s(e,!1));let l=await i.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>n(s(e,!0)));return t({event_type:55,object_id_str:e}),l};function u(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let p=(e,t)=>()=>{let n=i.Z.create("UserStateResource",{state:e,value:t});return n.callCreate()},m=(e,t,n)=>(i,r)=>{(0,l.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{n({event_type:48,object_id_str:r().session.userId}),e(),(0,a.Dm)()},t)},h=e=>e>=200&&e<400,g=(e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"",_=async(e,t,n)=>{let l=await i.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(l.resource_response.data[e]){let i=l.resource_response.data[e],{status:a,signature:r}=i;if("processing"===a||"registered"===a)setTimeout(async()=>{_(e,t,n)},5e3);else if("succeeded"===a){let e=g(r);t(e)}else n()}else n()},y=(e,t,n,l,a)=>{let r=new FormData;return r.append("img",e),i.Z.create("VIPResource",{type:t}).callCreate().then(t=>{if(t.resource_response.data){let{upload_id:i,upload_url:r,upload_parameters:o}=t.resource_response.data,s=new XMLHttpRequest;s.open("POST",r,!0),s.onload=()=>{h(s.status)?(n(100),_(i,l,a)):a()},s.upload.onprogress=e=>{let t=Math.round(100*e.loaded/e.total);n(t)};let d=new FormData;for(let e in o)d.append(e,o[e]);d.append("file",e),s.send(d)}},()=>{a()})},v=e=>new Promise((t,n)=>{y(e,"pinimage",()=>{},e=>{t(e)},e=>{n(e)})}),f=e=>new Promise((t,n)=>{"string"==typeof e?e.startsWith("data")&&v(function(e,t=512){let n=e.split(";"),i=n[0].split(":")[1],l=n[1].split(",")[1],a=atob(l),r=[];for(let e=0;e<a.length;e+=t){let n=a.slice(e,e+t),i=Array(n.length);for(let e=0;e<n.length;e+=1)i[e]=n.charCodeAt(e);let l=new Uint8Array(i);r.push(l)}let o=new Blob(r,{type:i});return o}(e)).then(e=>t(e)):n("Invalid Image")}),b=e=>()=>(0,l.Z)({url:"/v3/register/exists/",data:{email:e}})},255655:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(791621);let l={AggregatedCommentResource:i.rm,AggregatedCommentFeedResource:i.LR,AggregatedCommentReplyResource:i.rm,AggregatedCommentReplyFeedResource:i.LR,AggregatedActivityFeedResource:i.LR,BestPinsFeedAltResource:i.LR,BoardArchiveResource:i.LR,BoardContentRecommendationResource:i.LR,BoardFeedResource:i.LR,BoardFollowingResource:i.LR,BoardInviteResource:i.sf,BoardInvitesResource:i.Ht,BoardlessPinsResource:i.LR,BoardPickerBoardsResource:{all_boards:i.LR,boards_shortlist:i.LR},BoardSectionEditResource:i._F,BoardSectionsRepinResource:i.LR,BoardSectionsResource:i.LR,BoardsFeedResource:i.LR,BoardResource:i.IY,BoardSectionResource:i._F,BoardSectionPinsResource:i.LR,BoardToolsFeedResource:i.LR,ContactRequestsResource:i.LR,ConversationsResource:i.LR,ConversationMessagesResource:i.dq,DidItCommentsResource:i.LR,DidItLikedByResource:i.Gn,DidItUserFeedResource:i.LR,HolidaySpotlightResource:i.LR,InterestFollowingResource:i.LR,InterestResource:i.cC,MoreIdeasTabsBoardsResource:i.LR,NewsHubResource:i.LR,NewsHubDetailsResource:i.LR,NewsHubSummaryResource:i.t6,NuxInterestsResource:i.LR,NuxTopicToCreatorsResource:i.Gn,PinResource:i.Cj,PinCatalogResource:i.LR,PinsFromBrandResource:i.LR,ReactionsResource:i.fE,RelatedArticlesResource:i.LR,RelatedInterestsResource:i.LR,RelatedModulesResource:i.LR,RelatedPinFeedResource:i.LR,RelatedProductFeedResource:i.LR,RelatedStreamResource:i.LR,RepinResource:i.Cj,BaseSearchResource:{results:i.LR},SearchResource:i.LR,SectionToolsFeedResource:i.LR,ShareSuggestionsTypeaheadResource:{items:i.LR},ShoppingFeedModularizedResource:i.LR,StoryFeedResource:i.LR,StoryPinTaggedProductsResource:i.LR,SuggestedCreatorFollowsResource:i.Gn,TodayArticleFeedResource:i.LR,IdeasHubTodayArticlesResource:i.LR,TodayArticleResource:i.iF,TodayTabInterestFeedResource:i.LR,TodayTabResource:i.LR,TopicFeedResource:i.LR,UnifiedCommentsResource:i.LR,UserActivityPinsResource:i.LR,UserFollowingResource:i.LR,UserRecentActivityResource:i.LR,UserHomefeedResource:i.LR,UserPinsResource:i.LR,UserSettingsResource:i.EA,UserStoryPinsFeedResource:i.LR,UserResource:i.EA,VideosFeedResource:i.LR,VisualLiveSearchResource:{results:i.LR},VisualLiveSearchProductFeedResource:i.LR,VisualSearchFlashlightUnifiedResource:i.LR,SeoTier1CandidateResource:i.LR},a=l},791621:(e,t,n)=>{"use strict";n.d(t,{Cj:()=>d,EA:()=>a,Gn:()=>w,Ht:()=>S,IY:()=>s,LR:()=>A,_F:()=>p,cC:()=>f,dq:()=>h,fE:()=>u,iF:()=>v,rm:()=>r,sN:()=>T,sf:()=>b,t6:()=>P});var i=n(782677);let l=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),a=new i.fK.Entity(l.user),r=new i.fK.Entity(l.aggregatedComment,{user:a,tagged_users:[a]}),o=new i.fK.Entity(l.article),s=new i.fK.Entity(l.board),d=new i.fK.Entity(l.pin),c=new i.fK.Entity(l.reaction),u=new i.fK.Array(c),p=new i.fK.Entity(l.boardsection),m=new i.fK.Entity(l.conversationMessage,{sender:a,users:[a],board:s,pin:d,user:a}),h=new i.fK.Array(m),g=new i.fK.Entity(l.contactrequest),_=new i.fK.Entity(l.story),y=new i.fK.Entity(l.triedit),v=new i.fK.Entity(l.todayArticle,{article_creator_user:a,content_pin:d,content_pin_official_user:a,video_pin:d}),f=new i.fK.Entity(l.topic,{},{processStrategy:e=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),b=new i.fK.Entity(l.invite,{invited_by_user:a,invited_user:a,board:s},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),x=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":case"klp_featured_data":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"todayarticle":return"todayArticle";default:return e.type}},k=new i.fK.Union({user:a,board:s,invite:b,pin:d,topic:f,triedit:y},x),P=new i.fK.Entity(l.notification,{content_items:[{content_object:k}],header_icon_objects:[k]}),S=new i.fK.Array(b),w=new i.fK.Array(a),T=new i.fK.Array(s),A=new i.fK.Array({aggregatedComment:r,article:o,board:s,boardsection:p,contactrequest:g,conversationMessage:m,notification:P,pin:d,story:_,todayArticle:v,topic:f,triedit:y,user:a},x,e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}});_.define({objects:A})},274796:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},519218:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i=n(702664),l=n(616550),a=n(883119),r=n(563962),o=n(788241),s=n(536042),d=n(245410),c=n(860438),u=n(98736),p=n(618569),m=n(549201),h=n(619277),g=n(785893);function _({alignIconLeft:e,bgColor:t,color:n,disableRedirect:_=!1,fallbackUrl:y,icon:v="arrow-back",onTouch:f,padding:b,placement:x,shouldUseFallbackUrl:k,size:P="lg",viewParameter:S,viewType:w,fallbackUrlForExp:T}){let A=(0,s.ZP)(),C=(0,m.HG)(),{checkExperiment:I}=(0,d.F)(),j=(0,l.useHistory)(),E=(0,l.useLocation)(),L=(0,i.useSelector)(e=>e.session.isAuthenticated),R=(0,r.Z)(),F=(0,p.Z)(),D=!L&&T&&"/ideas"===y,{viewType:z,viewParameter:M}=(0,o.SU)(),[O,Z]=w?[w,S]:[z,M],N=()=>E.search&&E.search.includes("?nativeShouldDismiss=true"),K=()=>{let e=c.Z.getItem(h.pm);E.key||"/ideas"!==y?(0,u.My)(`pinner_conversion.back_button.${String(null==e?void 0:e[0].pageType)}`):(0,u.My)("pinner_conversion.back_button.no_history"),(0,u.My)(`web_back_button_click.${String(x)}.is_auth_${String(L)}`),F({action:"click",item:"back-button"}),O&&R({view_type:O,view_parameter:Z,element:34,event_type:102}),f&&f(),_||((!E.key||E.state&&"redirect"===E.state.referrer||k)&&y?D?C&&I("web_unauth_backbutton_navigation").anyEnabled?(j.push(T||y),(0,u.My)("web.unauth.back_button.l1interest")):!C&&I("mweb_unauth_backbutton_navigation").anyEnabled?(j.push(T||y),(0,u.My)("mweb.unauth.back_button.l1interest")):j.push(y):j.push(y):E.pathname.includes("/password/reset/")&&N()?j.push("/login/?dismissWebview=true"):j.goBack())};return(0,g.jsx)(a.xu,{"data-test-id":"back-button",children:e?(0,g.jsx)(a.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===v?-1:-2,children:(0,g.jsx)(a.hU,{accessibilityLabel:A.bt("", "Back", "navigation button", undefined, true),bgColor:t,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,icon:v,onClick:K,padding:"auto"!==b?b:2,size:P})}):(0,g.jsx)(a.hU,{accessibilityLabel:A.bt("", "Back", "navigation button", undefined, true),bgColor:t,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,icon:v,onClick:K,padding:"auto"!==b?b:2,size:P})})}},648609:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});let i=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:n,hasRichMetadataRecipe:i})=>e?t?144:n?141:i?145:139:140},648575:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(690108),l=n(994405),a=n(526007),r=n(648609);function o({checkExperiment:e,history:t,i18n:n,logContextEvent:o,onSuccess:s,onUndo:d,originalPinId:c,pinId:u,trackingParams:p,disableRepinAnimation:m,showNewUserSavetoProfileAnimation:h,showRepinConfirmation:g,historyPush:_,savePinId:y}){return(v,f)=>{let{pins:b,session:x}=f(),{userId:k}=x,P=b[u],S=n.bt(" ", "Quick Saves", "quickSave.boardName", undefined, true);return i.Z.create("BoardResource",{name:S,layout:"quick_saves",protected:!1,return_existing:!0,user_id:k}).callCreate().then(i=>{var f,b,k,S;let w=i.resource_response.data;(0,l.ib)({checkExperiment:e,isAuthMweb:x.isAuthenticated&&(x.isMobile||x.isTablet)});let T=new a.Z({boardId:w.id,dispatch:v,isQuickSave:!0,history:t,i18n:n,onSuccess:s,onUndo:d,originalPinId:c,pinId:u,section:void 0,showNewUserSavetoProfileAnimation:h,showRepinToasts:e=>g?g(e,m):void 0,trackingParams:p,userId:x.userId,historyPush:_,savePinId:y,pinData:{trackingParams:P?P.tracking_params:void 0,viewParameter:P?(0,r.A)({hasRichMetadata:!!P.rich_metadata,hasRichMetadataProducts:!!(null!==(f=P.rich_metadata)&&void 0!==f&&f.products),hasRichMetadataArticle:!!(null!==(b=P.rich_metadata)&&void 0!==b&&b.article),hasRichMetadataRecipe:!!(null!==(k=P.rich_metadata)&&void 0!==k&&k.recipe)}):void 0,pinnedToBoardId:P?null===(S=P.pinned_to_board)||void 0===S?void 0:S.id:void 0}});return T.processRepin(o)})}}},682451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(550140),l=n(844689),a=n(407264),r=n(540459),o=n(785893);let s=({boardId:e,boardSectionId:t,clientTrackingParams:n,dispatch:s,i18n:d,newPinId:c,onError:u,onSuccess:p,originalPinId:m,shouldRefresh:h=!1,showToast:g,sourcePinId:_,undoSavedPin:y})=>s((0,r.q)({pinId:c,boardId:e,boardSectionId:t,clientTrackingParams:n})).then(()=>{m&&y(m),y(_),h&&(t&&s((0,a.A4)(t)),e&&s((0,l.u)(e))),g(({hideToast:e})=>(0,o.jsx)(i.ZP,{text:d.bt(" .", "Pin removed!", "Utils.Unsave.Success", undefined, true),onHide:e})),p&&p()}).catch(()=>{g(({hideToast:e})=>(0,o.jsx)(i.ZP,{type:"error",text:d.bt(" ,      .", "Sorry! There was an error removing your Pin.", "Utils.Unsave.Error", undefined, true),onHide:e})),null==u||u()})},410834:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(702664),l=n(616550),a=n(563962),r=n(536042),o=n(675689),s=n(618569),d=n(493876),c=n(230910),u=n(772356),p=n(624524),m=n(471819),h=n(712968);function g({embedSrc:e,embedType:t,hasRichMetadata:n,hasRichMetadataProducts:g,hasRichMetadataArticle:_,hasRichMetadataRecipe:y,imagesUrls:v,isFromUnauthContextMenu:f,isStoryPin:b,pinId:x,attributionLabel:k}){var P;let S=(0,a.Z)(),w=(0,s.Z)(),{isAuthenticated:T,userId:A}=(0,i.useSelector)(({session:e})=>e),C=(0,m.Z)(),I=(0,r.ZP)(),j=(0,h.mN)()(A),E=(0,l.useLocation)();f=null!==(P=f)&&void 0!==P&&P;let L=(0,d.Z)({embedSrc:e,embedType:t,imagesUrls:v,pinId:x,isFromUnauthContextMenu:f,attributionLabel:k});return e=>{(0,d.E)({action:"save_button_click",isAuthenticated:T}),f||S({view_type:3,view_parameter:x?(0,c.CK)({hasRichMetadata:n,hasRichMetadataProducts:g,hasRichMetadataArticle:_,hasRichMetadataRecipe:y}):67,element:48,event_type:102,aux_data:{...T?{login_state:(0,u.xT)(j)?o.Z.LIMITED:o.Z.DEFAULT}:{}}}),b&&S({component:229,element:10943,event_type:102,view_type:3,view_parameter:157}),T||(e.preventDefault(),L&&L.onSave(),w({action:"click",item:"save-button"})),C({fn:()=>{},modalHeader:(0,p.Bx)(I),nextLocation:(0,p.Qj)(E)})(e)}}},467037:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(702664),l=n(493876),a=n(252315);function r({embedSrc:e,embedType:t,imagesUrls:n,pinId:r,pinnerId:o}){var s;let{isAuthenticated:d,userId:c}=(0,i.useSelector)(({session:e})=>e),u=(0,a.M)(),p=(0,l.Z)({embedSrc:e,embedType:t,imagesUrls:n,pinId:r});return!!r&&(d?!!(o===c||null!=u&&u.isSaved(r)):null!==(s=null==p?void 0:p.isSaved)&&void 0!==s&&s)}},133835:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(702664),l=n(616550),a=n(536042),r=n(63262),o=n(493876),s=n(348597),d=n(471819),c=n(682451),u=n(252315);function p({boardId:e,embedSrc:t,embedType:n,imagesUrls:p,pinId:m,pinnerId:h,pinnedToBoardId:g,pinSectionId:_,trackingParams:y,showSingleToast:v,onError:f,shouldRefresh:b=!0}){let x=(0,i.useDispatch)(),k=(0,d.Z)(),P=(0,r.F9)()[v?"showOneToast":"showToast"],S=(0,a.ZP)(),w=(0,o.Z)({embedSrc:t,embedType:n,imagesUrls:p,pinId:m}),T=(0,l.useHistory)(),A=(0,l.useLocation)(),C=(0,u.M)(),{isAuthenticated:I,userId:j}=(0,i.useSelector)(({session:e})=>e),E=(0,s.Z)(A.state?A.state.trackingParams:"",y),L=k({fn:()=>{var t;if(!m||!e||!h){null==f||f();return}let n=h===j,i=!n&&(null==C?void 0:C.getSavedPinId(m))||m,l=n?T.goBack():void 0;(0,c.Z)({boardId:!n&&g?g:e,boardSectionId:null!=_?_:"",clientTrackingParams:E,dispatch:x,i18n:S,newPinId:i,onError:f,onSuccess:l,shouldRefresh:b,showToast:P,sourcePinId:m,undoSavedPin:null!==(t=null==C?void 0:C.unsave)&&void 0!==t?t:()=>void 0})}});return I?L:(null==w?void 0:w.onUnsave)||(()=>void 0)}},252315:(e,t,n)=>{"use strict";n.d(t,{M:()=>o,Q:()=>s});var i=n(667294),l=n(583592),a=n(785893);let{Provider:r,useMaybeHook:o}=(0,l.Z)("RepinContext");function s({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),l=(0,i.useMemo)(()=>({getSavedPinId:e=>t[e],isSaved:e=>!!t[e],save:(e,t)=>n(n=>({...n,[e]:t})),unsave:e=>n(t=>({...t,[e]:null}))}),[t]);return(0,a.jsx)(r,{value:l,children:e})}},832400:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,I:()=>l});var i=n(583592);let{Provider:l,useHook:a}=(0,i.Z)("ScreenSize")},357565:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var i=n(667294),l=n(616550),a=n(883119),r=n(40660),o=n(222443),s=n(388011),d=n(550140),c=n(536042),u=n(988014),p=n(245410),m=n(670640),h=n(204125),g=n(785893);function _({size:e,iconColor:t,backgroundColor:n,disabled:i,onClick:l}){let r=(0,c.ZP)();return(0,g.jsx)(a.hU,{accessibilityLabel:r.bt(" ", "Copy Link", "shareMenu.icon.accessibilityLabel.copy", undefined, true),bgColor:n,icon:"link",iconColor:!t&&(!n||["white","lightGray","transparent"].includes(n))?"gray":t,size:48===e?"lg":"xl",disabled:i,onClick:l})}var y=n(63262),v=n(541361),f=n(651849),b=n(549739);function x({backgroundColor:e,iconColor:t,iconSize:n,iconWrapperWidth:x,isCloseupActionBar:k,marginEnd:P,onClick:S,sharedObject:w,spaceBelowIcon:T,viewType:A,viewParameter:C,isGroupBoardInvite:I}){let j=(0,c.ZP)(),{logContextEvent:E}=(0,s.v)(),{checkExperiment:L}=(0,p.F)(),R=L("web_share_menu_logging").anyEnabled,F=(0,y.F9)(),[D,z]=(0,i.useState)(""),[M,O]=(0,i.useState)(!1),[Z,N]=(0,i.useState)(!1),K=(0,l.useLocation)(),B=(0,o.Z)(),U=(0,m.Z)(),H=j.bt(" .", "Link copied!", "shareSheet.socialBar.copyLinkButton.LinkCopied", undefined, true),V=e=>{let t;return"pin"===w.type&&w.id&&(t=B(w.id,{shouldTrackForPrevLocation:!0})),{invite_category:I?4:3,invite_channel:e,object_type:w.type,object_id:w.id,name:w.name,description:w.description||"",path:w.url,picture:w.imageUrl,client_tracking_params:t}},G=e=>{F.showToast(({hideToast:t})=>(0,g.jsx)(a.xu,{top:!0,children:(0,g.jsx)(d.ZP,{duration:3e3,onHide:t,text:e})}))},$=e=>{k?navigator.clipboard.writeText(e).then(()=>{G(j.bt("      ", "Copied link to your clipboard to share", "web.unauth.pinbar.copylink", undefined, true))}):navigator.clipboard.writeText(e).then(()=>{N(!0),setTimeout(()=>{N(!1)},3e3)})},W=async()=>{if(D){$(D);return}O(!0);let e=V(12);U.createShareInviteData(e).then(t=>{let{invite_url:n}=t;O(!1),n&&(z(n),U.logShareInvite(e,t),$(n))})},q=()=>{if(W(),R){let e=h.yF[w.type];e||r.Z.increment("social.web.copyLinkButton.sharedObject.type",void 0,{type:w.type}),k&&E({event_type:101,component:14147,element:13103,object_id_str:w.id,view_type:A,view_parameter:C,aux_data:e?{invite_object:e}:void 0}),S&&S()}};return(0,u.am)(K)&&k&&L("web_copy_link_btn_replace").anyEnabled?(0,g.jsx)(a.xu,{marginStart:1,children:(0,g.jsx)(a.zx,{accessibilityLabel:j.bt(" ", "Copy link", "shareSheet.socialBar.copyLinkButton.CopyLink", undefined, true),text:j.bt(" ", "Copy link", "shareSheet.socialBar.copyLinkButton.CopyLink", undefined, true),onClick:()=>q(),size:"lg",color:"gray",fullWidth:!0})}):(0,g.jsxs)(b.Z,{isCloseupActionBar:!0,width:x||n,marginEnd:P||!1,children:[(0,g.jsx)(a.xu,{alignItems:k?"center":"stretch",display:k?"flex":"block",marginBottom:T,width:k?"100%":"auto",children:(0,g.jsx)(a.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:n,children:(0,g.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:v.O},children:(0,g.jsx)(_,{backgroundColor:e,iconColor:t,size:n,onClick:q,disabled:M})})})}),!k&&(0,g.jsx)(f.Z,{text:Z?H:j.bt(" ", "Copy link", "shareSheet.socialBar.copyLinkButton.CopyLink", undefined, true)})]})}},730724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(667294),l=n(883119),a=n(536042),r=n(614481);n(646827);var o=n(785893);function s(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),s(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),s(this,"handleSendEmail",(e,t)=>{e&&this.props.onSendMessage({type:"email_share_suggestion",id:"",email:e,debug_reason:{reason:"",readable_reason:""}},t)}),s(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})}),s(this,"handleEmailValueChange",({value:e})=>{this.setState({emailValue:e})})}renderCloseButton(){let{i18n:e,onCancelDraft:t}=this.props;return(0,o.jsx)(l.hU,{accessibilityLabel:e.bt("    ", "Cancel share to user", "accessibility label for close button", undefined, true),icon:"arrow-back",onClick:t,size:"sm",iconColor:"gray"})}render(){let{width:e}=this.props;return(0,o.jsxs)(l.xu,{display:"flex",direction:"column",column:12,paddingX:4,paddingY:2,width:e,color:"default",children:[(0,o.jsxs)(l.xu,{display:"flex",alignItems:"center",paddingY:4,children:[this.renderCloseButton(),(0,o.jsx)(l.xu,{flex:"grow",marginEnd:8,children:(0,o.jsx)(l.xv,{align:"center",weight:"bold",children:this.props.i18n.bt(":", "Send to", "shareSheet.SendToEmail.label", undefined, true)})})]}),(0,o.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,o.jsx)(l.xu,{paddingY:1,marginBottom:4,children:(0,o.jsx)(l.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n.bt("   ", "Enter email address", "Email address to send to", undefined, true),value:this.state.emailValue||"",rows:1})}),(0,o.jsx)(l.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n.bt(" ", "Add a message", "shareSheet.SendToEmail.textareaPlaceholder", undefined, true),value:this.state.textValue||""}),(0,o.jsx)(l.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,o.jsx)(l.zx,{size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:this.props.i18n.bt("", "Send", "shareSheet.SendToEmail.sendButton", undefined, true),disabled:!(0,r.Z)(this.state.emailValue)})})]})]})}}function c(e){let t=(0,a.ZP)();return(0,o.jsx)(d,{...e,i18n:t})}},541361:(e,t,n)=>{"use strict";n.d(t,{O:()=>L,Z:()=>z});var i=n(667294),l=n(883119),a=n(40660),r=n(222443),o=n(388011),s=n(536042),d=n(49387),c=n(245410),u=n(282802),p=n(670640),m=n(204125),h=n(512403),g=n(269758),_=n(894637),y=n(757551),v=n(343226),f=n(320634),b=n(63262),x=n(17330),k=n(802071),P=n(377553),S=n(357565),w=n(785893);function T({size:e=48}){return(0,w.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,w.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,w.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,w.jsx)("path",{d:"M39 19.5c0 1.381-1.119 2.5-2.5 2.5S34 20.881 34 19.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5ZM18.5 28c0-.69-.56-1.25-1.25-1.25S16 27.31 16 28s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25ZM26.75 38.75c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25S28.69 40 28 40s-1.25-.56-1.25-1.25Z",fill:"#E60023"}),(0,w.jsx)("path",{d:"M29.25 17.25c0 .69-.56 1.25-1.25 1.25s-1.25-.56-1.25-1.25S27.31 16 28 16s1.25.56 1.25 1.25ZM17 36.5c0-1.381 1.119-2.5 2.5-2.5s2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5-2.5-1.119-2.5-2.5ZM38.75 26.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25S40 28.69 40 28s-.56-1.25-1.25-1.25Z",fill:"#FFD63F"}),(0,w.jsx)("path",{d:"M19.5 22c1.381 0 2.5-1.119 2.5-2.5S20.881 17 19.5 17 17 18.119 17 19.5s1.119 2.5 2.5 2.5ZM36.5 34c-1.381 0-2.5 1.119-2.5 2.5s1.119 2.5 2.5 2.5 2.5-1.119 2.5-2.5-1.119-2.5-2.5-2.5Z",fill:"#46CC88"}),(0,w.jsx)("path",{d:"M28 21c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7Z",fill:"#3869FF"})]})}var A=n(646827),C=n(651849),I=n(549739);function j({iconSize:e,iconWrapperWidth:t,marginBottom:n,marginEnd:i,onCreatePincodeClick:a,sharedObject:r}){let o=(0,s.ZP)(),d=(0,k.Z)(),c=a&&[A.d.BOARD,A.d.PINNER,A.d.USER].includes(r.type)&&d.isAuth&&(r.id===d.id||d.isEmployee);return c?(0,w.jsxs)(I.Z,{width:t,marginEnd:i,children:[(0,w.jsx)(l.xu,{marginBottom:n,children:(0,w.jsx)("button",{style:L,"aria-label":o.bt("  ", "Share Pin Code", "sharesheet.sharePinCode", undefined, true),onClick:a,children:(0,w.jsx)(T,{size:e})})}),(0,w.jsx)(C.Z,{text:o.bt("Pin-", "Pincode", "Share via pincode", undefined, true)})]},"pincode"):null}function E(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let L={backgroundColor:"#ffffff",border:"none",padding:0},R=new Set(["JP","TW","TH"]),F=(e,t)=>{(0,d.default)(t=>{t&&(t.getUserID()?e():t.login(()=>{e()}))},t)};class D extends i.Component{constructor(...e){super(...e),E(this,"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),E(this,"logShareInviteLink",()=>{let{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(this.props.ShareInvite.logShareInvite(n,t),this.setState({copyLinkLogged:!0}))})}componentDidMount(){this.getWhatsAppURL()}getShareOptions(e){let t;let{sharedObject:n,getClientTrackingParams:i,linkUrl:l,isGroupBoardInvite:a}=this.props;"pin"===n.type&&n.id&&(t=i(n.id,{shouldTrackForPrevLocation:!0}));let r=null!=l?l:n.url;return{invite_category:a?4:3,invite_channel:e,object_type:n.type,object_id:n.id,name:n.name,description:n.description||"",path:r,url:r,picture:n.imageUrl,client_tracking_params:t}}getWhatsAppURL(){let e=this.getShareOptions(10);this.props.ShareInvite.createShareInviteData(e).then(e=>{let t=`${e.title}
${e.invite_url}`;if(t){let n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,x.Z)(this.props.sharedObject.url)})})}checkWritePermissions(){return!!this.props.viewer.isWriteBanned}handleSocialShareClick(e,t){if(this.checkWritePermissions())return;let{onCreatePincodeClick:n,onExternalSend:i,logContextEvent:l,viewType:r,viewParameter:o,inShareMenuLoggingExp:s,sharedObject:d,component:c}=this.props,u=s?m.cc[t]:46;"facebook"===e||5===t?(this.openFacebookDialog(),s||(u=257)):"twitter"===e||9===t?(this.openTwitterDialog(),s||(u=256)):"messenger"===e||6===t?(this.openFbMessengerDialog(),s||(u=950)):"whatsapp"===e||10===t?(this.openWhatsAppDialog(),s||(u=951)):"pincode"===e||16===t?n&&n():"copylink"===e||12===t?(this.openShareUrlLink(),s||(u=100)):"email"===e||1===t?(this.openEmailDialog(),s||(u=258)):"line"!==e&&8!==t||(this.openLineDialog(),s||(u=952)),i&&i();let p=m.yF[d.type];p||a.Z.increment("social.web.legoShareSocialBar.sharedObject.type",void 0,{type:d.type}),l({event_type:101,component:s?14121:153,element:u,object_id_str:s?d.id:void 0,view_type:s?r:void 0,view_parameter:s?o:void 0,aux_data:s?{invite_object:p}:void 0});let h={board:m.LO,pinner:m.Pu,user:m.Pu,pin:m.dB,did_it:m.dB,today_article:m.dB,follow_invite:m.Pu};l({event_type:10399,component:c,object_id_str:d.id||void 0,view_type:r,view_parameter:o,aux_data:{invite_object:p},element:h[d.type][t]})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){let{unauthId:e,viewer:t}=this.props;F(()=>{this.props.ShareInvite.shareFacebookInvite({options:this.getShareOptions(5),unauthId:e,viewer:t})},t)}openFbMessengerDialog(){let{unauthId:e,viewer:t}=this.props;F(()=>{this.props.ShareInvite.shareFbMessengerInvite({options:this.getShareOptions(6),unauthId:e,viewer:t})},t)}openWhatsAppDialog(){let e=this.getShareOptions(10);this.state.whatsAppLogged||(this.props.ShareInvite.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){this.props.ShareInvite.shareTwitterInvite(this.getShareOptions(9))}openLineDialog(){this.props.ShareInvite.shareLineInvite(this.getShareOptions(8))}renderEmail(){let e=P.iB,t=P.iB+P.hN,n=P.vt;return(0,w.jsxs)(I.Z,{width:t,marginEnd:!1,children:[(0,w.jsx)(l.xu,{display:"inlineBlock",marginBottom:n,"data-test-id":"email-share-button-auth",children:(0,w.jsx)("button",{"aria-label":this.props.i18n.bt("   ", "Share on Email", "sharesheet.shareSocialBar.ShareEmail", undefined, true),onClick:()=>this.handleSocialShareClick("email",1),style:L,children:(0,w.jsx)(h.Z,{size:e})})}),(0,w.jsx)(C.Z,{text:this.props.i18n.bt("", "Email", "Share via email", undefined, true)})]},"email")}renderShareOptions(){let{i18n:e,onCreatePincodeClick:t,sharedObject:n,showLineShare:a,showMessengerShare:r,showEmailOption:o,viewType:s,viewParameter:d,showCopyLinkInFront:c,stretchToFitContainer:u,isGroupBoardInvite:p}=this.props,m=P.iB,h=P.iB+P.hN,b=P.vt,x=(0,w.jsx)(l.xu,{"data-test-id":"copy-link-share-icon-auth",children:(0,w.jsx)(S.default,{sharedObject:n,backgroundColor:"lightGray",iconColor:"darkGray",iconSize:m,iconWrapperWidth:h,onClick:()=>this.handleSocialShareClick("copylink",12),isCloseupActionBar:!1,spaceBelowIcon:b,viewType:s,viewParameter:d,isGroupBoardInvite:p},"copylink")});return(0,w.jsx)(i.Fragment,{children:(0,w.jsxs)(l.kC,{flex:u?"grow":"shrink",justifyContent:u?"around":"start",wrap:!0,children:[c&&x,a&&(0,w.jsxs)(I.Z,{width:h,marginEnd:!1,children:[(0,w.jsx)(l.xu,{marginBottom:b,children:(0,w.jsx)("button",{"aria-label":e.bt("  LINE", "Share on LINE", "sharesheet.shareSocialBar.ShareLine", undefined, true),onClick:()=>this.handleSocialShareClick("line",8),style:L,children:(0,w.jsx)(_.Z,{size:m})})}),(0,w.jsx)(C.Z,{text:e.bt("LINE", "LINE", "sharesheet.shareSocialBar.ShareLineLabel", undefined, true)})]}),(0,w.jsxs)(I.Z,{width:h,marginEnd:!1,children:[(0,w.jsx)(l.xu,{marginBottom:b,"data-test-id":"whatsapp-share-icon-auth",children:(0,w.jsx)("button",{"aria-label":e.bt("  WhatsApp", "Share on WhatsApp", "sharesheet.shareSocialBar.ShareWhatsapp", undefined, true),onClick:()=>this.handleSocialShareClick("whatsapp",10),style:L,tabIndex:"-1",children:(0,w.jsx)(l.Tg,{rounding:"circle",href:this.state.whatsappURL,target:"blank",children:(0,w.jsx)(f.Z,{size:m})})})}),(0,w.jsx)(C.Z,{text:e.bt("WhatsApp", "WhatsApp", "sharesheet.shareSocialBar.ShareWhatsappLabel", undefined, true)})]}),r&&(0,w.jsxs)(I.Z,{width:h,marginEnd:!1,children:[(0,w.jsx)(l.xu,{marginBottom:b,"data-test-id":"messenger-share-icon-auth",children:(0,w.jsx)("button",{"aria-label":e.bt("  Messenger", "Share on Messenger", "sharesheet.shareSocialBar.ShareMessenger", undefined, true),onClick:()=>this.handleSocialShareClick("messenger",6),style:L,children:(0,w.jsx)(y.Z,{size:m})})}),(0,w.jsx)(C.Z,{text:e.bt("Messenger", "Messenger", "sharesheet.shareSocialBar.ShareMessengerLabel", undefined, true)})]}),(0,w.jsxs)(I.Z,{width:h,marginEnd:!1,children:[(0,w.jsx)(l.xu,{marginBottom:b,"data-test-id":"facebook-share-icon-auth",children:(0,w.jsx)("button",{"aria-label":e.bt("  Facebook", "Share on Facebook", "sharesheet.shareSocialBar.ShareFacebook", undefined, true),onClick:()=>this.handleSocialShareClick("facebook",5),style:L,children:(0,w.jsx)(g.Z,{size:m})})}),(0,w.jsx)(C.Z,{text:e.bt("Facebook", "Facebook", "sharesheet.shareSocialBar.ShareFacebookLabel", undefined, true)})]}),(0,w.jsxs)(I.Z,{width:h,marginEnd:!1,children:[(0,w.jsx)(l.xu,{marginBottom:b,"data-test-id":"twitter-share-icon-auth",children:(0,w.jsx)("button",{"aria-label":e.bt("  ", "Share on Twitter", "sharesheet.shareSocialBar.ShareTwitter", undefined, true),onClick:()=>this.handleSocialShareClick("twitter",9),style:L,"data-test-id":"twitter-share-icon",children:(0,w.jsx)(v.Z,{size:m})})}),(0,w.jsx)(C.Z,{text:e.bt("X", "X", "sharesheet.shareSocialBar.ShareTwitterLabel", undefined, true)})]}),(0,w.jsxs)(i.Fragment,{children:[(0,w.jsx)(j,{iconSize:m,iconWrapperWidth:h,marginBottom:b,marginEnd:!1,onCreatePincodeClick:t,sharedObject:n}),!c&&x,o&&this.renderEmail()]})]})})}render(){let{paddingX:e,hideHeader:t}=this.props;return(0,w.jsxs)(l.xu,{paddingX:e,"data-test-id":"lego-share-social-bar-auth",children:[!t&&(0,w.jsx)(l.kC,{alignContent:"center",alignItems:"center",height:P.dN,justifyContent:"center",children:(0,w.jsx)(l.xv,{size:P.Kt,weight:"bold",children:this.props.i18n.bt(" ", "Share", "Sharesheet.ShareSocialBar", undefined, true)})}),(0,w.jsx)(l.kC,{alignContent:"start",alignItems:"stretch",justifyContent:"start",minHeight:P.$N,children:this.renderShareOptions()})]})}}function z(e){let{logContextEvent:t}=(0,o.v)(),{checkExperiment:n}=(0,c.F)(),i=(0,s.ZP)(),l=(0,k.Z)(),a=l.isAuth&&R.has(l.country),d=n("web_messenger_share_channel").anyEnabled,m=(0,u.B)(),h=n("web_share_menu_logging").anyEnabled,g=(0,p.Z)();return(0,w.jsx)(D,{...e,toastManagerContext:(0,b.F9)(),viewer:(0,k.Z)(),showLineShare:a,showMessengerShare:d,i18n:i,logContextEvent:t,unauthId:m.unauthId,inShareMenuLoggingExp:h,getClientTrackingParams:(0,r.Z)(),ShareInvite:g})}},646827:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});let i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",FOLLOW_INVITE:"follow_invite"}},883414:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Z});var i=n(667294),l=n(883119),a=n(40660),r=n(388011),o=n(788241),s=n(245410),d=n(204125),c=n(589665),u=n(690108),p=n(222443),m=n(550140),h=n(536042),g=n(63262),_=n(802071),y=n(329689),v=n(384722),f=n(336331),b=n(510525),x=n(377553),k=n(819079),P=n(870243),S=n(630089),w=n(785893);function T({idx:e,item:t,onSendMessage:n,onViewConversation:a,sentHistory:s,objectAttachment:d,component:u}){var p;let m,g;let _=(0,h.ZP)(),{logContextEvent:y}=(0,r.v)(),[v,f]=(0,i.useState)(!1),{viewType:b,viewParameter:k}=(0,o.SU)(),T=t.id||"string"==typeof t.email&&t.email||"",A=s[T]===x.pO,C=Object.prototype.hasOwnProperty.call(s,T)&&!A,I=null!==(p=s[T])&&void 0!==p?p:"";(0,i.useEffect)(()=>{A&&f(!1)},[A]);let j="",{full_name:E,email:L}=t;"string"!=typeof E||E.match(/^\s*$/)?"string"!=typeof L||L.match(/^\s*$/)||(j=L):j=E;let R="";C?R=_.bt(".", "View chat", "shareSheet.ContactItem.viewChat", undefined, true):v&&(R=_.bt("", "Sent", "shareSheet.ContactItem.sent", undefined, true)),"pinner"===d.type||"user"===d.type?(m=13530,g=13532):"board"===d.type?(m=13527,g=13529):(m=13524,g=13526);let F=()=>{y({event_type:101,component:13029,element:1039,aux_data:{result_index:e+1,rs:t.debug_reason.reason}}),y({view_type:b,view_parameter:k,event_type:10399,component:u,element:m,aux_data:{result_index:e+1,rs:t.debug_reason.reason}})};return(0,w.jsx)(l.xu,{"data-test-id":"sharesheet-contact-item",width:x.iB+x.hN,marginBottom:5,children:(0,w.jsx)(l.iP,{onTap:C?()=>{y({view_type:b,view_parameter:k,event_type:10399,component:u,element:g}),a(I)}:()=>{F(),f(!0),n(t)},children:(0,w.jsxs)(l.kC,{direction:"column",alignItems:"center",children:[(0,w.jsxs)(l.xu,{alignItems:"center","data-test-id":v?"sharesheet-viewchat-link":"sharesheet-contact-item-button",display:"flex",height:x.iB,justifyContent:"center",marginBottom:x.vt,width:x.iB,children:[v&&(0,w.jsx)(l.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"sharesheet-contact-item-sent-icon",display:"flex",height:x.iB,justifyContent:"center",position:"absolute",rounding:"circle",width:x.iB,zIndex:new l.Ry(c.fe),children:(0,w.jsx)(l.JO,{accessibilityLabel:(0,S.Wc)(_.bt("  {{recipientName}}", "Sent to {{recipientName}}", "shareSheet.ContactItem.sentIcon.accessibilityLabel", undefined, true),{recipientName:j}),icon:"check",color:"light",size:24})}),(0,w.jsx)(P.qE,{size:"fit",src:t.image_large_url,name:j})]}),(0,w.jsxs)(l.xu,{"data-test-id":"sharesheet-contact-item-label",width:"100%",paddingX:1,children:[(0,w.jsx)(l.xv,{lineClamp:1,size:"100",align:"center",children:j}),(0,w.jsx)(l.xv,{color:"subtle",size:"100",align:"center",children:(0,w.jsx)(l.xu,{"data-test-id":"contact-send-status",children:R})})]})]})})})}var A=n(881610);function C(e){var t;let{logContextEvent:n}=(0,r.v)(),a=(0,h.ZP)(),{onHide:s,onSendMessage:d,onShowImportContacts:c,objectAttachment:u,sentHistory:p}=e,{isLoaded:m}=(0,k.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),{shareSuggestions:g}=(0,A.E)(),_=(null===(t=g[""])||void 0===t?void 0:t.slice(0,x.Qj))||[],y=_.length>0,{viewType:v,viewParameter:f}=(0,o.SU)();(0,i.useEffect)(()=>{if(m){let e=y?7511:7512;n({event_type:e,component:56,view_type:70,view_parameter:256})}},[y,n,m]);let{dropdownOpen:P,conversationOpen:S,newMessageOpen:C}=(0,b.Z5)(),I=e=>{S(e),P(),s()},j=_.map((t,n)=>{let i=`${t.id||t.email||n}`,{component:l}=e;return(0,w.jsx)(T,{item:t,idx:n,onSendMessage:d,onViewConversation:I,sentHistory:p,objectAttachment:u,component:l},i)}),E=!y&&!m;return(0,w.jsxs)(l.kC,{direction:"column",children:[(0,w.jsx)(l.kC,{alignItems:"center",height:x.dN,justifyContent:"center",children:(0,w.jsx)(l.xv,{align:"center",size:x.Kt,weight:"bold",children:a.bt("  Pinterest", "Send on Pinterest", "ContactsSuggestions.Header.text", undefined, true)})}),(0,w.jsx)(l.kC,{flex:"none",minHeight:x.$N,justifyContent:E?"center":void 0,children:E?(0,w.jsx)(l.xu,{paddingY:2,children:(0,w.jsx)(l.$j,{accessibilityLabel:a.bt(" ", "Loading Conversation Messages", "SendObject.contactList.spinner", undefined, true),show:!0})}):(0,w.jsxs)(l.kC,{wrap:!0,children:[(0,w.jsxs)(l.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:x.iB+x.hN,children:[(0,w.jsx)(l.xu,{height:x.iB,marginBottom:x.vt,width:x.iB,"data-test-id":"search-for-users-button",children:(0,w.jsx)(l.hU,{accessibilityLabel:a.bt(" ", "Search for users", "ContactsSuggestsions.SearchIcon.accessibilityLabel", undefined, true),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:()=>{e.onSearchClick&&e.onSearchClick();let{component:t}=e;n({view_type:v,view_parameter:f,event_type:10399,component:t,element:"pinner"===u.type||"user"===u.type?13531:"board"===u.type?13528:13525}),C(u),P(),s()},size:"lg"})}),(0,w.jsx)(l.xv,{lineClamp:1,size:"100",children:a.bt("", "Search", "ContactsSuggestions.SearchOption.text", undefined, true)})]}),y?j:(0,w.jsxs)(l.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:x.iB+x.hN,children:[(0,w.jsx)(l.xu,{height:x.iB,marginBottom:x.vt,width:x.iB,"data-test-id":"import-contacts",children:(0,w.jsx)(l.hU,{accessibilityLabel:a.bt(" ", "Search for users", "ContactsSuggestsions.SearchIcon.accessibilityLabel", undefined, true),bgColor:"lightGray",icon:"people",iconColor:"darkGray",onClick:c,size:"lg"})}),(0,w.jsx)(l.xv,{lineClamp:1,size:"100",children:a.bt("", "Import", "ContactsSuggestions.ImportOption.text", undefined, true)})]})]})})]})}function I(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridProductDetailPage":case"ShoppingGridShippedMetadata":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;default:return e}}var j=n(730724),E=n(541361);let L=(e,t)=>e.reduce((e,n)=>({...e,[n]:t}),{}),R=(e,t)=>"today_article"===e?t.bt("     Pinterest!", "Check out this article on Pinterest!", "sendObject.initialTextValue.todayArticle", undefined, true):"";function F(e){let{logContextEvent:t}=(0,r.v)(),n=(0,h.ZP)(),[o,s]=(0,i.useState)(!1),[d,c]=(0,i.useState)(null),[k,P]=(0,i.useState)({}),[S]=(0,i.useState)(R(e.sendType,n)),{showOneToast:T}=(0,g.F9)(),{surface:A}=(0,f.$)(),F=(0,_.Z)(),D=(0,y.Z)(),{conversationCreate:z}=(0,b.Z5)(),M=(0,b.NG)(),O=(0,i.useRef)(),Z=(0,p.Z)();(0,i.useEffect)(()=>{var e;return null===(e=O.current)||void 0===e?void 0:e.focus()},[]);let N=(n,i)=>{let{sharedObject:l}=e,r=l.id;a.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),t({event_type:180,element:276,object_id_str:r,aux_data:{conversation_id:n,pin_id:i}})},K=(t,n)=>{s(!1),e.onMessageSent(),N(t,n)},B=(e,t)=>{a.Z.increment("web.sharesheet.internal.send",1,{status:"fail"}),P({...k,...L(e,x.pO)});let i=n.bt("   .", "Failed to send email.", "sendObject.emailError", undefined, true),l=o&&"email"===d?i:t.message_detail||t.message;l&&T(({hideToast:e})=>(0,w.jsx)(m.ZP,{type:"error",duration:5e3,onHide:e,text:l}))},U=(t,n)=>{let i;let{sharedObject:l,sendType:a}=e;switch(a){case"pin":i="pinId";break;case"board":i="boardId";break;case"did_it":i="didItId";break;case"user":case"pinner":i="userId"}let r=i?M(t,{text:n,[i]:l.id,source:I(A)},void 0,F):void 0;r&&r.then(()=>{K(t,"pin"===a?l.id:null),P({...k,[t]:t})}).catch(e=>{B([t],e)})},H=async(t,n,i)=>{let{sharedObject:l,sendType:a}=e,r=l.id,o={emails:n,user_ids:t,text:i,source:I(A),client_tracking_params:Z(l.id)};o[a]=r;let s=u.Z.create("ConversationsResource",o),d=t.length>0?t:n;try{let e=await s.callCreate(),t=e&&e.resource_response.data;z(t),K(t.id,"pin"===a?r:null),P({...k,...L(d,t.id)})}catch(e){B(d,e)}},V=(e,n)=>{"conversation_share_suggestion"===e.type?U(e.id,n):"user_share_suggestion"===e.type&&e.username?H([e.id],[],n):H([],[e.email],n),t({event_type:101,component:56,element:276})},{onCreatePincodeClick:G,onShowImport:$,sendType:W,sharedObject:q,onHide:Y,onExternalSend:X,viewType:J,viewParameter:Q,onSearchClick:ee,component:et}=e,en="user"===e.sendType&&(0,v.q6)(F,e.sharedObject.id,D),ei=("board"===e.sendType||"pin"===e.sendType)&&void 0!==e.sharedObject.ownerId&&(0,v.q6)(F,e.sharedObject.ownerId,D),el=F.should_show_messaging&&!(en||ei),ea=(0,w.jsx)(l.xu,{paddingY:1,paddingX:3,children:(0,w.jsx)(l.iz,{})}),er=(0,w.jsxs)(i.Fragment,{children:[el&&ea,(0,w.jsx)(E.Z,{onCreatePincodeClick:G,onEmailIconClick:()=>{s(!0),c("email")},onExternalSend:X,onHide:Y,sharedObject:q,showEmailOption:el,viewType:J,viewParameter:Q,component:et})]});return o&&"email"===d?(0,w.jsx)(j.Z,{initialTextValue:S,objectId:q.id,objectType:W,onCancelDraft:()=>{s(!1),c(null)},onHide:Y,onSendMessage:V,width:x.lp}):(0,w.jsxs)(l.xu,{color:"default",paddingX:x.Mb,paddingY:x.sS,width:x.lp,tabIndex:0,ref:O,children:[el&&(0,w.jsx)(C,{objectAttachment:{type:W,id:q.id},onHide:Y,onSendMessage:V,onSearchClick:ee,onShowImportContacts:$,sentHistory:k,component:et}),er]})}var D=n(937633);let z=["facebook","google"];function M({onBack:e}){let t=(0,h.ZP)(),n=(0,_.Z)(),i=n.isAuth?n.email:null,a=z.filter(e=>!n.isAuth||!1===n.socialNetwork[e].connected),r=(0,D.k)(),o=e=>{r.handleConnect(e,!0,Object.freeze({}),t)};return(0,w.jsx)(l.xu,{paddingX:1,paddingY:2,"data-test-id":"import-contacts-container",children:(0,w.jsxs)(l.kC,{gap:{row:0,column:2},direction:"column",children:[(0,w.jsxs)(l.kC,{gap:{row:2,column:0},alignItems:"center",children:[(0,w.jsx)(l.hU,{accessibilityLabel:t.bt("", "Back", " - ", undefined, true),icon:"arrow-back",iconColor:"darkGray",onClick:e,size:"md"}),(0,w.jsx)(l.xv,{size:"300",weight:"bold",children:t.bt("  ...", "Upload contacts from...", " - ", undefined, true)})]}),(0,w.jsx)(l.kC,{direction:"column",gap:{row:0,column:4},children:a.map(e=>(0,w.jsx)(l.xu,{paddingX:2,children:(0,w.jsxs)(l.iP,{onTap:()=>o(e),children:[(0,w.jsx)(l.xv,{size:"200",children:"facebook"===e?t.bt("Facebook", "Facebook", " - ", undefined, true):"google"===e?t.bt("Google", "Google", " - ", undefined, true):t.bt("", "Other", " - ", undefined, true)}),(0,w.jsx)(l.xv,{size:"200",children:"facebook"===e?t.bt("  Pinterest", "Friends who are on Pinterest", " - ", undefined, true):"google"===e&&i&&-1!==i.indexOf("@gmail")?i:null})]})},e))})]})})}var O=n(387815);function Z({element:e,onCreatePincodeClick:t,onExternalSend:n,onHide:u,sendType:p,sharedObject:m,viewType:h,viewParameter:g,component:_}){let{logContextEvent:y}=(0,r.v)(),[v,f]=(0,i.useState)(!1),{checkExperiment:b}=(0,s.F)(),x=b("web_share_menu_logging").anyEnabled,k=(0,i.useRef)(!1),{viewParameter:P}=(0,o.SU)();return(0,i.useEffect)(()=>{let t=d.yF[p];return t||a.Z.increment("social.web.sendObjectWrapper.sendType",void 0,{type:p}),y({event_type:7120,component:x?14121:void 0,object_id_str:m.id,element:x?e:void 0,view_type:h,view_parameter:g,aux_data:x?{invite_object:t}:void 0}),y({event_type:10400,component:_,object_id_str:m.id,element:(0,O.O)(t),view_type:h,view_parameter:g||P,aux_data:{invite_object:t}}),()=>{x||y({event_type:7121,object_id_str:m.id,view_type:h,view_parameter:g}),k.current||y({event_type:10403,component:_,object_id_str:m.id,element:13478,view_type:h,view_parameter:P,aux_data:{invite_object:t}});let e=k.current?7493:7492;y({event_type:e,component:x?14121:void 0,object_id_str:x?m.id:void 0,element:x?13097:void 0,view_type:h,view_parameter:g,aux_data:x?{invite_object:t}:void 0})}},[]),v?(0,w.jsx)(M,{onBack:()=>{f(!1)}}):(0,w.jsx)(l.xu,{overflow:"hidden",rounding:4,zIndex:new l.Ry(c.fe-1),color:"default",children:(0,w.jsx)(F,{onCreatePincodeClick:t,onHide:u,onShowImport:()=>{f(!0)},onMessageSent:()=>{k.current=!0},onExternalSend:()=>{k.current=!0,n&&n()},onSearchClick:()=>{k.current=!0},sendType:p,sharedObject:m,viewType:h,viewParameter:g,component:_})})}},651849:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(883119),l=n(36310),a=n(785893);let r=({text:e})=>(0,a.jsx)(i.xv,{align:"center",size:"100",children:(0,a.jsx)(l.Z,{maxWidthPx:128,maxHeightPx:50,children:e})})},549739:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(883119),l=n(785893);let a=({width:e,marginEnd:t,children:n,isCloseupActionBar:a})=>(0,l.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e,marginBottom:a?0:5,children:n})},377553:(e,t,n)=>{"use strict";n.d(t,{$N:()=>o,Kt:()=>i,Mb:()=>c,Qj:()=>d,dN:()=>s,hN:()=>a,iB:()=>l,lp:()=>p,pO:()=>m,sS:()=>u,vt:()=>r});let i="200",l=48,a=26,r=2,o=81,s=49,d=9,c=3,u=1,p=5*(l+a)+8*c,m="error"},432044:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i,l=n(667294);n(167912);var a=n(883119),r=n(803817),o=n(536042),s=n(630089),d=n(98736),c=n(549201),u=n(356332),p=n(323883),m=n(293017),h=n(785893);let g=void 0!==i?i:i=n(916356),_=({onTap:e,isOpen:t})=>{let n=(0,o.ZP)();return(0,h.jsx)(a.iP,{tapStyle:"compress",onTap:e,children:(0,h.jsxs)(a.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:5,dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}},children:[(0,h.jsx)(a.xv,{weight:"bold",size:"300",children:n.bt("", "Product details", "productDetails.descriptionTap.text", undefined, true)}),(0,h.jsx)(a.JO,{accessibilityLabel:n.bt(" ", "Arrow forward", "productDetails.openDropdown", undefined, true),color:"default",icon:t?"arrow-down":"arrow-forward"})]})})};function y({onClickTitleOrDomain:e,pinKey:t}){var n;let{data:i,childDataKey__DEPRECATED:y}=(0,r.sr)(g,t,{type:"pin",useLegacyAdapter:e=>e&&{closeupAttribution:e.closeup_attribution&&{domainUrl:e.closeup_attribution.domain_url},closeupUnifiedDescription:e.closeup_unified_description}}),v=(0,o.ZP)(),f=(0,c.ZP)(),b=null==i?void 0:null===(n=i.closeupAttribution)||void 0===n?void 0:n.domainUrl,x=(0,p.Z)(y),k=(0,m.j)({components:x||[],pinDescription:(null==i?void 0:i.closeupUnifiedDescription)&&i.closeupUnifiedDescription.trim()}),[P,S]=(0,l.useState)(!1);return(0,h.jsx)(a.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:k.length>0&&(0,h.jsxs)(a.xu,{marginTop:6,width:"100%",children:[(0,h.jsx)(_,{isOpen:P,onTap:()=>{S(!P),(0,d.My)("unauth.pdp.details.click",{action:P?"close":"open",device:f})}}),(0,h.jsx)(a.xu,{overflow:"scrollY",maxHeight:P?"75vh":"0vh",paddingX:4,children:(0,h.jsxs)(a.xu,{marginBottom:6,marginTop:2,dangerouslySetInlineStyle:{__style:{lineHeight:"1.2"}},children:[(0,h.jsx)(u.Z,{descriptions:k}),b&&(0,h.jsx)(a.xu,{marginTop:6,children:(0,h.jsx)(a.xv,{children:(0,s.nk)(v.bt(": {{ userDomain }}", "Ships from and sold by {{ userDomain }}", "productDetails.productDescription.soldBy", undefined, true),{userDomain:(0,h.jsx)(a.iP,{onTap:e,tapStyle:"compress",children:(0,h.jsx)(a.xv,{inline:!0,weight:"bold",children:b})},b)})})})]})})]})})}},594563:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var i,l,a,r,o,s=n(667294),d=n(167912),c=n(883119),u=n(438723),p=n(355182),m=n(139488),h=n(388011),g=n(536042),_=n(630089),y=n(149596),v=n(465991),f=n(282802),b=n(226590),x=n(422279),k=n(936840),P=n(436422),S=n(230910),w=n(525104);n(563962),n(819079),n(31407);var T=n(785893);void 0!==i||(i=n(825090)),n(88622),void 0!==l||(l=n(802195)),void 0!==a||(a=n(670782)),void 0!==r||(r=n(94109));var A=n(323883),C=n(293017);let I=void 0!==o?o:o=n(382545);function j({aggregateRating:e,brandInfo:t,clickthroughFn:n,closeupAttributionDomainId:i,isImagePinForUnauthOnTablet:l,isOutOfStock:a,isStale:r,onClickTitleOrDomain:o,graphqlRef:d,inlinePinActionBar:k,pinId:w,pinLink:I,closeupUnifiedDescription:j,offerSummary:E,gridTitle:L,pinTitle:R,richSummaryDisplayName:F,richMetadataTitle:D,setIsActionBarInline:z,shippingInfo:M,shipsToUserCountry:O,storyPinDataId:Z,storyPinDataMetadataPinTitle:N,pinJoinVisualAnnotation:K}){let B=(0,g.ZP)(),{isAuthenticated:U}=(0,f.B)(),{logContextEvent:H}=(0,h.v)(),V=(0,S.AH)(I),G=j&&j.trim(),$=L||R;U||($=(0,v.Ly)({pinTitle:R,gridTitle:L,richSummaryDisplayName:F,richMetadataTitle:D,storyPinDataId:Z,storyPinDataMetadataPinTitle:N,pinJoinVisualAnnotation:K}));let W=(0,x.Z)({isImagePinForUnauthOnTablet:l}),q=(0,A.Z)(d?{type:"graphqlRef",data:d}:{type:"deprecated",data:w}),Y=(0,C.j)({components:q,pinDescription:G}),[X,J]=(0,s.useState)(!1),Q=$&&(0,T.jsx)(c.xu,{marginTop:2,marginBottom:2,children:(0,T.jsx)(b.Z,{onClick:o,hasLink:V,forceSmallerHeading:!l,textAlign:"start",pinId:w,graphqlRef:d,lineClamp:W})}),{rating_count:ee,review_count:et,rating_value:en}=e||{},ei=(0,T.jsx)(m.Z,{bracket:!0,count:ee||et,countType:Number(ee||0)?"rating":"review",countFormat:"number",hideSeparationDot:!0,ratingValue:en,shippingInfo:M&&{freeShippingPrice:M.free_shipping_price,freeShippingValue:M.free_shipping_value,shipsToUserCountry:M.ships_to_user_country},clickthroughFn:n,shipsToUserCountry:O}),el=(0,T.jsx)(u.Z,{structuredDescription:Y,type:"expandable"}),ea=null==t?void 0:t.name,er=null==t?void 0:t.userId,eo=i&&i===er||(null==t?void 0:t.isMerchant),es=!!ea,ed=(0,s.useCallback)(e=>{if(e&&es){let t=ea!==e&&(null===eo||!1===eo);return t?(0,_.nk)(B.bt(" {{ brand }} ; : {{ merchant }}", "{{ brand }} sold by {{ merchant }}", "productmetadata.officialuserattribution.text", undefined, true),{brand:(0,T.jsx)(c.xv,{inline:!0,weight:"bold",children:ea},"brand-name"),merchant:(0,T.jsx)(c.xv,{inline:!0,weight:"bold",children:e},"merchant-name")}):[(0,T.jsx)(c.xv,{inline:!0,weight:"bold",children:ea},"brand-name")]}return e},[ea,eo,B,es]),ec=(0,T.jsx)(P.Z,{getDisplayName:ed,graphqlRef:d,pinId:w,onMouseDown:es?()=>{H({event_type:102,object_id_str:w,view_type:3,view_parameter:144,element:13592,aux_data:{pin_id:w,commerce_data:JSON.stringify({pin_show_pdp:"1"})}})}:void 0}),eu=(0,T.jsx)(p.Z,{productDetails:{maxPrice:null==E?void 0:E.max_price,minPrice:null==E?void 0:E.min_price,price:null==E?void 0:E.price,standardPrice:null==E?void 0:E.standard_price},type:"pdpPlusMobileHeading",colorOverride:"default",isSoldOut:a,isStale:r});return(0,T.jsxs)(c.xu,{children:[(0,T.jsx)(c.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:(0,T.jsx)(y.Z,{options:{threshold:[1]},onVisibilityChange:e=>{if(e&&e.length>0&&z){let{intersectionRatio:t,boundingClientRect:n}=e[0],i=n.y<0;z(1===t||i)}},children:e=>(0,T.jsx)(c.xu,{ref:e,children:(0,T.jsxs)(c.xu,{children:[Q,eu,(0,T.jsx)(c.xu,{marginBottom:2,children:ei}),ec]})})})}),k,Y.length>0&&(0,T.jsx)(c.xu,{marginTop:6,width:"100%",children:el}),!1]})}function E({pinId:e,graphqlRef:t,...n}){var i,l,a,r,o,s,c,u,p,m,h,g,_,y,v,f,b,x,P,S,w,A,C,E,L,R,F,D,z,M,O,Z;let N;let K=(0,d.useFragment)(I,t),B=(0,k.I)({clickthroughInterstitialExperience:null,graphqlRef:K}),U=(null===(i=K.pinJoin)||void 0===i?void 0:i.visualAnnotation)||[];if(U.length<1)return null;let{richMetadata:H,richSummary:V}=K;null!=H&&null!==(l=H.products)&&void 0!==l&&l[0]&&H.products[0].name&&H.products[0].offerSummary&&(N=H.products[0].offerSummary),!N&&null!=V&&null!==(a=V.products)&&void 0!==a&&a[0]&&V.products[0].name&&V.products[0].offerSummary&&(N=V.products[0].offerSummary);let G={min_price:null===(r=N)||void 0===r?void 0:r.minPrice,max_price:null===(o=N)||void 0===o?void 0:o.maxPrice,price:null===(s=N)||void 0===s?void 0:s.price,standard_price:null===(c=N)||void 0===c?void 0:c.standardPrice},$={rating_value:null!==(u=null==H?void 0:null===(p=H.aggregateRating)||void 0===p?void 0:p.ratingValue)&&void 0!==u?u:void 0,review_count:null!==(m=null==H?void 0:null===(h=H.aggregateRating)||void 0===h?void 0:h.reviewCount)&&void 0!==m?m:void 0,rating_count:null!==(g=null==H?void 0:null===(_=H.aggregateRating)||void 0===_?void 0:_.ratingCount)&&void 0!==g?g:void 0},W={free_shipping_price:null==H?void 0:null===(y=H.products)||void 0===y?void 0:null===(v=y[0].shippingInfo)||void 0===v?void 0:v.freeShippingPrice,free_shipping_value:null==H?void 0:null===(f=H.products)||void 0===f?void 0:null===(b=f[0].shippingInfo)||void 0===b?void 0:b.freeShippingValue},q=K.isOosProduct||(null===(x=N)||void 0===x?void 0:x.inStock)===!1,Y=K.isStaleProduct,X={isMerchant:null==H?void 0:null===(P=H.products)||void 0===P?void 0:null===(S=P[0].brand)||void 0===S?void 0:S.isMerchant,name:null==H?void 0:null===(w=H.products)||void 0===w?void 0:null===(A=w[0].brand)||void 0===A?void 0:A.name,userId:null==H?void 0:null===(C=H.products)||void 0===C?void 0:null===(E=C[0].brand)||void 0===E?void 0:E.userId};return(0,T.jsx)(j,{...n,aggregateRating:$,brandInfo:X,clickthroughFn:B,closeupAttributionDomainUrl:null===(L=K.closeupAttribution)||void 0===L?void 0:L.domainUrl,closeupAttributionDomainId:null===(R=K.closeupAttribution)||void 0===R?void 0:R.entityId,graphqlRef:K,isOutOfStock:q,isStale:null!=Y&&Y,pinId:e,pinLink:K.link,closeupUnifiedDescription:null!==(F=K.closeupUnifiedDescription)&&void 0!==F?F:"",offerSummary:G,gridTitle:K.gridTitle,pinTitle:K.title,richSummaryDisplayName:null!==(D=null==V?void 0:V.displayName)&&void 0!==D?D:"",richMetadataTitle:null!==(z=null==H?void 0:H.title)&&void 0!==z?z:"",shippingInfo:W,shipsToUserCountry:null!==(M=K.shipsToUserCountry)&&void 0!==M&&M,storyPinDataId:K.storyPinDataId,storyPinDataMetadataPinTitle:null===(O=K.storyPinData)||void 0===O?void 0:null===(Z=O.metadata)||void 0===Z?void 0:Z.pinTitle,pinJoinVisualAnnotation:U})}function L({pinId:e,...t}){var n,i,l,a,r,o,s,d,c,u,p,m,h,g,_,y,v,f,b,x,P,S,A;let C;let I=(0,w.S6)()(e),E=null==I?void 0:I.rich_metadata,L=null==I?void 0:I.rich_summary,R=(0,k.Z)({clickthroughInterstitialExperience:null,pinId:e});null!=E&&null!==(n=E.products)&&void 0!==n&&n[0]&&E.products[0].name&&E.products[0].offer_summary&&(C=E.products[0].offer_summary),!C&&null!=L&&null!==(i=L.products)&&void 0!==i&&i[0]&&L.products[0].name&&L.products[0].offer_summary&&(C=L.products[0].offer_summary);let F=(null==I?void 0:I.is_oos_product)||(null===(l=C)||void 0===l?void 0:l.in_stock)===!1,D=null==I?void 0:I.is_stale_product,z={isMerchant:null==E?void 0:null===(a=E.products)||void 0===a?void 0:null===(r=a[0].brand)||void 0===r?void 0:r.is_merchant,name:null==E?void 0:null===(o=E.products)||void 0===o?void 0:null===(s=o[0].brand)||void 0===s?void 0:s.name,userId:null==E?void 0:null===(d=E.products)||void 0===d?void 0:null===(c=d[0].brand)||void 0===c?void 0:c.user_id};return(0,T.jsx)(j,{...t,aggregateRating:null==I?void 0:null===(u=I.rich_metadata)||void 0===u?void 0:u.aggregate_rating,brandInfo:z,clickthroughFn:R,closeupAttributionDomainUrl:null==I?void 0:null===(p=I.closeup_attribution)||void 0===p?void 0:p.domain_url,closeupAttributionDomainId:null==I?void 0:null===(m=I.closeup_attribution)||void 0===m?void 0:m.id,pinId:e,pinLink:null==I?void 0:I.link,closeupUnifiedDescription:null!==(h=null==I?void 0:I.closeup_unified_description)&&void 0!==h?h:"",gridTitle:null==I?void 0:I.grid_title,isOutOfStock:F,isStale:null!=D&&D,pinTitle:null==I?void 0:I.title,offerSummary:C,richSummaryDisplayName:null!==(g=null==I?void 0:null===(_=I.rich_summary)||void 0===_?void 0:_.display_name)&&void 0!==g?g:"",richMetadataTitle:null!==(y=null==I?void 0:null===(v=I.rich_metadata)||void 0===v?void 0:v.title)&&void 0!==y?y:"",shippingInfo:null==I?void 0:null===(f=I.rich_metadata)||void 0===f?void 0:null===(b=f.products)||void 0===b?void 0:b[0].shipping_info,shipsToUserCountry:null!==(x=null==I?void 0:I.ships_to_user_country)&&void 0!==x&&x,storyPinDataId:null==I?void 0:I.story_pin_data_id,storyPinDataMetadataPinTitle:null==I?void 0:null===(P=I.story_pin_data)||void 0===P?void 0:null===(S=P.metadata)||void 0===S?void 0:S.pin_title,pinJoinVisualAnnotation:null==I?void 0:null===(A=I.pin_join)||void 0===A?void 0:A.visual_annotation})}function R({graphqlRef:e,...t}){return e?(0,T.jsx)(E,{...t,graphqlRef:e}):(0,T.jsx)(L,{...t})}},884751:(e,t,n)=>{"use strict";n.d(t,{jF:()=>g,ZP:()=>v});var i,l=n(167912),a=n(883119),r=n(525104),o=n(785893);let s=({maxPrice:e,minPrice:t,price:n,standardPrice:i,NoPrice:l,RangedPrice:a,RegularPrice:r,RangedSalePrice:s,SalePrice:d})=>t&&e&&i?(0,o.jsx)(s,{saleMinPrice:t,saleMaxPrice:e,regularPriceRange:i}):t&&e?(0,o.jsx)(a,{maxPrice:e,minPrice:t}):n?i&&n!==i?(0,o.jsx)(d,{regularPrice:i,salePrice:n}):(0,o.jsx)(r,{price:n}):(0,o.jsx)(l,{}),d=()=>null,c=void 0!==i?i:i=n(894235),u=({price:e,align:t,fontSize:n})=>(0,o.jsx)(a.X6,{color:"default",size:n||"400",align:t,children:e}),p=({minPrice:e,maxPrice:t,align:n,fontSize:i})=>(0,o.jsx)(a.X6,{color:"default",size:i||"400",align:n,children:`${e}-${t}`}),m=({salePrice:e,regularPrice:t,align:n,fontSize:i})=>(0,o.jsxs)(a.X6,{size:i||"400",align:n,children:[(0,o.jsx)("span",{style:{color:"#0074e8"},children:e})," ",(0,o.jsx)("span",{style:{textDecoration:"line-through",color:"#767676"},children:`${t}`})]}),h=({saleMinPrice:e,saleMaxPrice:t,regularPriceRange:n,align:i,fontSize:l})=>(0,o.jsxs)(a.X6,{size:l||"400",align:i,children:[(0,o.jsx)("span",{style:{color:"#0074e8"},children:`${e}-${t}`})," ",(0,o.jsx)("span",{style:{textDecoration:"line-through",color:"#767676"},children:`${n}`})]});function g({maxPrice:e,minPrice:t,price:n,standardPrice:i,align:l,NoPrice:a,RangedPrice:r,RangedSalePrice:c,RegularPrice:g,SalePrice:_,fontSize:y}){return a||(a=e=>(0,o.jsx)(d,{...e,align:l,fontSize:y})),r||(r=e=>(0,o.jsx)(p,{...e,align:l,fontSize:y})),c||(c=e=>(0,o.jsx)(h,{...e,align:l,fontSize:y})),g||(g=e=>(0,o.jsx)(u,{...e,align:l,fontSize:y})),_||(_=e=>(0,o.jsx)(m,{...e,align:l,fontSize:y})),(0,o.jsx)(s,{maxPrice:e,minPrice:t,price:n,standardPrice:i,NoPrice:a,RegularPrice:g,RangedPrice:r,RangedSalePrice:c,SalePrice:_})}function _(e){var t,n,i,a,r,s;let d;let u=(0,l.useFragment)(c,e.graphqlRef),p=null==u?void 0:u.richMetadata,m=null==u?void 0:u.richSummary;return null!=p&&null!==(t=p.products)&&void 0!==t&&t[0]&&p.products[0].name&&p.products[0].offerSummary&&(d=p.products[0].offerSummary),!d&&null!=m&&null!==(n=m.products)&&void 0!==n&&n[0]&&m.products[0].name&&m.products[0].offerSummary&&(d=m.products[0].offerSummary),(0,o.jsx)(g,{maxPrice:null===(i=d)||void 0===i?void 0:i.maxPrice,minPrice:null===(a=d)||void 0===a?void 0:a.minPrice,price:null===(r=d)||void 0===r?void 0:r.price,standardPrice:null===(s=d)||void 0===s?void 0:s.standardPrice,NoPrice:e.NoPrice,RegularPrice:e.RegularPrice,RangedPrice:e.RangedPrice,RangedSalePrice:e.RangedSalePrice,SalePrice:e.SalePrice})}function y(e){var t,n,i,l,a,s;let d;let c=(0,r.S6)()(e.pinId||""),u=null==c?void 0:c.rich_metadata,p=null==c?void 0:c.rich_summary;return null!=u&&null!==(t=u.products)&&void 0!==t&&t[0]&&u.products[0].name&&u.products[0].offer_summary&&(d=u.products[0].offer_summary),!d&&null!=p&&null!==(n=p.products)&&void 0!==n&&n[0]&&p.products[0].name&&p.products[0].offer_summary&&(d=p.products[0].offer_summary),(0,o.jsx)(g,{maxPrice:null===(i=d)||void 0===i?void 0:i.max_price,minPrice:null===(l=d)||void 0===l?void 0:l.min_price,price:null===(a=d)||void 0===a?void 0:a.price,standardPrice:null===(s=d)||void 0===s?void 0:s.standard_price,NoPrice:e.NoPrice,RegularPrice:e.RegularPrice,RangedPrice:e.RangedPrice,RangedSalePrice:e.RangedSalePrice,SalePrice:e.SalePrice})}function v(e){return e.graphqlRef?(0,o.jsx)(_,{...e}):(0,o.jsx)(y,{...e})}},774042:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var i,l=n(667294);n(167912);var a=n(616550),r=n(883119),o=n(346190),s=n(324509),d=n(59089),c=n(563962),u=n(450600),p=n(24286),m=n(536042),h=n(245410),g=n(282802),_=n(552369),y=n(272109),v=n(925790),f=n(199999),b=n(525104),x=n(98736),k=n(549201),P=n(657006),S=n(785893);function w({alt:e,dominantColor:t,height:n,onLoad:i,src:l,width:o,unauthLazyLoad:s,index:d}){let c=(0,a.useHistory)(),u=(0,a.useRouteMatch)(),{isAuthenticated:p}=(0,g.B)(),m=(0,k.ZP)(),h=()=>{c&&u&&u.params&&u.params.id&&c.push(`/pin/${u.params.id}#${P.v}`,{imageData:{src:l,height:n,width:o}})};return(0,S.jsxs)(r.iP,{tapStyle:"compress",onTap:()=>{p||(0,x.My)("unauth.pdp.carousel.click",{device:m,index:d}),h()},children:[(0,S.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)"}},position:"absolute",width:"100%",height:"100%",zIndex:new r.Ry(1),top:!0}),(0,S.jsx)(r.Ee,{alt:e,color:t,loading:s?"lazy":"auto",naturalHeight:n,naturalWidth:o,onLoad:i,src:l})]})}let T=void 0!==i?i:i=n(842931);function A({pinKey:e,pwtSurfaceContext:t,viewParameter:n,unauthLazyLoad:i}){var x,k;let P;let A=(0,a.useRouteMatch)(),C=(0,m.ZP)(),I=(0,c.Z)(),[j,E]=(0,l.useState)(0),L=(0,b.S6)(),{isAuthenticated:R}=(0,g.B)(),F=(0,l.useRef)(null),D=(0,l.useRef)([]);if("graphqlRef"===e.type)P=e;else{let t=L(e.data);P=null!=t?{type:"deprecated",data:t}:null}let{data:z,childDataKey__DEPRECATED:M}=(0,u.u)(T,P,{useLegacyAdapter:e=>{var t;return{entityId:null!==(t=e.id)&&void 0!==t?t:"",isHidden:e.is_hidden,isUnsafe:e.is_unsafe}}}),O=(0,l.useCallback)(()=>{t&&t.markConstraintComplete("PinPageMainImageRendered")},[t]),{checkExperiment:Z}=(0,h.F)(),N=Z("web_higher_res_carousel_image").anyEnabled,K=C.bt(" ", "Pin image", "Pin closeup image", undefined, true),B=(0,d.Z)({isHiddenPin:null==z?void 0:z.isHidden,isUnsafePin:null==z?void 0:z.isUnsafe}),U=B&&0===j,H=(0,s.Z)(M),V=(null!==(x=null==H?void 0:H.carouselSlots)&&void 0!==x?x:[]).filter(({imageSizeMap:e})=>(0,o.Z)(e,N)),G=V.length,{imageSignature:$}=V[j]||{},W=()=>{if(!F.current)return;let{left:e,width:t}=F.current.getBoundingClientRect(),n=e+t/2;for(let e=0;e<G;e++){var i;let{x:t}=D.current[e].current.getBoundingClientRect(),{x:l=1/0}=(null===(i=D.current[e+1])||void 0===i?void 0:i.current.getBoundingClientRect())||{};if(t<=n&&l>n){E(e);break}}};(0,y.Z)(()=>{D.current=Array(G).fill().map((e,t)=>D.current[t]||(0,l.createRef)());let e=F.current;return e&&e.addEventListener("scroll",W),()=>{null==e||e.removeEventListener("scroll",W)}}),(0,l.useEffect)(()=>{$&&I({event_type:13,view_type:3,view_parameter:144,element:10555,aux_data:{view_object_image_signature:$}})},[I,$]);let q=(0,l.useRef)(null===(k=(0,f.a)())||void 0===k?void 0:k.setHasScrolledPastMainContent);(0,l.useEffect)(()=>{let e=(0,_.Z)(()=>{if(F.current){var t;let n=window.scrollY>F.current.offsetTop+F.current.offsetHeight;null===(t=q.current)||void 0===t||t.call(q,n),n&&window.removeEventListener("scroll",e)}},10);e(),window.addEventListener("scroll",e)},[]);let Y=(0,f.a)(),{hasScrolledPastMainContent:X}=null!=Y?Y:Object.freeze({}),J="visualSearch";return R||X||(J="moreLikeThisButton"),(0,S.jsxs)(r.xu,{position:"relative",marginStart:-p.D6,marginEnd:-p.D6,children:[(0,S.jsx)(r.xu,{minHeight:"30vh",maxHeight:"60vh",overflow:"scrollX",display:"flex",ref:F,children:V.map((e,t)=>{var n,l,a,s;let d=0===t,c=t===G-1,u=(0,o.Z)(e.imageSizeMap,N);return(0,S.jsx)(r.xu,{width:"80%",flex:"none",marginEnd:c?0:2,display:"flex",alignItems:"center",position:"relative",dangerouslySetInlineStyle:{__style:{backgroundColor:"#ffffff00"}},ref:D.current[t],children:(0,S.jsx)(w,{alt:K,src:null!==(l=null==u?void 0:u.url)&&void 0!==l?l:"",height:null!==(a=null==u?void 0:u.height)&&void 0!==a?a:1,width:null!==(s=null==u?void 0:u.width)&&void 0!==s?s:1,dominantColor:"#ffffff00",onLoad:O,unauthLazyLoad:i&&!d,index:t})},`${null!==(n=null==z?void 0:z.entityId)&&void 0!==n?n:""}_${t}`)})}),(0,S.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transition:`opacity 500ms, \
                         visibility 500ms ease-in-out`,visibility:U?"visible":"hidden"}},opacity:U?1:0,children:(0,S.jsx)(v.Z,{imageSignature:$,pinId:A.params.id||(null==z?void 0:z.entityId)||"",type:J,viewParameter:n})})]})}},492291:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var i=n(667294),l=n(702664),a=n(883119),r=n(40660),o=n(563962),s=n(550140),d=n(536042),c=n(599551),u=n(450667),p=n(282802),m=n(16754),h=n(512403),g=n(269758),_=n(871755),y=n(894637),v=n(757551),f=n(785893);function b({size:e=56}){return(0,f.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("rect",{fill:"#e60023",height:"56",rx:"28",width:"56"}),(0,f.jsx)("path",{clipRule:"evenodd",d:"m28 31.9842 6 3.6666v-15.6508h-12v15.6508zm0 3.5158 5.9571 3.6404c1.3327.8145 3.0429-.1447 3.0429-1.7065v-17.4339c0-1.6569-1.3431-3-3-3h-12c-1.6569 0-3 1.3431-3 3v17.4339c0 1.5618 1.7102 2.521 3.0429 1.7065z",fill:"#fff",fillRule:"evenodd"})]})}var x=n(916224),k=n(343226),P=n(317218),S=n(320634),w=n(611756),T=n(98736),A=n(618569),C=n(63262),I=n(549201),j=n(782219),E=n(9680),L=n(980666);function R(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let F=()=>n.e(6527).then(n.t.bind(n,842152,23)),D=String(86),z=({text:e})=>(0,f.jsx)(a.xv,{align:"center",size:"100",children:e});class M extends i.PureComponent{constructor(...e){super(...e),R(this,"state",{invitePath:"",inviteCode:null,inviteMessage:"",inviteTitle:"",Clipboard:null,fbLoaded:!1}),R(this,"setClipboard",e=>{let{Clipboard:t,invitePath:n}=this.state;(0,E.sF)(n,t,e,this.showCopyToast)}),R(this,"showCopyToast",()=>{var e,t,n,i;this.logShareClick(12),this.setNewAppOrder(12),null===(e=(t=this.props).onShare)||void 0===e||e.call(t),this.props.showToast(({hideToast:e})=>(0,f.jsx)(s.ZP,{text:this.props.i18n.bt("      ", "Copied link to your clipboard to share", "url link was copied to user clipboard", undefined, true),onHide:e})),null===(n=(i=this.props).setShareSent)||void 0===n||n.call(i,!0),this.props.trackInteraction({action:"click",item:"copy-link-share-icon"})}),R(this,"getDefaultAppOrder",()=>{let{country:e,isDesktop:t}=this.props;return(0,E.pW)({country:e,isDesktop:t,shouldShowNativeShare:!!navigator.share})}),R(this,"getAppOrder",()=>{let{isDesktop:e,showFixedRows:t}=this.props,n=JSON.parse((0,w.qn)(L.B));return!n||e?this.getDefaultAppOrder():(n=[...n.filter(e=>11!==e&&12!==e)],t?n.unshift(12):n.push(12),navigator.share&&n.push(11),n)}),R(this,"setNewAppOrder",e=>{let{isDesktop:t}=this.props;t||L.F6.has(e)||(0,w.Nh)(L.B,JSON.stringify([e,...this.getAppOrder().filter(t=>t!==e)]))}),R(this,"handleMessagingAppClick",e=>{var t,n,i,l;null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(l=this.props).setShareSent)||void 0===i||i.call(l,!0),this.logShareClick(e),this.setFreshInviteCode(e),L.rO.has(e)||(0,w.Nh)(L.Cq,e),this.setNewAppOrder(e)}),R(this,"handleMessengerClick",()=>{this.props.trackInteraction({action:"click",item:"fbmessenger-share-icon"}),this.handleMessagingAppClick(6)}),R(this,"handleTwitterClick",()=>{this.props.trackInteraction({action:"click",item:"twitter-share-icon"}),this.handleMessagingAppClick(9)}),R(this,"handleWhatsappClick",()=>{this.props.trackInteraction({action:"click",item:"whatsapp-share-icon"}),this.handleMessagingAppClick(10)}),R(this,"handleLineClick",()=>{this.handleMessagingAppClick(8)}),R(this,"handleTelegramClick",()=>{this.handleMessagingAppClick(20)}),R(this,"handleViberClick",()=>{this.handleMessagingAppClick(22)}),R(this,"handleEmailClick",()=>{this.handleMessagingAppClick(3),this.props.trackInteraction({action:"click",item:"email-share-button"})}),R(this,"handleFacebookClick",()=>{var e,t,n,i;let{isDesktop:l}=this.props;null===(e=(t=this.props).onShare)||void 0===e||e.call(t),null===(n=(i=this.props).setShareSent)||void 0===n||n.call(i,!0),(0,T.My)(`pcons.${l?"desktop":"mobile"}.facebook-share-icon`),this.props.trackInteraction({action:"click",item:"facebook-share-icon"}),this.logShareClick(5);let{inviteCode:a,invitePath:r,fbLoaded:o}=this.state;(0,E.Rh)(o,r,a||""),this.setFreshInviteCode(5),this.setNewAppOrder(5)}),R(this,"handleSmsClick",()=>{this.handleMessagingAppClick(4)}),R(this,"logShareClick",(e,t=this.state.inviteCode)=>{let{objectId:n,objectType:i,component:l,clientTrackingParams:a,logContextEvent:r,viewType:o,viewParameter:s,socialShareComponent:d}=this.props;(0,E.Iz)({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:l,clientTrackingParams:a,logContextEvent:r,view_type:o,view_parameter:s,socialShareComponent:d})}),R(this,"copyButtonRef",null),R(this,"renderAppsInCustomOrder",({Email:e,Facebook:t,FBMessenger:n,Line:l,WhatsApp:a,Twitter:r,Viber:o,Telegram:s,CopyLink:d,Sms:c,ShareVia:u})=>{let p=this.getAppOrder(),m=new Map([[6,n],[10,a],[5,t],[9,r],[3,e],[8,l],[20,s],[22,o],[4,c],[12,d],[11,u]]);return(0,f.jsx)(i.Fragment,{children:p.map(e=>(0,f.jsxs)(i.Fragment,{children:[" ",m.get(e)]},e))})}),R(this,"onHandleRepinSave",({event:e})=>{var t,n;null===(t=(n=this.props).onSave)||void 0===t||t.call(n),this.props.onNavigation({event:e})})}componentDidMount(){this.setFreshInviteCode(12),(0,u.we)(this.props.locale).then(()=>{this.setState({fbLoaded:!0})}),F().then(({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))})}componentDidUpdate({objectId:e}){let{objectId:t}=this.props;e!==t&&this.setFreshInviteCode(12)}async setFreshInviteCode(e){let{objectId:t,objectType:n,fetchFreshInviteCode:i}=this.props,{invitePath:l,inviteCode:a,title:r,message:o}=await i(e,t,n),s={};l&&(s.invitePath=l),a&&(s.inviteCode=a),r&&(s.inviteTitle=r),o&&(s.inviteMessage=o),this.setState(s)}render(){let{isDesktop:e,objectType:t,onSave:n,showSaveOption:i,isAppleDevice:l,shouldShowVerticalContacts:o,showFixedRows:s}=this.props,{invitePath:d,inviteMessage:c,inviteTitle:u}=this.state,{emailShareLink:p,messengerShareLink:w,twitterShareLink:T,whatsappShareLink:A,lineShareLink:C,telegramShareLink:I,viberShareLink:j,smsShareLink:L}=(0,E.tA)({invitePath:d,inviteTitle:u,objectType:t,i18n:this.props.i18n,isDesktop:e}),R=({children:t})=>(0,f.jsx)(a.kC,{alignItems:"center",justifyContent:"start",direction:"column",width:e||s?`${D}px`:"100%",children:(0,f.jsx)(a.xu,{marginBottom:s?2:0,children:t})}),F=({children:e})=>(0,f.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingX:3,marginBottom:1,children:e}),M=(0,f.jsxs)(R,{children:[(0,f.jsx)(F,{children:(0,f.jsx)(a.xu,{"data-test-id":"fbmessenger-share-icon",children:(0,f.jsx)(a.Tg,{rounding:"circle",rel:"nofollow",href:w,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},children:(0,f.jsx)(v.Z,{size:56})})})}),(0,f.jsx)(z,{text:this.props.i18n.bt("Messenger", "Messenger", "shareMenu.icon.label.messenger", undefined, true)})]}),O=(0,f.jsxs)(R,{children:[(0,f.jsx)(F,{children:(0,f.jsx)(a.xu,{"data-test-id":"whatsapp-share-icon",children:(0,f.jsx)(a.Tg,{rounding:"circle",rel:"nofollow",href:A,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleWhatsappClick()},children:(0,f.jsx)(S.Z,{size:56})})})}),(0,f.jsx)(z,{text:this.props.i18n.bt("WhatsApp", "WhatsApp", "shareMenu.icon.label.whatsapp", undefined, true)})]}),Z=(0,f.jsx)(a.xu,{"data-test-id":"facebook-share-icon",display:"flex",flex:"shrink",children:(0,f.jsxs)(R,{children:[(0,f.jsx)(F,{children:(0,f.jsx)(a.rU,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t(),this.handleFacebookClick()},children:(0,f.jsx)(g.Z,{size:56})})}),(0,f.jsx)(z,{text:this.props.i18n.bt("Facebook", "Facebook", "shareMenu.icon.label.facebook", undefined, true)})]})}),N=(0,f.jsxs)(R,{children:[(0,f.jsx)(F,{children:(0,f.jsx)(a.xu,{"data-test-id":"twitter-share-icon",children:(0,f.jsx)(a.Tg,{rounding:"circle",rel:"nofollow",href:T,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTwitterClick()},children:(0,f.jsx)(k.Z,{size:56})})})}),(0,f.jsx)(z,{text:this.props.i18n.bt("X", "X", "shareMenu.icon.label.twitter", undefined, true)})]}),K=(0,f.jsxs)(R,{children:[(0,f.jsx)(F,{children:(0,f.jsx)(a.Tg,{rounding:"circle",rel:"nofollow",href:C,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleLineClick()},children:(0,f.jsx)(y.Z,{size:56})})}),(0,f.jsx)(z,{text:this.props.i18n.bt(" ", "Line", "shareMenu.icon.label.line", undefined, true)})]}),B=(0,f.jsxs)(R,{children:[(0,f.jsx)(F,{children:(0,f.jsx)(a.Tg,{rounding:"circle",rel:"nofollow",href:j,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleViberClick()},children:(0,f.jsx)(P.Z,{size:56})})}),(0,f.jsx)(z,{text:this.props.i18n.bt("Viber", "Viber", "shareMenu.icon.label.viber", undefined, true)})]}),U=(0,f.jsxs)(R,{children:[(0,f.jsx)(F,{children:(0,f.jsx)(a.Tg,{rounding:"circle",rel:"nofollow",href:I,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTelegramClick()},children:(0,f.jsx)(x.Z,{size:56})})}),(0,f.jsx)(z,{text:this.props.i18n.bt("Telegram", "Telegram", "shareMenu.icon.label.telegram", undefined, true)})]}),H=(0,f.jsxs)(R,{children:[(0,f.jsx)(F,{children:(0,f.jsx)(a.xu,{"data-test-id":"email-share-button",children:(0,f.jsx)(a.Tg,{rounding:"circle",rel:"nofollow",target:"blank",href:p,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleEmailClick()},children:(0,f.jsx)(h.Z,{size:56})})})}),(0,f.jsx)(z,{text:this.props.i18n.bt("  ", "Email", "shareMenu.icon.label.email", undefined, true)})]}),V=(0,f.jsxs)(R,{children:[(0,f.jsx)(F,{children:(0,f.jsx)(a.Tg,{rounding:"circle",rel:"nofollow",target:"blank",href:"#",onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;e.preventDefault(),null===(n=(i=this.props).onShare)||void 0===n||n.call(i),t();let l=c.indexOf("https://");navigator.share&&navigator.share({url:d,text:l>0?c.slice(0,l):c,title:u}).then(()=>{this.handleMessagingAppClick(11),r.Z.increment("allshareoptions_navigator_share.success",1)}).catch(e=>{r.Z.increment("allshareoptions_navigator_share.error",1,{name:e.name,message:e.message})})},children:(0,f.jsx)(a.xu,{height:56,children:(0,f.jsx)(a.hU,{accessibilityLabel:this.props.i18n.bt("   ", "Native share sheet icon", "shareMenu.icon.accessibilityLabel.native_share_sheet", undefined, true),bgColor:"lightGray",icon:"share",iconColor:"darkGray",size:"xl"})})})}),(0,f.jsx)(z,{text:this.props.i18n.bt("  ", "Share via", "shareMenu.icon.label.share_via", undefined, true)})]}),G=(0,f.jsxs)(R,{children:[(0,f.jsx)(F,{children:(0,f.jsx)(a.Tg,{rounding:"circle",rel:"nofollow",href:L,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleSmsClick()},children:l?(0,f.jsx)(_.Z,{size:56}):(0,f.jsx)(a.xu,{"data-test-id":"message-share-button",children:(0,f.jsx)(m.Z,{size:56})})})}),(0,f.jsx)(z,{text:this.props.i18n.bt(" ", "Message", "shareMenu.icon.label.message", undefined, true)})]}),$=(0,f.jsxs)(R,{children:[(0,f.jsx)(F,{children:(0,f.jsx)(a.xu,{ref:this.setClipboard,dangerouslySetInlineStyle:{__style:{cursor:e?"pointer":void 0}},"data-test-id":"copy-link-share-icon",height:56,children:(0,f.jsx)(a.hU,{accessibilityLabel:this.props.i18n.bt(" ", "Link icon", "shareMenu.icon.accessibilityLabel.copy", undefined, true),bgColor:"lightGray",icon:"link",iconColor:"darkGray",size:"xl"})})}),(0,f.jsx)(z,{text:this.props.i18n.bt(" ", "Copy link", "shareMenu.icon.label.copy", undefined, true)})]});return(0,f.jsxs)(a.xu,{children:[(0,f.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",children:(0,f.jsxs)(a.xu,{display:"flex",direction:s?"row":void 0,column:s?3:void 0,justifyContent:"start",height:e&&!s?200:"100%",width:e&&!s?370:"100%",marginBottom:-2,marginTop:o?-2:void 0,paddingX:1,paddingY:2,overflow:e||s?void 0:"scrollX",wrap:s||e,children:[i&&n&&(0,f.jsxs)(R,{children:[(0,f.jsx)(F,{children:(0,f.jsx)(a.iP,{rounding:"circle",onTap:this.onHandleRepinSave,children:(0,f.jsx)(b,{size:56})})}),(0,f.jsx)(z,{text:this.props.i18n.bt("", "Save", "shareMenu.icon.label.save", undefined, true)})]}),this.renderAppsInCustomOrder({Email:H,Facebook:Z,FBMessenger:M,Line:K,WhatsApp:O,Twitter:N,Viber:B,Telegram:U,CopyLink:$,Sms:G,ShareVia:V})]})}),(0,f.jsx)(a.xu,{height:s?32:16})]})}}function O(e){let t=(0,d.ZP)(),n=(0,I.HG)(),{showToast:i}=(0,C.F9)(),{country:a,locale:r}=(0,p.B)(),s=(0,c.Z)({href:{pathname:`/pin/${e.objectId}/repin`,state:{viewType:e.viewType,viewParameter:e.viewParameter}}}),u=(0,l.useSelector)(({session:e})=>e.userAgentPlatform),m=u===j.RL||u===j.s4,h=(0,o.Z)(),g=(0,A.Z)(),_=(0,E.D3)();return(0,f.jsx)(M,{...e,country:a,i18n:t,isDesktop:n,locale:r,showToast:i,onNavigation:s,logContextEvent:h,isAppleDevice:m,fetchFreshInviteCode:_,trackInteraction:g})}},9680:(e,t,n)=>{"use strict";n.d(t,{D3:()=>g,Iz:()=>_,Rh:()=>u,pW:()=>d,sF:()=>p,tA:()=>c});var i,l=n(167912),a=n(690108),r=n(450667),o=n(204125);let s={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function d({country:e,isDesktop:t,shouldShowNativeShare:n}){let{FBMessenger:i,WhatsApp:l,Facebook:a,Twitter:r,Email:o,Line:d,Telegram:c,Viber:u,Sms:p,CopyLink:m,ShareVia:h}=s;function g(){switch(e){case"US":return t?[l,a,r,o]:[p,i,l,a,r];case"ID":return t?[l,d,o,a]:[l,c,p,d,o,a];case"JP":case"TH":case"TW":return t?[d,r,o,a]:[d,o,p,r,a];case"GR":return t?[l,a,r,o]:[u,i,l,p,a,r];case"IR":case"IQ":return t?[l,a,r,o]:[l,c,p,i,r];case"UA":case"RU":return t?[l,a,r,o]:[l,u,c,a,i,p,r];default:return t?[l,a,r,o]:[l,i,p,a,r]}}let _=t?[m,...g()]:[...g(),m,...n?[h]:[]];return _}function c({invitePath:e,inviteTitle:t,objectType:n,i18n:i,isDesktop:l}){let a=i.bt("  ", "A Pin for you", "shareMenu.message.title", undefined, true);8===n&&(a=i.bt("     Pinterest!", "Check out this article on Pinterest!", "shareMenu.message.title", undefined, true));let o=`mailto:?subject=${encodeURIComponent(a)}&body=${encodeURIComponent(e)}`,s=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${r.GH}`,d=`${t}
${e}`,c=l?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(d)}`:`twitter://post?message=${encodeURIComponent(d)}`,u=l?`https://web.whatsapp.com/send?text=${encodeURIComponent(d)}`:`whatsapp://send?text=${encodeURIComponent(d)}`,p=l?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(d)}`,m=`viber://forward?text=${encodeURIComponent(d)}`,h=`tg://msg?text=${encodeURIComponent(d)}`,g=`sms:?&body=${encodeURIComponent(d)}`;return{emailShareLink:o,messengerShareLink:s,twitterShareLink:c,whatsappShareLink:u,lineShareLink:p,telegramShareLink:h,viberShareLink:m,smsShareLink:g}}function u(e,t,n,i){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},e=>{e&&!e.error_message&&i&&i()})}function p(e,t,n,i){if(!n||!t)return;let l=new t(n,{container:n.parentElement,text:()=>e});l.on("success",e=>{i&&i(e)}),l.on("error",()=>{throw Error("<ShareMenu /> error: copy command failed")})}let m=void 0!==i?i:i=n(889424),h=()=>{let e=(0,l.useRelayEnvironment)();return async(t,n,i,a)=>{let r={invite_category:t,invite_object:n,invite_channel:i};return await new Promise((t,n)=>(0,l.fetchQuery)(e,m,{inviteType:JSON.stringify(r),objectId:a}).subscribe({next:e=>{var n,i,l,a,r,o,s,d,c,u,p,m;return t({inviteCode:null!==(n=null===(i=e.v3InviteUserExternalQuery)||void 0===i?void 0:null===(l=i.data)||void 0===l?void 0:l.inviteCode)&&void 0!==n?n:"",invitePath:null!==(a=null===(r=e.v3InviteUserExternalQuery)||void 0===r?void 0:null===(o=r.data)||void 0===o?void 0:o.inviteUrl)&&void 0!==a?a:"",title:null!==(s=null===(d=e.v3InviteUserExternalQuery)||void 0===d?void 0:null===(c=d.data)||void 0===c?void 0:c.title)&&void 0!==s?s:"",message:null!==(u=null===(p=e.v3InviteUserExternalQuery)||void 0===p?void 0:null===(m=p.data)||void 0===m?void 0:m.message)&&void 0!==u?u:""})},error:e=>n(e)}))}};function g(){let e=h();return async(t,n,i)=>await e(3,i,t,n)}async function _({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:l,clientTrackingParams:r,logContextEvent:s,view_parameter:d,view_type:c,socialShareComponent:u}){let p;s({aux_data:{invite_object:i},object_id_str:n,component:l,clientTrackingParams:r,element:o.cc[e],event_type:102,view_type:c,view_parameter:d}),p=2===i?o.LO:3===i?o.Pu:o.dB,s({event_type:10399,component:14122===l?14312:14123===l?14310:u||l,object_id_str:n,view_type:c,view_parameter:d,aux_data:{invite_object:i},element:p[e]}),a.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:i,invite_channel:e},invite_code:t,object_id:n,client_tracking_params:r}).callCreate()}},259501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var i=n(667294),l=n(883119),a=n(798198),r=n(563962),o=n(536042),s=n(874261),d=n(282802),c=n(611756),u=n(618569),p=n(549201),m=n(272109),h=n(782219),g=n(979275),_=n(971467),y=n(16754),v=n(269758),f=n(871755),b=n(894637),x=n(757551),k=n(916224),P=n(343226),S=n(317218),w=n(320634),T=n(980666),A=n(785893);let C="#ffffff",I="ANIMATE_SHARE",j=()=>{let e=`${I}_default {
      from: {
        opacity: 1;
        visibility:visible;
      }
      7% {
        fill: ${C};
        opacity: 0;
        visibility:hidden;
      }
      89% {
        fill: ${C};
        opacity: 0;
        visibility:hidden;
      }
      93% {
        opacity: 0.5;
        visibility:visible;
      }
      to {
        fill: #111111;
        opacity: 1;
        visibility:visible;
      }
    }`,t=`${I}_upsellApp {
      from {
        opacity: 0;
        fill: ${C};
      }
      7% {
        fill: ${C};
        transform: scale(1.25);
        opacity: 1;
      }
      11% {
        transform: scale(1);
        opacity: 1;
      }
      89% {
        fill: ${C};
        transform: scale(1);
        opacity: 1;
      }
      93% {
        transform: scale(1.25);
        opacity: 1;
      }
      to {
        fill: ${C};
        opacity: 0;
      }
    }`;return(0,a.Ll)([e,t])},E=e=>({animation:`${I}_${e} ${T.zn}ms ease-in-out`,WebkitAnimation:`${I}_${e} ${T.zn}ms ease-in-out`}),L=({children:e,handleShareTap:t,upsellIcon:n})=>{let i=(0,o.ZP)();return n?((0,c.Nh)(T.RV,Date.now()),(0,A.jsxs)(l.xu,{children:[(0,A.jsx)(s.Z,{unsafeCSS:j()}),(0,A.jsxs)(l.xu,{alignItems:"center",justifyContent:"center",display:"flex",width:48,height:48,borderStyle:"none",dangerouslySetInlineStyle:{__style:{borderRadius:"22px",...E("container")}},children:[(0,A.jsx)(l.xu,{position:"absolute",opacity:0,dangerouslySetInlineStyle:{__style:E("upsellApp")},children:(0,A.jsx)(l.iP,{accessibilityLabel:i.bt("", "Send", "Board.Pin.SendButton", undefined, true),onTap:({event:e})=>t(e),children:n})}),(0,A.jsx)(l.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:E("default")},children:e})]})]})):e},R=({onDefaultSendButtonClick:e,sendButtonColor:t,viewParameter:n})=>{let a=(0,p.HG)(),o=(0,r.Z)(),s=(0,u.Z)(),{country:C,userAgent:{platform:I}}=(0,d.B)(),j=I===h.RL||I===h.s4,[E,R]=(0,i.useState)(),F=(0,_._l)(),{hasSeenAuthMobileLandingToast:D}=(0,_.w2)()||{},z=()=>{s({action:"click",item:"share-button"}),o({component:194,element:46,event_type:102,view_type:3,view_parameter:n})};return(0,m.Z)(()=>{if(!a){let e=function({country:e,isAppleDevice:t}){let n=(0,c.qn)(T.RV),i=n&&Date.now()-Number(n)<T.bm;if(!i){let n=Number((0,c.qn)(T.Cq))||T.iS.get(e)||10;switch(n){case 5:return(0,A.jsx)(v.Z,{size:T.VZ});case 6:return(0,A.jsx)(x.Z,{size:T.VZ});case 8:return(0,A.jsx)(b.Z,{size:T.VZ});case 4:return t?(0,A.jsx)(f.Z,{size:T.VZ}):(0,A.jsx)(l.xu,{"data-test-id":"message-share-button",children:(0,A.jsx)(y.Z,{size:T.VZ})});case 20:return(0,A.jsx)(k.Z,{size:T.VZ});case 9:return(0,A.jsx)(P.Z,{size:T.VZ});case 22:return(0,A.jsx)(S.Z,{size:T.VZ});case 10:return(0,A.jsx)(w.Z,{size:T.VZ})}}return null}({country:C,isAppleDevice:j});e&&setTimeout(()=>{R(e)},T.W_)}}),F&&!D?(0,A.jsx)(l.xu,{"data-test-id":"share-button-no-animation",children:(0,A.jsx)(g.Z,{onSendButtonClick:e,trackShareTap:z,color:t})}):(0,A.jsx)(L,{handleShareTap:t=>{z(),e(t)},upsellIcon:E,children:(0,A.jsx)(l.xu,{"data-test-id":"share-button-no-animation",children:(0,A.jsx)(g.Z,{onSendButtonClick:e,trackShareTap:z,color:t})})})}},753081:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),l=n(883119),a=n(563962),r=n(272109),o=n(492291),s=n(387815),d=n(580337),c=n(785893);let u=new l.H3([d.Z]);function p({anchor:e,onDismiss:t,objectId:n,objectType:d,title:p,component:m,viewType:h,viewParameter:g}){let _=(0,a.Z)(),[y,v]=(0,i.useState)(!1);return(0,r.Z)(()=>{_({event_type:10400,view_type:h,object_id_str:n,component:m,view_parameter:g,element:(0,s.O)(d),aux_data:{invite_object:d}})}),(0,c.jsx)(l.mh,{zIndex:u,children:(0,c.jsx)(l.J2,{anchor:e,onDismiss:()=>{y||_({component:m,event_type:10403,element:13478,view_type:h,view_parameter:g,aux_data:{invite_object:d}}),t()},size:"xl",positionRelativeToAnchor:!1,children:(0,c.jsx)(l.xu,{"data-test-id":"share-menu-container",children:(0,c.jsxs)(l.kC,{alignItems:"center",direction:"column",wrap:!0,width:360,overflow:"hidden",children:[(0,c.jsx)(l.xu,{marginTop:4,marginBottom:4,children:(0,c.jsx)(l.xv,{size:"300",weight:"bold",children:(0,c.jsx)(l.xu,{"data-test-id":"share-send-message",children:p})})}),(0,c.jsx)(l.kC,{width:360,children:(0,c.jsx)(o.Z,{objectId:n,objectType:d,onDismiss:t,setShareSent:e=>v(e),component:m})})]})})})})}},980666:(e,t,n)=>{"use strict";n.d(t,{B:()=>a,Cq:()=>l,F6:()=>u,RV:()=>i,VZ:()=>r,W_:()=>s,bm:()=>o,iS:()=>p,rO:()=>c,zn:()=>d});let i="animatedShareIconLastViewed",l="lastUsedSocialShare",a="customizedSocialAppOrder",r=44,o=9e5,s=4e3,d=5e3,c=new Set([12,3,11]),u=new Set([11,12]),p=new Map([["AU",6],["CA",6],["DK",6],["DZ",6],["GE",6],["HU",6],["LT",6],["NO",6],["NP",6],["NZ",6],["PH",6],["PL",6],["SK",6],["TN",6],["US",6],["JP",8],["TW",8],["TH",8],["IQ",20],["KH",20],["MM",20],["UZ",20],["BA",22],["BG",22],["BY",22],["CY",22],["GR",22],["MD",22],["RS",22],["UA",22]])},387815:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});let i=e=>{switch(e){case 2:return 331;case 3:return 12631;default:return 72}}},991319:(e,t,n)=>{"use strict";n.d(t,{P:()=>m,Z:()=>g});var i=n(667294),l=n(867631),a=n.n(l),r=n(883119),o=n(969327),s=n(536042),d=n(874261),c=n(282802),u=n(785893);function p(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let m=`
  video::cue {
    color: white;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Helvetica, ' Pro W3', '', Meiryo, ' ', Arial, sans-serif;
    font-weight: 450;
    font-size: 18px;
  }
`;class h extends i.PureComponent{constructor(...e){super(...e),p(this,"state",{videoStartTime:0}),p(this,"setVideoPlayerRef",e=>{let{setVideoRef:t,handlePlay:n,autoplay:i=!0}=this.props;this.videoPlayerRef=e,e&&t&&t(e.video),this.videoPlayerRef&&this.videoPlayerRef.video&&n&&i&&this.videoPlayerRef.video.addEventListener("canplay",()=>{n({userTriggeredPlay:!1})})}),p(this,"hls",null),p(this,"initializeHls",()=>{this.destroyHls();let{src:e}=this.props,t=new(a());a().isSupported()&&!(0,o.G6)(this.props.requestContext.userAgent.browserName)&&(t.loadSource(e),this.videoPlayerRef&&t.attachMedia(this.videoPlayerRef.video)),this.hls=t}),p(this,"destroyHls",()=>{let{hls:e}=this;e&&e.destroy()}),p(this,"onPlay",({event:e})=>{let{handlePlay:t}=this.props;e.stopPropagation(),t&&t({userTriggeredPlay:!0})}),p(this,"onPause",({event:e})=>{let{handlePause:t}=this.props;e.stopPropagation(),t&&t()}),p(this,"handleVolumeChange",({event:e,volume:t})=>{let{onVolumeChange:n}=this.props;e.stopPropagation(),n&&n({volume:t})}),p(this,"handleOnReady",e=>{this.props.onReady&&this.props.onReady(e)}),p(this,"handleEnded",()=>{let{onEnded:e}=this.props;e&&e()}),p(this,"handlePlaying",()=>{let{clearSeekTime:e}=this.props;e&&e()})}componentDidMount(){var e,t;this.initializeHls();let n=null===(e=this.videoPlayerRef)||void 0===e?void 0:null===(t=e.video)||void 0===t?void 0:t.textTracks[0];n&&n.addEventListener("cuechange",()=>{let e=n.activeCues[0];e&&e.line&&(e.line=-6,e.size=88)})}componentWillUnmount(){this.destroyHls()}componentDidUpdate(e){var t,n;let{activeStreamItemIndex:i,playing:l,src:r,seekTime:o,captionsEnabled:s}=this.props;o&&o!==e.seekTime&&this.setState({videoStartTime:o});let d=null===(t=this.videoPlayerRef)||void 0===t?void 0:null===(n=t.video)||void 0===n?void 0:n.textTracks[0];d&&(s?d.mode="showing":d.mode="disabled"),i!==e.activeStreamItemIndex&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=0),e.src!==r&&(this.initializeHls(),this.hls&&this.hls.on(a().Events.MANIFEST_PARSED,()=>{void 0!==l&&l&&this.videoPlayerRef&&this.videoPlayerRef.play()}))}render(){let{aspectRatio:e,controls:t,loop:n=!1,poster:i,src:l,onTimeChange:a,playing:o,volume:s,captions:c}=this.props;return(0,u.jsxs)(r.xu,{children:[(0,u.jsx)(d.Z,{unsafeCSS:m}),(0,u.jsx)(r.nk,{autoplay:o,playsInline:!0,aspectRatio:e,captions:c,controls:t,loop:n,onControlsPause:this.onPause,onControlsPlay:this.onPlay,onReady:this.handleOnReady,onEnded:this.handleEnded,onVolumeChange:this.handleVolumeChange,onTimeChange:a,onPlay:()=>{},onPlaying:this.handlePlaying,onPlayError:()=>{},playing:o,poster:i,ref:this.setVideoPlayerRef,src:l,startTime:this.state.videoStartTime||void 0,volume:s})]})}}function g(e){let{clearSeekTime:t,pinId:n="",seekTime:i}=e,l=(0,s.ZP)(),a=(0,c.B)();return(0,u.jsx)(h,{...e,i18n:l,requestContext:a,seekTime:i,clearSeekTime:()=>{t&&t(n)}})}},982043:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n(667294),l=n(991319),a=n(785893);function r(e){let{onReady:t,volume:n}=e,[r,o]=(0,i.useState)(!0),s=(0,i.useCallback)(()=>{o(!1)},[]),d=(0,i.useCallback)(()=>{o(!0)},[]);return(0,a.jsx)(l.Z,{...e,handlePause:s,handlePlay:d,onReady:e=>{t&&t(e)},volume:n,playing:r})}},727462:(e,t,n)=>{"use strict";n.d(t,{D:()=>O,Z:()=>U});var i,l,a=n(667294),r=n(167912),o=n(616550),s=n(883119),d=n(563962),c=n(377234),u=n(737311),p=n(536042),m=n(898252),h=n(769705),g=n(282802),_=n(497088),y=n(549201),v=n(802071),f=n(525104),b=n(410834),x=n(467037),k=n(133835),P=n(428876),S=n(196039),w=n(852180),T=n(618569),A=n(936840),C=n(785893);let I=void 0!==i?i:i=n(738319),j=({clickthrough:e,onLoad:t})=>{let n=(0,p.ZP)(),i=(0,T.Z)();return(0,a.useEffect)(()=>{t&&t()},[t]),(0,C.jsx)(s.xu,{"data-test-id":"idea-pin-section-visit-button",children:(0,C.jsx)(s.iP,{onTap:()=>{i({action:"click",item:"visit-button"}),e()},rounding:"pill",fullWidth:!0,children:(0,C.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--color-gray-roboflow-700)"}},height:S.oe,rounding:S.dX,display:"flex",justifyContent:"center",alignItems:"center",paddingX:S.rM,paddingY:S.Ai,children:(0,C.jsx)(s.xv,{color:"light",weight:"bold",size:"300",children:n.bt("", "Visit", "CloseupStreams.IdeaPinActionBar.visitButton", undefined, true)})})})})},E=({clickthroughInterstitialExperience:e,graphqlRef:t,onLoad:n})=>{let i=(0,r.useFragment)(I,t),l=(0,A.I)({clickthroughInterstitialExperience:e,graphqlRef:i});return(0,C.jsx)(j,{clickthrough:l,onLoad:n})},L=({clickthroughInterstitialExperience:e,pinId:t,onLoad:n})=>{let i=(0,A.Z)({clickthroughInterstitialExperience:e,pinId:t});return(0,C.jsx)(j,{clickthrough:i,onLoad:n})};function R({clickthroughInterstitialExperience:e,pinId:t,graphqlRef:n,onLoad:i}){return n?(0,C.jsx)(E,{graphqlRef:n,clickthroughInterstitialExperience:e,onLoad:i}):(0,C.jsx)(L,{clickthroughInterstitialExperience:e,pinId:t,onLoad:i})}var F=n(604851);let D=(0,a.lazy)(()=>Promise.resolve().then(n.bind(n,154500))),z=(0,a.lazy)(()=>Promise.resolve().then(n.bind(n,787198))),M=({action:e})=>(0,C.jsx)("button",{style:{background:"transparent",border:"none"},children:(0,C.jsx)(s.kC,{alignContent:"center",alignItems:"center",justifyContent:"center",height:32,children:e})}),O=60,Z=void 0!==l?l:l=n(535424);function N({clientTrackingParams:e,experience:t,pinId:n,pinnedToBoardId:i,viewParameter:l,graphqlRef:r,viewType:h,boardId:f,embedSrc:T,embedType:A,hasRichMetadata:I,hasRichMetadataProducts:j,hasRichMetadataArticle:E,hasRichMetadataRecipe:L,imagesUrls:O,pinnerId:Z,pinSectionId:N,trackingParams:K,isEligibleForAggregatedComments:B,hasLink:U,component:H,attributionLabel:V}){let{isRTL:G}=(0,g.B)(),$=(0,p.ZP)(),W=(0,d.Z)(),q=(0,v.Z)(),Y=q.isAuth,[X,J]=(0,a.useState)(!1),Q=(0,o.useLocation)(),ee=(0,m.NK)(n,Q),et=(0,y.HG)(),en=et?S.hk:S.gx,ei=et?S.R_:S.CR,el=(0,x.Z)({embedSrc:T,embedType:A,imagesUrls:O,pinId:n,pinnerId:Z}),ea=(0,b.Z)({embedSrc:T,embedType:A,hasRichMetadata:I,hasRichMetadataProducts:j,hasRichMetadataArticle:E,hasRichMetadataRecipe:L,imagesUrls:O,isStoryPin:!0,pinId:n,attributionLabel:V}),er=(0,k.Z)({boardId:null!=f?f:"",embedSrc:T,embedType:A,imagesUrls:O,pinId:n,pinnerId:null!=Z?Z:"",pinnedToBoardId:i,pinSectionId:N,trackingParams:K,shouldRefresh:!1}),eo=(0,c.Yc)(),es=eo?"darkGray":"white",ed=et?"11px":"40px",ec=et?ed:"0px",eu=(0,C.jsx)(P.Z,{buttonText:et?"":"Save",clientTrackingParams:e,deeplinkUri:ee.deeplinkUri,isOnIdeaPinCloseup:!0,onTouch:ea,onUnsave:er,pinId:n,pinnedToBoardId:i,shouldShowSavedButton:el,to:ee.mwebUri,viewParameter:l,viewType:h}),{paddingX:ep,paddingY:em}=(0,S._P)(et),eh=r?{type:"graphqlRef",data:r}:{type:"deprecated",data:n};return(0,C.jsxs)(s.xu,{"data-test-id":"story-pin-action-bar-mweb",position:"absolute",bottom:!0,right:et&&!G,left:et&&G,marginEnd:et||G?2:0,marginStart:et&&G?2:0,width:et?"initial":"100%",dangerouslySetInlineStyle:{__style:{marginBottom:ec,backgroundColor:et?"transparent":"#000000"}},paddingX:ep,paddingY:em,zIndex:S.lp,children:[(0,C.jsxs)(s.kC,{direction:et?"column":"row",justifyContent:et?"end":"start",alignItems:et?"center":"stretch",width:"100%",gap:et?{row:0,column:2}:void 0,children:[et&&(0,C.jsx)(s.kC,{alignItems:"center",dataTestId:"pin-more-button",justifyContent:"center",height:en,width:ei,children:(0,C.jsx)(s.hU,{size:"lg",accessibilityLabel:$.bt("", "more", "closeup.storyPin.actionBar.contextualMenu", undefined, true),iconColor:es,icon:"ellipsis",onClick:()=>{J(!0),W({component:229,element:10946,event_type:102,view_type:3,view_parameter:157})}})}),Y&&(0,C.jsx)(u.Z,{name:"SafeSuspense_StoryPinActionBar_ReactionPickerContainer",children:(0,C.jsx)(_.Z,{children:et?(0,C.jsx)(s.kC,{alignItems:"center",justifyContent:"center",height:en,width:ei,children:(0,C.jsx)(D,{experience:t,pinId:n,nativePinType:"storyPin",isIdeaPinCloseUp:!0,iconColor:es})}):(0,C.jsx)(a.Fragment,{})})}),(0,C.jsxs)(s.kC,{justifyContent:et?"start":"between",direction:et?"column":"row",flex:et?"none":"grow",children:[(0,C.jsx)(u.Z,{name:"SafeSuspense_CloseupModals_ShareMenu",children:(0,C.jsx)(_.Z,{children:et?(0,C.jsx)(s.kC,{dataTestId:"share-button-container",alignItems:"center",justifyContent:"center",height:en,width:ei,children:(0,C.jsx)(F.Z,{pinId:n,iconSize:"lg",iconColor:es,viewParameter:l,clientTrackingParams:e,viewType:h,component:H})}):B&&(0,C.jsx)(M,{action:(0,C.jsx)(z,{pinId:n,pinKey:eh,viewParameter:l})})})}),!et&&(0,C.jsxs)(s.kC,{gap:2,children:[U&&(0,C.jsx)(s.xu,{display:"flex","data-test-id":"streams-visit-text-btn",alignItems:"center",justifyContent:"center",height:en,children:(0,C.jsx)(R,{pinId:n,graphqlRef:r})}),(0,C.jsx)(s.xu,{display:"flex","data-test-id":"streams-save-text-btn",alignItems:"center",justifyContent:"center",height:en,children:eu})]}),(0,C.jsx)(u.Z,{name:"SafeSuspense_StoryPinActionBar_CommentThreadContainer",children:(0,C.jsx)(_.Z,{children:et?B&&(0,C.jsx)(s.kC,{alignItems:"center",justifyContent:"center",height:en,width:ei,dataTestId:"comment-button-container",children:(0,C.jsx)(z,{pinId:n,pinKey:eh,viewParameter:l})}):(0,C.jsx)(M,{action:(0,C.jsx)(F.Z,{pinId:n,iconSize:"md",iconColor:es,viewParameter:l,clientTrackingParams:e,viewType:h,component:H})})})})]}),et&&(0,C.jsx)(s.xu,{display:"flex","data-test-id":"streams-save-text-btn",alignItems:"center",justifyContent:"center",height:en,children:eu})]}),X&&(0,C.jsx)(w.Z,{onDismiss:()=>J(!1),pinId:n})]})}function K({graphqlRef:e,...t}){var n,i,l,a,s,d,c,u,p,m,g;let _=(0,r.useFragment)(Z,e),y=(0,h.Z)({type:"graphqlRef",data:_}),v=(0,o.useLocation)();return(0,C.jsx)(N,{...t,boardId:null===(n=_.board)||void 0===n?void 0:n.entityId,embedSrc:null===(i=_.embed)||void 0===i?void 0:i.src,embedType:null===(l=_.embed)||void 0===l?void 0:l.type,graphqlRef:_,hasLink:!!_.link&&!_.link.startsWith("https://i.pinimg.com"),hasRichMetadata:!!_.richMetadata,hasRichMetadataProducts:!!(null===(a=_.richMetadata)||void 0===a?void 0:a.products),hasRichMetadataArticle:!!(null===(s=_.richMetadata)||void 0===s?void 0:s.article),hasRichMetadataRecipe:!!(null===(d=_.richMetadata)||void 0===d?void 0:d.recipe),imagesUrls:y,isEligibleForAggregatedComments:null===(c=_.isEligibleForAggregatedComments)||void 0===c||c,pinnedToBoardId:null===(u=_.pinnedToBoard)||void 0===u?void 0:u.entityId,pinnerId:null===(p=_.pinner)||void 0===p?void 0:p.entityId,pinSectionId:null===(m=_.section)||void 0===m?void 0:m.entityId,trackingParams:_.trackingParams,attributionLabel:null===(g=v.state)||void 0===g?void 0:g.attributionLabel})}function B(e){var t,n,i,l,a,r,s,d,c,u,p;let m=(0,f.S6)()(e.pinId),g=null==m?void 0:null===(t=m.board)||void 0===t?void 0:t.id,_=(0,o.useLocation)(),y=(0,h.Z)(null!=m?{type:"deprecated",data:m}:null);return(0,C.jsx)(N,{...e,boardId:g,embedSrc:null==m?void 0:null===(n=m.embed)||void 0===n?void 0:n.src,embedType:null==m?void 0:null===(i=m.embed)||void 0===i?void 0:i.type,hasLink:!!(null!=m&&m.link)&&!m.link.startsWith("https://i.pinimg.com"),hasRichMetadata:!!(null==m?void 0:m.rich_metadata),hasRichMetadataProducts:!!(null==m?void 0:null===(l=m.rich_metadata)||void 0===l?void 0:l.products),hasRichMetadataArticle:!!(null==m?void 0:null===(a=m.rich_metadata)||void 0===a?void 0:a.article),hasRichMetadataRecipe:!!(null==m?void 0:null===(r=m.rich_metadata)||void 0===r?void 0:r.recipe),imagesUrls:y,isEligibleForAggregatedComments:null!==(s=null==m?void 0:m.is_eligible_for_aggregated_comments)&&void 0!==s&&s,pinnedToBoardId:null==m?void 0:null===(d=m.pinned_to_board)||void 0===d?void 0:d.id,pinnerId:null==m?void 0:null===(c=m.pinner)||void 0===c?void 0:c.id,pinSectionId:null==m?void 0:null===(u=m.section)||void 0===u?void 0:u.id,trackingParams:null==m?void 0:m.tracking_params,attributionLabel:null===(p=_.state)||void 0===p?void 0:p.attributionLabel,graphqlRef:null})}function U({graphqlRef:e,...t}){return e?(0,C.jsx)(K,{graphqlRef:e,...t}):(0,C.jsx)(B,{...t})}},852180:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(883119),l=n(88622),a=n(536042),r=n(251951),o=n(393786),s=n(785893);function d({onDismiss:e,pinId:t}){let n=(0,a.ZP)(),d=(0,r.R)();return(0,s.jsx)(l.ZP,{accessibilityModalLabel:"",mobileAccessibilityCloseIconLabel:n.bt("   ", "close report modal", " - ", undefined, true),onDismiss:e,type:"closeup_page",children:(0,o.E)(d)&&(0,s.jsx)(i.xu,{padding:3,children:(0,s.jsx)(o.Z,{isIdeaPin:!0,nativePinType:"storyPin",textSize:"300",onDismiss:e,graphqlRef:null,pinId:t})})})}},989282:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(883119),l=n(150875),a=n(982043),r=n(727462),o=n(785893);let s=e=>{let{media:t,altImageText:n,dominantColor:s="#000000",pageType:d,isVideo:c}=e,{windowHeight:u,windowWidth:p}=(0,l.Z)(),m=u-r.D,h=Math.min(16*p/9,m),g=h/p;return t||null!=t&&t.width?(0,o.jsx)(i.xu,{height:"100%",width:"100%",position:"relative",overflow:"hidden",children:c?(()=>{if(!t.video_list||!t.video_list.V_HLSV3_MOBILE)return null;let{width:e,height:n,thumbnail:l,url:r}=t.video_list.V_HLSV3_MOBILE;return(0,o.jsx)(i.xu,{position:"absolute",width:"100%",dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},children:(0,o.jsx)(a.default,{aspectRatio:(null!=e?e:1)/(null!=n?n:1),controls:!0,poster:l,src:null!=r?r:""})})})():(()=>{var e,l;if(!t.width)return null;let a="number"==typeof t.height&&"number"==typeof t.width?t.height/t.width:1,r="contain";return("cover"===d||a>g)&&(r="cover"),(0,o.jsx)(i.Ee,{alt:n,color:s,fit:r,naturalHeight:null!==(e=t.height)&&void 0!==e?e:1,naturalWidth:t.width,src:null!==(l=t.url)&&void 0!==l?l:""})})()}):null}},763165:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var i,l=n(167912),a=n(883119),r=n(662955),o=n(463031),s=n(99220),d=n(212380),c=n(525104),u=n(989282),p=n(667294),m=n(460914),h=n(196039),g=n(563962),_=n(536042),y=n(785893);let v=({blockImage:e,text:t})=>{let n=(0,_.ZP)();if(e&&e.url){var i,l;return(0,y.jsx)(a.Ee,{fit:"cover",src:e.url,alt:t,naturalHeight:null!==(i=e.height)&&void 0!==i?i:1,naturalWidth:null!==(l=e.width)&&void 0!==l?l:1})}return(0,y.jsx)(a.JO,{dangerouslySetSvgPath:{__path:"M21.001,7.241 L16.948,11.293 L15.888,10.233 L16.56,9.561 C17.146,8.976 17.146,8.026 16.56,7.44 C15.974,6.855 15.024,6.855 14.439,7.44 L13.768,8.112 L12.707,7.052 L16.759,3 L21.001,7.241 Z M11.293,16.949 L7.241,21.001 L2.999,16.76 L7.052,12.707 L8.111,13.767 L7.44,14.439 C6.855,15.025 6.855,15.974 7.44,16.56 C8.025,17.146 8.976,17.145 9.561,16.56 L10.232,15.888 L11.293,16.949 Z M14.639,0.879 L10.586,4.931 C9.415,6.102 9.415,8.001 10.586,9.173 L11.647,10.233 L10.232,11.647 L9.172,10.586 C8.001,9.415 6.102,9.415 4.931,10.586 L0.879,14.638 C-0.293,15.81 -0.293,17.709 0.879,18.88 L5.12,23.122 C6.291,24.293 8.19,24.293 9.361,23.122 L13.414,19.07 C14.585,17.898 14.585,15.999 13.414,14.828 L12.354,13.767 L13.768,12.354 L14.828,13.414 C15.999,14.585 17.898,14.585 19.069,13.414 L23.121,9.362 C24.293,8.191 24.293,6.292 23.121,5.12 L18.88,0.879 C17.709,-0.293 15.81,-0.293 14.639,0.879 Z"},accessibilityLabel:n.bt("    ", "Default link block icon", "Icon for default link blocks without an image", undefined, true),color:"subtle",size:35})};class f extends p.Component{constructor(...e){var t,n,i;super(...e),t="onTouch",n=e=>{e.stopPropagation();let{block:t,logContextEvent:n,pageId:i}=this.props,{src_url:l="",canonical_url:a=""}=t;n({view_type:3,component:228,view_parameter:157,element:11157,event_type:102,aux_data:{story_pin_page_id:i,src_url:l,canonical_url:a}})},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){this.props.logContextEvent({event_type:120,view_type:3,component:228,view_parameter:157,element:11157})}render(){var e;let{block:t}=this.props;if(t.type!==h.h8.LINK)return null;let{image:n,text:i="",normalized_url:l,src_url:r}=t,o=null==n?void 0:null===(e=n.images)||void 0===e?void 0:e["345x"];return(0,y.jsx)(a.Tg,{target:"blank",rel:"nofollow",href:r||"",tapStyle:"compress",rounding:2,onTap:({event:e})=>this.onTouch(e),children:(0,y.jsxs)(a.xu,{display:"flex",rounding:2,overflow:"hidden",alignItems:"center",borderStyle:"sm",children:[(0,y.jsx)(a.xu,{minWidth:48,width:48,height:48,flex:"none",display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid lightGray"}},children:(0,y.jsx)(v,{blockImage:o,text:i})}),(0,y.jsxs)(a.xu,{paddingX:5,flex:"grow",overflow:"hidden",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},children:[(0,y.jsx)(a.xv,{size:"100",lineClamp:1,weight:"bold",children:i}),(0,y.jsx)(a.xv,{color:"shopping",size:"100",children:l})]})]})})}}function b(e){let t=(0,g.Z)();return(0,y.jsx)(f,{...e,logContextEvent:t})}function x(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends p.PureComponent{constructor(...e){super(...e),x(this,"state",{isTextDrawerExpanded:!1}),x(this,"toggleIsTextDrawerExpanded",e=>{e.stopPropagation();let{isTextDrawerExpanded:t}=this.state;this.setState({isTextDrawerExpanded:!t})}),x(this,"renderBlock",(e,t,n)=>{let{isTextDrawerExpanded:i}=this.state;switch(e.type){case h.h8.HEADING:return(0,y.jsxs)(a.xu,{display:"flex",justifyContent:"between",marginBottom:2,children:[(0,y.jsx)(a.xu,{maxWidth:"90%",children:(0,y.jsx)(a.X6,{color:"default",size:"500",overflow:"normal",children:e.text})}),(0,y.jsx)(a.JO,{accessibilityLabel:i?"hide":"expand",color:"default",icon:i?"arrow-down":"arrow-up"})]},t);case h.h8.PARAGRAPH:return(0,y.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,y.jsx)(a.xv,{color:"default",children:e.text})},t);case h.h8.LINK:return(0,y.jsx)(a.xu,{marginTop:6,children:(0,y.jsx)(b,{block:e,pageId:n})},t);default:return null}})}render(){let{associatedText:e,pageId:t}=this.props,{isTextDrawerExpanded:n}=this.state,i=(null!=e?e:[]).map((e,n)=>this.renderBlock(e,n,t)).filter(e=>null!==e);return i.length?(0,y.jsx)(m.Z,{onTouch:this.toggleIsTextDrawerExpanded,pressState:"none",children:(0,y.jsx)(a.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"40px 40px 0px 0px"}},height:n?void 0:132,left:!0,minHeight:n?132:void 0,maxHeight:n?"80%":void 0,overflow:n?"auto":"hidden",padding:6,position:"absolute",right:!0,children:i})}):null}}var P=n(128314);let S=void 0!==i?i:i=n(88960),w=({onLastPage:e,textOnly:t,dominantColor:n,images:i,blocks:l,pageId:r,video:o,hasImageAdjusted:d})=>{var c;let p=o||(null==i?void 0:i["750x"])||(null==i?void 0:i["236x"])||(null==i?void 0:i["1200x"])||(null==i?void 0:i.originals),m=(null!==(c=null==l?void 0:l.length)&&void 0!==c?c:0)>0,h=m&&null!=l&&l[0].text?l[0].text:"";return(0,y.jsx)(s.Z,{view:3,viewParameter:157,component:228,auxData:{story_pin_page_id:r},children:(0,y.jsxs)(a.xu,{width:"100%",height:"100%",children:[!t&&(0,y.jsx)(u.Z,{altImageText:h,isVideo:!!o,media:p,pageType:"media",dominantColor:null!=n?n:void 0}),e&&(0,y.jsx)(a.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0, 0.7)"}}}),m&&!d&&!e&&(0,y.jsx)(k,{associatedText:null!=l?l:void 0,pageId:null!=r?r:void 0})]})})},T=({page:e})=>{var t,n,i,l,a;if(!e)return null;let s=e.video?{video_list:e.video.videoList?{V_HLSV3_MOBILE:e.video.videoList.vHLSV3MOBILE?{width:null!==(t=e.video.videoList.vHLSV3MOBILE.width)&&void 0!==t?t:void 0,height:null!==(n=e.video.videoList.vHLSV3MOBILE.height)&&void 0!==n?n:void 0,thumbnail:null!==(i=e.video.videoList.vHLSV3MOBILE.thumbnail)&&void 0!==i?i:void 0,url:null!==(l=e.video.videoList.vHLSV3MOBILE.url)&&void 0!==l?l:void 0}:void 0}:void 0}:void 0,d=(0,r.g)(e),c=(null!==(a=e.blocks)&&void 0!==a?a:[]).reduce((e,t)=>{if(4===t.blockType){var n,i,l,a;let r={block_type:4,type:o.h8.LINK,text:null!==(n=t.text)&&void 0!==n?n:void 0,src_url:null!==(i=t.srcUrl)&&void 0!==i?i:void 0,canonical_url:null!==(l=t.canonicalUrl)&&void 0!==l?l:void 0,normalized_url:null!==(a=t.normalizedUrl)&&void 0!==a?a:void 0,image:void 0};return[...e,r]}return e},[]),u=null!=d&&d.length||c.length?[...null!=d?d:[],...null!=c?c:[]]:null;return{blocks:u,video:s}};function A({pageId:e,graphqlRef:t,onLastPage:n,textOnly:i}){var a,r,o,s,c;let u=(0,l.useFragment)(S,t),p=(null!==(a=null===(r=u.storyPinData)||void 0===r?void 0:r.pages)&&void 0!==a?a:[]).find(t=>t.storyPageId===e),m=null!==(o=null!==(s=null==p?void 0:p.dominantColorAdjusted)&&void 0!==s?s:null==p?void 0:p.dominantColor)&&void 0!==o?o:"",{imageImages:h,imageAdjustedImages:g,hasImageImages:_,hasImageAdjustedImages:v}=(0,P.Z)(p)||Object.freeze({});if(!p)return null;let f=!!p.dominantColorAdjusted||v,b=!!p.dominantColor||_;if(!b&&!f&&!p.video&&!i)return(0,y.jsx)(d.Z,{});let{blocks:x,video:k}=null!==(c=T({page:p}))&&void 0!==c?c:Object.freeze({});return(0,y.jsx)(w,{dominantColor:m,images:f?g:h,hasImageAdjusted:f,pageId:p.storyPageId,blocks:x,video:k,onLastPage:n,textOnly:i})}function C({pageId:e,pinId:t,textOnly:n,onLastPage:i}){var l,a;let r=(0,c.S6)()(null!=t?t:""),o=(null!==(l=null==r?void 0:null===(a=r.story_pin_data)||void 0===a?void 0:a.pages)&&void 0!==l?l:[]).find(t=>t.id===e),{image:s,image_adjusted:u,blocks:p,video:m,id:h}=o||Object.freeze({}),{dominant_color:g,images:_}=u||s||Object.freeze({});return s||m||n?(0,y.jsx)(w,{dominantColor:g,images:_,blocks:p,hasImageAdjusted:!!u,pageId:h,video:m,onLastPage:i,textOnly:n}):(0,y.jsx)(d.Z,{})}function I({pageId:e,pinId:t,graphqlRef:n,...i}){return n?(0,y.jsx)(A,{graphqlRef:n,pageId:e,...i}):(0,y.jsx)(C,{pageId:e,pinId:t,...i})}},846828:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var i,l=n(667294),a=n(167912),r=n(883119),o=n(388011),s=n(88622),d=n(536042),c=n(874261),u=n(245410),p=n(549201),m=n(802071),h=n(525104),g=n(196039),_=n(785893);let y=void 0!==i?i:i=n(624937),v=({children:e,handleCloseModal:t})=>{let n=(0,p.HG)(),i=(0,d.ZP)();return n?(0,_.jsx)(s.ZP,{accessibilityModalLabel:i.bt("      ", "Artist and song title for this Pin", "web.closeup.musicAttibutionModal", undefined, true),heading:(0,_.jsxs)(r.kC,{justifyContent:"between",children:[(0,_.jsx)(r.X6,{size:"500",children:i.bt("   ", "Playlist for this video", "web.closeup.musicAttibutionModal.heading", undefined, true)}),(0,_.jsx)(r.hU,{accessibilityLabel:i.bt("   ", "Close modal button", "web.closeup.musicAttibutionModal.closeButton", undefined, true),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"})]}),onDismiss:t,children:e}):(0,_.jsx)(r.mh,{zIndex:g.lp,children:(0,_.jsx)(r.Io,{heading:i.bt("   ", "Playlist for this video", "mWeb.closeup.musicAttibutionModal.heading", undefined, true),onDismiss:t,children:e})})},f=({musicAttributions:e,pageMusicBlockAudioArtistName:t,pageMusicBlockAudioTitle:n,playbackHandlers:i,shouldMute:a,viewParameter:s})=>{let h=(0,d.ZP)(),{logContextEvent:g}=(0,o.v)(),{checkExperiment:y}=(0,u.F)(),f=(0,p.ZP)(),b=(0,m.Z)(),x=y("mweb_music_compliance_muting_attribution").anyEnabled,k="desktop"!==f&&y(b.isAuth?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,[P,S]=(0,l.useState)(!1),w=new r.Ry(6);if((0,l.useEffect)(()=>{(null!=e&&e.length||a)&&e&&x&&g({event_type:a?14600:14601,view_type:3,view_parameter:s})},[x,g,e,a,s]),!(null!=e&&e.length)&&!a)return null;let{handlePause:T,handlePlay:A}=i||{},C="-100%",I=null;if(a)I=h.bt("    ", "Audio not available in your location", "closeup.storyPin.musicAttribution", undefined, true);else{let e=null!=t?t:"",i=null!=n?n:"";I=e&&i?`${e} - ${i}`:""}if(x&&(null==e?void 0:e.length)===1){let t=e[0],{artist:n="",title:i=""}=t;I=n&&i?`${n} - ${i}`:""}let j=e&&e.length>=2?(0,_.jsx)(r.xu,{children:(0,_.jsx)(r.iP,{fullHeight:!0,fullWidth:!0,onTap:()=>{null==T||T(),S(!0)},children:(0,_.jsxs)(r.kC,{alignItems:"center",justifyContent:k?"center":"start",children:[(0,_.jsx)(r.xu,{marginEnd:2,children:(0,_.jsx)(r.JO,{inline:!0,accessibilityLabel:h.bt(" ", "Music icon", "mWeb.closeup.storypin.musicicon", undefined, true),color:"light",icon:a?"music-off":"music-on",size:12})}),(0,_.jsx)(r.xv,{inline:!0,color:"light",overflow:"noWrap",size:"100",children:h.bt(" ", "View the playlist", "mWeb.closeup.musicAttibutionModal.entryPoint", undefined, true)})]})})}):(0,_.jsxs)(l.Fragment,{children:[(0,_.jsx)(r.JO,{inline:!0,accessibilityLabel:h.bt(" ", "Music icon", "mWeb.closeup.storypin.musicicon", undefined, true),color:"light",icon:a?"music-off":"music-on",size:12}),(0,_.jsx)(r.xu,{marginStart:2,overflow:"hidden",children:(0,_.jsxs)("span",{className:I.length>=50?"marquee":void 0,style:{display:"inline-block",maxWidth:I.length>=50?"260px":void 0},children:[(0,_.jsx)(r.xv,{inline:!0,color:"light",overflow:"noWrap",size:"100",children:I}),(0,_.jsx)(c.Z,{unsafeCSS:`
                  .marquee {
                   animation: marquee 10s linear infinite;
                   animation-delay: 2s;
                  }

                  .marquee:hover {
                      animation-play-state: paused;
                  }

                 @keyframes marquee {
                   0% {
                     transform: translateX(0%);
                    }
                  50% {
                    transform: translateX(${C});
                  }
                  100% {
                    transform: translateX(0%);
                  }
              }
            `})]})})]});return(0,_.jsx)(r.xu,{"data-test-id":"music-attribution",alignItems:"center",display:"flex",justifyContent:"start",overflow:"hidden",zIndex:w,children:a?(0,_.jsx)(l.Fragment,{children:(0,_.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,_.jsx)(r.xu,{marginEnd:2,children:(0,_.jsx)(r.JO,{inline:!0,accessibilityLabel:h.bt(" ", "Music icon", "mWeb.closeup.storyPin.musicMutedIcon", undefined, true),color:"light",icon:"music-off",size:12})}),(0,_.jsx)(r.xv,{inline:!0,color:"light",overflow:"noWrap",size:"100",children:h.bt("    ", "Audio not available in your location", "closeup.storyPin.musicAttribution", undefined, true)})]})}):(0,_.jsxs)(l.Fragment,{children:[x?j:(0,_.jsxs)(r.kC,{gap:{row:1,column:0},justifyContent:"center",children:[(0,_.jsx)(r.JO,{icon:a?"music-off":"music-on",size:12,inline:!0,accessibilityLabel:h.bt("      ", "Artist and song title for this Pin", "mWeb.closeup.storypin.musicicon", undefined, true),color:"light"}),(0,_.jsx)(r.xu,{overflow:"hidden",children:(0,_.jsxs)("span",{className:I.length>50?"marquee":void 0,style:{display:"inline-block",maxWidth:I.length>50?"260px":void 0},children:[(0,_.jsx)(r.xv,{inline:!0,color:"light",size:"100",overflow:"noWrap",children:I}),(0,_.jsx)(c.Z,{unsafeCSS:`
                  .marquee {
                    animation: marquee 10s linear infinite;
                    animation-delay: 2s;
                  }

                  .marquee:hover {
                    animation-play-state: paused;
                  }

                  @keyframes marquee {
                    0% {
                      transform: translateX(0%);
                    }
                    50% {
                      transform: translateX(${C});
                    }
                    100% {
                      transform: translateX(0%);
                    }
                  }
            `})]})})]}),P&&(0,_.jsx)(v,{handleCloseModal:()=>{null==A||A(),S(!1)},children:(0,_.jsx)(r.xu,{paddingX:5,marginBottom:5,paddingY:1,children:null==e?void 0:e.map(({isrc:e,thumbnailImageUrl:t,thumbnail_image_url:n,title:i,artist:l})=>(0,_.jsxs)(r.xu,{display:"flex",padding:1,children:[(0,_.jsx)(r.xu,{color:"darkWash",height:60,rounding:7,width:60,children:(0,_.jsx)(r.Ee,{alt:h.bt("  ", "Image of album art", "mWeb.closeup.musicAttibutionModal.albumArt", undefined, true),color:"darkWash",naturalWidth:1,naturalHeight:1,src:t||n||""})}),(0,_.jsxs)(r.xu,{display:"flex",direction:"column",justifyContent:"center",paddingX:2,children:[(0,_.jsx)(r.xv,{weight:"bold",children:i}),(0,_.jsx)(r.xv,{size:"100",children:l})]})]},e))})})]})})};function b({activePageIndex:e,graphqlRef:t,...n}){var i;let l;let r=(0,a.useFragment)(y,t),o=null==r?void 0:r.storyPinData,s=e||0===e?null==o?void 0:null===(i=o.pages)||void 0===i?void 0:i[e]:null,d=!1;return o&&s?(d=s.shouldMute||!1,l=s.musicAttributions):(d=(null==r?void 0:r.shouldMute)||!1,l=null==r?void 0:r.musicAttributions),(0,_.jsx)(f,{...n,musicAttributions:l,shouldMute:d,graphqlRef:null})}function x({activePageIndex:e,pinId:t,...n}){var i;let l;let a=(0,h.S6)()(t),r=null==a?void 0:a.story_pin_data,o=e||0===e?null==r?void 0:null===(i=r.pages)||void 0===i?void 0:i[e]:null,s=!1;return r&&o?(s=o.should_mute||!1,l=o.music_attributions):(s=(null==a?void 0:a.should_mute)||!1,l=null==a?void 0:a.music_attributions),(0,_.jsx)(f,{...n,musicAttributions:l,shouldMute:s,graphqlRef:null})}function k({graphqlRef:e,...t}){return e?(0,_.jsx)(b,{graphqlRef:e,...t}):(0,_.jsx)(x,{graphqlRef:null,...t})}},604851:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),l=n(883119),a=n(536042),r=n(466946),o=n(549201),s=n(802071),d=n(196039),c=n(785893);let u=(0,i.lazy)(()=>Promise.all([n.e(68138),n.e(44997)]).then(n.bind(n,520009))),p=({pinId:e,iconColor:t,iconSize:n,clientTrackingParams:p,viewType:m,viewParameter:h,component:g})=>{var _;let y=(0,a.ZP)(),{isAuth:v}=(0,s.Z)(),{hideUnauthSharingModals:f}=null!==(_=(0,r.l)())&&void 0!==_?_:Object.freeze({}),[b,x]=(0,i.useState)(!1),k=(0,o.HG)(),P=()=>x(!0),S=()=>{x(!1),v||null==f||f()};return(0,c.jsxs)(i.Fragment,{children:[k?(0,c.jsx)(l.hU,{accessibilityLabel:y.bt(" ", "Share Pin", "closeup.storyPin.actionBar.sharePin", undefined, true),icon:"share",size:n||"lg",iconColor:t||"white",onClick:b?S:P}):(0,c.jsx)(l.iP,{accessibilityLabel:y.bt("", "share", "closeup.storyPin.actionBar.shareButton", undefined, true),onTap:P,children:(0,c.jsx)(l.xu,{"data-test-id":"share-button-container",minHeight:d.gx,minWidth:d.CR,dangerouslySetInlineStyle:{__style:{WebkitMaskImage:'url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTguMzI2MjEgNi4zODY2N0w3LjM0NjIxIDcuMzY4MzNDNi42OTYyMSA4LjAxOTE3IDUuNjQxMjEgOC4wMjA4MyA0Ljk4ODcxIDcuMzdDNC4zMzc4NyA2LjcyIDQuMzM3MDQgNS42NjUgNC45ODcwNCA1LjAxMzMzTDkuOTkwMzcgMEwxNS4wMTEyIDUuMDEwODNDMTUuNjYyIDUuNjYxNjcgMTUuNjYyOSA2LjcxNjY3IDE1LjAxMjkgNy4zNjgzM0MxNC4zNjI5IDguMDE5MTcgMTMuMzA3OSA4LjAyMDgzIDEyLjY1NjIgNy4zN0wxMS42NTk1IDYuMzc1ODNWMTEuNTI0MkMxMS42NTk1IDEyLjQ0NDIgMTAuOTEyOSAxMy4xOTA4IDkuOTkyODcgMTMuMTkwOEM5LjA3MjA0IDEzLjE5MDggOC4zMjYyMSAxMi40NDQyIDguMzI2MjEgMTEuNTI0MlY2LjM4NjY3WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTE1LjgzMzQgMTMuMzMzNUMxNS44MzM0IDEyLjQxMzUgMTYuNTggMTEuNjY2OCAxNy41IDExLjY2NjhDMTguNDIgMTEuNjY2OCAxOS4xNjY3IDEyLjQxMzUgMTkuMTY2NyAxMy4zMzM1VjE4LjMzMzVDMTkuMTY2NyAxOS4yNTM1IDE4LjQyIDIwLjAwMDIgMTcuNSAyMC4wMDAySDIuNTAwMDRDMS41ODAwNCAyMC4wMDAyIDAuODMzMzc0IDE5LjI1MzUgMC44MzMzNzQgMTguMzMzNVYxMy4zMzM1QzAuODMzMzc0IDEyLjQxMzUgMS41ODAwNCAxMS42NjY4IDIuNTAwMDQgMTEuNjY2OEMzLjQyMDA0IDExLjY2NjggNC4xNjY3MSAxMi40MTM1IDQuMTY2NzEgMTMuMzMzNVYxNi42NjY4SDE1LjgzMzRWMTMuMzMzNVoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=")',WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",background:"white"}}})}),(0,c.jsx)(u,{objectType:1,isOpen:b,onDismiss:S,objectId:e,hideContactsSuggestions:!v,clientTrackingParams:p,element:10942,viewType:m,viewParameter:h,component:g})]})}},896507:(e,t,n)=>{"use strict";n.d(t,{Z:()=>eZ});var i,l,a,r,o,s,d,c,u,p,m,h=n(667294),g=n(167912),_=n(883119),y=n(319828),v=n(633917),f=n(282802),b=n(463031),x=n(549201),k=n(196039),P=n(616550),S=n(340906),w=n(123228),T=n(563962),A=n(870243),C=n(536042),I=n(630089),j=n(819079),E=n(599226),L=n(551897),R=n(802071),F=n(219236),D=n(638136),z=n(525104),M=n(785893);let O=void 0!==i?i:i=n(464442);function Z({elementType:e,onFlyoutClose:t,onFlyoutOpen:n,pinId:i,tooltipElementType:l,videoProgressInfo:a,title:r,hasPrice:o,imageUrl:s,productCurrentPrice:d,pinCreator:c,blockStyleRotation:u,blockEndTime:p,blockErrorMessage:m,blockInteractiveStickerType:g,blockIsRemoved:y,blockIsValid:v,blockStartTime:f,blockTypeIdentifier:b,stickerDataQuestionCommentId:x,stickerDataBoardId:z,blockUserImageUrl:O,blockUserFullName:Z,blockUserUsername:N}){let K=(0,C.ZP)(),B=(0,R.Z)(),[U,H]=(0,h.useState)(!1),V=(0,h.useRef)(),G=(0,P.useHistory)(),$=(0,T.Z)(),W=(0,S.Z)(),q=(0,E.Z)(),Y=v&&5===g&&!!z,X=(0,j.Z)(Y?{name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:z}}:null),J=v&&7===g&&!!x,Q=(0,D.Z)(),{is_collaborative:ee,pin_count:et,url:en}=X.data||{},ei=null;b===k.h8.PRODUCT_STICKER?ei=i?`/pin/${i}/`:"/":b===k.h8.MENTION_STICKER?ei=`/${null!=N?N:""}/`:Y&&(ei=X.isLoaded?`${en}`:null);let{currentTime:el}=a||{},ea=!(0,L.Z)({currentTime:el,endTime:p,startTime:f}),[er,eo]=(0,h.useState)(!1);(0,h.useEffect)(()=>{ea&&H(!1)},[ea]);let es=()=>{$({event_type:123,view_type:3,view_parameter:157,component:228,element:l}),H(!1),t&&t()},ed=e=>{$({event_type:120,view_type:3,view_parameter:157,component:228,element:l,aux_data:{error_message:!v&&m?m:null}}),H(!0),n&&n(),e.preventDefault(),e.stopPropagation()},ec=()=>v?Y?X.isLoaded?(0,M.jsxs)(h.Fragment,{children:[(0,M.jsxs)(_.xu,{flex:"grow",paddingX:2,children:[(0,M.jsx)(_.xv,{weight:"bold",size:"100",lineClamp:1,children:ee?K.bt("   ", "Explore this group board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true):K.bt("  ", "Explore this board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true)}),(0,M.jsx)(_.xv,{size:"100",children:(!!et||0===et)&&(0,I.nk)(K.nbt(["{{ pinCount }}", "{{ pinCount }}", "{{ pinCount }}"], et, "closeup.StoryPin.stickerBlock.boardSticker.boardLabel", true),{pinCount:et})})]}),(0,M.jsx)(_.xu,{flex:"none",children:(0,M.jsx)(_.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]}):(0,M.jsx)(h.Fragment,{children:(0,M.jsxs)(_.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,M.jsx)(_.xu,{marginEnd:1,paddingX:2,children:(0,M.jsx)(_.xv,{color:"subtle",size:"100",lineClamp:1,children:K.bt(" ", "Loading board...", "closeup.StoryPin.stickerBlock.boardSticker.loadingText", undefined, true)})}),(0,M.jsx)(_.$j,{accessibilityLabel:K.bt(" ", "Board is loading", "closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText", undefined, true),size:"sm",show:!0})]})}):(0,M.jsx)(_.xu,{paddingX:2,paddingY:2,children:(0,M.jsx)(_.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:K.bt("   ", "Sticker not supported yet", "closeup.StoryPin.stickerBlock.genericStickerError", undefined, true)})}):(0,M.jsx)(_.xu,{paddingX:2,paddingY:2,children:(0,M.jsx)(_.xv,{color:"subtle",lineClamp:1,size:"100",weight:"bold",children:m})}),eu=()=>{let e=null;switch(b){case k.h8.PRODUCT_STICKER:e=(0,M.jsxs)(h.Fragment,{children:[(0,M.jsx)(_.xu,{flex:"none",children:(0,M.jsx)(_.zd,{wash:!0,height:40,width:40,rounding:3,children:(0,M.jsx)(_.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:s||""})})}),(0,M.jsx)(_.xu,{flex:"grow",paddingX:2,children:o?(0,M.jsxs)(_.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,M.jsx)(_.xv,{size:"100",lineClamp:1,weight:"bold",color:"shopping",children:d}),(0,M.jsx)(_.xv,{size:"100",lineClamp:1,children:r})]}):(0,M.jsx)(_.xv,{size:"100",lineClamp:1,children:r})}),(0,M.jsx)(_.xu,{flex:"none",children:(0,M.jsx)(_.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case k.h8.MENTION_STICKER:e=(0,M.jsxs)(h.Fragment,{children:[(0,M.jsx)(_.xu,{flex:"none",children:(0,M.jsx)(A.qE,{size:"sm",name:null!=Z?Z:"",src:null!=O?O:void 0})}),(0,M.jsx)(_.xu,{flex:"grow",paddingX:2,children:(0,M.jsx)(_.xv,{weight:"bold",size:"200",lineClamp:1,children:Z})}),(0,M.jsx)(_.xu,{flex:"none",children:(0,M.jsx)(_.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case k.h8.GENERIC_STICKER:e=ec();break;case k.h8.VTO_MAKEUP_STICKER:e=(0,M.jsx)(_.xv,{weight:"bold",size:"300",children:K.bt("     !", "Try this sticker on your phone!", "closeup.storyPin.vtoMakeupSticker", undefined, true)})}let t=ee?K.bt("   ", "Explore this group board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true):K.bt("  ", "Explore this board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true);return(0,M.jsx)(_.J2,{accessibilityLabel:t,anchor:V.current,idealDirection:"up",onDismiss:es,positionRelativeToAnchor:!1,_deprecatedShowCaret:!0,size:y?"flexible":"sm",children:(0,M.jsx)(_.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:b===k.h8.PRODUCT_STICKER?1:3,width:"100%",children:y?(0,M.jsx)(_.xv,{color:"subtle",weight:"bold",size:"200",children:K.bt(" .", "Tag removed!", "closeup.storyPin.stickerBlock", undefined, true)}):e})})},ep=async(e,t,n)=>(i&&x&&(await Q({force:n,parentId:x,pinId:i,text:e,tags:JSON.stringify(t),isReply:!0}),eo(!1)),!0);return(0,M.jsxs)(_.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{transform:`rotate(${null!=u?u:0}deg)`,touchAction:"none"}},"data-test-id":(b||"")+"_container",display:"flex",left:!0,position:"absolute",ref:V,right:!0,rounding:2,top:!0,zIndex:k.B5,children:[(0,M.jsx)(_.iP,{onTap:U?es:({event:t})=>{ea||($({view_type:3,view_parameter:157,component:228,element:e,event_type:102}),J?B.isAuth?eo(!0):q({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_idea_pin_question_sticker",desktopOptions:{modalType:"login"}}):ed(t))},rounding:"pill",disabled:ea}),U&&(0,M.jsx)(_.mh,{zIndex:k.tD,children:y?eu():(0,M.jsx)(_.iP,{onTap:({event:e})=>{$({view_type:3,view_parameter:157,component:228,element:l,event_type:102}),e.preventDefault(),e.stopPropagation(),ei?G.push(ei):es()},fullWidth:!0,children:eu()})}),J&&(0,M.jsx)(F.Z,{commentWarningModalState:w.A9.NONE,dismissCommentWarningModal:()=>{},heading:(0,I.nk)(K.bt("  {{ creator }}", "Reply to {{ creator }}", "ideapin.questionsticker.replymodal.heading", undefined, true),{creator:c}).join(" "),initialMentions:[],isModalOpen:er,onDismiss:()=>{eo(!1)},onPost:ep,placeholder:W?K.bt("         ", "Your reply will show up as a public comment on this Pin", "pin.questionsticker.replymodal.placeholder", undefined, true):K.bt("         -", "Your reply will show up as a public comment on this Idea Pin", "ideapin.questionsticker.replymodal.placeholder", undefined, true)})]})}function N({graphqlRef:e,...t}){var n,i,l;let a=(0,g.useFragment)(O,e),{gridTitle:r,description:o,richSummary:s}=a||Object.freeze({}),d=a.imageSpec_236x,{displayName:c,products:u}=s||{},p=(null==u?void 0:u[0].offerSummary)||Object.freeze({}),{price:m,maxPrice:h}=p||{},_=(null===(n=a.nativeCreator)||void 0===n?void 0:n.firstName)||(null===(i=a.nativeCreator)||void 0===i?void 0:i.fullName)||(null===(l=a.nativeCreator)||void 0===l?void 0:l.username);return(0,M.jsx)(Z,{...t,hasPrice:!!p&&(!!m||!!h),title:c||r||o,productCurrentPrice:m,imageUrl:null==d?void 0:d.url,pinCreator:_,pinId:a.entityId})}function K({blockPinId:e,pinId:t,...n}){var i,l,a;let r=t||e,o=(0,z.S6)()(null!=r?r:""),{grid_title:s,description:d,images:c,rich_summary:u}=o||{},p=(c||{})["236x"]||{},{display_name:m,products:h}=u||{},g=((h||[])[0]||{}).offer_summary||{},{price:_,max_price:y}=g||{},v=(null==o?void 0:null===(i=o.native_creator)||void 0===i?void 0:i.first_name)||(null==o?void 0:null===(l=o.native_creator)||void 0===l?void 0:l.full_name)||(null==o?void 0:null===(a=o.native_creator)||void 0===a?void 0:a.username);return(0,M.jsx)(Z,{...n,hasPrice:!!g&&(!!_||!!y),title:m||s||d,productCurrentPrice:_,imageUrl:p.url,pinCreator:v,pinId:r})}function B({graphqlRef:e,blockPinId:t,...n}){return e?(0,M.jsx)(N,{graphqlRef:e,...n}):(0,M.jsx)(K,{blockPinId:t,...n})}let U=void 0!==l?l:l=n(169741),H=void 0!==a?a:a=n(79145);function V({graphqlRef:e,rootPingraphqlRef:t,...n}){var i,l,a;let r=(0,g.useFragment)(H,t),o=(0,g.useFragment)(U,e);return(0,M.jsx)(B,{...n,blockStyleRotation:null===(i=o.blockStyle)||void 0===i?void 0:i.rotation,blockEndTime:o.endTime,blockErrorMessage:o.errorMessage,blockInteractiveStickerType:o.interactiveStickerType,blockIsRemoved:o.isRemoved,blockIsValid:o.isValid,blockStartTime:o.startTime,blockTypeIdentifier:k.h8.GENERIC_STICKER,stickerDataQuestionCommentId:null===(l=o.stickerData)||void 0===l?void 0:l.questionCommentId,stickerDataBoardId:null===(a=o.stickerData)||void 0===a?void 0:a.boardId,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:r,blockPinId:null})}function G({graphqlRef:e,...t}){var n,i,l;let a=(0,g.useFragment)(U,e);return(0,M.jsx)(B,{...t,blockStyleRotation:null===(n=a.blockStyle)||void 0===n?void 0:n.rotation,blockEndTime:a.endTime,blockErrorMessage:a.errorMessage,blockInteractiveStickerType:a.interactiveStickerType,blockIsRemoved:a.isRemoved,blockIsValid:a.isValid,blockStartTime:a.startTime,blockTypeIdentifier:k.h8.GENERIC_STICKER,stickerDataQuestionCommentId:null===(i=a.stickerData)||void 0===i?void 0:i.questionCommentId,stickerDataBoardId:null===(l=a.stickerData)||void 0===l?void 0:l.boardId,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:null})}function $({block:e,...t}){let{block_style:{rotation:n=0}={},end_time:i,error_message:l,interactive_sticker_type:a=null,is_removed:r,is_valid:o,start_time:s,sticker_data:d,type:c}=e,{board_id:u,question_comment_id:p}=d||{};return(0,M.jsx)(B,{...t,blockStyleRotation:n,blockEndTime:i,blockErrorMessage:l,blockInteractiveStickerType:a,blockIsRemoved:r,blockIsValid:o,blockStartTime:s,blockTypeIdentifier:c,stickerDataQuestionCommentId:p,stickerDataBoardId:u,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:null})}function W({block:e,resourceBlock:t,rootPingraphqlRef:n,...i}){return e&&n?(0,M.jsx)(V,{graphqlRef:e,rootPingraphqlRef:n,...i}):e&&!n?(0,M.jsx)(G,{graphqlRef:e,...i}):t?(0,M.jsx)($,{block:t,...i}):null}var q=n(376398),Y=n(171054);let X=void 0!==r?r:r=n(178365);function J({blockText:e,styleAlignment:t,styleFontSize:n,styleHexColor:i,styleHighlightColor:l,styleVerticalAlignment:a,fontName:r,fontLetterSpacing:o,fontLineHeight:s,fontUrl:d,fontDefaultSize:c}){return(0,Y.m)({hasFont:!0,letterSpacing:o,lineHeight:s,name:r,url:d}),(0,M.jsx)("h1",{style:(0,q.RK)({alignment:t,verticalAlignment:null!=a?a:k.Wz.vertical_alignment}),children:(0,M.jsx)("span",{style:(0,q.BN)({fontSize:n||c,hexColor:null!=i?i:k.Wz.hex_color,letterSpacing:o,lineHeight:s,name:r,highlightColor:l}),children:e})})}function Q({graphqlRef:e}){var t,n,i,l,a,r,o,s,d,c,u,p,m,h,_,y,v,f,b,x,P,S,w,T,A;let C=(0,g.useFragment)(X,e);return(0,M.jsx)(J,{blockText:C.text,styleAlignment:null!==(t=null===(n=C.style)||void 0===n?void 0:n.alignment)&&void 0!==t?t:k.Wz.alignment,styleFontSize:null!==(i=null===(l=C.style)||void 0===l?void 0:l.fontSize)&&void 0!==i?i:k.Wz.font_size,styleHexColor:null!==(a=null===(r=C.style)||void 0===r?void 0:r.hexColor)&&void 0!==a?a:k.Wz.hex_color,styleHighlightColor:null!==(o=null===(s=C.style)||void 0===s?void 0:s.highlightColor)&&void 0!==o?o:k.Wz.highlight_color,styleVerticalAlignment:null!==(d=null===(c=C.style)||void 0===c?void 0:c.verticalAlignment)&&void 0!==d?d:k.Wz.vertical_alignment,fontName:null!==(u=null===(p=C.style)||void 0===p?void 0:null===(m=p.font)||void 0===m?void 0:m.name)&&void 0!==u?u:k.Wz.font.name,fontLetterSpacing:null!==(h=null===(_=C.style)||void 0===_?void 0:null===(y=_.font)||void 0===y?void 0:y.letterSpacing)&&void 0!==h?h:k.Wz.font.letter_spacing,fontLineHeight:null!==(v=null===(f=C.style)||void 0===f?void 0:null===(b=f.font)||void 0===b?void 0:b.lineHeight)&&void 0!==v?v:k.Wz.font.line_height,fontUrl:null!==(x=null===(P=C.style)||void 0===P?void 0:null===(S=P.font)||void 0===S?void 0:S.url)&&void 0!==x?x:k.Wz.font.url,fontDefaultSize:null!==(w=null===(T=C.style)||void 0===T?void 0:null===(A=T.font)||void 0===A?void 0:A.defaultSize)&&void 0!==w?w:k.Wz.font.default_size})}function ee({block:e}){var t,n,i,l,a,r,o,s,d,c,u,p,m,h,g,_,y,v,f,b,x,P,S,w,T;return(0,M.jsx)(J,{blockText:e.text,styleAlignment:null!==(t=null===(n=e.style)||void 0===n?void 0:n.alignment)&&void 0!==t?t:k.Wz.alignment,styleFontSize:null!==(i=null===(l=e.style)||void 0===l?void 0:l.font_size)&&void 0!==i?i:k.Wz.font_size,styleHexColor:null!==(a=null===(r=e.style)||void 0===r?void 0:r.hex_color)&&void 0!==a?a:k.Wz.hex_color,styleHighlightColor:null!==(o=null===(s=e.style)||void 0===s?void 0:s.highlight_color)&&void 0!==o?o:k.Wz.highlight_color,styleVerticalAlignment:null!==(d=null===(c=e.style)||void 0===c?void 0:c.vertical_alignment)&&void 0!==d?d:k.Wz.vertical_alignment,fontName:null!==(u=null===(p=e.style)||void 0===p?void 0:null===(m=p.font)||void 0===m?void 0:m.name)&&void 0!==u?u:k.Wz.font.name,fontLetterSpacing:null!==(h=null===(g=e.style)||void 0===g?void 0:null===(_=g.font)||void 0===_?void 0:_.letter_spacing)&&void 0!==h?h:k.Wz.font.letter_spacing,fontLineHeight:null!==(y=null===(v=e.style)||void 0===v?void 0:null===(f=v.font)||void 0===f?void 0:f.line_height)&&void 0!==y?y:k.Wz.font.line_height,fontUrl:null!==(b=null===(x=e.style)||void 0===x?void 0:null===(P=x.font)||void 0===P?void 0:P.url)&&void 0!==b?b:k.Wz.font.url,fontDefaultSize:null!==(S=null===(w=e.style)||void 0===w?void 0:null===(T=w.font)||void 0===T?void 0:T.default_size)&&void 0!==S?S:k.Wz.font.default_size})}function et({block:e,resourceBlock:t}){return e?(0,M.jsx)(Q,{graphqlRef:e}):t?(0,M.jsx)(ee,{block:t}):null}let en=void 0!==o?o:o=n(556079);function ei({imageHeight:e,imageWidth:t,imageUrl:n}){let i=(0,C.ZP)();return(0,M.jsx)(_.xu,{flex:"grow",children:(0,M.jsx)(_.Ee,{alt:i.bt(" -", "Story pin image", "mweb.closeup.storypin.renderer", undefined, true),color:"transparent",naturalHeight:null!=e?e:1,naturalWidth:null!=t?t:1,src:null!=n?n:""})})}function el({graphqlRef:e}){let t=(0,g.useFragment)(en,e);return t.imageSpec_750x?(0,M.jsx)(ei,{imageHeight:t.imageSpec_750x.height,imageWidth:t.imageSpec_750x.width,imageUrl:t.imageSpec_750x.url}):null}function ea({block:e}){let t=e.image;if(!t)return null;let{images:n={}}=t,i=n["750x"];return(0,M.jsx)(ei,{imageHeight:null==i?void 0:i.height,imageWidth:null==i?void 0:i.width,imageUrl:null==i?void 0:i.url})}function er({block:e,resourceBlock:t}){return e?(0,M.jsx)(el,{graphqlRef:e}):t?(0,M.jsx)(ea,{block:t}):null}let eo=void 0!==s?s:s=n(688599);function es({graphqlRef:e,...t}){var n,i,l,a;let r=(0,g.useFragment)(eo,e);return(0,M.jsx)(B,{...t,blockStyleRotation:null===(n=r.blockStyle)||void 0===n?void 0:n.rotation,blockEndTime:r.endTime,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:r.isRemoved,blockIsValid:null,blockStartTime:r.startTime,blockTypeIdentifier:k.h8.MENTION_STICKER,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:null===(i=r.user)||void 0===i?void 0:i.imageSmallUrl,blockUserFullName:null===(l=r.user)||void 0===l?void 0:l.fullName,blockUserUsername:null===(a=r.user)||void 0===a?void 0:a.username,graphqlRef:null,blockPinId:null})}function ed({block:e,...t}){var n;let{block_style:{rotation:i}={},end_time:l,is_removed:a,start_time:r,type:o}=e,{image_small_url:s,full_name:d,username:c}=null!==(n=e.user)&&void 0!==n?n:{};return(0,M.jsx)(B,{...t,blockStyleRotation:i,blockEndTime:l,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:a,blockIsValid:null,blockStartTime:r,blockTypeIdentifier:o,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:s,blockUserFullName:d,blockUserUsername:c,graphqlRef:null,blockPinId:null})}function ec({block:e,resourceBlock:t,...n}){return e?(0,M.jsx)(es,{graphqlRef:e,...n}):t?(0,M.jsx)(ed,{block:t,...n}):null}let eu=void 0!==d?d:d=n(519484);function ep({blockText:e,styleAlignment:t,styleFontSize:n,styleHexColor:i,styleHighlightColor:l,styleVerticalAlignment:a,fontName:r,fontLetterSpacing:o,fontLineHeight:s,fontUrl:d,fontDefaultSize:c}){(0,Y.m)({hasFont:!0,letterSpacing:o,lineHeight:s,name:r,url:d});let u=(null!=e?e:"").split(/\r?\n/g);return(0,M.jsx)("div",{style:(0,q.RK)({alignment:t,verticalAlignment:null!=a?a:k.Cc.vertical_alignment}),children:(0,M.jsx)("p",{style:(0,q.BN)({fontSize:n||c,hexColor:null!=i?i:k.Cc.hex_color,letterSpacing:o,lineHeight:s,name:r}),children:u.map((t,n)=>(0,M.jsx)("span",{style:(0,q.xm)({highlightColor:t.trim().length?l:null}),children:n===u.length-1?t:(0,M.jsxs)(h.Fragment,{children:[t," ",(0,M.jsx)("br",{})]})},`paragraphLine-${n}-${(null!=e?e:"").substr(0,9)}`))})})}function em({graphqlRef:e}){var t,n,i,l,a,r,o,s,d,c,u,p,m,h,_,y,v,f,b,x,P,S,w,T,A;let C=(0,g.useFragment)(eu,e);return(0,M.jsx)(ep,{blockText:C.text,styleAlignment:null!==(t=null===(n=C.style)||void 0===n?void 0:n.alignment)&&void 0!==t?t:k.Cc.alignment,styleFontSize:null!==(i=null===(l=C.style)||void 0===l?void 0:l.fontSize)&&void 0!==i?i:k.Cc.font_size,styleHexColor:null!==(a=null===(r=C.style)||void 0===r?void 0:r.hexColor)&&void 0!==a?a:k.Cc.hex_color,styleHighlightColor:null!==(o=null===(s=C.style)||void 0===s?void 0:s.highlightColor)&&void 0!==o?o:k.Cc.highlight_color,styleVerticalAlignment:null!==(d=null===(c=C.style)||void 0===c?void 0:c.verticalAlignment)&&void 0!==d?d:k.Cc.vertical_alignment,fontName:null!==(u=null===(p=C.style)||void 0===p?void 0:null===(m=p.font)||void 0===m?void 0:m.name)&&void 0!==u?u:k.Cc.font.name,fontLetterSpacing:null!==(h=null===(_=C.style)||void 0===_?void 0:null===(y=_.font)||void 0===y?void 0:y.letterSpacing)&&void 0!==h?h:k.Cc.font.letter_spacing,fontLineHeight:null!==(v=null===(f=C.style)||void 0===f?void 0:null===(b=f.font)||void 0===b?void 0:b.lineHeight)&&void 0!==v?v:k.Cc.font.line_height,fontUrl:null!==(x=null===(P=C.style)||void 0===P?void 0:null===(S=P.font)||void 0===S?void 0:S.url)&&void 0!==x?x:k.Cc.font.url,fontDefaultSize:null!==(w=null===(T=C.style)||void 0===T?void 0:null===(A=T.font)||void 0===A?void 0:A.defaultSize)&&void 0!==w?w:k.Cc.font.default_size})}function eh({block:e}){var t,n,i,l,a,r,o,s,d,c,u,p,m,h,g,_,y,v,f,b,x,P,S,w,T;return(0,M.jsx)(ep,{blockText:e.text,styleAlignment:null!==(t=null===(n=e.style)||void 0===n?void 0:n.alignment)&&void 0!==t?t:k.Cc.alignment,styleFontSize:null!==(i=null===(l=e.style)||void 0===l?void 0:l.font_size)&&void 0!==i?i:k.Cc.font_size,styleHexColor:null!==(a=null===(r=e.style)||void 0===r?void 0:r.hex_color)&&void 0!==a?a:k.Cc.hex_color,styleHighlightColor:null!==(o=null===(s=e.style)||void 0===s?void 0:s.highlight_color)&&void 0!==o?o:k.Cc.highlight_color,styleVerticalAlignment:null!==(d=null===(c=e.style)||void 0===c?void 0:c.vertical_alignment)&&void 0!==d?d:k.Cc.vertical_alignment,fontName:null!==(u=null===(p=e.style)||void 0===p?void 0:null===(m=p.font)||void 0===m?void 0:m.name)&&void 0!==u?u:k.Cc.font.name,fontLetterSpacing:null!==(h=null===(g=e.style)||void 0===g?void 0:null===(_=g.font)||void 0===_?void 0:_.letter_spacing)&&void 0!==h?h:k.Cc.font.letter_spacing,fontLineHeight:null!==(y=null===(v=e.style)||void 0===v?void 0:null===(f=v.font)||void 0===f?void 0:f.line_height)&&void 0!==y?y:k.Cc.font.line_height,fontUrl:null!==(b=null===(x=e.style)||void 0===x?void 0:null===(P=x.font)||void 0===P?void 0:P.url)&&void 0!==b?b:k.Cc.font.url,fontDefaultSize:null!==(S=null===(w=e.style)||void 0===w?void 0:null===(T=w.font)||void 0===T?void 0:T.default_size)&&void 0!==S?S:k.Cc.font.default_size})}function eg({block:e,resourceBlock:t}){return e?(0,M.jsx)(em,{graphqlRef:e}):t?(0,M.jsx)(eh,{block:t}):null}let e_=void 0!==c?c:c=n(336090);function ey({graphqlRef:e,...t}){var n;let i=(0,g.useFragment)(e_,e);return(0,M.jsx)(B,{...t,blockStyleRotation:null===(n=i.blockStyle)||void 0===n?void 0:n.rotation,blockEndTime:i.endTime,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:i.isRemoved,blockIsValid:null,blockStartTime:i.startTime,blockTypeIdentifier:k.h8.PRODUCT_STICKER,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:i.pinId})}function ev({block:e,...t}){let{block_style:{rotation:n}={},end_time:i,is_removed:l,start_time:a,type:r}=e;return(0,M.jsx)(B,{...t,blockStyleRotation:n,blockEndTime:i,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:l,blockIsValid:null,blockStartTime:a,blockTypeIdentifier:r,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:e.pin_id})}function ef({block:e,resourceBlock:t,...n}){return e?(0,M.jsx)(ey,{graphqlRef:e,...n}):t?(0,M.jsx)(ev,{block:t,...n}):null}var eb=n(634004),ex=n(828947),ek=n(288959),eP=n(991319);let eS=void 0!==u?u:u=n(952879);function ew({activeStreamItemIndex:e,hasPinPosterImage:t,isActive:n,isSinglePage:i,muteVideos:l,onVideoEnded:a,onVideoTimeChange:r,pinAspectRatio:o,blockStyleWidth:s,blockStyleHeight:d,blockVideo:c,pinId:u,pinPosterImage:p}){var m;let g=function(){let e=(0,x.HG)(),[t,n]=(0,h.useState)(b.ap);return(0,h.useEffect)(()=>{"undefined"!=typeof window&&n(e?b.ap:window.innerWidth/window.innerHeight)},[e]),t}(),y=(0,f.B)(),{isBot:v}=y,{isSeekingIdeaPin:k,seekTimes:P}=(0,eb.Hx)(),{captionsEnabled:S}=(0,ek.r)(),{clearSeekTime:w}=(0,eb.RC)(),T=P&&P[u]||0,A=(0,h.useRef)();(0,ex.Z)(e=>{var t,n;e&&!(null!==(t=A.current)&&void 0!==t&&t.paused)&&(null===(n=A.current)||void 0===n||n.pause())},A.current);let C=y.locale.toLowerCase(),I=null!==(m=null==c?void 0:c.captionsUrls)&&void 0!==m?m:{},j=C&&I[C]||Object.values(I)[0]||"";if(!c)return null;let{width:E,height:L,thumbnail:R,url:F}=c,D=s&&d?s/d*g:g,z=(null!=E?E:1)/(null!=L?L:1),O={height:"100%",left:"0%",top:"0%",width:"100%"};if(D<z){let e=100*z/D;O.width=v?"100%":`${e}%`,O.left=v?"":`-${(e-100)/2}%`}else if(D>z){let e=100*D/z;O.height=`${e}%`,O.top=`-${(e-100)/2}%`}let Z=(0,M.jsx)(eP.Z,{setVideoRef:e=>{A.current=e},activeStreamItemIndex:e,aspectRatio:(null!=E?E:1)/(null!=L?L:1),poster:t&&p||(null!=R?R:void 0),src:null!=F?F:"",captionsEnabled:S,captions:String(j)||"",playing:!k&&n,volume:l?0:1,onEnded:n?a:()=>{},onTimeChange:({time:e})=>{if(r&&"number"==typeof c.duration&&c.duration>0&&!k&&n){let t=c.duration/1e3;r({currentTime:e,duration:t,pinId:u})}},pinId:u,clearSeekTime:w,loop:i,seekTime:T});return o!==b.ap?Z:(0,M.jsx)(_.xu,{height:"100%",width:"100%",children:(0,M.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:O},position:"absolute",children:Z})})}function eT({graphqlRef:e,...t}){var n,i,l,a;let r=(0,g.useFragment)(eS,e),o=null===(n=r.videoData)||void 0===n?void 0:null===(i=n.videoList)||void 0===i?void 0:i.vHLSV3MOBILE;return(0,M.jsx)(ew,{blockStyleWidth:null===(l=r.blockStyle)||void 0===l?void 0:l.width,blockStyleHeight:null===(a=r.blockStyle)||void 0===a?void 0:a.height,blockVideo:o,...t})}function eA({block:e,...t}){var n,i,l,a;let r=null===(n=e.video)||void 0===n?void 0:null===(i=n.video_list)||void 0===i?void 0:i.V_HLSV3_MOBILE;return(0,M.jsx)(ew,{blockStyleWidth:null===(l=e.block_style)||void 0===l?void 0:l.width,blockStyleHeight:null===(a=e.block_style)||void 0===a?void 0:a.height,blockVideo:r,...t})}function eC({block:e,resourceBlock:t,...n}){return e?(0,M.jsx)(eT,{graphqlRef:e,...n}):t?(0,M.jsx)(eA,{block:t,...n}):null}let eI=void 0!==p?p:p=n(589316);function ej({graphqlRef:e,...t}){var n;let i=(0,g.useFragment)(eI,e);return(0,M.jsx)(B,{...t,blockStyleRotation:null===(n=i.blockStyle)||void 0===n?void 0:n.rotation,blockEndTime:i.endTime,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:i.isRemoved,blockIsValid:null,blockStartTime:i.startTime,blockTypeIdentifier:k.h8.VTO_MAKEUP_STICKER,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:i.pinId})}function eE({block:e,...t}){let{block_style:{rotation:n}={},end_time:i,is_removed:l,start_time:a,type:r}=e;return(0,M.jsx)(B,{...t,blockStyleRotation:n,blockEndTime:i,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:l,blockIsValid:null,blockStartTime:a,blockTypeIdentifier:r,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:e.pin_id})}function eL({block:e,resourceBlock:t,...n}){return e?(0,M.jsx)(ej,{graphqlRef:e,...n}):t?(0,M.jsx)(eE,{block:t,...n}):null}let eR=void 0!==m?m:m=n(261618);function eF(){let[e,t]=(0,h.useState)(0),[n,i]=(0,h.useState)(0);return(0,h.useEffect)(()=>{"undefined"!=typeof window&&(t(window.innerWidth),i(window.innerHeight))},[]),{windowHeight:n,windowWidth:e}}let eD=({children:e,height:t,isStaticImageIdeaPin:n,isVideoOrImageBlock:i,left:l,pinAspectRatio:a=b.ap,top:r,width:o})=>{var s;let{windowHeight:d,windowWidth:c}=eF(),u=(0,x.HG)(),{isBot:p}=(0,f.B)(),{defaultWidth:m,scaledHeight:g,scaledLeft:v,scaledWidth:k,scaledBottom:P}=(0,h.useMemo)(()=>{let e=c/y._B,i=n||a!==b.ap?a:c/d,r=y._B/i,s=(o||0)*y._B*e/100,u=(t||0)*r*e/100,m=(l||0)*y._B*e/100,h=p?c:`${null!=o?o:100}%`;return{defaultWidth:h,scaledHeight:u,scaledLeft:m,scaledWidth:s,scaledBottom:80*e}},[t,p,n,l,a,o,d,c]);return l=p?0:l,i||u?(0,M.jsx)(_.xu,{height:`${null!=t?t:100}%`,width:m,position:n?"relative":"absolute",display:"flex",dangerouslySetInlineStyle:{__style:{top:`${null!=r?r:0}%`,left:`${null!==(s=l)&&void 0!==s?s:0}%`}},children:e}):(0,M.jsx)(_.xu,{height:`${g}px`,width:p?c:`${k}px`,position:"absolute",display:"flex",dangerouslySetInlineStyle:{__style:{bottom:`${P}px`,left:p?"0px":`${v}px`}},children:e})};function ez({activeStreamItemIndex:e,block:t,isActive:n,isCoverImageWithTitle:i,isSinglePage:l,isStaticImageIdeaPin:a=!1,muteVideos:r,onFlyoutClose:o,onFlyoutOpen:s,onVideoEnded:d,onVideoTimeChange:c,pinAspectRatio:u,pinId:p,videoProgressInfo:m,BoxWrapper:h=eD}){let{block_style:{height:g,width:_,x_coord:y,y_coord:b}={},interactive_sticker_type:x=null}=t,{isBot:P}=(0,f.B)(),{windowWidth:S}=eF();return(0,M.jsxs)(h,{isStaticImageIdeaPin:a,height:g,width:P?S:_,left:y,top:b,pinAspectRatio:u,isVideoOrImageBlock:[k.h8.IMAGE,k.h8.VIDEO].includes(t.type),children:[t.type===k.h8.PARAGRAPH&&(0,M.jsx)(eg,{resourceBlock:t,block:null}),t.type===k.h8.HEADING&&!i&&(0,M.jsx)(et,{resourceBlock:t,block:null}),t.type===k.h8.IMAGE&&(0,M.jsx)(er,{resourceBlock:t,block:null}),t.type===k.h8.VIDEO&&(0,M.jsx)(eC,{activeStreamItemIndex:e,block:null,isActive:n,isSinglePage:l,resourceBlock:t,muteVideos:r,onVideoTimeChange:c,onVideoEnded:d,pinAspectRatio:u,pinId:p}),t.type===k.h8.MENTION_STICKER&&(0,M.jsx)(v.Z,{children:(0,M.jsx)(ec,{block:null,resourceBlock:t,pinId:null,onFlyoutClose:o,onFlyoutOpen:s,elementType:12120,tooltipElementType:12121,videoProgressInfo:m})}),t.type===k.h8.GENERIC_STICKER&&(5===x?(0,M.jsx)(W,{block:null,resourceBlock:t,pinId:null,elementType:12827,onFlyoutClose:o,onFlyoutOpen:s,tooltipElementType:12828,videoProgressInfo:m,rootPingraphqlRef:null}):(0,M.jsx)(W,{block:null,resourceBlock:t,elementType:12858,onFlyoutClose:o,onFlyoutOpen:s,pinId:p,tooltipElementType:12859,videoProgressInfo:m,rootPingraphqlRef:null})),t.type===k.h8.PRODUCT_STICKER&&(0,M.jsx)(ef,{block:null,resourceBlock:t,pinId:null,onFlyoutClose:o,onFlyoutOpen:s,elementType:12223,tooltipElementType:12224,videoProgressInfo:m}),t.type===k.h8.VTO_MAKEUP_STICKER&&(0,M.jsx)(eL,{block:null,resourceBlock:t,pinId:null,onFlyoutClose:o,onFlyoutOpen:s,elementType:12561,tooltipElementType:12561,videoProgressInfo:m})]})}function eM({activeStreamItemIndex:e,graphqlRef:t,isStaticImageIdeaPin:n,pageId:i,pinAspectRatio:l,pinId:a,BoxWrapper:r=eD,...o}){var s,d,c,u;let p=(0,g.useFragment)(eR,t),m=(null===(s=p.imageSpec_736x)||void 0===s?void 0:s.url)||"",h=!!m,_=(null!==(d=null===(c=p.storyPinData)||void 0===c?void 0:c.pages)&&void 0!==d?d:[]).find(e=>e.storyPageId===i),{isBot:y}=(0,f.B)(),{windowWidth:b}=eF();return(null!==(u=null==_?void 0:_.blocks)&&void 0!==u?u:[]).map(t=>{var i,s;let{height:d,width:c,xCoord:u,yCoord:g}=null!==(i=t.blockStyle)&&void 0!==i?i:Object.freeze({});return(0,M.jsxs)(r,{height:d,width:y?b:c,left:u,top:g,isStaticImageIdeaPin:!!n,pinAspectRatio:l,isVideoOrImageBlock:[2,3].includes(t.blockType),children:[0===t.blockType&&(0,M.jsx)(eg,{block:t}),1===t.blockType&&(0,M.jsx)(et,{block:t}),2===t.blockType&&(0,M.jsx)(er,{block:t}),3===t.blockType&&(0,M.jsx)(eC,{activeStreamItemIndex:e,block:t,hasPinPosterImage:h,isSinglePage:o.isSinglePage,isActive:o.isActive,muteVideos:o.muteVideos,onVideoTimeChange:o.onVideoTimeChange,onVideoEnded:o.onVideoEnded,pinAspectRatio:l,pinId:a,pinPosterImage:m}),12===t.blockType&&(0,M.jsx)(v.Z,{children:(0,M.jsx)(ec,{block:t,onFlyoutOpen:o.onFlyoutOpen,elementType:12120,tooltipElementType:12121,videoProgressInfo:o.videoProgressInfo,pinId:null})}),19===t.blockType&&5===t.interactiveStickerType&&(0,M.jsx)(W,{block:t,onFlyoutOpen:o.onFlyoutOpen,elementType:12120,tooltipElementType:12121,videoProgressInfo:o.videoProgressInfo,pinId:null,rootPingraphqlRef:null}),19===t.blockType&&7===t.interactiveStickerType&&(0,M.jsx)(W,{block:t,onFlyoutOpen:o.onFlyoutOpen,elementType:12858,tooltipElementType:12859,videoProgressInfo:o.videoProgressInfo,pinId:p.entityId,rootPingraphqlRef:p}),13===t.blockType&&(0,M.jsx)(ef,{block:t,onFlyoutOpen:o.onFlyoutOpen,elementType:12223,tooltipElementType:12224,videoProgressInfo:o.videoProgressInfo,pinId:null}),17===t.blockType&&(0,M.jsx)(eL,{block:t,onFlyoutOpen:o.onFlyoutOpen,elementType:12561,tooltipElementType:12561,videoProgressInfo:o.videoProgressInfo,pinId:null})]},`${null!=d?d:""}-${null!=c?c:""}-${null!==(s=t.blockType)&&void 0!==s?s:""}`)})}function eO({blocks:e,...t}){return(null!=e?e:[]).map((e,n)=>{var i;return(0,M.jsx)(ez,{block:e,...t},`${n}-${null!==(i=e.block_type)&&void 0!==i?i:""}`)})}function eZ({blocks:e,pageId:t,maybeGraphqlRef:n,...i}){return n?(0,M.jsx)(eM,{graphqlRef:n,pageId:t,...i}):(0,M.jsx)(eO,{blocks:e,...i})}},521190:(e,t,n)=>{"use strict";n.d(t,{Z:()=>t_});var i,l,a,r,o,s,d,c,u,p,m,h=n(667294),g=n(167912),_=n(616550),y=n(883119),v=n(603801),f=n(563962),b=n(377234),x=n(536042),k=n(898252),P=n(245410),S=n(282802),w=n(173085),T=n(463031),A=n(634004),C=n(550542),I=n(99220),j=n(549201),E=n(272109),L=n(802071),R=n(505204),F=n(212380),D=n(460914),z=n(509342),M=n(525104),O=n(846828),Z=n(702664),N=n(630089),K=n(785893);let B=e=>{let{name:t="",unit:n="",amt:i=""}=e;return(0,K.jsxs)("li",{style:{display:"table-row"},children:[(0,K.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",paddingRight:20}},children:!!i&&(0,K.jsx)(y.xu,{marginStart:6,children:(0,K.jsxs)(y.xv,{size:"200",weight:"bold",children:[i," ",n]})})}),(0,K.jsx)(y.xu,{width:"70%",dangerouslySetInlineStyle:{__style:{display:"table-cell"}},children:(0,K.jsx)(y.xv,{size:"200",children:t})})]})};var U=n(895200),H=n(768865);function V({i18n:e,storyPinMetadataTemplateType:t,storyPinMetadataRecipeData:n}){if(!n||1!==t)return null;let{cooking_time:i,prep_time:l,serving_size:a=null}=n,r="number"==typeof i&&"number"==typeof l?i+l:0;return{timeLabel:r?(0,H.Ys)((0,U.X)({m:r}),e):null,servingSize:a}}let G=void 0!==i?i:i=n(334494),$=({storyPinPages:e})=>{let t=null!=e&&e[1]&&5===e[1].layout?e[1]:null,n=null!=e&&e[1]&&6===e[1].layout?e[1]:null;return t||n},W=({listPage:e,listType:t,storyPinMetadataTemplateType:n,storyPinMetadataRecipeData:i})=>{let l=(0,x.ZP)();if(!e)return null;let{blocks:a}=e,r="ingredients"===t?V({i18n:l,storyPinMetadataRecipeData:i,storyPinMetadataTemplateType:n}):null,o=r?r.servingSize:null,s=o?(0,N.nk)(l.nbt(["{{servingSize}} ", "{{servingSize}} ", "{{servingSize}} "], o, "closeup.storyPin.listModal.ingredients.servings", true),{servingSize:o}):null;return(0,K.jsxs)(y.xu,{children:[(0,K.jsxs)(y.xu,{display:"flex",direction:"column",justifyContent:"center",alignItems:"center",marginTop:7,children:[(0,K.jsx)(y.X6,{size:"400",overflow:"normal",children:"ingredients"===t?l.bt("", "Ingredients", "closeup.storyPin.listModal.ingredients", undefined, true):l.bt("", "Supplies", "closeup.storyPin.listModal.supplies", undefined, true)}),s&&(0,K.jsx)(y.xu,{marginBottom:4,children:(0,K.jsx)(y.xv,{color:"subtle",children:s})})]}),(0,K.jsx)("ul",{style:{padding:0},children:(null!=a?a:[]).map(({name:e,unit:t,amt:n},i)=>(0,K.jsx)(B,{name:e,unit:t,amt:n},e||i))})]})};function q({graphqlRef:e,...t}){let n=(0,g.useFragment)(G,e),i=$({storyPinPages:n.pages});return(0,K.jsx)(W,{...t,listPage:i})}function Y({pinId:e,...t}){var n;let i=(0,M.S6)()(e),l=$({storyPinPages:null==i?void 0:null===(n=i.story_pin_data)||void 0===n?void 0:n.pages});return(0,K.jsx)(W,{...t,listPage:l})}function X({graphqlRef:e,pinId:t,...n}){return e?(0,K.jsx)(q,{graphqlRef:e,...n}):(0,K.jsx)(Y,{pinId:t,...n})}var J=n(88622),Q=n(371362),ee=n(884751);function et({imageSize:e,index:t,hasPin:n,pinId:i,gridTitle:l,image236x:a,hasProductDetailsCurrentPrice:r,hasProductDetailsMaxPrice:o}){var s,d,c;return n?(0,K.jsx)(y.xu,{width:e,marginEnd:t%2==0?2:0,marginTop:4,children:(0,K.jsxs)(y.Tg,{href:`/pin/${null!=i?i:""}`,rounding:4,tapStyle:"none",children:[(0,K.jsx)(y.xu,{rounding:5,overflow:"hidden",width:e,maxWidth:176,maxHeight:176,children:(0,K.jsx)(y.zd,{wash:!0,height:e,width:e,children:(0,K.jsx)(y.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:null!==(s=null==a?void 0:a.height)&&void 0!==s?s:1,naturalWidth:null!==(d=null==a?void 0:a.width)&&void 0!==d?d:1,src:null!==(c=null==a?void 0:a.url)&&void 0!==c?c:""})})}),(r||o)&&(0,K.jsx)(y.xu,{marginTop:2,children:(0,K.jsx)(ee.ZP,{pinId:i,graphqlRef:null})}),!!l&&(0,K.jsx)(y.xu,{marginTop:1,children:(0,K.jsx)(y.xv,{size:"100",children:(0,Q.ZP)(l,40)})})]})}):null}var en=n(995691);let ei="calc((100vw - (12px * 3)) / 2)",el=void 0!==l?l:l=n(962435),ea=({fullName:e,hasStoryPinMetadataBasics:t,imageLargeUrl:n,imageMediumUrl:i,imageSmallUrl:l,isOpen:a,link:r,hasListPage:o,listType:s,onDismiss:d,pinId:c,pinTitle:u,pinDescription:p,storyPinMetadataRecipeData:m,storyPinMetadataTemplateType:h,taggedProducts:g,username:_,maybeGraphqlRef:v,clientTrackingParams:f})=>{let b=(0,x.ZP)(),k=(0,M.S6)(),P=g.length<20&&g.length%2!=0;return(0,K.jsx)(J.ZP,{accessibilityModalLabel:"",isOpen:a,onDismiss:d,type:"story_pin_list",mobileAccessibilityCloseIconLabel:b.bt("", "Close", "StoryPin.Modal", undefined, true),children:(0,K.jsx)(y.xu,{display:"flex",paddingX:4,alignItems:"center",direction:"column",justifyContent:"center",maxHeight:"75vh",overflow:"scrollY",children:(0,K.jsxs)(y.xu,{flex:"grow",marginBottom:4,width:"100%",children:[(t||r||u||p)&&(0,K.jsx)(en.Z,{fullName:e,graphqlRef:v,imageLargeUrl:n,imageMediumUrl:i,imageSmallUrl:l,link:r,pinId:null!=c?c:"",title:u,description:p,username:_,templateType:h,clientTrackingParams:f}),!!o&&(0,K.jsx)(y.xu,{"data-test-id":"story-pin-basics",children:(0,K.jsx)(X,{pinId:c,listType:s,storyPinMetadataRecipeData:m,storyPinMetadataTemplateType:h,graphqlRef:null==v?void 0:v.storyPinData})}),(0,K.jsxs)(y.kC,{alignItems:"stretch",direction:"row",justifyContent:"center",wrap:!0,children:[g.length>0&&g.map((e,t)=>{var n,i,l,a,r,o,s;let d=k(e.id);return(0,K.jsx)(et,{imageSize:ei,index:t,hasPin:!!d,pinId:null==d?void 0:d.id,gridTitle:null==d?void 0:d.grid_title,image236x:null!=d&&null!==(n=d.images)&&void 0!==n&&n["236x"]?{height:d.images["236x"].height,url:d.images["236x"].url,width:d.images["236x"].width}:void 0,hasProductDetailsCurrentPrice:!!(null!=d&&null!==(i=d.rich_summary)&&void 0!==i&&null!==(l=i.products)&&void 0!==l&&null!==(a=l[0].offer_summary)&&void 0!==a&&a.price),hasProductDetailsMaxPrice:!!(null!=d&&null!==(r=d.rich_summary)&&void 0!==r&&null!==(o=r.products)&&void 0!==o&&null!==(s=o[0].offer_summary)&&void 0!==s&&s.max_price)},e.id)}),P&&(0,K.jsx)(y.xu,{width:ei})]})]})})})};function er({graphqlRef:e,...t}){var n,i,l,a,r,o,s;let d=(0,g.useFragment)(el,e),c=d.storyPinData,u=!!(null==c?void 0:null===(n=c.metadata)||void 0===n?void 0:n.basics),p=null==c?void 0:null===(i=c.metadata)||void 0===i?void 0:i.recipeData;return(0,K.jsx)(ea,{...t,hasStoryPinMetadataBasics:u,pinTitle:null!==(l=d.title)&&void 0!==l?l:"",pinDescription:d.closeupUnifiedDescription,storyPinMetadataRecipeData:{cooking_time:null!==(a=null==p?void 0:p.cookingTime)&&void 0!==a?a:0,prep_time:null!==(r=null==p?void 0:p.prepTime)&&void 0!==r?r:0,serving_size:null!==(o=null==p?void 0:p.servingSize)&&void 0!==o?o:0},storyPinMetadataTemplateType:null==c?void 0:null===(s=c.metadata)||void 0===s?void 0:s.templateType,maybeGraphqlRef:d})}function eo(e){var t,n,i,l;let a=(0,M.S6)()(e.pinId),r=null==a?void 0:a.story_pin_data,o=!!((null==r?void 0:null===(t=r.metadata)||void 0===t?void 0:t.basics)&&Object.keys(r.metadata.basics).length>0);return(0,K.jsx)(ea,{...e,hasStoryPinMetadataBasics:o,pinTitle:null!==(n=null==a?void 0:a.title)&&void 0!==n?n:"",pinDescription:null==a?void 0:a.closeup_unified_description,storyPinMetadataRecipeData:null==r?void 0:null===(i=r.metadata)||void 0===i?void 0:i.recipe_data,storyPinMetadataTemplateType:null==r?void 0:null===(l=r.metadata)||void 0===l?void 0:l.template_type,maybeGraphqlRef:null})}function es({graphqlRef:e,...t}){return e?(0,K.jsx)(er,{graphqlRef:e,...t}):(0,K.jsx)(eo,{...t})}var ed=n(775560);let ec=void 0!==a?a:a=n(389432);function eu(e){return(0,ed.Z)(function({domain:e,listBlocks:t,keyValueBlock:n,description:i}){let l=[];for(let a of(e&&l.push(e),n.length>0&&l.push(...n),i&&l.push(i),null!=t?t:[]))if(a.heading&&l.push(a.heading),a.blocks)for(let e of a.blocks)e.text&&l.push(e.text);return l}(e))}var ep=n(243570),em=n(269021);let eh=void 0!==r?r:r=n(639242);function eg({anchorRef:e,onTap:t,previewText:n,previewTitle:i,onePinEnabled:l}){let a=(0,x.ZP)();if(!i&&!n)return null;let r=(0,em.j)(n);return l?(0,K.jsx)(y.iP,{onTap:t,ref:e,children:(0,K.jsx)(em.Z,{dir:r,children:(0,K.jsxs)(y.kC,{direction:"column",gap:1,children:[i&&(0,K.jsx)(y.X6,{accessibilityLevel:1,lineClamp:1,size:"100",color:"light",children:i}),n&&(0,K.jsxs)(y.xv,{inline:!0,color:"light",size:"100",children:[n.length>90?`${n.substr(0,90)} ... `:n,n.length>90?(0,K.jsx)(y.xv,{inline:!0,weight:"bold",size:"100",color:"light",children:a.bt("", "more", "storyPin.previewText.more", undefined, true)}):null]})]})})}):n.length<30?(0,K.jsx)(y.xu,{display:"flex",width:"fit-content",direction:"row",marginEnd:4,children:(0,K.jsx)(y.xu,{ref:e,marginTop:2,children:(0,K.jsx)(y.iP,{onTap:t,children:(0,K.jsx)(em.Z,{dir:r,children:(0,K.jsx)(y.xv,{inline:!0,color:"light",size:"100",children:n})})})})}):(0,K.jsx)(y.xu,{display:"flex",marginTop:2,marginEnd:4,alignItems:"end",justifyContent:"start",dangerouslySetInlineStyle:{__style:{WebkitLineClamp:"2"}},ref:e,children:(0,K.jsx)(y.iP,{onTap:t,children:(0,K.jsx)(em.Z,{dir:r,children:(0,K.jsx)(y.xv,{inline:!0,color:"light",size:"100",lineClamp:2,children:n})})})})}function e_({graphqlRef:e,onePinEnabled:t,...n}){var i,l,a;let r=(0,x.ZP)(),o=(0,g.useFragment)(eh,e),{storyPinData:s,closeupUnifiedDescription:d,title:c}=o||{},u=((null==s?void 0:null===(i=s.metadata)||void 0===i?void 0:null===(l=i.basics)||void 0===l?void 0:l.keyValueBlocks)||[]).map(e=>(0,ep.Z)(e.categoryType,e.value,r,t)),p=function(e,t,n,i){let l=(0,g.useFragment)(ec,e);return eu({domain:t,keyValueBlock:n,listBlocks:null==l?void 0:l.listBlocks,description:i})}(null==s?void 0:null===(a=s.metadata)||void 0===a?void 0:a.basics,t?null:n.pinDomain,u.filter(e=>""!==e),t?null==d?void 0:d.trim():null);return(0,K.jsx)(eg,{...n,previewText:p,previewTitle:c,onePinEnabled:t})}function ey({pinId:e,onePinEnabled:t,...n}){var i,l,a,r;let o=(0,x.ZP)(),s=(0,M.S6)()(e),{title:d,story_pin_data:c,closeup_unified_description:u}=s||{},p=((null==c?void 0:null===(i=c.metadata)||void 0===i?void 0:null===(l=i.basics)||void 0===l?void 0:l.key_value_blocks)||[]).map(e=>(0,ep.Z)(e.category_type,e.value,o,t)),m=null==c?void 0:null===(a=c.metadata)||void 0===a?void 0:null===(r=a.basics)||void 0===r?void 0:r.list_blocks,h=eu({domain:t?null:n.pinDomain,listBlocks:m,keyValueBlock:p.filter(e=>""!==e),description:t?null==u?void 0:u.trim():null});return(0,K.jsx)(eg,{...n,previewText:h,previewTitle:d,onePinEnabled:t})}function ev({graphqlRef:e,pinId:t,...n}){return e?(0,K.jsx)(e_,{graphqlRef:e,...n}):(0,K.jsx)(ey,{pinId:t,...n})}let ef={5:"ingredients",6:"supplies"},eb=void 0!==o?o:o=n(66593),ex=({anchorRef:e,fullName:t,hasProductPins:n,imageLargeUrl:i,imageMediumUrl:l,imageSmallUrl:a,storyPinData:r,username:o,pinDomain:s,pinLink:d,pinId:c,maybeGraphqlRef:u,title:p,description:m,clientTrackingParams:g})=>{var _;let v;let f=(0,Z.useSelector)(({feeds:e})=>e["story-pin-tagged-products"])||[],[b,x]=(0,h.useState)(!1),k=$({storyPinPages:null==r?void 0:r.pages}),{checkExperiment:S}=(0,P.F)(),w=(0,L.Z)(),T=w.isAuth,{anyEnabled:A}=S(T?"closeup_auth_mweb_onepin_title_and_description":"closeup_unauth_mweb_onepin_title_and_description"),C=null==r?void 0:null===(_=r.metadata)||void 0===_?void 0:_.basics;s&&d&&(v={domain:s,url:d});let I=b&&(!!k||!!C||f.length>0||!!v||A&&(p||m));return I?(0,K.jsx)(es,{fullName:t,graphqlRef:u,imageLargeUrl:i,imageMediumUrl:l,imageSmallUrl:a,isOpen:b,link:v,hasListPage:!!k,listType:ef[null==k?void 0:k.layout]||null,onDismiss:()=>x(!1),pinId:null!=c?c:"",taggedProducts:n&&f?f:[],username:o,clientTrackingParams:g}):(0,K.jsx)(y.xu,{"data-test-id":"StoryPinDescriptionContainer",children:(0,K.jsx)(ev,{anchorRef:e,onTap:e=>{e.event.preventDefault(),e.event.stopPropagation(),x(!0)},pinDomain:s,pinId:null!=c?c:"",graphqlRef:u,onePinEnabled:A})})};function ek({graphqlRef:e,...t}){var n;let i=(0,g.useFragment)(eb,e);return(0,K.jsx)(ex,{...t,description:i.closeupUnifiedDescription,hasProductPins:!!(null!==(n=i.storyPinData)&&void 0!==n&&n.hasProductPins),maybeGraphqlRef:i,pinDomain:i.domain,pinLink:i.link,storyPinData:i.storyPinData,title:i.title})}function eP(e){var t,n;let i=(0,M.S6)()(null!==(t=e.pinId)&&void 0!==t?t:""),l=null==i?void 0:i.story_pin_data;return(0,K.jsx)(ex,{...e,description:null==i?void 0:i.closeup_unified_description,hasProductPins:!!(null!=i&&null!==(n=i.story_pin_data)&&void 0!==n&&n.has_product_pins),maybeGraphqlRef:null,pinDomain:null==i?void 0:i.domain,pinLink:null==i?void 0:i.link,storyPinData:l,title:null==i?void 0:i.title})}function eS({graphqlRef:e,...t}){return e?(0,K.jsx)(ek,{graphqlRef:e,...t}):(0,K.jsx)(eP,{...t})}var ew=n(870243),eT=n(41669),eA=n(427778),eC=n(446191),eI=n(712968),ej=n(510336);function eE({adsOnlyProfileSite:e,avatarSize:t="sm",blockedByMe:n,explicitlyFollowedByMe:i,fullName:l,hasAffiliatedProducts:a,id:r,imageLargeUrl:o,imageMediumUrl:s,imageSmallUrl:d,isAdsOnlyProfile:c,noFollowButton:u,pageId:p,pinId:m,pinImageSignature:g,sponsorName:_,sponsorId:v,sponsorUsername:b,sponsorshipStatus:k,textColor:S="default",username:w,verified:T,clientTrackingParams:A}){let C=(0,f.Z)(),I=(0,eI.mN)()(r),j=(0,Z.useDispatch)(),[E,R]=(0,h.useState)(I?I.explicitly_followed_by_me:i),F=e=>j((0,eC.h2)(e,C)),D=(0,L.Z)(),z=D.isAuth&&D.id,M=(0,x.ZP)(),{checkExperiment:O}=(0,P.F)(),N=c&&e,B=()=>{C({aux_data:{creator_id:r,pin_id:m,...p?{story_pin_page_id:p}:{}},component:230,event_type:102,object_id_str:m,view_parameter:157,view_type:3}),N&&C({event_type:9371,element:13382,component:230})},U=b&&_,H=U||(ej.j.includes(k)||a)&&O("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled,V=U?(0,K.jsx)(y.xv,{inline:!0,color:S,size:"200",weight:"bold",children:(0,K.jsx)(y.rU,{onClick:()=>{C({aux_data:{pin_id:m,story_pin_page_id:p,...r&&v?{creator_id:r,sponsor_id:v}:{}},component:230,event_type:102,object_id_str:m,view_parameter:157,view_type:3})},tapStyle:"compress",href:`/${null!=b?b:""}/`,children:_})}):void 0,G=N&&e?e:`/${encodeURIComponent(w)}/`;return(0,K.jsx)(y.kC,{alignItems:"center",justifyContent:"between",children:(0,K.jsxs)(y.xu,{flex:"grow",marginEnd:2,display:"flex",alignItems:"center",children:[(0,K.jsx)(y.xu,{flex:"none",marginEnd:2,children:(0,K.jsx)(y.Tg,{href:G,rounding:2,tapStyle:"compress",onTap:B,rel:N?"nofollow":"none",target:N?"blank":null,children:(0,K.jsx)(ew.qE,{name:null!=l?l:"",size:t,src:o||s||d||"",verified:T})})}),(0,K.jsxs)(y.xu,{overflow:"hidden",marginEnd:2,dangerouslySetInlineStyle:{__style:H?{flex:"1 1 30%"}:{}},children:[(0,K.jsx)(y.xv,{color:S,lineClamp:1,weight:"bold",children:(0,K.jsx)(y.rU,{href:G,tapStyle:"compress",rounding:2,onClick:B,rel:N?"nofollow":"none",target:N?"blank":null,children:w})}),H?(0,K.jsx)(ej.Z,{hasAffiliatedProducts:a,sponsorName:V,sponsorshipStatus:k,textColor:S}):null]}),!u&&(0,K.jsx)(y.xu,{flex:"grow",children:n?(0,K.jsx)(y.zx,{fullWidth:!0,text:M.bt("", "Unblock", " - ", undefined, true),color:"gray",size:"sm",onClick:()=>F(r)}):(0,K.jsx)(eT.Z,{isSecondaryButton:!0,id:r,size:"sm",isFollowed:E,isUserFollowButton:!0,isIdeaPin:!0,isUserMe:z===r,onFollow:e=>{R(!0),j((0,eA.ZN)(e))},onUnfollow:e=>{j((0,eA.fv)(e)),R(!1)},followEventType:45,unfollowEventType:46,viewType:3,viewParameter:157,auxData:{pin_id:m,image_signature:g},clientTrackingParams:A})})]})})}let eL=void 0!==s?s:s=n(485508);function eR({anchorRef:e,creatorAdsOnlyProfileSite:t,creatorBlockedByMe:n,creatorExplicitlyFollowedByMe:i,creatorFullName:l,creatorId:a,creatorImageLargeUrl:r,creatorImageMediumUrl:o,creatorImageSmallUrl:s,creatorIsAdsOnlyProfile:d,creatorUsername:c,creatorVerified:u,currentPageIndex:p,handlePause:m,handlePlay:h,isMultiPagePin:g,maybeGraphqlRef:_,pinId:v,pinImageSignature:f,sponsorFullName:b,sponsorId:x,sponsorshipStatus:k,sponsorUsername:S,storyPinHasProductPins:w,pageId:T,pageMusicBlockAudioArtistName:A,pageMusicBlockAudioTitle:C,clientTrackingParams:I}){let{checkExperiment:j}=(0,P.F)();return(0,K.jsxs)(y.kC,{direction:"column",gap:2,children:[(0,K.jsx)(eE,{adsOnlyProfileSite:t,blockedByMe:n,explicitlyFollowedByMe:i,fullName:null!=l?l:"",hasAffiliatedProducts:w,id:null!=a?a:"",imageLargeUrl:r,imageMediumUrl:o,imageSmallUrl:s,isAdsOnlyProfile:!!d,pageId:null!=T?T:void 0,pinId:v,pinImageSignature:null!=f?f:"",sponsorId:null!=x?x:"",sponsorName:null!=b?b:"",sponsorshipStatus:k,sponsorUsername:null!=S?S:"",textColor:"light",username:null!=c?c:"",verified:null!=u&&u,clientTrackingParams:I}),(0,K.jsx)(eS,{anchorRef:e,fullName:null!=l?l:"",graphqlRef:_,imageLargeUrl:r,imageMediumUrl:o,imageSmallUrl:s,pinId:v,username:null!=c?c:"",clientTrackingParams:I}),!g&&(j("mweb_music_attribution").anyEnabled||j("web_mweb_unauth_music_compliance_muting_attribution").anyEnabled)&&(0,K.jsx)(O.Z,{activePageIndex:p,graphqlRef:_,pageMusicBlockAudioArtistName:A,pageMusicBlockAudioTitle:C,pinId:v,playbackHandlers:{handlePause:m,handlePlay:h},viewParameter:157})]})}function eF({graphqlRef:e,...t}){let n=(0,g.useFragment)(eL,e);return(0,K.jsx)(eR,{...t,maybeGraphqlRef:n})}function eD({graphqlRef:e,...t}){return e?(0,K.jsx)(eF,{graphqlRef:e,...t}):(0,K.jsx)(eR,{maybeGraphqlRef:null,...t})}var ez=n(196039),eM=n(448709),eO=n(989282),eZ=n(128314);let eN=void 0!==d?d:d=n(341057);function eK({storyPinTitle:e,dominantColor:t,hasImageAdjusted:n,hasImage:i,images:l}){if(!i&&!n)return(0,K.jsx)(F.Z,{});let a=(null==l?void 0:l["750x"])||(null==l?void 0:l["236x"])||(null==l?void 0:l["1200x"])||(null==l?void 0:l.originals);return(0,K.jsx)(I.Z,{view:3,viewParameter:157,component:227,children:(0,K.jsxs)(y.xu,{width:"100%",height:"100%",children:[(0,K.jsx)(eO.Z,{altImageText:e,dominantColor:t,media:a,pageType:"cover"}),(0,K.jsx)(y.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:n?{}:{backgroundImage:"linear-gradient(rgba(0,0,0,0), rgba(0,0,0, 0.5))"}}}),(0,K.jsx)(y.xu,{position:"absolute",bottom:!0,left:!0,right:!0,paddingX:4,paddingY:4,children:!n&&(0,K.jsx)(y.xu,{column:9,children:(0,K.jsx)(y.X6,{color:"light",size:"500",overflow:"normal",children:e})})})]})})}let eB=(0,eM.Z)({useGraphQLAdapter:e=>{var t,n;let i=(0,g.useFragment)(eN,e),{imageImages:l,imageAdjustedImages:a,hasImageImages:r,hasImageAdjustedImages:o}=(0,eZ.Z)(i)||Object.freeze({});if(!i)return null;let s=(null===(t=i.blocks)||void 0===t?void 0:t[0].text)||"",d=null!==(n=i.dominantColorAdjusted)&&void 0!==n?n:i.dominantColor,c=!!i.dominantColorAdjusted||o,u=!!i.dominantColor||r;return{storyPinTitle:s,dominantColor:null!=d?d:void 0,images:c?a:l,hasImageAdjusted:c,hasImage:u}},useLegacyAdapter:e=>{let{image:t,image_adjusted:n,blocks:i}=e,l=(null==i?void 0:i[0].text)||"",{dominant_color:a,images:r}=n||t||{};return{storyPinTitle:l,dominantColor:a,images:r,hasImageAdjusted:!!n,hasImage:!!t}}});function eU({page:e}){return(0,K.jsx)(eB,{input:"graphql"===e.type?{enabled:!0,data:e.data}:{enabled:!1,data:e.data},children:({data:e})=>e&&(0,K.jsx)(eK,{...e})})}var eH=n(727462),eV=n(852180),eG=n(150875);let e$=({block:e})=>{let{windowWidth:t}=(0,eG.Z)();if(e.type!==ez.h8.INGREDIENT)return null;let{name:n,unit:i,amt:l}=e;return(0,K.jsxs)("li",{style:{display:"table-row"},children:[(0,K.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",paddingRight:8}},children:!!l&&(0,K.jsxs)(y.xv,{children:[l," ",i]})}),(0,K.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",maxWidth:.7*t}},children:(0,K.jsx)(y.xv,{children:n})})]})},eW=void 0!==c?c:c=n(91997),eq=e=>5===e.block_type,eY=({ingredientBlocks:e,servingSize:t})=>{let n=(0,x.ZP)(),{windowHeight:i,windowWidth:l}=(0,eG.Z)(),a=Math.min(16*l/9,i),r=t?(0,N.nk)(n.nbt(["{{servingSize}} ", "{{servingSize}} ", "{{servingSize}} "], t, "number of servings for a recipe", true),{servingSize:t}):null;return(0,K.jsxs)(y.xu,{height:a,width:l,position:"relative",padding:4,color:"default",children:[(0,K.jsx)(y.xu,{marginTop:12,children:(0,K.jsx)(y.X6,{overflow:"normal",children:n.bt("", "Ingredients", "Heading for list of ingredients", undefined, true)})}),r&&(0,K.jsx)(y.xu,{marginBottom:4,children:(0,K.jsx)(y.xv,{color:"subtle",children:r})}),(0,K.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",children:(0,K.jsx)("ul",{style:{padding:0},children:(null!=e?e:[]).map((e,t)=>(0,K.jsx)(e$,{block:e},e.name||t))})})]})},eX=(0,eM.Z)({useGraphQLAdapter:e=>{let t=(0,g.useFragment)(eW,e);if(!t)return null;let n=t.blocks?t.blocks.reduce((e,t)=>{if(5===t.blockType){var n,i,l;let a={type:5,amt:null!==(n=t.amt)&&void 0!==n?n:void 0,name:null!==(i=t.name)&&void 0!==i?i:void 0,unit:null!==(l=t.unit)&&void 0!==l?l:void 0};return[...e,a]}return e},[]):void 0;return{ingredientBlocks:n}},useLegacyAdapter:e=>{var t;let n=null===(t=e.blocks)||void 0===t?void 0:t.filter(eq);return{ingredientBlocks:n}}});function eJ({page:e,servingSize:t}){return(0,K.jsx)(eX,{input:"graphql"===e.type?{enabled:!0,data:e.data}:{enabled:!1,data:e.data},children:({data:e})=>e&&(0,K.jsx)(eY,{...e,servingSize:t})})}var eQ=n(763165),e0=n(625274);let e1=e=>({transition:`transform ${e/1e3}s ease-in 0s`}),e2=e=>{let{animationDuration:t=0,children:n,currentPageIndex:i,height:l,index:a,marginTop:r,width:o}=e,{isBot:s}=(0,S.B)(),d=Math.abs(a-i);return 0===d?(0,K.jsx)(y.xu,{height:l,"data-test-id":"story-pin-animation",position:"absolute",width:o,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000000",marginTop:`${r}px`,...e1(t),...t>0?{transform:"translateX(calc(-100% - 1px))"}:{transform:"translateX(0)"}}},children:n}):1===d?(0,K.jsx)(y.xu,{height:l,"data-test-id":"story-pin-animation",position:"absolute",width:o,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000000",marginTop:`${r}px`,...e1(t),...t>0?{transform:"translateX(0)"}:{transform:"translateX(calc(100% + 1px))"}}},children:n}):s?(0,K.jsx)(y.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{backgroundColor:"#000000",transform:"translateX(1000%)"}},children:n}):null},e3=({block:e})=>{let{windowWidth:t}=(0,eG.Z)();if(e.type!==ez.h8.SUPPLY)return null;let{name:n,amt:i}=e;return(0,K.jsxs)("li",{style:{display:"table-row"},children:[(0,K.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",paddingRight:8}},children:!!i&&(0,K.jsx)(y.xv,{children:i})}),(0,K.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",maxWidth:.7*t}},children:(0,K.jsx)(y.xv,{children:n})})]})},e6=void 0!==u?u:u=n(997572),e5=e=>6===e.block_type,e4=({suppliesBlocks:e})=>{let t=(0,x.ZP)(),{windowHeight:n,windowWidth:i}=(0,eG.Z)(),l=Math.min(16*i/9,n);return(0,K.jsxs)(y.xu,{height:l,width:i,position:"relative",padding:4,color:"default",children:[(0,K.jsx)(y.xu,{marginTop:12,children:(0,K.jsx)(y.X6,{overflow:"normal",children:t.bt("", "Supplies", "Heading for list of supplies", undefined, true)})}),(0,K.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",children:(0,K.jsx)("ul",{style:{padding:0},children:(null!=e?e:[]).map((e,t)=>(0,K.jsx)(e3,{block:e},e.name||t))})})]})},e8=(0,eM.Z)({useGraphQLAdapter:e=>{let t=(0,g.useFragment)(e6,e);if(!t)return null;let n=t.blocks?t.blocks.reduce((e,t)=>{if(6===t.blockType){var n,i;let l={type:6,amt:null!==(n=t.amt)&&void 0!==n?n:void 0,name:null!==(i=t.name)&&void 0!==i?i:void 0};return[...e,l]}return e},[]):void 0;return{suppliesBlocks:n}},useLegacyAdapter:e=>{var t;let n=null===(t=e.blocks)||void 0===t?void 0:t.filter(e5);return{suppliesBlocks:n}}});function e9({page:e}){return(0,K.jsx)(e8,{input:"graphql"===e.type?{enabled:!0,data:e.data}:{enabled:!1,data:e.data},children:({data:e})=>e&&(0,K.jsx)(e4,{...e})})}var e7=n(874090),te=n(803817),tt=n(147597);let tn=void 0!==p?p:p=n(927190),ti=({accessibilityLabel:e,disabled:t,handleTap:n,icon:i,svgPath:l})=>(0,K.jsx)(y.xu,{opacity:t?.5:void 0,children:(0,K.jsx)(y.iP,{disabled:t,onTap:({event:e})=>{e.stopPropagation(),!t&&n&&n()},tapStyle:"compress",children:(0,K.jsx)(y.JO,{accessibilityLabel:e,color:"light",icon:i,size:20,dangerouslySetSvgPath:l?{__path:l}:void 0})})});function tl({activePageIndex:e,handlePageChange:t,handlePlay:n,handlePause:i,handleMute:l,inRemoveRelatedStreamsExp:a,isInactiveStreamPin:r,isPlaying:o,isMuted:s,pageCount:d,pinId:c,progressInfo:u,setVideoProgress:p,shouldMute:m,showVideoControls:g=!1,videoDurations:_=[],viewParameter:v}){let f=(0,x.ZP)(),{currentTime:b}=u||{},{seekTimes:k}=(0,A.Hx)(),P=(0,j.HG)(),S=Object.keys(k).includes(c)&&k[c]?k[c]:b,w=(0,h.useMemo)(()=>_.reduce((e,t)=>e+(t.duration||0),0)/R.gJ,[_]),C=(0,h.useMemo)(()=>_.filter((t,n)=>n<e).reduce((e,t)=>e+(t.duration||0),0)/R.gJ,[_,e]),I=_.length>0&&_[e].isVideo?S+C:5*b+C;return(0,K.jsxs)(y.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"center",width:"100%",dangerouslySetInlineStyle:{__style:{gap:4*(a?3:5),pointerEvents:"auto",touchAction:"none"}},children:[a&&(0,K.jsx)(y.xu,{children:(0,K.jsx)(y.xv,{color:"light",size:"100",children:(0,T.Lc)(I)})}),(0,K.jsx)(tt.ZP,{activePageIndex:e,activePageCurrentTime:S,currentTime:I,duration:w,handlePlay:n,handlePause:i,handleVideoScrubbingNewPage:t,isInactiveStreamPin:r,isPlaying:o,pageCount:d,pageDurations:_,pinId:c,progressInfo:u,setVideoProgress:p,shouldShowPlayhead:!0,showEndCard:!1,videoDurations:_,viewParameter:v}),a&&(0,K.jsx)(y.xu,{children:(0,K.jsx)(y.xv,{color:"light",size:"100",children:(0,T.Lc)(w)})}),!!l&&(0,K.jsx)(y.xu,{"data-test-id":"mute-control-button",marginEnd:P?3:0,dangerouslySetInlineStyle:{__style:{opacity:g||!o?1:0,transition:"all .1s"}},children:(0,K.jsx)(ti,{accessibilityLabel:s?f.bt(" ", "Mute", "closeup.IdeaPinVideo.mute", undefined, true):f.bt(" ", "Unmute", "closeup.IdeaPinVideo.unmute", undefined, true),disabled:!!m,handleTap:l,icon:m||s?"mute":"sound"})})]})}let ta=({activePageIndex:e,pinKey:t,...n})=>{var i,l;let{data:a}=(0,te.sr)(tn,t,{type:"pin",useLegacyAdapter:e=>({storyPinData:e.story_pin_data&&{pages:e.story_pin_data.pages&&e.story_pin_data.pages.map(e=>e&&{ad:e.ad&&{__typename:"Pin"},blocks:e.blocks&&e.blocks.map(e=>e&&{blockType:e.block_type,video:e.video&&{videoList:e.video.video_list&&{v720P:e.video.video_list.V_720P&&{duration:e.video.video_list.V_720P.duration},vHLSV3MOBILE:e.video.video_list.V_HLSV3_MOBILE&&{duration:e.video.video_list.V_HLSV3_MOBILE.duration}}}}),layout:e.layout,shouldMute:e.should_mute})}})});if(!a)return(0,K.jsx)(F.Z,{});let{storyPinData:r}=a,{shouldMute:o}=(null==r?void 0:null===(i=r.pages)||void 0===i?void 0:i[e])||{},s=null==r?void 0:null===(l=r.pages)||void 0===l?void 0:l.filter(e=>!(2===e.layout&&!e.ad||5===e.layout||6===e.layout)),d=null==s?void 0:s.map(e=>{var t;return null===(t=e.blocks)||void 0===t?void 0:t.find(e=>3===e.blockType)}),c=null==d?void 0:d.map(e=>{var t,n,i,l,a,r;let o=(null==e?void 0:null===(t=e.video)||void 0===t?void 0:null===(n=t.videoList)||void 0===n?void 0:null===(i=n.v720P)||void 0===i?void 0:i.duration)||(null==e?void 0:null===(l=e.video)||void 0===l?void 0:null===(a=l.videoList)||void 0===a?void 0:null===(r=a.vHLSV3MOBILE)||void 0===r?void 0:r.duration);return o?{duration:o,isVideo:!0}:{duration:k.oN,isVideo:!1}});return(0,K.jsx)(tl,{...n,activePageIndex:e,shouldMute:o,videoDurations:c})};var tr=n(220271);let to="64px",ts=void 0!==m?m:m=n(692985),td=e=>(null!=e?e:[]).filter(e=>{var t,n,i,l;return!((null===(t=e.data)||void 0===t?void 0:t.layout)===2&&!(null!==(n=e.data)&&void 0!==n&&n.ad)||(null===(i=e.data)||void 0===i?void 0:i.layout)===5||(null===(l=e.data)||void 0===l?void 0:l.layout)===6)}),tc=(e,t)=>{var n,i;let l=null===(n=e.state)||void 0===n?void 0:n.startingStoryPageId;if(!l)return 0;let a=null!==(i=td(t))&&void 0!==i?i:[];return a.findIndex(e=>{var t;return("graphql"===e.type?null===(t=e.data)||void 0===t?void 0:t.pageId:e.data.id)===l})||0};function tu(e){let t=(0,C.n4)(e,"0.8.0");return null!=t&&t>=0}function tp({activeStreamItemIndex:e,currentPageIndex:t,graphqlRef:n,handlePause:i,handlePlay:l,isActive:a,isAuthenticated:r,isInactiveStreamPin:o,isSinglePage:s,mute:d,onVideoEnded:c,page:u,pinId:p,setFlyoutOpen:m,storyPinMetadataRecipeData:h,storyPinMetadataTemplateType:g,storyPinMetadataVersion:_,pinAspectRatio:y,videoProgress:v,setVideoProgress:f}){var b,k;let P=(0,x.ZP)(),S=tu(null!=_?_:"");if(!u)return null;let w="graphql"===u.type?null===(b=u.data)||void 0===b?void 0:b.pageId:u.data.id;if(S)return(0,K.jsx)(e0.Z,{activeStreamItemIndex:e,graphqlRef:n,isSinglePage:s,isActive:!o&&a,isAuthenticated:r,muteVideos:d,onFlyoutClose:()=>{l(),m(!1)},onFlyoutOpen:()=>{i(),m(!0)},onVideoEnded:()=>{c(t)},pinId:p,pinAspectRatio:y,pageId:w,videoProgress:v,setVideoProgress:f});switch(null===(k=u.data)||void 0===k?void 0:k.layout){case 0:return(0,K.jsx)(eU,{page:u},w);case 1:case 3:case 4:return(0,K.jsx)(eQ.Z,{pageId:w,pinId:p,graphqlRef:n},w);case 5:let T=V({i18n:P,storyPinMetadataRecipeData:h,storyPinMetadataTemplateType:g}),A=T?T.servingSize:null;return(0,K.jsx)(eJ,{page:u,servingSize:A},w);case 6:return(0,K.jsx)(e9,{page:u},w);default:return null}}function tm(e){var t,n,i,l,a,r,o,s,d;let{activeStreamItemIndex:c,clientTrackingParams:u,creatorAdsOnlyProfileSite:p,creatorBlockedByMe:m,creatorExplicitlyFollowedByMe:g,creatorFullName:F,creatorId:M,creatorImageLargeUrl:Z,creatorImageMediumUrl:N,creatorImageSmallUrl:B,creatorIsAdsOnlyProfile:U,creatorUsername:H,creatorVerified:V,dominantColor:G,experience:$,graphqlRef:W,hasCreator:q,imageSignature:Y,isFirstInStream:X,isInactiveStreamPin:J,isRelatedStreamPin:Q,isStreamMuted:ee,pinAspectRatio:et,pinId:en,pinnedToBoardId:ei,reactionCounts:el,setStreamMuted:ea,sponsorFullName:er,sponsorId:eo,sponsorshipCreatorId:es,sponsorshipStatus:ed,sponsorUsername:ec,storyPinDataId:eu,storyPinHasProductPins:ep,storyPinMetadataRecipeData:em,storyPinMetadataTemplateType:eh,storyPinMetadataVersion:eg,storyPinPages:e_,streamItemIndex:ey,viewParameter:ev,viewType:ef,attributionLabel:eb}=e,ex=(0,h.useRef)(null),{checkExperiment:ek}=(0,P.F)(),{storyPinHeight:eP,fillerPaddingTop:ew}=(0,e7.Z)(),eT=(0,j.ZP)(),eA=(0,x.ZP)(),eC=(0,_.useLocation)(),eI=(0,f.Z)(),ej=(0,L.Z)(),{width:eL}=(0,v.Z)()||{},{isRTL:eR}=(0,S.B)(),eF=(0,j.HG)(),[eM,eO]=(0,h.useState)(tc(eC,e_)),[eZ,eN]=(0,h.useState)(!1),eK=(0,h.useRef)(null),eB=(0,h.useRef)(null),eU=ej.isAuth,eG="desktop"!==eT&&ek(eU?"closeup_auth_mweb_onepin_title_and_description":"closeup_unauth_mweb_onepin_title_and_description").anyEnabled,e$="desktop"!==eT&&ek(eU?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,{anyEnabled:eW}=(0,P.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),eq=(0,b.vs)(),eY=eW?eq:(0,b.Yc)(),[eX,eJ]=(0,h.useState)(!0),eQ=null!=ee?ee:eX,[e0,e1]=(0,h.useState)(!0),[e3,e6]=(0,h.useState)(null),[e5,e4]=(0,h.useState)(!1),[e8,e9]=(0,h.useState)(!1),{clearSeekTime:te}=(0,A.RC)(),{isSeekingIdeaPin:tt,seekTimes:tn}=(0,A.Hx)(),ti=tn&&tn[en],tl=(e5||!e0)&&!tt&&!e8,[tr,ts]=(0,h.useState)(!1),{paddingY:tm}=(0,ez._P)(eF),th=4*tm;(0,h.useEffect)(()=>(tl&&(eB.current=setTimeout(()=>{e4(!1)},2e3)),()=>{clearTimeout(eB.current)}),[e0,tl]),(0,h.useEffect)(()=>{if(eK.current&&ti){let e=eK.current;e.pause(),e.remaining=k.oN-ti*R.gJ,e6({currentTime:ti/k.P6,duration:1,pinId:en})}},[ti,en]),(0,h.useEffect)(()=>{"desktop"===eT||tr||J||(eI({event_type:9314,view_type:1,view_parameter:ev,component:13801,aux_data:{grid_index:ey,pin_id:en,image_signature:Y,creator_id:es,story_pin_data_id:eu},clientTrackingParams:u}),ts(!0))},[u,eT,tr,J,Y,eI,en,es,eu,ey,ev]),(0,h.useEffect)(()=>{eU||(0,w.Nh)(z.Uw,z.zu),("desktop"===eT||X)&&eI({event_type:13,view_type:3,view_parameter:157,component:13283,object_id_str:en})},[]),(0,E.Z)(()=>(tf(eM),()=>{eK.current&&eK.current instanceof C.B7&&eK.current.clear()}));let tg=(0,h.useCallback)(()=>e$?0:eF?th:ez.hk+th,[e$,eF,th]),t_=null!==(t=td(e_))&&void 0!==t?t:[],ty=t_.length,tv=t_[eM],tf=e=>{e6({currentTime:0,duration:1,pinId:en}),tx(e)},tb=e=>{e0||e1(!0),tf(e),eO(e)},tx=(0,h.useCallback)(e=>{var t,n,i,l;let a=(null!==(t=null!==(n=null===(i=t_[e].data)||void 0===i?void 0:i.blocks)&&void 0!==n?n:null===(l=t_[e].data)||void 0===l?void 0:l.videoBlocks)&&void 0!==t?t:[]).find(e=>e.type===ez.h8.VIDEO||3===e.block_type||3===e.blockType);eK.current&&eK.current instanceof C.B7&&(eK.current.clear(),eK.current=null),a||(eK.current=new C.B7(e=>{e6({currentTime:e<1?e:1,duration:1,pinId:en})},()=>{e<ty-1?tb(e+1):tb(0)},k.oN))},[en,e_,ty]),tk=()=>{eM<ty-1&&tb(eM+1)},tP=e=>{var t;e6({currentTime:0,duration:null!==(t=null==e3?void 0:e3.duration)&&void 0!==t?t:1,pinId:en}),te(),e===ty-1&&tb(0),e===eM&&tk()};if(!e_)return null;let tS="number"==typeof eP?`${eP}px`:e7.F,{heightString:tw,marginTop:tT}=function({actionBarHeight:e,actionBarPaddingY:t,availableHeightFormatted:n,availableHeightRaw:i,inRemoveRelatedStreamsExp:l,pinAspectRatio:a,windowWidth:r}){let o=0,s=`${e}px - 2 * ${t}px`,d=`calc(${n} - ${l?"0px":s})`;if("number"==typeof a&&"number"==typeof i){let n=Math.min(r/a,i-e-2*t);d=`${n}px`,o=(i-n)/2}return{heightString:d,marginTop:o}}({actionBarHeight:eF||e$?0:ez.gx,actionBarPaddingY:th,availableHeightFormatted:tS,availableHeightRaw:eP,inRemoveRelatedStreamsExp:e$,pinAspectRatio:"number"==typeof et&&et!==T.ap?et:null,windowWidth:eL}),tA=eF?"calc(100vw - 110px)":"100%",tC="number"==typeof ew?"desktop"!==eT?`${ew}px`:ew:e7.F,tI=()=>{e1(!0),e4(!1),eK.current?(eK.current.resume(),ti>0&&te()):e3||tf(eM)},tj=()=>{e1(!1),eK.current&&eK.current.pause()},tE=(null!==(n=null!==(i=null===(l=tv.data)||void 0===l?void 0:l.blocks)&&void 0!==i?i:null===(a=tv.data)||void 0===a?void 0:a.musicBlocks)&&void 0!==n?n:[]).find(e=>e.type===ez.h8.MUSIC||11===e.blockType),tL=()=>{var e,t,n,i,l;return(0,K.jsx)(y.xu,{width:tA,dangerouslySetInlineStyle:{__style:{textShadow:"0px 0px 8px rgb(0 0 0 / 30%)"}},marginBottom:2,children:(0,K.jsx)(eD,{anchorRef:ex,creatorAdsOnlyProfileSite:null!=p?p:"",creatorBlockedByMe:null!=m&&m,creatorExplicitlyFollowedByMe:null!=g&&g,creatorFullName:F,creatorId:M,creatorImageLargeUrl:Z,creatorImageMediumUrl:N,creatorImageSmallUrl:B,creatorIsAdsOnlyProfile:!!U,creatorUsername:H,creatorVerified:V,currentPageIndex:eM,handlePause:tj,handlePlay:tI,graphqlRef:W,isMultiPagePin:ty>1,pinId:en,pinImageSignature:Y,sponsorFullName:er,sponsorId:eo,sponsorshipStatus:ed,sponsorUsername:ec,storyPinHasProductPins:null!=ep&&ep,pageMusicBlockAudioArtistName:null!==(e=null==tE?void 0:null===(t=tE.audio)||void 0===t?void 0:t.artist_name)&&void 0!==e?e:null==tE?void 0:null===(n=tE.audio)||void 0===n?void 0:n.artistName,pageMusicBlockAudioTitle:null==tE?void 0:null===(i=tE.audio)||void 0===i?void 0:i.title,pageId:null===(l=tv.data)||void 0===l?void 0:l.id,clientTrackingParams:u})})},tR=W?{type:"graphqlRef",data:W}:{type:"deprecated",data:en};return(0,K.jsxs)(h.Fragment,{children:[(0,K.jsx)(I.Z,{view:3,viewParameter:157,component:85,children:(0,K.jsxs)(y.xu,{position:"relative",marginStart:eF?-2:0,marginEnd:eF?-2:0,children:[(0,K.jsxs)(y.xu,{"data-test-id":"story-pin-full-bleed-slideshow-mweb",height:tS,position:"absolute",overflow:"hidden",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:null!=G?G:""}},children:[(0,K.jsx)(y.xu,{id:`idea-pin-closeup-pause-play-scrubber-overlay-${en}-${null!=c?c:0}`,rounding:eF||e$?0:ez.HG,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",alignSelf:"center",top:!0,left:!0,bottom:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",paddingBottom:tg(),transition:"all .2s ease-in-out",...tl?{backgroundColor:"rgba(0,0,0,.6)"}:{}}},zIndex:ez.lt,children:(0,K.jsx)(y.kC,{alignItems:"center",justifyContent:"center",children:tl&&(0,K.jsx)(y.iP,{onTap:()=>e0?tj():tI(),tapStyle:"compress",children:(0,K.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"play-control-button",children:(0,K.jsx)(y.JO,{icon:e0?"pause":"play",size:48,accessibilityLabel:"Play",color:"light",inline:!0})})})})}),(0,K.jsxs)(D.Z,{onTouch:()=>{tt||e4(!e5)},pressState:"none",children:[t_.map((e,t)=>(0,K.jsx)(h.Fragment,{children:(0,K.jsx)(e2,{index:t,currentPageIndex:eM,width:"100%",height:tw,marginTop:tT,children:(0,K.jsx)(tp,{activeStreamItemIndex:c,anchorRef:ex,currentPageIndex:eM,graphqlRef:W,handlePause:tj,handlePlay:tI,isActive:e0&&eM===t&&!J,isAuthenticated:eU,isInactiveStreamPin:J,isSinglePage:1===t_.length,mute:ty>1||eQ,onVideoEnded:tP,page:e,pinId:en,pinAspectRatio:et,setFlyoutOpen:e9,setVideoProgress:e6,storyPinMetadataTemplateType:eh,storyPinMetadataVersion:eg,storyPinMetadataRecipeData:em,videoProgress:e3})})},`${en}-${t}`)),!(ty>1)&&e$&&(ek("mweb_music_attribution").anyEnabled||ek("web_mweb_unauth_music_compliance_muting_attribution").anyEnabled)&&(0,K.jsx)(y.xu,{display:"flex",alignContent:"center",paddingY:5,dangerouslySetInlineStyle:{__style:{paddingInlineStart:to,paddingInlineEnd:to}},children:(0,K.jsx)(O.Z,{activePageIndex:eM,graphqlRef:W,pageMusicBlockAudioArtistName:null!==(r=null==tE?void 0:null===(o=tE.audio)||void 0===o?void 0:o.artist_name)&&void 0!==r?r:null==tE?void 0:null===(s=tE.audio)||void 0===s?void 0:s.artistName,pageMusicBlockAudioTitle:null==tE?void 0:null===(d=tE.audio)||void 0===d?void 0:d.title,pinId:en,playbackHandlers:{handlePause:tj,handlePlay:tI},viewParameter:157})}),(0,K.jsxs)(y.xu,{position:"absolute",display:"flex",direction:"column",bottom:!0,left:!0,right:!0,paddingX:6,dangerouslySetInlineStyle:{__style:{marginBottom:eF||e$?0:ez.hk+th,background:"linear-gradient(to top, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0))",paddingTop:"6vh"}},zIndex:e$?new y.Ry(1):ez.lp,children:[eG?!tt&&!e$&&tL():eU&&q&&!tt&&!e$&&tL(),!eU&&!eG&&!tt&&!e$&&(0,K.jsxs)(y.xu,{width:"100%",zIndex:ez.lp,children:[(0,K.jsx)(eE,{pinId:en,textColor:"light",pinImageSignature:null!=Y?Y:"",noFollowButton:ek("lex_follow_button").group.includes("hide_follow"),blockedByMe:null!=m&&m,explicitlyFollowedByMe:null!=g&&g,fullName:null!=F?F:"",id:null!=M?M:"",imageLargeUrl:Z,imageMediumUrl:N,imageSmallUrl:B,verified:V,username:null!=H?H:"",clientTrackingParams:u}),(0,K.jsx)(eS,{anchorRef:ex,fullName:null!=F?F:"",graphqlRef:null,imageLargeUrl:Z,imageMediumUrl:N,imageSmallUrl:B,pinId:en,username:null!=H?H:"",clientTrackingParams:u})]}),(0,K.jsx)(y.xu,{children:(0,K.jsx)(ta,{activePageIndex:eM,handlePageChange:tb,handlePlay:tI,handlePause:tj,handleMute:ty>1?void 0:()=>{null==ea||ea(!eQ),eJ(!eQ)},inRemoveRelatedStreamsExp:e$,isInactiveStreamPin:J,isPlaying:!J&&e0,isMuted:eQ,pageCount:t_.length,pinId:en,pinKey:tR,progressInfo:e3,setVideoProgress:e6,showVideoControls:!0})})]}),!eF&&!e$&&(0,K.jsx)(y.xu,{padding:2,position:"absolute",right:!eR,left:eR,top:!0,height:ez.hk,width:ez.R_,zIndex:ez.lp,"data-test-id":"pin-more-button",children:(0,K.jsx)(y.iP,{onTap:({event:e})=>{e.stopPropagation(),eI({component:229,element:10946,event_type:102,view_type:3,view_parameter:157}),eN(!0)},children:(0,K.jsx)(y.hU,{size:"lg",accessibilityLabel:eA.bt("", "more", "closeup.storyPin.actionBar.contextualMenu", undefined, true),iconColor:eY?"darkGray":"white",icon:"ellipsis"})})}),!eU&&eg&&tu(eg)&&(0,K.jsxs)(h.Fragment,{children:[(0,K.jsx)(y.xu,{height:120,position:"absolute",top:!0,width:"100%",dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(180deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0) 100%)"}}}),(0,K.jsx)(y.xu,{height:120,position:"absolute",bottom:!0,width:"100%",dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}}})]})]}),!eF&&!e$&&(0,K.jsx)(eH.Z,{clientTrackingParams:u,experience:$,graphqlRef:W,pinId:en,pinnedToBoardId:ei,reactionCounts:el,viewType:ef,viewParameter:ev,component:228,attributionLabel:eb})]}),(0,K.jsx)(y.xu,{"data-test-id":"filler",height:"auto",dangerouslySetInlineStyle:{__style:{marginTop:Q||e$?0:-64,paddingTop:tC}}})]})}),eZ&&(0,K.jsx)(eV.Z,{onDismiss:()=>eN(!1),pinId:en})]})}function th({graphqlRef:e,...t}){var n,i,l,a,r,o,s,d,c,u,p,m,h,y,v;let f=(0,g.useFragment)(ts,e),{dominantColor:b,imageSignature:x,nativeCreator:k,pinner:P,sponsorship:S,storyPinData:w,storyPinDataId:A}=f,C=null===(n=f.aggregatedPinData)||void 0===n?void 0:n.entityId,I=null==S?void 0:S.sponsor,j=null==S?void 0:null===(i=S.creator)||void 0===i?void 0:i.entityId,E=null==S?void 0:S.status,L=k||P,R=null==w?void 0:null===(l=w.pages)||void 0===l?void 0:l.map(e=>({type:"graphql",data:e})),D=(0,_.useLocation)(),z=(0,tr.Z)(f);if(!f)return(0,K.jsx)(F.Z,{});let M=null==w?void 0:null===(a=w.metadata)||void 0===a?void 0:a.recipeData,O=(null==w?void 0:null===(r=w.metadata)||void 0===r?void 0:r.canvasAspectRatio)||T.ap;return(0,K.jsx)(tm,{...t,aggregatedPinDataId:C,creatorAdsOnlyProfileSite:null==L?void 0:L.adsOnlyProfileSite,creatorBlockedByMe:null==L?void 0:L.blockedByMe,creatorExplicitlyFollowedByMe:null==L?void 0:L.explicitlyFollowedByMe,creatorFullName:null==L?void 0:L.fullName,creatorId:null==L?void 0:L.entityId,creatorImageLargeUrl:null==L?void 0:L.imageLargeUrl,creatorImageMediumUrl:null==L?void 0:L.imageMediumUrl,creatorImageSmallUrl:null==L?void 0:L.imageSmallUrl,creatorIsAdsOnlyProfile:null==L?void 0:L.isAdsOnlyProfile,creatorUsername:null!==(o=null==L?void 0:L.username)&&void 0!==o?o:"",creatorVerified:null!==(s=null==L?void 0:null===(d=L.verifiedIdentity)||void 0===d?void 0:d.verified)&&void 0!==s&&s,dominantColor:b,graphqlRef:f,hasCreator:!!L,imageSignature:x,pinAspectRatio:O,pinTitle:f.title,reactionCounts:z,sponsorFullName:null==I?void 0:I.fullName,sponsorId:null==I?void 0:I.entityId,sponsorshipCreatorId:j,sponsorshipStatus:E,sponsorUsername:null==I?void 0:I.username,storyPinDataId:A,storyPinHasProductPins:null!==(c=null==w?void 0:w.hasProductPins)&&void 0!==c&&c,storyPinPages:R,storyPinMetadataRecipeData:{cooking_time:null!==(u=null==M?void 0:M.cookingTime)&&void 0!==u?u:0,prep_time:null!==(p=null==M?void 0:M.prepTime)&&void 0!==p?p:0,serving_size:null!==(m=null==M?void 0:M.servingSize)&&void 0!==m?m:0},storyPinMetadataTemplateType:null==w?void 0:null===(h=w.metadata)||void 0===h?void 0:h.templateType,storyPinMetadataVersion:null==w?void 0:null===(y=w.metadata)||void 0===y?void 0:y.version,attributionLabel:null===(v=D.state)||void 0===v?void 0:v.attributionLabel})}function tg(e){var t,n,i,l,a,r,o,s,d,c,u;let{pinId:p}=e,m=(0,M.S6)()(p),h=(0,_.useLocation)();if(!m)return(0,K.jsx)(F.Z,{});let{aggregated_pin_data:g,dominant_color:y,image_signature:v,native_creator:f,pinner:b,reaction_counts:x,sponsorship:k,story_pin_data_id:P,story_pin_data:S}=m,w=null==g?void 0:g.id,A=f||b,C=null==k?void 0:k.sponsor,I=null==k?void 0:null===(t=k.creator)||void 0===t?void 0:t.id,j=null==k?void 0:k.status,E=null==S?void 0:null===(n=S.pages)||void 0===n?void 0:n.map(e=>({type:"legacy",data:e})),L=(null==S?void 0:null===(i=S.metadata)||void 0===i?void 0:i.canvas_aspect_ratio)||T.ap;return(0,K.jsx)(tm,{...e,aggregatedPinDataId:w,creatorAdsOnlyProfileSite:null==A?void 0:A.ads_only_profile_site,creatorBlockedByMe:null==A?void 0:A.blocked_by_me,creatorExplicitlyFollowedByMe:null==A?void 0:A.explicitly_followed_by_me,creatorFullName:null==A?void 0:A.full_name,creatorId:null==A?void 0:A.id,creatorImageLargeUrl:null==A?void 0:A.image_large_url,creatorImageMediumUrl:null==A?void 0:A.image_medium_url,creatorImageSmallUrl:null==A?void 0:A.image_small_url,creatorIsAdsOnlyProfile:null==A?void 0:A.is_ads_only_profile,creatorUsername:null!==(l=null==A?void 0:A.username)&&void 0!==l?l:"",creatorVerified:null!==(a=null==A?void 0:null===(r=A.verified_identity)||void 0===r?void 0:r.verified)&&void 0!==a&&a,dominantColor:y,hasCreator:!!A,imageSignature:v,pinAspectRatio:L,pinTitle:m.title,reactionCounts:x,sponsorFullName:null==C?void 0:C.full_name,sponsorId:null==C?void 0:C.id,sponsorshipCreatorId:I,sponsorshipStatus:j,sponsorUsername:null==C?void 0:C.username,storyPinDataId:P,storyPinHasProductPins:null!==(o=null==S?void 0:S.has_product_pins)&&void 0!==o&&o,storyPinMetadataRecipeData:null==S?void 0:null===(s=S.metadata)||void 0===s?void 0:s.recipe_data,storyPinMetadataTemplateType:null==S?void 0:null===(d=S.metadata)||void 0===d?void 0:d.template_type,storyPinMetadataVersion:null==S?void 0:null===(c=S.metadata)||void 0===c?void 0:c.version,storyPinPages:E,attributionLabel:null===(u=h.state)||void 0===u?void 0:u.attributionLabel})}function t_({graphqlRef:e,...t}){return e?(0,K.jsx)(th,{graphqlRef:e,...t}):(0,K.jsx)(tg,{...t})}},243570:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(895200),l=n(413358),a=n(768865);function r(e,t,n,r){switch(e){case 0:{let e=parseInt(t,10);return function({isShortened:e,minutes:t,i18n:n}){if(!t)return"";if(e)return(0,l.Z)(t,n).join("");let r=(0,a.Ys)((0,i.X)({m:t}),n);if(!r)return"";let o=r.join(""),s=n.bt(" ", "Cook Time", "ideapin.basics.cookTime", undefined, true);return`${s}: ${o}`}({minutes:e,i18n:n,isShortened:r})}case 1:{let e=parseInt(t,10);return function({servingSize:e,i18n:t}){return e?1===e?`${e} ${t.bt("", "serving", "ideapin.basics.servings", undefined, true)}`:`${e} ${t.bt(".", "servings", "ideapin.basics.servings", undefined, true)}`:""}({servingSize:e,i18n:n})}case 2:return function({difficulty:e,i18n:t}){let n={1:t.bt("", "Easy", "closeup.storyPin.basicsLayout.difficulty", undefined, true),2:t.bt("", "Intermediate", "closeup.storyPin.basicsLayout.difficulty", undefined, true),3:t.bt("", "Expert", "closeup.storyPin.basicsLayout.difficulty", undefined, true)},i=t.bt(" ", "Difficulty", "ideapin.basics.difficulty", undefined, true);return`${i}: ${n[null!=e?e:"1"]}`}({difficulty:t,i18n:n});default:return""}}},775560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>e.join(`  `)},625274:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i,l=n(667294),a=n(167912),r=n(883119),o=n(245410),s=n(463031),d=n(99220),c=n(549201),u=n(802071),p=n(525104),m=n(196039),h=n(896507),g=n(785893);let _=void 0!==i?i:i=n(756157);function y({activeStreamItemIndex:e,isActive:t,isSinglePage:n=!1,muteVideos:i,onFlyoutClose:a,onFlyoutOpen:p,onVideoEnded:_,pinId:y,maybeGraphqlRef:v,pinAspectRatio:f,pageId:b,pageLayout:x,pageShouldMute:k,pageHasImageAdjusted:P,pageStyleBackgroundColor:S,pageBlocks:w,hasVideoBlock:T,videoProgress:A,setVideoProgress:C}){let I=(0,c.HG)(),j=(0,u.Z)(),{checkExperiment:E}=(0,o.F)(),L=!I&&E(j.isAuth?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,R=0===x;return(0,g.jsx)(d.Z,{view:3,viewParameter:157,component:R?227:228,...T?{element:10957}:null,children:(0,g.jsx)(l.Fragment,{children:(0,g.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{background:S||"#ffffff"}},position:"absolute",top:!0,left:!0,bottom:!0,right:!0,overflow:"hidden",rounding:I||L?0:m.HG,zIndex:s.Ls,children:(0,g.jsx)(r.xu,{position:"relative",height:`calc(100vh -
              ${I?0:m.gx+8*m.r4}px
              )`,width:"100%",children:(0,g.jsx)(h.Z,{activeStreamItemIndex:e,isActive:t,blocks:w,onFlyoutClose:a,onFlyoutOpen:p,pinId:y,muteVideos:k||!!i,isCoverImageWithTitle:R&&!P,onVideoTimeChange:e=>{C&&C(e)},onVideoEnded:_,pageId:b,videoProgressInfo:A,pinAspectRatio:f,maybeGraphqlRef:v,isSinglePage:n})})})})})}function v(e){var t,n,i,l,a;let r=(0,p.S6)()(e.pinId),o=(null!==(t=null==r?void 0:null===(n=r.story_pin_data)||void 0===n?void 0:n.pages)&&void 0!==t?t:[]).find(t=>t.id===e.pageId),s=(null!==(i=null==o?void 0:o.blocks)&&void 0!==i?i:[]).find(e=>e.type===m.h8.MUSIC),d=(null!==(l=null==o?void 0:o.blocks)&&void 0!==l?l:[]).some(e=>e.type===m.h8.VIDEO);return(0,g.jsx)(y,{...e,maybeGraphqlRef:null,pageId:null==o?void 0:o.id,pageLayout:null==o?void 0:o.layout,pageShouldMute:null==o?void 0:o.should_mute,pageHasImageAdjusted:!!(null!=o&&o.image_adjusted),pageStyleBackgroundColor:null==o?void 0:null===(a=o.style)||void 0===a?void 0:a.background_color,pageBlocks:null==o?void 0:o.blocks,musicBlock:s,hasVideoBlock:d})}function f({graphqlRef:e,...t}){var n,i,l,r,o,s;let d=(0,a.useFragment)(_,e),c=(null!==(n=null===(i=d.storyPinData)||void 0===i?void 0:i.pages)&&void 0!==n?n:[]).find(e=>e.storyPageId===t.pageId),u=!!(null!=c&&c.dominantColorAdjusted),p=(null!==(r=null==c?void 0:c.blocks)&&void 0!==r?r:[]).find(e=>11===e.blockType),m=(null!==(o=null==c?void 0:c.blocks)&&void 0!==o?o:[]).some(e=>3===e.blockType);return(0,g.jsx)(y,{...t,maybeGraphqlRef:d,pageId:null==c?void 0:c.storyPageId,pageLayout:null==c?void 0:c.layout,pageShouldMute:null==c?void 0:c.shouldMute,pageHasImageAdjusted:u,pageStyleBackgroundColor:null==c?void 0:null===(s=c.style)||void 0===s?void 0:s.backgroundColor,pageBlocks:null,musicBlock:p,hasVideoBlock:m})}function b({graphqlRef:e,...t}){return e?(0,g.jsx)(f,{graphqlRef:e,...t}):(0,g.jsx)(v,{...t})}},117918:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(883119),l=n(536042),a=n(265259),r=n(785893);function o({isPinRep:e}){let t=(0,l.ZP)(),n=e?"default":"inverse",o=(0,r.jsx)(i.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,r.jsx)(i.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,r.jsxs)(i.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(i.xu,{paddingY:4,children:(0,r.jsx)(i.JO,{accessibilityLabel:t.bt(" ", "Pin not available", "story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel", undefined, true),color:n,icon:"alert",size:20})}),(0,r.jsx)(i.xv,{align:"center",color:n,weight:"bold",children:t.bt("", "Unavailable", "story-pin.Closeup.UnavailableStoryPin.Unavailable", undefined, true)}),(0,r.jsx)(i.xu,{paddingY:1,children:(0,r.jsx)(i.xv,{align:"center",color:n,children:t.bt(" ", "Removed by the creator", "story-pin.Closeup.UnavailableStoryPin.Removed", undefined, true)})})]})})});return e?o:(0,r.jsx)(i.xu,{height:"100vh",children:(0,r.jsx)(a.Z,{children:o})})}},196039:(e,t,n)=>{"use strict";n.d(t,{Ai:()=>P,B5:()=>h,CR:()=>c,Cc:()=>r,HG:()=>f,R_:()=>s,Wz:()=>o,_P:()=>v,dP:()=>S,dX:()=>x,gx:()=>u,h8:()=>l,hk:()=>d,lp:()=>_,lt:()=>m,oe:()=>b,r4:()=>y,rM:()=>k,tD:()=>p});var i=n(883119);let l={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},a={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},r={...a,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},o={...a,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},s=64,d=64,c=48,u=48,p=new i.Ry(5),m=new i.H3([p]),h=new i.H3([m]),g=new i.H3([p]),_=new i.H3([g]),y=4;function v(e){return e?{paddingX:0,paddingY:0}:{paddingX:2,paddingY:y}}let f=6,b=47,x=8,k=4,P=5,S=3},995691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var i,l=n(667294),a=n(167912),r=n(883119),o=n(101789),s=n(342693),d=n(44081),c=n(563962),u=n(377234),p=n(870243),m=n(536042),h=n(245410),g=n(208606),_=n(993926),y=n(549201),v=n(802071),f=n(936840),b=n(18028),x=n(525104),k=n(441266),P=n(269021),S=n(785893);let w=void 0!==i?i:i=n(747103);function T({fullName:e,keyValueBlocks:t,imageLargeUrl:n,imageMediumUrl:i,imageSmallUrl:a,link:x,listBlocks:w,pinId:T,title:A,templateType:C,username:I,description:j,graphqlRef:E,clientTrackingParams:L}){let R=(0,m.ZP)(),F=(0,c.Z)(),D=(0,y.HG)(),z=(0,v.Z)(),M=(0,u.vs)(),O=(0,f.Z)({clickthroughInterstitialExperience:null,pinId:null!=T?T:""}),[Z,N]=(0,l.useState)(!1),{checkExperiment:K}=(0,h.F)(),{anyEnabled:B}=K(z.isAuth?"closeup_auth_mweb_onepin_title_and_description":"closeup_unauth_mweb_onepin_title_and_description"),U=(t||[]).map((e,t)=>{var n;return(0,S.jsx)(k.Z,{categoryType:null!==(n=e.categoryType)&&void 0!==n?n:e.category_type,value:e.value,type:B?"compact":"detailed",size:B?"300":"200"},`key-val-component-${t}`)}).filter(e=>null!=e);if(B&&!D)return(0,S.jsxs)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",gap:4,children:[(0,S.jsx)(b.Z,{justifyContent:"start",pinId:T,graphqlRef:E,hideFollowerCount:!0,viewerId:z.id,clientTrackingParams:L}),(0,S.jsx)(r.X6,{align:"start",accessibilityLevel:1,overflow:"breakWord",size:"400",children:A}),(0,S.jsx)(_.Z,{items:U.filter(e=>""!==e),color:M?"light":"default"}),j&&j.trim()?(0,S.jsx)(r.xu,{children:(0,S.jsx)(g.Z,{Wrapper:({children:e})=>(0,S.jsx)(r.xv,{size:"200",align:"start",children:e}),isExpanded:Z,description:j,maxHeight:38,handleToggle:()=>{N(!Z)}})}):null,(w||[]).map((e,t)=>(0,S.jsxs)(r.kC,{direction:"column",gap:4,children:[e.heading?(0,S.jsx)(r.xv,{size:"300",weight:"bold",children:e.heading}):null,e.blocks&&e.blocks.length>0?(0,S.jsx)("ul",{style:{listStyleType:"disc",paddingInlineStart:16,margin:0},children:e.blocks.map((t,n)=>(0,S.jsx)("li",{style:{listStyle:"disc"},className:M?"dark-mode":"light-mode",children:(0,S.jsx)(r.xv,{size:"300",overflow:"normal",inline:!0,children:t.text?t.text:""})},`item-${n}-${e.heading||"empty"}`))},`${e.heading||"empty"}-${t}-list`):null]},`${e.heading||"empty"}-${t}-listHeading`))]});let H=new Map([[null,R.bt("", "Notes", "Closeup.StoryPinBasicsLayout.notesLayoutTitle", undefined, true)],[1,R.bt("", "Ingredients", "Closeup.StoryPinBasicsLayout.recipeLayoutTitle", undefined, true)],[2,R.bt("", "Supplies", "Closeup.StoryPinBasicsLayout.diyHomeLayoutTitle", undefined, true)]]);return(0,S.jsxs)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[!D&&(0,S.jsxs)(r.xu,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",paddingY:4,children:[x&&(0,S.jsx)(r.xu,{marginBottom:2,"data-test-id":"link",children:(0,S.jsx)(r.rU,{href:x.url,target:"blank",underline:"always",onClick:()=>{F({view_type:132,view_parameter:3549,element:12971,event_type:102,aux_data:{pin_id:T,url:null==x?void 0:x.url}}),O()},children:(0,S.jsx)(r.xv,{children:x.domain})})}),(0,S.jsx)(P.Z,{dir:(0,P.j)(A),children:(0,S.jsx)(r.X6,{align:"center",size:"500",children:A})}),(0,S.jsxs)(r.Tg,{fullWidth:!1,href:`/${I}/`,children:[(0,S.jsx)(r.xu,{padding:2,children:(0,S.jsx)(r.xu,{height:44,width:44,children:(0,S.jsx)(p.qE,{name:null!=e?e:"",size:"fit",src:n||i||a||void 0})})}),(0,S.jsxs)(r.xu,{children:[(0,S.jsx)(r.xv,{inline:!0,size:"300",children:R.bt("", "By", "closeup.storyPin.basicsLayout.publishedBy.label", undefined, true)})," ",(0,S.jsx)(r.xv,{inline:!0,size:"300",weight:"bold",children:e})]})]})]}),w&&w.length>0&&(0,S.jsx)(r.xu,{marginBottom:8,children:(0,S.jsx)(o.Z,{heading:H.get(C),children:(0,S.jsx)(d.Z,{children:w.map((e,t)=>{var n;let i=`${e.heading||"empty"}-${t}-listHeading`;return(0,S.jsxs)(l.Fragment,{children:[(0,S.jsx)(r.xu,{paddingY:2,marginTop:2}),(0,S.jsx)(r.xv,{size:s.n,weight:"bold",children:e.heading}),(null!==(n=e.blocks)&&void 0!==n?n:[]).map((t,n)=>{let i=`item-${n}-${e.heading||"empty"}`;return(0,S.jsx)(l.Fragment,{children:(0,S.jsx)(r.xu,{marginBottom:1,children:(0,S.jsxs)(r.xv,{size:s.n,children:[" ",t.text?t.text:""]})})},i)})]},i)})})})})]})}function A({pinId:e,graphqlRef:t,...n}){var i,l;let a=(0,x.S6)()(e),r=(null==a?void 0:null===(i=a.story_pin_data)||void 0===i?void 0:null===(l=i.metadata)||void 0===l?void 0:l.basics)||{},{key_value_blocks:o,list_blocks:s}=r;return(0,S.jsx)(T,{...n,pinId:e,keyValueBlocks:o,listBlocks:s})}function C({pinId:e,graphqlRef:t,...n}){var i,l;let r=(0,a.useFragment)(w,t),o=(null==r?void 0:null===(i=r.storyPinData)||void 0===i?void 0:null===(l=i.metadata)||void 0===l?void 0:l.basics)||{};return(0,S.jsx)(T,{...n,pinId:e,keyValueBlocks:o.keyValueBlocks,listBlocks:o.listBlocks,graphqlRef:r})}function I(e){return e.graphqlRef?(0,S.jsx)(C,{graphqlRef:e.graphqlRef,...e}):(0,S.jsx)(A,{...e})}},441266:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(883119),l=n(536042),a=n(630089),r=n(895200),o=n(771028),s=n(413358),d=n(785893);let c=({minutes:e,type:t,size:n})=>{let a=(0,l.ZP)();if("compact"===t){let t=(0,s.Z)(e,a);return(0,d.jsx)(i.xv,{inline:!0,size:n,children:t})}let c=(0,o.Z)((0,r.X)({m:e}),a);return(0,d.jsxs)(i.xu,{children:[(0,d.jsx)(i.xv,{weight:"bold",inline:!0,size:n,children:a.bt(" : ", "Cook Time: ", "closeup.storyPin.basicsLayout.cookTime.label", undefined, true)}),(0,d.jsx)(i.xv,{inline:!0,size:n,children:c})]})},u=({servingSize:e,type:t,size:n})=>{let r=(0,l.ZP)(),o=(0,a.nk)(r.nbt(["{{servingSize}} ", "{{servingSize}} ", "{{servingSize}} "], e, "number of servings for a recipe", true),{servingSize:e});return"compact"===t?(0,d.jsx)(i.xv,{inline:!0,size:n,children:o}):(0,d.jsxs)(i.xu,{children:[(0,d.jsx)(i.xv,{weight:"bold",inline:!0,size:n,children:r.bt(" : ", "Serving Size: ", "closeup.storyPin.basicsLayout.servingSize.label", undefined, true)}),(0,d.jsx)(i.xv,{inline:!0,size:n,children:o})]})},p=({difficulty:e,type:t,size:n})=>{let a=(0,l.ZP)(),r={1:a.bt("", "Easy", "closeup.storyPin.basicsLayout.difficulty", undefined, true),2:a.bt("", "Intermediate", "closeup.storyPin.basicsLayout.difficulty", undefined, true),3:a.bt("", "Expert", "closeup.storyPin.basicsLayout.difficulty", undefined, true)};return(0,d.jsxs)(i.xu,{children:[(0,d.jsx)(i.xv,{weight:"compact"===t?"normal":"bold",inline:!0,size:n,children:a.bt(" : ", "Difficulty: ", "closeup.storyPin.basicsLayout.difficulty.label", undefined, true)}),(0,d.jsx)(i.xv,{inline:!0,size:n,children:r[null!=e?e:"1"]})]})};function m({categoryType:e,value:t,type:n,size:i}){if(0===e){let e=parseInt(t,10);return e?(0,d.jsx)(c,{minutes:e,type:n,size:i}):null}if(1===e){let e=parseInt(t,10);return(0,d.jsx)(u,{servingSize:e,type:n,size:i})}return 2===e?(0,d.jsx)(p,{difficulty:t,type:n,size:i}):null}},376398:(e,t,n)=>{"use strict";n.d(t,{BN:()=>l,RK:()=>i,d3:()=>r,xm:()=>a});let i=({alignment:e,verticalAlignment:t})=>{let n={alignItems:"flex-start",display:"flex",height:"100%",textAlign:"left",width:"100%"};return 1===t?n.alignItems="center":2===t&&(n.alignItems="flex-end"),1===e&&(n.textAlign="center"),n},l=({fontSize:e,hexColor:t,highlightColor:n,letterSpacing:i,lineHeight:l,name:a})=>({fontSize:e,letterSpacing:i,lineHeight:l,color:t,fontFamily:a,margin:0,textShadow:n||(null==t?void 0:t.toLowerCase())!=="#ffffff"?void 0:"0px 1px 4px rgba(0, 0, 0, 0.2)",width:"100%",...n?{backgroundColor:n,borderRadius:5,padding:".05em .2em"}:{}}),a=({highlightColor:e})=>({...e?{backgroundColor:e,borderRadius:5,padding:".05em .2em"}:{}}),r=({letterSpacing:e,lineHeight:t,name:n,url:i})=>({fontFamily:n,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:i}]})},128314:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i,l=n(667294),a=n(167912);let r=void 0!==i?i:i=n(939592),o=e=>{let t=(0,a.useFragment)(r,e),n=(0,l.useMemo)(()=>{if(!t)return null;let e={"750x":t.imageSpec_750x?{height:t.imageSpec_750x.height||void 0,url:t.imageSpec_750x.url||void 0,width:t.imageSpec_750x.width||void 0}:void 0,"236x":t.imageSpec_236x?{height:t.imageSpec_236x.height||void 0,url:t.imageSpec_236x.url||void 0,width:t.imageSpec_236x.width||void 0}:void 0,"1200x":t.imageSpec_1200x?{height:t.imageSpec_1200x.height||void 0,url:t.imageSpec_1200x.url||void 0,width:t.imageSpec_1200x.width||void 0}:void 0,original:t.imageSpec_orig?{height:t.imageSpec_orig.height||void 0,url:t.imageSpec_orig.url||void 0,width:t.imageSpec_orig.width||void 0}:void 0},n={"750x":t.imageAdjustedSpec_750x?{height:t.imageAdjustedSpec_750x.height||void 0,url:t.imageAdjustedSpec_750x.url||void 0,width:t.imageAdjustedSpec_750x.width||void 0}:void 0,"236x":t.imageAdjustedSpec_236x?{height:t.imageAdjustedSpec_236x.height||void 0,url:t.imageAdjustedSpec_236x.url||void 0,width:t.imageAdjustedSpec_236x.width||void 0}:void 0,"1200x":t.imageAdjustedSpec_1200x?{height:t.imageAdjustedSpec_1200x.height||void 0,url:t.imageAdjustedSpec_1200x.url||void 0,width:t.imageAdjustedSpec_1200x.width||void 0}:void 0,original:t.imageAdjustedSpec_orig?{height:t.imageAdjustedSpec_orig.height||void 0,url:t.imageAdjustedSpec_orig.url||void 0,width:t.imageAdjustedSpec_orig.width||void 0}:void 0},i=Object.values(n).some(e=>!!e),l=Object.values(e).some(e=>!!e);return{imageImages:e,imageAdjustedImages:n,hasImageAdjustedImages:i,hasImageImages:l}},[t]);return n}},171054:(e,t,n)=>{"use strict";n.d(t,{h:()=>r,m:()=>o});var i=n(537347),l=n.n(i),a=n(376398);function r(e,t){if("undefined"==typeof window)return Promise.resolve();let n=document.querySelector(`#${t}`);if(n)return Promise.resolve();(n=document.createElement("style")).setAttribute("id",t),e.filter(e=>!!e.fontFaceUrl).forEach(e=>{n&&e.fontFaceUrl&&n.appendChild(document.createTextNode(`@import url('${e.fontFaceUrl}');`))});let{head:i}=document;if(!i)return Promise.resolve();let a=document.createElement("style");a.setAttribute("id",`${t}-font-faces`),i.appendChild(n),i.appendChild(a);let r=[];return e.forEach(e=>{e&&e.styles&&e.styles.forEach(t=>{if(e.format&&t.fontUrl&&a&&a.sheet){var n;let i=a.sheet;i.insertRule(`
            @font-face {
              font-family: "${null!==(n=e.fontFamily)&&void 0!==n?n:""}";
              font-style: "${t.fontStyle}";
              font-weight: "${t.fontWeight}";
              src: url("${t.fontUrl}") format("${e.format}");
            }`)}r.push(new(l())(e.fontFamily,{weight:t.fontWeight,style:t.fontStyle}).load())})}),Promise.all(r)}function o(e){let{hasFont:t,letterSpacing:n,lineHeight:i,name:l,url:o}=e||{};t&&r([(0,a.d3)({letterSpacing:n,lineHeight:i,name:l,url:o})],(null!=l?l:"").split(" ").join(""))}},874090:(e,t,n)=>{"use strict";n.d(t,{F:()=>d,Z:()=>c});var i=n(667294),l=n(245410),a=n(882973),r=n(549201),o=n(802071),s=n(196039);let d="100vh";function c(){let{isAuth:e}=(0,o.Z)(),t=(0,r.ZP)(),n="desktop"===t,{checkExperiment:d}=(0,l.F)(),c=!n&&d(e?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,{paddingY:u}=(0,s._P)(n),p=4*u,[m,h]=(0,i.useState)(null),[g,_]=(0,i.useState)(null),y="desktop"!==t&&!c,v=(0,i.useCallback)(()=>{var n;let i=null===(n=window)||void 0===n?void 0:n.innerHeight;if(!e){let e="tablet"===t?a.Pw:a.SB;i-=e}c&&(i-=s.hk+p),h(i),_(y?i+2:i)},[e,c,y,t,p]);return(0,i.useEffect)(()=>("undefined"!=typeof window&&v(),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}),[t,e,y,v]),{storyPinHeight:m,fillerPaddingTop:g}}},269021:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r,j:()=>a});var i=n(785893);let l=RegExp("^[^A-Za-z\xc0-\xd6\xd8-\xf6A-Za-z\xc0-\xd6\xd8-\xf6--]*[---]");function a(e){return l.test(e||"")?"rtl":"ltr"}function r({children:e,dir:t="auto"}){return(0,i.jsx)("div",{dir:t,children:e})}},622050:(e,t,n)=>{"use strict";function i(e){let t=[],n="";for(let i of e)if(n){let e=!!i.match(/\s/),l=!!n.match(/\s/);if(e===l)n+=i;else if(!l&&n.includes("-")){let e=0;for(let i=0;i<n.length;i+=1)"-"===n[i]&&(t.push(n.substring(e,i+1)),e=i+1);t.push(n.substring(e)),n=i}else t.push(n),n=i}else n=i;return n.length&&t.push(n),t}function l({boxHeight:e,boxWidth:t,font:n,startFontSize:l,text:a}){var r,o;if("undefined"==typeof document||!document.body)return{fontSize:l,lines:[]};let{body:s}=document,d=document.createElement("div");s.appendChild(d);let c=null==a?void 0:a.split(/\r?\n/g),u=l,p=(null===(r=n.fontOverrides)||void 0===r?void 0:r.letterSpacing)!=null?`${n.fontOverrides.letterSpacing}px`:void 0,m=(null===(o=n.fontOverrides)||void 0===o?void 0:o.lineHeight)||1.1,h={letterSpacing:p,lineHeight:String(m),fontFamily:n.fontFamily,fontSize:`${u}px`,position:"absolute",visibility:"hidden",width:`${t}px`};Object.assign(d.style,h);let g=document.createElement("div");for(g.style.display="inline",d.appendChild(g),(null!=c?c:[]).forEach((e,t)=>{let n=document.createElement("span");n.style.wordBreak="break-word",g.appendChild(n),n.appendChild(document.createTextNode(e)),t!==(null!=a?a:"").length-1&&n.appendChild(document.createElement("br"))});(g.offsetHeight>e||g.offsetWidth>t)&&u>0;)u-=1,d.style.fontSize=`${u}px`;return g.remove(),d.remove(),{fontSize:u,lines:u>0?function({font:e,fontSize:t,textList:n,width:l}){var a,r;if("undefined"==typeof document||!document.body||l<=0||t<=0)return[];let{body:o}=document,s=document.createElement("div");o.appendChild(s);let d=(null===(a=e.fontOverrides)||void 0===a?void 0:a.letterSpacing)!=null?`${e.fontOverrides.letterSpacing}px`:void 0,c=(null===(r=e.fontOverrides)||void 0===r?void 0:r.lineHeight)||1.1,u={letterSpacing:d,lineHeight:String(c),fontFamily:e.fontFamily,fontSize:`${t}px`,visibility:"hidden"};Object.assign(s.style,u);let p=document.createElement("div");p.style.display="inline",s.appendChild(p);let m=document.createTextNode("");p.appendChild(m);let h=[],g="",_=e=>{let t=e.trim();return m.textContent=t,{text:t,width:p.offsetWidth}},y=e=>{let t=!!e.match(/\s/),n=0===g.length;if(m.textContent=`${g}${e}`,p.offsetWidth>l){if(t)h.push(_(g)),g="";else if(n)for(let t of e)y(t);else h.push(_(g)),g="",y(e)}else g+=e};for(let e of null!=n?n:[]){0===e.length&&h.push(_(g));let t=i(e);t.forEach(e=>y(e)),g.length&&(h.push(_(g)),g="")}return p.remove(),s.remove(),h}({font:n,fontSize:u,textList:c,width:t}):[]}}function a(e){let t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("height").replace("px","")),i=parseFloat(t.getPropertyValue("font-size").replace("px","")),l=parseFloat(t.getPropertyValue("line-height").replace("px",""));Number.isNaN(l)&&(l=1.2*i);let a=Math.ceil(n/l);return a}n.d(t,{KV:()=>l,Yd:()=>i,xW:()=>a})},834074:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(600268);function l(e){var t;return{defaultStyle:0,fontFamily:null!==(t=e.name)&&void 0!==t?t:"",fontGroup:i.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}},586046:(e,t,n)=>{"use strict";n.d(t,{Af:()=>c,Ei:()=>s,II:()=>x,Lh:()=>y,U:()=>g,UC:()=>u,Zy:()=>o,dD:()=>a,er:()=>_,hb:()=>f,in:()=>d,j7:()=>v,kX:()=>m,me:()=>p,mx:()=>b,n5:()=>r,q8:()=>h,xH:()=>l});var i=n(463031);let l=1048576,a=3,r=20,o=3,s=10,d=50,c=10,u=720,p=1080,m=1200,h=375,g=h/i.ap,_=1200,y="#FFFFFF",v={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},f=420,b=325,x=768},356332:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i=n(667294),l=n(883119),a=n(536042),r=n(293017),o=n(785893);let s=e=>0===e?0:2,d=({children:e,dangerouslySetInlineStyle:t,marginTop:n})=>(0,o.jsx)(l.xu,{dangerouslySetInlineStyle:t,"data-test-id":"structured-description",marginTop:n,children:e}),c=({content:e,order:t,type:n})=>{if(!e)return null;let i=n===r.X.HEADER,a=[r.X.HEADER,r.X.BOLD].includes(n),c=t>0&&i?4:s(t);return(0,o.jsx)(d,{marginTop:c,children:(0,o.jsx)(l.xv,{size:"200",weight:a?"bold":"normal",children:e})})},u=({content:e,order:t})=>e?(0,o.jsx)(d,{marginTop:s(t),children:e}):null,p=({content:e,order:t})=>Array.isArray(e)&&0!==e.length?(0,o.jsx)(d,{marginTop:s(t),children:e.map(e=>(0,o.jsxs)(l.xu,{display:"flex",direction:"row",marginStart:1,marginTop:1,children:[(0,o.jsx)(l.xv,{size:"200",weight:"bold",inline:!0,children:"\xb7"}),(0,o.jsx)(l.xu,{marginStart:1,children:(0,o.jsx)(l.xv,{size:"200",children:e})})]},e))}):null,m=({accessibilityLabel:e,content:t,order:n})=>t&&"object"==typeof t?(0,o.jsx)(d,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:s(n),children:(0,o.jsx)(l.iA,{accessibilityLabel:e,children:(0,o.jsx)(l.iA.Body,{children:Object.entries(t).map(([e,t],n)=>(0,o.jsxs)(l.iA.Row,{children:[(0,o.jsx)(l.iA.Cell,{children:(0,o.jsx)(l.xv,{size:"100",weight:"bold",children:e})}),(0,o.jsx)(l.iA.Cell,{children:(0,o.jsx)(l.xv,{size:"100",children:String(t)})})]},n))})})}):null,h=({accessibilityLabel:e,content:t,order:n})=>{if(!Array.isArray(t)||t.length<2)return null;let i=t[0],a=t.slice(1);return(0,o.jsx)(d,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:s(n),children:(0,o.jsxs)(l.iA,{accessibilityLabel:e,children:[(0,o.jsx)(l.iA.Header,{children:(0,o.jsx)(l.iA.Row,{children:i.map((e,t)=>(0,o.jsx)(l.iA.HeaderCell,{children:(0,o.jsx)(l.xv,{size:"100",weight:"bold",children:e})},t))})}),(0,o.jsx)(l.iA.Body,{children:a.map((e,t)=>(0,o.jsx)(l.iA.Row,{children:e.map((e,t)=>(0,o.jsx)(l.iA.Cell,{children:(0,o.jsx)(l.xv,{size:"100",children:e})},t))},t))})]})})},g=e=>{let t=(0,a.ZP)();switch(e.type){case r.X.POINTS:return(0,o.jsx)(p,{...e});case r.X.SPECS:return(0,o.jsx)(m,{accessibilityLabel:t.bt("   ", "Specification view of description", "webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredSpecs", undefined, true),...e});case r.X.TABLE:return(0,o.jsx)(h,{accessibilityLabel:t.bt("   ", "Table view of description", "webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredTable", undefined, true),...e});case r.X.ELEMENT:return(0,o.jsx)(u,{...e});default:return(0,o.jsx)(c,{...e})}};function _({descriptions:e,onLoad:t}){return((0,i.useEffect)(()=>{"function"==typeof t&&t()},[t]),0===e.length)?null:e.map(({content:e,type:t},n)=>(0,o.jsx)(g,{content:e,order:n,type:t},n))}},323883:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i,l=n(667294);n(167912);var a=n(803817),r=n(293017);let o=void 0!==i?i:i=n(157222);function s(e){let{data:t}=(0,a.HF)(o,e,{type:"pin",useGraphQLAdapter:e=>(0,l.useMemo)(()=>{var t;return(t=e.formattedCloseupDescription)&&Array.isArray(t.components)?t.components.filter(e=>e.type).map(e=>{var t,n,i,l;let a=null!==(t=e.type)&&void 0!==t?t:"";return a===r.X.SPECS?{type:a,content:null===(l=e.specsContent)||void 0===l?void 0:l.map(e=>({key:e.key,value:e.value}))}:{type:a,content:null!==(n=null!==(i=e.stringContent)&&void 0!==i?i:e.pointsContent)&&void 0!==n?n:e.tableContent}}):[]},[e.formattedCloseupDescription]),useLegacyAdapter:e=>{var t;let n=null===(t=e.formatted_description)||void 0===t?void 0:t.components;return Array.isArray(n)?n:[]}});return null!=t?t:[]}},293017:(e,t,n)=>{"use strict";n.d(t,{X:()=>i,j:()=>l});let i={BOLD:"formatted_description_bold_component",ELEMENT:"formatted_description_element_component",HEADER:"formatted_description_header_component",PARAGRAPH:"formatted_description_paragraph_component",POINTS:"formatted_description_points_component",SPECS:"formatted_description_specs_component",TABLE:"formatted_description_table_component"},l=({components:e,pinDescription:t})=>e&&0!==e.length?e:[{content:t,type:i.PARAGRAPH}]},932124:(e,t,n)=>{"use strict";n.d(t,{JJ:()=>i,N3:()=>a,zu:()=>l});let i=["TR","WB"],l=["BR","CG","HP","HR","JH","MP","RJ","UK","UP"],a=[...i,...l,"AP","TG"]},820166:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(883119),l=n(550140),a=n(536042),r=n(819079),o=n(549201),s=n(785893);function d({ideaPinImages:e}){let t=e.map((e,t)=>{var n,l,a;return(0,s.jsx)(i.xu,{height:48,width:28,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,s.jsx)(i.Ee,{alt:"",src:null!==(n=null==e?void 0:e.url)&&void 0!==n?n:"",color:"#696969",fit:"cover",naturalHeight:null!==(l=null==e?void 0:e.height)&&void 0!==l?l:1,naturalWidth:null!==(a=null==e?void 0:e.width)&&void 0!==a?a:1})},t)});return(0,s.jsx)(i.kC,{justifyContent:"center",children:(0,s.jsx)(i.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function c({handleHide:e,text:t,userId:n,href:c,imageUrl:u}){let p=(0,a.ZP)(),m=(0,o.HG)(),h=(0,r.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:n}}),g=Array.isArray(t)?t.join(" "):t;if(0===(h.data||[]).length)return(0,s.jsx)(l.ZP,{duration:5e3,onHide:e,text:g,href:c,thumbnail:u?{image:(0,s.jsx)(i.Ee,{alt:p.bt(" ,     ", "Image of who you followed", "userFollowingToast.thumbnail.userImage", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}:void 0});let _=(h.data||[]).slice(0,3).map(e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[m?"236x":"170x"]}),y=(0,s.jsx)(d,{ideaPinImages:_});return(0,s.jsx)(l.ZP,{href:c,duration:5e3,onHide:e,_dangerouslySetThumbnail:y,text:g})}},907310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(883119),l=n(107877),a=n(785893);function r({boardId:e}){var t;let n=(0,l.gC)()(e),r=null!=n&&n.images&&n.images["170x"]?n.images["170x"][0]:void 0;return e&&r?(0,a.jsx)(i.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(t=r.url)&&void 0!==t?t:""}):null}},217861:(e,t,n)=>{"use strict";n.d(t,{k:()=>r,w:()=>a});var i=n(883119),l=n(360675);let a=2e3,r=new i.H3([l.Z])},204722:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U});var i,l=n(667294),a=n(167912),r=n(616550),o=n(883119),s=n(388011),d=n(550140),c=n(536042),u=n(630089),p=n(624417),m=n(740494),h=n(465991),g=n(769705),_=n(245410),y=n(282802),v=n(649715),f=n(670640),b=n(599226),x=n(98736),k=n(63262),P=n(272109),S=n(939479),w=n(443601),T=n(230910),A=n(411056),C=n(525104),I=n(785893);let j=({children:e,onTap:t,testId:n})=>{let[i,a]=(0,l.useState)(!1);return(0,I.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem","data-test-id":`more-options-${n}`,children:(0,I.jsx)(o.iP,{onTap:t,onBlur:()=>a(!1),onFocus:()=>a(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:e})})},E=void 0!==i?i:i=n(823722),L=({i18n:e,pinId:t,showSignupModal:n,attributionLabelSource:i})=>(0,I.jsx)(j,{testId:"save",onTap:()=>{(0,x.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:i}),n({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${i}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:t}}})},children:(0,I.jsx)(o.xv,{size:"200",weight:"bold",children:e.bt(" ", "Save image", "dweb.unauth.context_menu.link.save_image", undefined, true)})},"SaveMenuItem"),R=e=>({invite_category:3,invite_channel:12,object_type:1,object_id:e}),F=({pinId:e,variant:t,onSendButtonClick:n,dismissPriorToast:i})=>{let a=(0,c.ZP)(),{logContextEvent:r}=(0,s.v)(),[d,u]=(0,l.useState)(null),[p,m]=(0,l.useState)(!1),{logShareInvite:h,createShareInviteData:g}=(0,f.Z)(),_=()=>{null===d||p||(m(!0),h(R(e),d))},y=()=>{r({event_type:101,component:14162,element:72,object_id_str:e})};return(0,P.Z)(()=>{let t=async()=>{let t=await g({invite_category:3,invite_channel:12,object_type:"pin",object_id:e,path:""});u(t)};t()}),"copy_link"===t?(0,I.jsxs)(o.xu,{"data-test-id":"post-download-copy-link",children:[a.bt("    . ", "Image downloaded to your device. ", "context_menu.pin_downloaded.toastText", undefined, true),(0,I.jsx)(S.Z,{linkURL:(null==d?void 0:d.invite_url)||"",onDidClickCopyButton:()=>{_(),y()},onDidFocus:_,buttonSize:"sm",onCopyText:a.bt("      ", "Copied link to your clipboard to share", "context_menu.pin_downloaded.copy_link_button_activate", undefined, true),toastDuration:5e3,oneToast:!0,hideInput:!0,asLink:!0})]}):(0,I.jsxs)(o.xu,{"data-test-id":"post-download-share-pin",children:[a.bt("    . ", "Image downloaded to your device. ", "context_menu.pin_downloaded.toastText", undefined, true),(0,I.jsx)(o.rU,{display:"inline",onClick:()=>{i(),n(),y()},href:"",accessibilityLabel:a.bt(" ", "Share Pin", "context_menu.pin_downloaded.share_pin_button", undefined, true),children:a.bt(" ", "Share Pin", "context_menu.pin_downloaded.share_pin_button", undefined, true)})]})},D=({i18n:e,pinTitle:t,pinDescription:n,pinId:i,bestPinImgSrc:l,attributionLabelSource:a,logContextEvent:r,pinCategory:s,checkExperiment:c,showSignupModal:u,onSendButtonClick:p})=>{let{showOneToast:m}=(0,k.F9)();return(0,I.jsx)(j,{testId:"download",onTap:()=>{let{expName:h,expGroup:g,limitReached:_,oldCount:y,newCount:v}=(0,w.H)(c,"dweb_download_in_context_menus_v3");if((0,x.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:a,expName:h,expGroup:g,limitReached:_,oldCount:y,newCount:v}),_){u({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${a}_download_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:i}}});return}(0,w.Z)({filename:t||n||i,imgSrc:l||"",category:s,pinId:i,isUnauth:!0,platform:"web",expName:h,expGroup:g},r);let f=g.includes("copy_link"),b=f?"copy_link":"sharesheet";m(({hideToast:t})=>(0,I.jsx)(d.ZP,{onHide:t,duration:5e3,thumbnail:{image:(0,I.jsx)(o.Ee,{alt:e.bt("  ", "Image of downloaded Pin", "context_menu.pin_downloaded.altImageText", undefined, true),src:l||"",fit:"cover",naturalWidth:32,naturalHeight:32})},text:(0,I.jsx)(o.xv,{color:"inverse",children:(0,I.jsx)(F,{pinId:i,variant:b,onSendButtonClick:p,dismissPriorToast:t})})}))},children:(0,I.jsx)(o.xv,{size:"200",weight:"bold",children:e.bt(" ", "Download image", "Button to download Pin image", undefined, true)})},"DownloadMenuItem")},z=({pinId:e,pinLink:t,fromEllipsisButton:n,attributionLabelSource:i,showSignupModal:l,i18n:a})=>(0,I.jsx)(j,{testId:"new-tab",onTap:()=>{(0,x.My)("dweb.unauth.context_menu.open_plp_new_tab",{attributionLabelSource:i}),window.open(n?t:`/pin/${e}/`),n||l({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}})},children:(0,I.jsx)(o.xv,{size:"200",weight:"bold",children:a.bt("    ", "Open link in new tab", "dweb.unauth.context_menu.link.plp_new_tab", undefined, true)})},"NewTabMenuItem"),M=({history:e,levelOneInterestUrl:t,searchUrl:n,levelOneInterestName:i,i18n:l,interestTag:a,attributionLabelSource:r})=>(0,I.jsx)(j,{testId:"interests",onTap:()=>{(0,x.My)("dweb.unauth.context_menu.see_more_pins",{attributionLabelSource:r}),t?e.push(`${t}`):e.push(n)},children:i?(0,I.jsx)(o.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(l.bt("     {{levelOneInterestName}}", "See more ideas about {{levelOneInterestName}}", "dweb.unauth.context_menu.link.see_more_ideas.l1", undefined, true),{levelOneInterestName:i})}):(0,I.jsx)(o.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(l.bt("     {{interestTag}}", "See more ideas about {{interestTag}}", "dweb.unauth.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:a})})},"MoreInterestsMenuItem"),O=({history:e,sourceUserUsername:t,sourceUserFullname:n,i18n:i,attributionLabelSource:l})=>(0,I.jsx)(j,{testId:"from-creator",onTap:()=>{(0,x.My)("dweb.unauth.context_menu.more_from_creator",{attributionLabelSource:l}),e.push(`/${t}/`)},children:(0,I.jsx)(o.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(i.bt("     {{full_name}}", "See more from {{full_name}}", "dweb.unauth.context_menu.link.more_from_creator", undefined, true),{full_name:n})})},"MoreFromCreatorMenuItem"),Z=({attributionLabelSource:e,reportLink:t,i18n:n})=>(0,I.jsx)(l.Fragment,{children:(0,I.jsx)(j,{testId:"dsa",onTap:()=>{(0,x.My)("dweb.unauth.context_menu.report_pin_dsa",{attributionLabelSource:e}),window.open(t,"_blank")},children:(0,I.jsx)(o.xv,{size:"200",weight:"bold",children:n.bt("       ", "Report Pin for EU local law violation", "dweb.unauth.context_menu.link.report_pin_dsa", undefined, true)})})},"ReportForDSAMenuItem");function N({desktopContextMenuState:e,isMainPinImage:t,source:n,imagesUrls:i,embedSrc:l,embedType:a,sourceUserUsername:d,sourceUserFullname:u,pinJoinVisualAnnotation:m,pinJoinSeoBreadcrumbName:h,pinJoinSeoBreadcrumbUrl:g,pinId:f,pinLink:x,pinTitle:k,pinDescription:P,pinCategory:S,pinEligibleForDownload:w,onSendButtonClick:T}){var C;let j=(0,c.ZP)(),E=(0,r.useHistory)(),{logContextEvent:R}=(0,s.v)(),{countryFromIp:F,isBot:N,isSocialBot:K}=(0,y.B)(),{checkExperiment:B}=(0,_.F)(),U=(0,p.Z)({imagesUrls:i,embedSrc:l,embedType:a,excludeOriginals:!N&&!K}),H=null!==(C=null==m?void 0:m[0])&&void 0!==C?C:void 0,V=(0,v.Z)(H),G=`/search/pins/?q=${encodeURIComponent(V)}&rs=image_only_attribution`,$=(0,b.Z)(),W="dweb.plp.ellipsis.button"===n,{COUNTRY_CODES:q}=A.LAW_CONFIGURATION.dsa,Y=q.includes(F);if(!U)return null;let X=(0,p.Z)({imagesUrls:i,embedSrc:l,embedType:a,excludeOriginals:!N&&!K}),J="related_pin_right_click";W?J="action_bar_ellipsis":t&&(J="right_click");let Q=[{component:()=>L({i18n:j,pinId:f,showSignupModal:$,attributionLabelSource:J})},{component:()=>w&&D({i18n:j,pinTitle:k,pinDescription:P,pinId:f,bestPinImgSrc:X,attributionLabelSource:J,logContextEvent:R,pinCategory:S,checkExperiment:B,showSignupModal:$,onSendButtonClick:null!=T?T:()=>{}})},{component:()=>!(t||W&&!x)&&z({i18n:j,pinId:f,pinLink:x,fromEllipsisButton:W,showSignupModal:$,attributionLabelSource:J})},{component:()=>!!(H||h&&g)&&M({history:E,levelOneInterestUrl:g,searchUrl:G,levelOneInterestName:h,i18n:j,interestTag:H,attributionLabelSource:J})}];B("dweb_unauth_context_menu_remove_from_creator").group.startsWith("enabled")||Q.push({component:()=>!!(u&&d)&&O({history:E,sourceUserUsername:d,sourceUserFullname:u,i18n:j,attributionLabelSource:J})}),Q.push({component:()=>Y&&Z({reportLink:`https://www.pinterest.com/about/dsa/?pinId=${f}`,i18n:j,attributionLabelSource:J})});let ee=Q.map(({component:e})=>e()).filter(e=>!!e);return(0,I.jsxs)(o.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.y}px`,left:`${e.x}px`}},zIndex:new o.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,I.jsx)(o.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,I.jsx)(o.JO,{icon:"pinterest",accessibilityLabel:j.bt(" Pinterest", "Pinterest logo", "dweb.unauth.context_menu.pinterest_logo", undefined, true),color:"brandPrimary"})}),ee]})}function K({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,onSendButtonClick:i,...l}){var r,o,s,d,c,u,p,_,y,v,f,b,x,k,P,S,w;let T;let A=(0,a.useFragment)(E,e),C=(0,g.Z)({type:"graphqlRef",data:A}),j=!!A.storyPinDataId,L=!!(null===(r=A.videos)||void 0===r?void 0:r.videoList),{isUnsafe:R}=A;(T=A.nativeCreator?A.nativeCreator:A.linkDomain?A.linkDomain.officialUser:A.originPinner||A.pinner)||(T=null!==(S=null===(w=A.linkDomain)||void 0===w?void 0:w.officialUser)&&void 0!==S?S:A.pinner);let{storyPinDataId:F}=A,D=null!==(o=null===(s=A.richSummary)||void 0===s?void 0:s.displayName)&&void 0!==o?o:"",z=null!==(d=null===(c=A.richMetadata)||void 0===c?void 0:c.title)&&void 0!==d?d:"",M=null!==(u=null===(p=A.richMetadata)||void 0===p?void 0:p.description)&&void 0!==u?u:"",O=null===(_=A.storyPinData)||void 0===_?void 0:null===(y=_.metadata)||void 0===y?void 0:y.pinTitle,Z=(null===(v=A.pinJoin)||void 0===v?void 0:v.visualAnnotation)||void 0,K=A.category||"",B=(0,h.Ly)({pinTitle:A.title,gridTitle:A.gridTitle,richSummaryDisplayName:D,richMetadataTitle:z,storyPinDataId:F,storyPinDataMetadataPinTitle:O,pinJoinVisualAnnotation:Z}),U=(0,m.Z)({storyPinDataId:F,pinDescription:A.description,richMetadataDescription:M,richSummaryDisplayName:D,closeupDescription:A.closeupDescription,closeupUnifiedDescription:A.closeupUnifiedDescription});return(0,I.jsx)(N,{...l,embedSrc:A.embed&&A.embed.src,embedType:A.embed&&A.embed.type,imagesUrls:C,sourceUserUsername:null===(f=T)||void 0===f?void 0:f.username,sourceUserFullname:null===(b=T)||void 0===b?void 0:b.fullName,pinJoinVisualAnnotation:null===(x=A.pinJoin)||void 0===x?void 0:x.visualAnnotation,pinJoinSeoBreadcrumbName:(null===(k=A.pinJoin)||void 0===k?void 0:k.seoBreadcrumbs)&&(A.pinJoin.seoBreadcrumbs.length>0?A.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null===(P=A.pinJoin)||void 0===P?void 0:P.seoBreadcrumbs)&&(A.pinJoin.seoBreadcrumbs.length>0?A.pinJoin.seoBreadcrumbs[0].url:null),pinId:t,pinTitle:B,pinDescription:U,pinCategory:K,pinEligibleForDownload:!!(!j&&!L&&!R&&i),onSendButtonClick:i})}function B({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,onSendButtonClick:i,...l}){var a,r,o,s,d,c,u,p,_,y,v,f,b,x,k,P,S;let w=(0,C.S6)()(t),A=(0,g.Z)(null!=w?{type:"deprecated",data:w}:null),j=null==w?void 0:w.story_pin_data_id,E=null==w?void 0:w.videos,L=!!j,R=!!(null!=E&&E.video_list),F=null==w?void 0:w.title,D=null==w?void 0:w.description,z=null==w?void 0:w.grid_title,M=null!==(a=null==w?void 0:null===(r=w.rich_metadata)||void 0===r?void 0:r.title)&&void 0!==a?a:"",O=null==w?void 0:w.category,Z=null!==(o=null==w?void 0:null===(s=w.rich_metadata)||void 0===s?void 0:s.description)&&void 0!==o?o:"",K=null!==(d=null==w?void 0:null===(c=w.rich_summary)||void 0===c?void 0:c.display_name)&&void 0!==d?d:"",B=null==w?void 0:w.closeup_description,U=null==w?void 0:w.closeup_unified_description,H=null==w?void 0:null===(u=w.story_pin_data)||void 0===u?void 0:null===(p=u.metadata)||void 0===p?void 0:p.pin_title,V=null==w?void 0:null===(_=w.pin_join)||void 0===_?void 0:_.visual_annotation,G=null==w?void 0:w.is_unsafe,{link_domain:$,native_creator:W,origin_pinner:q,pinner:Y}=w||{},X=(0,T.wS)($,W,q,Y);X||(X=null!==(P=null==w?void 0:null===(S=w.link_domain)||void 0===S?void 0:S.official_user)&&void 0!==P?P:null==w?void 0:w.pinner);let{full_name:J,username:Q}=null!==(y=X)&&void 0!==y?y:{},ee=(0,h.Ly)({pinTitle:F,gridTitle:z,richSummaryDisplayName:K,richMetadataTitle:M,storyPinDataId:j,storyPinDataMetadataPinTitle:H,pinJoinVisualAnnotation:V}),et=(0,m.Z)({storyPinDataId:j,pinDescription:D,richMetadataDescription:Z,richSummaryDisplayName:K,closeupDescription:B,closeupUnifiedDescription:U});return(0,I.jsx)(N,{...l,embedSrc:null==w?void 0:null===(v=w.embed)||void 0===v?void 0:v.src,embedType:null==w?void 0:null===(f=w.embed)||void 0===f?void 0:f.type,imagesUrls:A,sourceUserUsername:Q,sourceUserFullname:J,pinJoinVisualAnnotation:null==w?void 0:null===(b=w.pin_join)||void 0===b?void 0:b.visual_annotation,pinJoinSeoBreadcrumbName:(null==w?void 0:null===(x=w.pin_join)||void 0===x?void 0:x.seo_breadcrumbs)&&(w.pin_join.seo_breadcrumbs.length>0?w.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==w?void 0:null===(k=w.pin_join)||void 0===k?void 0:k.seo_breadcrumbs)&&(w.pin_join.seo_breadcrumbs.length>0?w.pin_join.seo_breadcrumbs[0].url:null),pinId:t,pinTitle:ee,pinDescription:et,pinCategory:O,pinEligibleForDownload:!!(!L&&!R&&!G&&i),onSendButtonClick:i})}function U(e){return e.graphqlRef?(0,I.jsx)(K,{...e,graphqlRef:e.graphqlRef}):(0,I.jsx)(B,{...e})}},580337:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(883119);let l=new i.Ry(9999),a=l},126979:(e,t,n)=>{"use strict";n.d(t,{Z:()=>G});var i,l,a=n(667294),r=n(167912),o=n(616550),s=n(105314),d=n(883119),c=n(388011),u=n(894121),p=n(550140),m=n(536042),h=n(624417),g=n(740494),_=n(465991),y=n(245410),v=n(282802),f=n(649715),b=n(670640),x=n(599226),k=n(98736),P=n(63262),S=n(272109),w=n(939479),T=n(630089),A=n(700453),C=n(799006),I=n(785893);function j({type:e,onTap:t,location:n,l1InterestName:i,interestTag:l,sourceUserUsername:a,pinId:r}){let o=(0,m.ZP)(),s=(0,C.Z)();return"app-install"===e&&s?(0,I.jsx)(A.Z,{componentType:18,app_upsell_type:"mweb-context-menu",children:({handleOpenApp:t})=>(0,I.jsx)(d.iP,{onTap:()=>{(0,k.My)(`context.menu.tap.${n}.${e}`),r?(t({deepLinkUri:`/pin/${r}/`}),(0,k.My)("mweb.context_menu.open_in_app.pin")):(t({deepLinkUri:"/"}),(0,k.My)("mweb.context_menu.open_in_app.homepage")),(0,k.My)("mweb.context_menu.open_in_app")},children:(0,I.jsx)(d.xu,{marginBottom:4,"data-test-id":"more-options-open-app",children:(0,I.jsx)(d.xv,{size:"300",weight:"bold",children:o.bt("  ", "Open in app", "mweb.context_menu.link.open_in_app", undefined, true)})})})}):(0,I.jsx)(d.iP,{onTap:({event:i})=>{(0,k.My)(`context.menu.tap.${n}.${e}`),t&&t("save"===e||"saveonly"===e?i:void 0)},children:(0,I.jsx)(d.xu,{marginBottom:4,"data-test-id":`more-options-${e}`,children:(0,I.jsx)(d.xv,{size:"300",weight:"bold",children:(()=>{switch(e){case"save":return o.bt(" ", "Save image", "mweb.context_menu.link.save_image", undefined, true);case"new-tab":return o.bt("    ", "Open link in new tab", "mweb.context_menu.link.plp_new_tab", undefined, true);case"more-ideas":return i?(0,T.nk)(o.bt("     {{l1InterestName}}", "See more ideas about {{l1InterestName}}", "unauth.mweb.context_menu.link.see_more_ideas.l1", undefined, true),{l1InterestName:i}):(0,T.nk)(o.bt("     {{interestTag}}", "See more ideas about {{interestTag}}", "unauth.mweb.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:l});case"more-from-creator":return(0,T.nk)(o.bt("     {{sourceUserUsername}}", "See more from {{sourceUserUsername}}", "unauth.context_menu.link.more_from_creator", undefined, true),{sourceUserUsername:a});case"login-signup":return o.bt("  ,   ", "Log in or sign up for more", "unauth.mweb.context_menu.link.login_signup", undefined, true);case"saveonly":return o.bt("", "Save", "mweb.context_menu.link.saveonly", undefined, true);case"download":return o.bt(" ", "Download image", "Button to download Pin image", undefined, true);case"dsa":return o.bt("       ", "Report Pin for EU local law violation", "unauth.context_menu.link.report_pin_dsa", undefined, true);default:return null}})()})})})}var E=n(443601),L=n(411056),R=n(525104),F=n(410834);let D={"main-pin-long-press":"main_pin_longtouch","main-pin-overflow":"action_bar_ellipsis","main-pin-more-information":"main_pin_ellipsis","related-pins-long-press":"related_pin_longtouch","non-main-pin-more-information":"related_pin_ellipsis"},z=["main-pin-long-press","main-pin-overflow","main-pin-more-information"],M=()=>{},O=void 0!==i?i:i=n(586188),Z=e=>({invite_category:3,invite_channel:12,object_type:1,object_id:e}),N=({pinId:e,variant:t,onSendButtonClick:n,dismissPriorToast:i})=>{let l=(0,m.ZP)(),{logContextEvent:r}=(0,c.v)(),[o,s]=(0,a.useState)(null),[u,p]=(0,a.useState)(!1),{logShareInvite:h,createShareInviteData:g}=(0,b.Z)(),_=()=>{null===o||u||(p(!0),h(Z(e),o))},y=()=>{r({event_type:101,component:14162,element:72,object_id_str:e})};return(0,S.Z)(()=>{let t=async()=>{let t=await g({invite_category:3,invite_channel:12,object_type:"pin",object_id:e,path:""});s(t)};t()}),"copy_link"===t?(0,I.jsxs)(d.xu,{"data-test-id":"post-download-copy-link",children:[l.bt("    . ", "Image downloaded to your device. ", "context_menu.pin_downloaded.toastText", undefined, true),(0,I.jsx)(w.Z,{linkURL:(null==o?void 0:o.invite_url)||"",onDidClickCopyButton:()=>{_(),y()},onDidFocus:_,buttonSize:"sm",onCopyText:l.bt("      ", "Copied link to your clipboard to share", "context_menu.pin_downloaded.copy_link_button_activate", undefined, true),toastDuration:5e3,oneToast:!0,hideInput:!0,asLink:!0})]}):(0,I.jsxs)(d.xu,{"data-test-id":"post-download-share-pin",children:[l.bt("    . ", "Image downloaded to your device. ", "context_menu.pin_downloaded.toastText", undefined, true),(0,I.jsx)(d.rU,{display:"inline",onClick:({event:e})=>{i(),n(e),y()},href:"",accessibilityLabel:l.bt(" ", "Share Pin", "context_menu.pin_downloaded.share_pin_button", undefined, true),children:l.bt(" ", "Share Pin", "context_menu.pin_downloaded.share_pin_button", undefined, true)})]})};function K({embedSrc:e,embedType:t,hasRichMetadata:n,hasRichMetadataArticle:i,hasRichMetadataProducts:l,hasRichMetadataRecipe:a,interestTag:r,imagesUrls:s,isStoryPin:g,l1InterestName:_,location:b,onDismiss:w,pinId:T,pinCategory:A,pinDescription:C,pinJoinSeoBreadcrumbUrl:R,pinTitle:z,sourceUserUsername:O,vaseSection:Z,pinEligibleForDownload:K,onSendButtonClick:B}){let U=(0,m.ZP)(),{countryFromIp:H,isBot:V,isSocialBot:G}=(0,v.B)(),$=(0,o.useHistory)(),W=(0,x.Z)(),q=(0,f.Z)(r),Y=`/search/pins/?q=${encodeURIComponent(q)}&rs=image_only_attribution`,X=D[b],J="click_context_menu_"+X,{COUNTRY_CODES:Q}=L.LAW_CONFIGURATION.dsa,ee=Q.includes(H),{checkExperiment:et}=(0,y.F)(),{showOneToast:en}=(0,P.F9)(),ei=(0,F.Z)({embedSrc:e,embedType:t,hasRichMetadata:n,hasRichMetadataProducts:l,hasRichMetadataArticle:i,hasRichMetadataRecipe:a,imagesUrls:s,isFromUnauthContextMenu:!0,isStoryPin:g,pinId:T,attributionLabel:J+"_save_button"}),el=K?["save","download","app-install","new-tab"]:["save","app-install","new-tab"];ee&&el.push("dsa");let ea=(0,h.Z)({imagesUrls:s,embedSrc:e,embedType:t,excludeOriginals:!V&&!G}),{logContextEvent:er}=(0,c.v)(),eo={save:e=>{e&&(e.stopPropagation(),ei(e),w())},saveonly:e=>{e&&(e.stopPropagation(),ei(e),w())},"new-tab":()=>{window.open(`/pin/${T}/`),w()},"more-ideas":_||r?()=>{$.push(R?`${R}`:Y),w()}:void 0,"more-from-creator":()=>{$.push(`/${O}/`),w()},"login-signup":()=>{W({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_"+X+"_signup_or_login_button"}),w()},download:K?()=>{let{expName:e,expGroup:t,limitReached:n,oldCount:i,newCount:l}=(0,E.H)(et,"mweb_download_in_context_menus_v3");if((0,k.My)("mweb.unauth.context_menu.download_image",{attributionLabelSource:J,expName:e,expGroup:t,limitReached:n,oldCount:i,newCount:l}),n){w(),W({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${J}_download_button`,mobileOptions:{headingType:"download_limit_reached"}});return}(0,E.Z)({filename:z||C||T,imgSrc:ea||"",category:A,pinId:T,isUnauth:!0,platform:"mweb",expName:e,expGroup:t},er);let a=t.includes("copy_link"),r=a?"copy_link":"sharesheet";en(({hideToast:e})=>(0,I.jsx)(p.ZP,{onHide:e,duration:5e3,thumbnail:{image:(0,I.jsx)(d.Ee,{alt:U.bt("  ", "Image of downloaded Pin", "context_menu.pin_downloaded.altImageText", undefined, true),src:ea,fit:"cover",naturalWidth:32,naturalHeight:32})},text:(0,I.jsx)(d.xv,{color:"inverse",children:(0,I.jsx)(N,{pinId:T,variant:r,onSendButtonClick:null!=B?B:M,dismissPriorToast:e})})})),w()}:M,"app-install":()=>{},dsa:()=>{(0,k.My)("mweb.unauth.context_menu.dsa"),window.open(`https://www.pinterest.com/about/dsa/?pinId=${T}`,"_blank")}};return(0,S.Z)(()=>{(0,k.My)(`open.context_menu_modal.${b}`)}),(0,I.jsxs)(u.default,{accessibilityModalLabel:U.bt("", "Close", "Close modal window", undefined, true),isOpen:!0,onDismiss:()=>{(0,k.My)(`dismiss.context_menu.modal.${b}`),w()},mobileAccessibilityCloseIconLabel:U.bt("", "Close", "context_modal.menu.close", undefined, true),children:[!!Z&&(0,I.jsxs)(d.xu,{children:[(0,I.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:20,paddingRight:20,paddingBottom:20,paddingTop:8}},children:Z}),(0,I.jsx)(d.xu,{marginBottom:5,paddingX:5,children:(0,I.jsx)(d.iz,{})})]}),(0,I.jsxs)(d.xu,{marginStart:5,marginBottom:6,"data-test-id":"mobile-context-menu",children:[(0,I.jsx)(d.xu,{marginBottom:4,children:(0,I.jsx)(d.xv,{size:"200",children:U.bt(" ", "More options", "header.context_menu.modal", undefined, true)})}),el.map(e=>eo[e]?(0,I.jsx)(j,{type:e,location:b,onTap:eo[e],l1InterestName:_,interestTag:r,pinId:T,sourceUserUsername:O},e):null)]})]})}function B({onDismiss:e,location:t,pinId:n,vaseSection:i,onSendButtonClick:l}){var a,r,o,s,d,c,u,p,m,h,y,v,f,b,x,k,P,S,w,T,A,C,j;let E;let L=(0,R.S6)()(n),F=null==L?void 0:L.story_pin_data_id,D=!!F,M=!!(null!=L&&null!==(a=L.videos)&&void 0!==a&&a.video_list),O=null==L?void 0:L.is_unsafe,Z=!!(!D&&!M&&!O&&l&&z.includes(t)),N=null==L?void 0:L.title,B=null==L?void 0:L.description,U=null==L?void 0:L.grid_title,H=null!==(r=null==L?void 0:null===(o=L.rich_metadata)||void 0===o?void 0:o.title)&&void 0!==r?r:"",V=null!==(s=null==L?void 0:null===(d=L.rich_metadata)||void 0===d?void 0:d.description)&&void 0!==s?s:"",G=null!==(c=null==L?void 0:null===(u=L.rich_summary)||void 0===u?void 0:u.display_name)&&void 0!==c?c:"",$=null==L?void 0:L.closeup_description,W=null==L?void 0:L.closeup_unified_description,q=null==L?void 0:null===(p=L.story_pin_data)||void 0===p?void 0:null===(m=p.metadata)||void 0===m?void 0:m.pin_title,Y=null==L?void 0:null===(h=L.pin_join)||void 0===h?void 0:h.visual_annotation,X=(null==L?void 0:null===(y=L.pin_join)||void 0===y?void 0:y.seo_breadcrumbs)&&(L.pin_join.seo_breadcrumbs.length>0?L.pin_join.seo_breadcrumbs[0].name:"")||"",J=null!==(v=null==L?void 0:null===(f=L.pin_join)||void 0===f?void 0:null===(b=f.visual_annotation)||void 0===b?void 0:b[0])&&void 0!==v?v:"";(E=null!=L&&L.native_creator?L.native_creator:null!=L&&L.link_domain?L.link_domain.official_user:(null==L?void 0:L.origin_pinner)||(null==L?void 0:L.pinner))&&"string"!=typeof E||(E=null!==(C=null==L?void 0:null===(j=L.link_domain)||void 0===j?void 0:j.official_user)&&void 0!==C?C:null==L?void 0:L.pinner);let Q=(null===(x=E)||void 0===x?void 0:x.username)||"",ee=(null==L?void 0:null===(k=L.pin_join)||void 0===k?void 0:k.seo_breadcrumbs)&&(L.pin_join.seo_breadcrumbs.length>0?L.pin_join.seo_breadcrumbs[0].url:"")||"",et=(0,_.Ly)({pinTitle:N,gridTitle:U,richSummaryDisplayName:G,richMetadataTitle:H,storyPinDataId:F,storyPinDataMetadataPinTitle:q,pinJoinVisualAnnotation:Y})||"",en=(0,g.Z)({storyPinDataId:F,pinDescription:B,richMetadataDescription:V,richSummaryDisplayName:G,closeupDescription:$,closeupUnifiedDescription:W});return(0,I.jsx)(K,{embedSrc:null==L?void 0:null===(P=L.embed)||void 0===P?void 0:P.src,embedType:null==L?void 0:null===(S=L.embed)||void 0===S?void 0:S.type,hasRichMetadata:!!(null!=L&&L.rich_metadata),hasRichMetadataProducts:!!(null!=L&&null!==(w=L.rich_metadata)&&void 0!==w&&w.products),hasRichMetadataArticle:!!(null!=L&&null!==(T=L.rich_metadata)&&void 0!==T&&T.article),hasRichMetadataRecipe:!!(null!=L&&null!==(A=L.rich_metadata)&&void 0!==A&&A.recipe),imagesUrls:null!=L&&L.images?Object.keys(L.images).reduce((e,t)=>{var n,i;return t&&null!==(n=L.images)&&void 0!==n&&null!==(i=n[t])&&void 0!==i&&i.url?{...e,[t]:L.images[t].url}:e},{}):void 0,interestTag:J,isStoryPin:D,l1InterestName:X,onDismiss:e,location:t,pinCategory:null==L?void 0:L.category,pinDescription:en,pinId:n,pinTitle:et,pinJoinSeoBreadcrumbUrl:ee,sourceUserUsername:Q,vaseSection:i,pinEligibleForDownload:Z,onSendButtonClick:l})}function U({graphqlRef:e,onDismiss:t,location:n,pinId:i,vaseSection:l,onSendButtonClick:a}){var o,s,d,c,u,p,m,h,y,v,f,b,x,k,P,S,w,T,A,C,j,E,L;let R;let F=(0,r.useFragment)(O,e),D=!!F.storyPinDataId,M=!!(null===(o=F.videos)||void 0===o?void 0:o.videoList),{isUnsafe:Z}=F,N=!D&&!M&&!Z&&z.includes(n),{title:B}=F,{description:U}=F,{gridTitle:H}=F,V=null!==(s=null===(d=F.richSummary)||void 0===d?void 0:d.displayName)&&void 0!==s?s:"",G=null!==(c=null===(u=F.richMetadata)||void 0===u?void 0:u.title)&&void 0!==c?c:"",$=null!==(p=null===(m=F.richMetadata)||void 0===m?void 0:m.description)&&void 0!==p?p:"",{storyPinDataId:W}=F,q=null===(h=F.storyPinData)||void 0===h?void 0:null===(y=h.metadata)||void 0===y?void 0:y.pinTitle,Y=(null===(v=F.pinJoin)||void 0===v?void 0:v.visualAnnotation)||void 0,{closeupDescription:X}=F,{closeupUnifiedDescription:J}=F,Q=(null===(f=F.pinJoin)||void 0===f?void 0:f.seoBreadcrumbs)&&(F.pinJoin.seoBreadcrumbs.length>0?F.pinJoin.seoBreadcrumbs[0].name:"")||"",ee=null!==(b=null===(x=F.pinJoin)||void 0===x?void 0:null===(k=x.visualAnnotation)||void 0===k?void 0:k[0])&&void 0!==b?b:"";(R=F.nativeCreator?F.nativeCreator:F.linkDomain?F.linkDomain.officialUser:F.originPinner||F.pinner)&&"string"!=typeof R||(R=null!==(E=null===(L=F.linkDomain)||void 0===L?void 0:L.officialUser)&&void 0!==E?E:F.pinner);let et=(null===(P=R)||void 0===P?void 0:P.username)||"",en=(null===(S=F.pinJoin)||void 0===S?void 0:S.seoBreadcrumbs)&&(F.pinJoin.seoBreadcrumbs.length>0?F.pinJoin.seoBreadcrumbs[0].url:"")||"",ei=F.category||"",el={"236x":F.imageSpec_236,"474x":F.imageSpec_474,"736x":F.imageSpec_736},ea=(0,_.Ly)({pinTitle:B,gridTitle:H,richSummaryDisplayName:V,richMetadataTitle:G,storyPinDataId:W,storyPinDataMetadataPinTitle:q,pinJoinVisualAnnotation:Y})||"",er=(0,g.Z)({storyPinDataId:W,pinDescription:U,richMetadataDescription:$,richSummaryDisplayName:V,closeupDescription:X,closeupUnifiedDescription:J});return(0,I.jsx)(K,{embedSrc:null===(w=F.embed)||void 0===w?void 0:w.src,embedType:null===(T=F.embed)||void 0===T?void 0:T.type,hasRichMetadata:!!F.richMetadata,hasRichMetadataArticle:!!(null!==(A=F.richMetadata)&&void 0!==A&&A.article),hasRichMetadataProducts:!!(null!==(C=F.richMetadata)&&void 0!==C&&C.products),hasRichMetadataRecipe:!!(null!==(j=F.richMetadata)&&void 0!==j&&j.recipe),imagesUrls:Object.keys(el).reduce((e,t)=>{var n;return t&&null!==(n=el[t])&&void 0!==n&&n.url?{...e,[t]:el[t].url}:e},{}),interestTag:ee,isStoryPin:D,l1InterestName:Q,onDismiss:t,location:n,pinCategory:ei,pinId:i,pinDescription:er,pinTitle:ea,pinJoinSeoBreadcrumbUrl:en,sourceUserUsername:et,vaseSection:l,pinEligibleForDownload:N,onSendButtonClick:a})}function H({graphqlRef:e,...t}){return e?(0,I.jsx)(U,{graphqlRef:e,...t}):(0,I.jsx)(B,{...t})}let V=void 0!==l?l:l=n(140109);function G({graphqlRef:e,children:t,onSendButtonClick:n}){let i=(0,r.useFragment)(V,e),[l,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(""),[p,m]=(0,a.useState)(""),{pathname:h}=(0,o.useLocation)(),g=!!l,_=(0,a.useMemo)(()=>({modal:{isShown:g},showUnauthContextMenu:({location:e,pinId:t,vaseSection:n})=>{d({vaseSection:n}),u(t),m(e)},dismissMobileUnauthContextMenu:()=>d(null)}),[g]);return(0,a.useEffect)(()=>{d(null)},[h]),(0,I.jsxs)(s.M,{value:_,children:[t,l&&(0,I.jsx)(H,{graphqlRef:i,onDismiss:_.dismissMobileUnauthContextMenu,pinId:c,vaseSection:l.vaseSection,location:p||"default",onSendButtonClick:n})]})}},613352:(e,t,n)=>{"use strict";n.d(t,{X:()=>c,f:()=>d});var i=n(667294),l=n(583592),a=n(898252);function r(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type,isThirdPartyAd:t.payload.isThirdPartyAd};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var o=n(785893);let{Provider:s,useHook:d}=(0,l.Z)("ReportData");function c({children:e}){let[t,n]=(0,i.useReducer)(r,null),l=(0,i.useCallback)(()=>n({type:"REPORT_CONTENT_DISMISS"}),[]),d=(0,i.useCallback)((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:i}}),[]),c=(0,i.useCallback)((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"conversation"}}),[]),u=(0,i.useCallback)((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"pin"}}),[]),p=(0,i.useCallback)(({pinId:e,isDownstreamPromotion:t,hasPromoter:i,firstVideoDuration:l,isProduct:r,viewParameter:o,viewType:s,isThirdPartyAd:d})=>{let c=(0,a.jL)(t,i);n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:r,isPromoted:c,videoDuration:l,viewParameter:o,viewType:s,type:"pin",isThirdPartyAd:d}})},[]),m=(0,i.useMemo)(()=>({reportData:t,dismiss:l,reportComment:d,reportConversation:c,reportImage:u,reportPin:p}),[t,l,d,c,u,p]);return(0,o.jsx)(s,{value:m,children:e})}},646081:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i,l=n(667294),a=n(167912);let r=void 0!==i?i:i=n(782194),o=e=>{var t;let n=(0,a.useFragment)(r,e),i=null==n?void 0:null===(t=n.pinJoin)||void 0===t?void 0:t.annotationsWithLinksArray,o=(0,l.useMemo)(()=>null==i?void 0:i.reduce((e,{name:t,url:n})=>t?{...e,[t]:{name:t,url:n}}:e,{}),[i]);return o}},220271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i,l=n(667294),a=n(167912);let r=void 0!==i?i:i=n(611338),o=e=>{let t=(0,a.useFragment)(r,e),n=null==t?void 0:t.reactionCountsData,i=(0,l.useMemo)(()=>n?n.reduce((e,t)=>{var n,i;return{...e,[String(null!==(n=t.reactionType)&&void 0!==n?n:0)]:null!==(i=t.reactionCount)&&void 0!==i?i:0}},{}):n,[n]);return i}},582319:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i=n(702664),l=n(883119),a=n(563962),r=n(536042),o=n(599226),s=n(98736),d=n(618569),c=n(802071),u=n(793085),p=n(41669),m=n(427778),h=n(446191),g=n(734417),_=n(630089),y=n(282802),v=n(785893);let f=({followerCount:e})=>{let t=(0,r.ZP)(),n=(0,g.Z)(),{locale:i}=(0,y.B)();return(0,v.jsx)(l.xv,{children:(0,_.nk)(t.nbt(["{{followers}} ", "{{followers}} ", "{{followers}} "], e, "pinPage.attribution.followersCount", true),{followers:n(i,e,{shortform:!0,shortform_maximum_fraction_digits:0})})})};function b(e){let t=(0,c.Z)(),n=t.isAuth&&t.id,g=t.isAuth,_=(0,r.ZP)(),y=(0,o.Z)(),b=(0,a.Z)(),x=(0,d.Z)(),k=(0,i.useDispatch)(),P=e=>k((0,m.ZN)(e)),S=e=>k((0,m.fv)(e)),w=e=>k((0,h.h2)(e,b)),{avatarSize:T,detailText:A,hideButtons:C,blockedByMe:I,explicitlyFollowedByMe:j,followerCount:E,fullName:L,id:R,imageLargeUrl:F,imageMediumUrl:D,imageSmallUrl:z,isEligibleForPdp:M,isVerifiedMerchant:O,verifiedIdentityVerified:Z,username:N,isCurrentUser:K,isOnCloseup:B,isImagePinForUnauthOnTablet:U,pinId:H,shouldNavigateToProfile:V=!0,textColor:G,type:$,viewParameter:W,viewType:q,unauthFollow:Y,activateLexFollowExp:X,clientTrackingParams:J}=e,Q=(H&&H.length,()=>{g?(P(R),b({event_type:45,view_type:3,view_parameter:156,view_data:{isCurrentUser:K,viewObjectId:H,viewObjectIdStr:H},object_id_str:R,clientTrackingParams:J})):y({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click_follow",desktopOptions:{modalType:"login"}})}),ee=()=>{S(R),b({event_type:46,view_type:3,view_parameter:156,object_id_str:R,clientTrackingParams:J})},et=()=>(0,v.jsx)(p.Z,{disableLog:!0,followEventType:45,id:R,isFollowed:j||!1,isSecondaryButton:!0,isUserFollowButton:!0,isUserMe:n===R,onFollow:()=>B?Q():P(R),onUnfollow:()=>B?ee():S(R),pinId:H||"",size:"md",unfollowEventType:46,viewParameter:W,viewType:q,clientTrackingParams:J}),en=()=>{if(I)return(0,v.jsx)(l.zx,{fullWidth:!0,color:"gray",onClick:()=>w(R),size:"md",text:_.bt("", "Unblock", " - ", undefined, true)});if(g)return et();if(X){if(!X().group.includes("hide_follow")&&Y)return et()}else if(Y)return et();return null},ei=e=>(0,v.jsx)(l.xu,{"data-test-id":"avatar-image",children:(0,v.jsx)(l.HE,{accessibilityLabel:_.bt(" ", "User`s avatar", "User`s avatar", undefined, true),onClick:()=>{x({action:"click",item:"avatar-image"})},collaborators:[{name:null!=L?L:"",src:F||D||z||void 0}],size:(e||{}).size})}),el=U?"calc(100% - 48px)":void 0,ea=O||Z,er=(0,v.jsxs)(l.kC,{alignItems:"center",flex:"shrink",justifyContent:"start",children:[(0,v.jsx)(l.xu,{flex:"none",marginEnd:2,children:ei({size:T||"md"})}),(0,v.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",maxWidth:el,children:[(0,v.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[!g&&M&&!ea&&(0,v.jsx)(l.xu,{marginEnd:1,children:(0,v.jsx)(l.xv,{children:_.bt(":", "Saved by", "Context on user rep", undefined, true)})}),(0,v.jsx)(l.xu,{"data-test-id":"username",children:(0,v.jsx)(l.iP,{onTap:()=>{x({action:"click",item:"username"})},children:(0,v.jsx)(l.xv,{color:G||"default",lineClamp:U?1:void 0,weight:"bold",children:L})})}),ea&&(0,v.jsx)(l.xu,{marginStart:1,paddingY:1,children:(0,v.jsx)(u.Z,{showVerifiedIdentity:!O,size:"sm"})})]}),(0,v.jsx)(l.xv,{color:G||"default",lineClamp:U?1:void 0,children:A}),!!E&&(0,v.jsx)(l.xu,{"data-test-id":"user-follower-count",children:(0,v.jsx)(l.iP,{onTap:()=>{x({action:"click",item:"user-follower-count"})},children:(0,v.jsx)(f,{followerCount:E})})})]})]}),eo="row"===$?(0,v.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[er,!C&&(0,v.jsx)(l.xu,{flex:"none",marginStart:2,children:en()})]}):(0,v.jsxs)(l.xu,{maxWidth:el,padding:2,children:[ei(),(0,v.jsxs)(l.xu,{display:"flex",paddingY:2,children:[(0,v.jsx)(l.xv,{align:"center",size:"200",lineClamp:1,weight:"bold",children:L}),ea&&(0,v.jsx)(l.xu,{marginStart:1,paddingY:1,children:(0,v.jsx)(u.Z,{showVerifiedIdentity:!O,size:"sm"})})]}),!C&&en()]}),es=(0,v.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"between",overflow:"hidden",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,v.jsx)(l.Tg,{onTap:()=>{g||((0,s.NC)("click_pin_closeup_profile"),x({action:"click",item:"user-rep"}))},tapStyle:"compress",rounding:2,href:`/${encodeURIComponent(N)}/`,children:er}),!C&&(0,v.jsx)(l.xu,{flex:"none",marginStart:2,children:en()})]});return(0,v.jsx)(l.xu,{"data-test-id":"user-rep",width:"100%",children:V?es:eo})}},197083:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>P});var i=n(667294),l=n(23279),a=n.n(l),r=n(883119),o=n(388011),s=n(758360),d=n(736567),c=n(714557),u=n(473383),p=n(785893);function m(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h=[0,.25,.5,.75,.95,.97],g=[0,.5,.8,.99,1],_="-64px 0px 0px 0px",y={rootMargin:_,threshold:g},v={rootMargin:_,threshold:c.i},f=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function b(){return new Date().getTime()}function x(e){return!!e.volume&&e.volume>0}class k extends i.Component{constructor(e){super(e),m(this,"videoWrapperRef",(0,i.createRef)()),m(this,"handleWindowResize",()=>{if(!this.fullscreen){let e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),m(this,"handlePlayheadDown",({event:e})=>{let{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})}),m(this,"handlePlayheadUp",({event:e})=>{let{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})}),m(this,"handleLoop",()=>{this.videoTime=0}),m(this,"handleTimeChange",e=>{let{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;let i=1e3*e.time,l=function(e,t,n,i){if(e>t||n<=0)return null;for(let l of i){let i=l*n;if(e<=i&&t>i)return l}return null}(this.videoTime,i,this.currentInterval.videoDuration,h);if("number"==typeof l&&this.props.playing&&!t&&n){let e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*l),quartilePercentValue:l})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)}),m(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),m(this,"handleReady",e=>{let{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),m(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),m(this,"handleVisibilityChange",e=>{if(0===e.length)return;let t=e.slice(-1)[0],n=function(e,t){for(let n=0;n<t.length;n+=1){let i=t[n],l=t[n+1];if(null==l||i<=e&&e<l)return i}return null}(Number.parseFloat(t.intersectionRatio.toFixed(2)),g);"number"==typeof n&&(this.visible=n>=.5),null==n||n===this.currentInterval.viewability||this.fullscreen||(0===n?this.startNewInterval({viewability:n,playbackState:f.PAUSED}):this.startNewInterval({viewability:n}))}),m(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{if(t){let{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})}),m(this,"handleClose",()=>{this.startNewInterval()}),m(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1};let t=b();this.handleWindowResize=a()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:x(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){let n={};x(e)&&!x(this.props)?n.isAudible=!1:!x(e)&&x(this.props)&&(n.isAudible=!0);let i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?f.PLAYING:f.PAUSED:f.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){let n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){let{closeupStoryPinViewability:n,contextLogData:i,logContextEvent:l,playing:a,surface:r}=this.props,{seeking:o}=this.state,{height:s,width:d,windowHeight:c,windowWidth:u,viewability:p,...m}=t;if(null!=s&&null!=d&&null!=c&&null!=u&&null!=p){let t={...m,gridAutoplay:6904===e&&a&&!o&&("AuthHomefeed"===r||"SearchItem"===r||"RelatedPinGrid"===r),height:s,width:d,windowHeight:c,windowWidth:u,viewability:n||p};l({event_type:e,...function(e){let{eventData:{videoEvent:{gridAutoplay:t,videoDuration:n,startTime:i,endTime:l,videoStartTime:a,videoEndTime:r,isAudible:o,height:s,width:d,playbackState:c,quartile:u,quartilePercentValue:p,windowHeight:m,windowWidth:h,viewability:g}},component:_,objectId:y,view:v,viewParameter:f,...b}=e;return{component:_,object_id_str:y,view_type:v,view_parameter:f,aux_data:{...b},event_data:{videoEventData:{gridAutoplay:t,videoDuration:n,time:i,endTime:l,videoTime:a,endVideoTime:r,isAudible:o,height:s,width:d,playbackState:c,quartile:u,quartilePercentValue:p,windowHeight:m,windowWidth:h,viewability:g}}}}({...i,view:this.fullscreen?108:i.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){let e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){let t=b();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){let{aspectRatio:e,backgroundColor:t,captions:n,contextLogData:i,controls:l,cropHeight:a,hlsConfig:o,inAdsDesktopVideoExperiment:c,isAutoPlay:m,loop:h,objectFit:g,onLoadedChange:_,onControlsPause:f,onControlsPlay:b,onSeek:x,onVolumeChange:k,playbackRate:P,playing:S,playsInline:w,poster:T,preload:A,rootMargin:C,src:I,surface:j,videoStartTime:E,volume:L}=this.props,{seeking:R}=this.state,F=c?v:y;return void 0!==C&&(F.rootMargin=j?(0,d.e)(j):C),(0,p.jsx)(s.Z,{options:F,onVisibilityChange:this.handleVisibilityChange,children:(0,p.jsx)(r.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:a?{display:"flex",alignItems:"center",height:`${a}px`}:{}},children:(0,p.jsx)(u.default,{aspectRatio:a?236/a:e,backgroundColor:t,captions:n,contextLogData:i,controls:l,hlsConfig:o,isAutoPlay:m,loop:h,objectFit:g,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:_,onLoop:this.handleLoop,onControlsPause:f,onControlsPlay:b,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:x,onTimeChange:this.handleTimeChange,onVolumeChange:k,playbackRate:P,playing:!R&&S,onPlay:()=>{},onPlayError:()=>{},playsInline:w,poster:T,preload:A,src:I,videoStartTime:E,visible:this.visible,volume:L})})})}}function P(e){let{logContextEvent:t}=(0,o.v)();return(0,p.jsx)(k,{...e,logContextEvent:t})}m(k,"defaultProps",r.nk.defaultProps)},473383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{VideoWrapper:()=>w,default:()=>T,getPlaylistSourceSrc:()=>S});var i=n(667294),l=n(883119),a=n(969327),r=n(282802),o=n(634004),s=n(931696),d=n(288959),c=n(886365),u=n(388011),p=n(874261),m=n(245410),h=n(802071),g=n(499992),_=n(505204),y=n(991319),v=n(785893);function f(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){let n=e;return t&&(n=e.replace("v1.pinimg.com","control"===t?"v3.pinimg.com":"v2.pinimg.com")),n}if(Array.isArray(e)&&e[0].src){let n=e[0].src;return t&&(n=n.replace("v1.pinimg.com","control"===t?"v3.pinimg.com":"v2.pinimg.com")),n}return`unsupported_type_${typeof e}`}class x extends i.Component{constructor(...e){super(...e),f(this,"state",{canPlayVideo:!1,playbackState:_.Cy.DEFAULT,videoStartTime:this.props.seekTime?this.props.seekTime:this.props.videoStartTime||0}),f(this,"errorRetryCount",2),f(this,"hasSegmentStarted",!1),f(this,"hasPlaybackStarted",!1),f(this,"hasVideoSessionStarted",!1),f(this,"hasVideoSessionEnded",!1),f(this,"lastStallTime",null),f(this,"lastPauseTime",null),f(this,"logSessionStartOnNextPlay",!1),f(this,"playerId",""),f(this,"videoSessionId",""),f(this,"videoVisibleTime",null),f(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:b(this.props.src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),f(this,"componentDidMount",()=>{var e,t;let{contextLogData:n={},playing:i}=this.props,{is_closeup_video:l=!1}=n;(0,g.tE)("videoMounted",!1,l),i&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(_.DR,{initiator:"mount"}));let a=null===(e=this.videoPlayerRef)||void 0===e?void 0:null===(t=e.video)||void 0===t?void 0:t.textTracks[0];a&&a.addEventListener("cuechange",()=>{let e=a.activeCues[0];e&&e.line&&(e.line=-6,e.size=88)})}),f(this,"componentDidUpdate",e=>{var t,n;let{playing:i,visible:l,appInFocus:a,seekTime:r,captionsEnabled:o}=this.props;r&&r!==e.seekTime&&this.setState({videoStartTime:r});let s=null===(t=this.videoPlayerRef)||void 0===t?void 0:null===(n=t.video)||void 0===n?void 0:n.textTracks[0];s&&(o?s.mode="showing":s.mode="disabled"),e.appInFocus&&!a&&(this.logPlaybackPerformance(_.$f,{initiator:"update"}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===l&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(_.$f,{initiator:"update"})),!1===e.visible&&!0===l&&(this.videoVisibleTime=this.videoVisibleTime||new Date,i?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(_.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),i&&a&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(_.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}),f(this,"addSegment",()=>{let{canPlayTime:e,loadStartTime:t,segments:n,srcString:i}=this.playbackPerformance,l=-1;e&&t&&0===n.length&&(l=e>t?e-t:0);let a=this.videoPlayerRef&&this.videoPlayerRef.video,r={indicatedKbps:-1,duration:a&&a.duration*_.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:l,switchBitrateKbps:-1,uri:i,viewportWidth:a&&a.clientWidth||-1,viewportHeight:a&&a.clientHeight||-1,watchedDurationMs:0};n.push(r)}),f(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*_.gJ:0),f(this,"getVideoResourceTiming",()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntriesByName&&this.playbackPerformance.srcString){let e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null}),f(this,"handleCanPlayVideo",e=>{let{contextLogData:t={},onReady:n,playing:i}=this.props,{is_closeup_video:l=!1}=t,{canPlayVideo:a}=this.state;(0,g.tE)("handleCanPlayVideo",!1,l,{firstCanPlayEvent:!a,playing:i}),this.playbackPerformance.hasFatalError=!1,a||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),n&&n(e)}),f(this,"handleEnded",e=>{let{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,l=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),l&&(l.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(_.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:_.Cy.ENDED}),n&&n(e)}),f(this,"handleError",()=>{var e,t,n,i,l,a,r,o;let{contextLogData:s={}}=this.props,{is_closeup_video:d=!1}=s,c=this.videoPlayerRef&&this.videoPlayerRef.video;(null==c?void 0:null===(e=c.error)||void 0===e?void 0:e.code)!==_.lG.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${(null==c?void 0:null===(t=c.error)||void 0===t?void 0:t.message)||""}`,this.playbackPerformance.errorCode=(null==c?void 0:null===(n=c.error)||void 0===n?void 0:n.code)||0,this.playbackPerformance.errorName=(null==c?void 0:null===(i=c.error)||void 0===i?void 0:null===(l=i.message)||void 0===l?void 0:l.slice(0,100))||"unknown",this.playbackPerformance.errorReason=(null==c?void 0:null===(a=c.error)||void 0===a?void 0:null===(r=a.message)||void 0===r?void 0:r.slice(0,100))||"unknown";let u={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:(null==c?void 0:c.networkState)||"unknown"};switch((0,g.tE)("fatalError",!1,d,u),null==c?void 0:null===(o=c.error)||void 0===o?void 0:o.code){case _.lG.MEDIA_ERR_ABORTED:break;case _.lG.MEDIA_ERR_NETWORK:case _.lG.MEDIA_ERR_DECODE:case _.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(null==c||c.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:_.Cy.FAILED})}),f(this,"handleLoadedMetadata",()=>{this.setState({playbackState:_.Cy.LOADED_METADATA})}),f(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:_.Cy.LOAD_START})}),f(this,"handleLoadedData",()=>{this.setState({playbackState:_.Cy.LOADED_DATA})}),f(this,"handlePlaying",()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:_.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime()}),f(this,"handleUserPause",({event:e})=>{let{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t({event:e})}),f(this,"handleVideoPause",()=>{this.state.playbackState===_.Cy.STALLING||this.state.playbackState===_.Cy.SEEKING||(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:_.Cy.PAUSED})}),f(this,"handleSeeking",()=>{this.playbackPerformance.numberOfSeeks+=1;let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==_.Cy.ENDED&&this.setState({playbackState:_.Cy.SEEKING})}),f(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==_.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1,this.setState({playbackState:_.Cy.STALLING}))}),f(this,"handleTimeUpdate",e=>{let{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===_.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())}),f(this,"resetPlaybackMetrics",()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;let e=this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],t={...e,lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[t]}),f(this,"setLastSegmentStartPlayTime",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())}),f(this,"setLastSegmentPlaybackStartDate",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())}),f(this,"setPlaybackStartTime",()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)}),f(this,"setVideoPlayerRef",e=>{let{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){let e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),f(this,"updateStallDuration",()=>{if(null!==this.lastStallTime){let{lastStallTime:e}=this;this.playbackPerformance.totalStallDurationMs+=new Date-e,this.lastStallTime=null}}),f(this,"updatePauseDuration",()=>{if(null!==this.lastPauseTime){let{lastPauseTime:e}=this;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}}),f(this,"updateWatchDurationForCurrentSegment",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){let e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}}),f(this,"logPlaybackPerformance",(e,t)=>{let{contextLogData:n={},userId:i,isAutoPlay:l,logContextEvent:a,preload:r}=this.props,{is_closeup_video:o=!1}=n,{canPlayTime:s,detailedErrors:d,errorCode:c,errorName:u,errorReason:p,hasFatalError:m,loadStartTime:h,totalPauseDurationMs:y,totalStallDurationMs:v,numberOfStalls:f,numberOfSeeks:b,playbackStartTimestamp:x,segments:k,srcString:P}=this.playbackPerformance,S=this.videoPlayerRef&&this.videoPlayerRef.video,w=e===_.DR,T=w&&!this.hasVideoSessionStarted,A=!w&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(S&&(T||A)){var C;let T=-1;s&&h&&(T=s>h?s-h:0);let A=-1;s&&this.videoVisibleTime&&(A=s>this.videoVisibleTime?s-this.videoVisibleTime:0),w&&(this.videoSessionId=(0,_.Y7)(i),this.playerId=this.playerId||(0,_.EB)());let I=this.getVideoResourceTiming(),j={averageVideoKbps:-1,autoplaying:l,detailedErrors:d,downloadedKiloBytes:"number"==typeof(null==I?void 0:I.decodedBodySize)&&I.decodedBodySize/_.Fm||0,errorCode:c,errorName:u,errorReason:p,fatalError:m,isCellular:!1,nativeVideoDurationMs:S.duration*_.gJ||-1,numberOfStalls:f,numberOfSeeks:b,overallPausedDurationMs:y,overallBufferDurationMs:v,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:x||-1,segments:[],sessionMark:e,screenPixelScale:null!==(C=window)&&void 0!==C&&C.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:S.clientWidth,startupPlayerHeight:S.clientHeight,startupTimeMs:T,startupLatencyMs:A,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:S.videoWidth,startupVariantHeight:S.videoHeight,videoUrl:P,wasVideoPreloaded:"auto"===r};if(!w){this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();let e=k.reduce((e,t)=>e+(t.watchedDurationMs||0),0);j.overallWatchedDurationMs=e,j.startupVariantWatchedDurationMs=e,j.segments=this.playbackPerformance.segments,0===e?(j.errorName="invalid_watch_duration",j.rebufferRate=-1):j.rebufferRate=v/e}(0,g.ZP)(j,!1,o,{playbackState:this.state.playbackState,...t});let{view:E,viewParameter:L,component:R,element:F,objectId:D,...z}=n;a({event_type:3606,event_data:{videoPerformanceData:j},view_type:E,view_parameter:L,component:R,element:F,object_id_str:D,aux_data:{...z,is_closeup_video:o,playback_session_id:this.videoSessionId}}),w?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,g.tE)(w?"sessionStart":"sessionEnd",!1,o,{playbackState:this.state.playbackState,...t})}})}componentWillUnmount(){let{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(_.$f,{initiator:"unmount",loop:e})}render(){let{aspectRatio:e,captions:t,controls:n,loop:a,loopOverride:r,objectFit:o,onDurationChange:s,onFullscreenChange:d,onLoadedChange:c,onControlsPlay:u,onPlayheadDown:m,onPlayheadUp:h,onSeek:g,onVolumeChange:_,playbackRate:f,playing:x,playsInline:k,poster:P,preload:S,src:w,volume:T}=this.props,{canPlayVideo:A,videoStartTime:C}=this.state;return(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(p.Z,{unsafeCSS:y.P}),(0,v.jsx)(l.nk,{autoplay:A&&x,aspectRatio:e,captions:t,controls:n,loop:void 0===r?a:r,objectFit:o,onDurationChange:s,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:d,onLoadedChange:c,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:u,onPlaying:this.handlePlaying,onPlayheadDown:m,onPlayheadUp:h,onReady:this.handleCanPlayVideo,onSeek:g,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:_,onWaiting:this.handleStalled,playbackRate:f,onPlay:()=>{},onPlayError:()=>{},playing:A&&x,playsInline:k,poster:P,preload:S,ref:this.setVideoPlayerRef,src:b(w,this.props.quicExpGroup),startTime:C||void 0,volume:T})]})}}let k=(0,i.memo)(function(e){let{logContextEvent:t}=(0,u.v)(),{country:n,isAuthenticated:i,isBot:l,isSocialBot:a,unauthId:s,userAgent:d}=(0,r.B)(),{browserName:p,browserVersion:_,isMobile:y}=d,{contextLogData:f={}}=e,{is_closeup_video:b=!1,view:k,viewParameter:P}=f,{appUI:{appInFocus:S}}=(0,c.I)(),{checkExperiment:w}=(0,m.F)(),{clearSeekTime:T}=(0,o.RC)(),A=null;i&&(A=w("web_video_quic").group.length?w("web_video_quic").group:null);let C=(0,h.Z)();return(0,g.r$)({browserName:p,browserVersion:_,country:n,isAuthenticated:i,isBot:l,is_closeup_video:b,isMobile:y,isSocialBot:a,view:k,viewParameter:P}),(0,v.jsx)(x,{...e,userId:C.id||s,appInFocus:S,quicExpGroup:A,logContextEvent:t,clearSeekTime:T})});function P(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let S=e=>{if(Array.isArray(e)){let t=e.find(e=>"video/m3u8"===e.type);return t?t.src:void 0}return/m3u8$/.test(e)?e:void 0};class w extends i.PureComponent{constructor(e){super(e),P(this,"componentDidUpdate",e=>{var t;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(t=this.videoPlayerRef)&&void 0!==t&&t.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)}),P(this,"setVideoPlayerRef",e=>{e&&(this.videoPlayerRef=e)}),P(this,"handleOnEnded",({event:e})=>{let{loop:t,onLoop:n,onEnded:i}=this.props;i&&(i({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),n&&n()))});let t=S(e.src);this.state={useHlsVideo:!e.preferMp4&&!(0,a.G6)(e.requestContext.userAgent.browserName)&&!!t}}render(){let{aspectRatio:e,appInFocus:t,backgroundColor:n,captions:i,toggleCaptions:l,clearSeekTime:a,contextLogData:r,controls:o,hlsConfig:d,isAutoPlay:c,loop:u,objectFit:p,onDurationChange:m,onEnded:h,onFullscreenChange:g,onLoadedChange:_,onControlsPause:y,onControlsPlay:f,onPlayheadDown:b,onPlayheadUp:x,onReady:P,onSeek:w,onTimeChange:T,onVolumeChange:A,playbackRate:C,playing:I,playsInline:j,poster:E,preferMp4:L,preload:R,seekTime:F,src:D,videoStartTime:z,visible:M,volume:O}=this.props,{useHlsVideo:Z}=this.state,N=S(D),K={...d,startPosition:z||-1},B=!h&&u;return Z&&N?(0,v.jsx)(s.Z,{aspectRatio:e,appInFocus:t,backgroundColor:n,captions:i,clearSeekTime:a,contextLogData:r,controls:o,hlsConfig:K,isAutoPlay:c,loop:u,loopOverride:B,objectFit:p,onDurationChange:m,onEnded:this.handleOnEnded,onFullscreenChange:g,onLoadedChange:_,onControlsPause:y,onControlsPlay:f,onPlayheadDown:b,onPlayheadUp:x,onReady:P,onSeek:w,onTimeChange:T,onVolumeChange:A,playbackRate:C,onPlay:()=>{},onPlayError:()=>{},playing:I,playsInline:j,poster:E,preload:R,seekTime:F,setVideoRef:this.setVideoPlayerRef,src:N,visible:M,volume:O}):(0,v.jsx)(k,{aspectRatio:e,captions:i,captionsEnabled:l,clearSeekTime:a,contextLogData:r,controls:o,isAutoPlay:c,loop:u,loopOverride:B,objectFit:p,onDurationChange:m,onEnded:this.handleOnEnded,onFullscreenChange:g,onLoadedChange:_,onControlsPause:y,onControlsPlay:f,onPlayheadDown:b,onPlayheadUp:x,onReady:P,onSeek:w,onTimeChange:T,onVolumeChange:A,playbackRate:C,onPlay:()=>{},onPlayError:()=>{},playing:I,playsInline:j,poster:E,preload:R,seekTime:F,setVideoRef:this.setVideoPlayerRef,src:L?D:N||D,videoStartTime:z,visible:M,volume:O})}}function T(e){let{appUI:{appInFocus:t}}=(0,c.I)(),{seekTime:n}=(0,o.Hx)(),{captionsEnabled:i}=(0,d.r)(),{clearSeekTime:l}=(0,o.RC)(),a=(0,r.B)();return(0,v.jsx)(w,{...e,appInFocus:t,requestContext:a,clearSeekTime:l,toggleCaptions:i,seekTime:n})}},714557:(e,t,n)=>{"use strict";n.d(t,{V:()=>i,i:()=>l});let i=2,l=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},458672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});let i={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},l=/[&><\u2028\u2029]/g;var a=n(785893);function r({id:e,isRelayResponseScript:t,testId:n,type:r="application/json",value:o}){let s=JSON.stringify(o).replace(l,e=>i[e]);return(0,a.jsx)("script",{id:e,"data-test-id":n,...t?{"data-relay-response":!0}:{},type:r,dangerouslySetInnerHTML:{__html:s}})}},113309:(e,t,n)=>{"use strict";n.d(t,{U:()=>a,Z:()=>r});var i=n(667294);let l=(0,i.createContext)();function a(){return(0,i.useContext)(l)}let r=l},738162:(e,t,n)=>{"use strict";n.d(t,{I:()=>c,Z:()=>u});var i=n(667294),l=n(616550),a=n(473727),r=n(201342),o=n(785893);let s=(0,i.createContext)(null);function d({children:e}){let t=(0,l.useLocation)(),n=(0,i.useMemo)(()=>t,[]);return(0,o.jsx)(s.Provider,{value:n,children:e})}function c(){let e=(0,l.useLocation)(),t=(0,i.useContext)(s);return e===t}function u({children:e,initialLocation:t}){return(0,o.jsx)(a.VK,{children:(0,o.jsx)(r.tn,{children:(0,o.jsx)(d,{children:e})})})}},897310:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/goodIdea-e3e37a7f.svg"},409445:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/haha-7945c718.svg"},615661:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/love-1ec7b8e4.svg"},495796:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/thanks-b3cf8b93.svg"},473754:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/wow-9e62e75a.svg"},204942:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(383997);function l(e,t,n){return(t=(0,i.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},601413:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(204942);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},383997:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(671002);function l(e){var t=function(e,t){if("object"!==(0,i.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==(0,i.Z)(l))return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,i.Z)(t)?t:String(t)}},671002:(e,t,n)=>{"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:()=>i})},938085:(e,t,n)=>{"use strict";n.d(t,{Fu:()=>R,NO:()=>$,Tb:()=>$,Tx:()=>R,Y:()=>w,Yn:()=>V,Z8:()=>V,a4:()=>w,kz:()=>T,mw:()=>T});var i,l,a,r,o,s=-1,d=function(e){addEventListener("pageshow",function(t){t.persisted&&(s=t.timeStamp,e(t))},!0)},c=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},u=function(){var e=c();return e&&e.activationStart||0},p=function(e,t){var n=c(),i="navigate";return s>=0?i="back-forward-cache":n&&(i=document.prerendering||u()>0?"prerender":document.wasDiscarded?"restore":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},m=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver(function(e){Promise.resolve().then(function(){t(e.getEntries())})});return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},h=function(e,t,n,i){var l,a;return function(r){var o;t.value>=0&&(r||i)&&((a=t.value-(l||0))||void 0===l)&&(l=t.value,t.delta=a,t.rating=(o=t.value)>n[1]?"poor":o>n[0]?"needs-improvement":"good",e(t))}},g=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},_=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},y=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},v=-1,f=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},b=function(e){"hidden"===document.visibilityState&&v>-1&&(v="visibilitychange"===e.type?e.timeStamp:0,k())},x=function(){addEventListener("visibilitychange",b,!0),addEventListener("prerenderingchange",b,!0)},k=function(){removeEventListener("visibilitychange",b,!0),removeEventListener("prerenderingchange",b,!0)},P=function(){return v<0&&(v=f(),x(),d(function(){setTimeout(function(){v=f(),x()},0)})),{get firstHiddenTime(){return v}}},S=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},w=function(e,t){t=t||{},S(function(){var n,i=[1800,3e3],l=P(),a=p("FCP"),r=m("paint",function(e){e.forEach(function(e){"first-contentful-paint"===e.name&&(r.disconnect(),e.startTime<l.firstHiddenTime&&(a.value=Math.max(e.startTime-u(),0),a.entries.push(e),n(!0)))})});r&&(n=h(e,a,i,t.reportAllChanges),d(function(l){n=h(e,a=p("FCP"),i,t.reportAllChanges),g(function(){a.value=performance.now()-l.timeStamp,n(!0)})}))})},T=function(e,t){t=t||{},w(y(function(){var n,i=[.1,.25],l=p("CLS",0),a=0,r=[],o=function(e){e.forEach(function(e){if(!e.hadRecentInput){var t=r[0],n=r[r.length-1];a&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(a+=e.value,r.push(e)):(a=e.value,r=[e])}}),a>l.value&&(l.value=a,l.entries=r,n())},s=m("layout-shift",o);s&&(n=h(e,l,i,t.reportAllChanges),_(function(){o(s.takeRecords()),n(!0)}),d(function(){a=0,n=h(e,l=p("CLS",0),i,t.reportAllChanges),g(function(){return n()})}),setTimeout(n,0))}))},A={passive:!0,capture:!0},C=new Date,I=function(e,t){i||(i=t,l=e,a=new Date,L(removeEventListener),j())},j=function(){if(l>=0&&l<a-C){var e={entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+l};r.forEach(function(t){t(e)}),r=[]}},E=function(e){if(e.cancelable){var t,n,i,l=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(t=function(){I(l,e),i()},n=function(){i()},i=function(){removeEventListener("pointerup",t,A),removeEventListener("pointercancel",n,A)},addEventListener("pointerup",t,A),addEventListener("pointercancel",n,A)):I(l,e)}},L=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,E,A)})},R=function(e,t){t=t||{},S(function(){var n,a=[100,300],o=P(),s=p("FID"),c=function(e){e.startTime<o.firstHiddenTime&&(s.value=e.processingStart-e.startTime,s.entries.push(e),n(!0))},u=function(e){e.forEach(c)},g=m("first-input",u);n=h(e,s,a,t.reportAllChanges),g&&_(y(function(){u(g.takeRecords()),g.disconnect()})),g&&d(function(){n=h(e,s=p("FID"),a,t.reportAllChanges),r=[],l=-1,i=null,L(addEventListener),r.push(c),j()})})},F=0,D=1/0,z=0,M=function(e){e.forEach(function(e){e.interactionId&&(D=Math.min(D,e.interactionId),F=(z=Math.max(z,e.interactionId))?(z-D)/7+1:0)})},O=function(){return o?F:performance.interactionCount||0},Z=function(){"interactionCount"in performance||o||(o=m("event",M,{type:"event",buffered:!0,durationThreshold:0}))},N=0,K=function(){return O()-N},B=[],U={},H=function(e){var t=B[B.length-1],n=U[e.interactionId];if(n||B.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};U[i.id]=i,B.push(i)}B.sort(function(e,t){return t.latency-e.latency}),B.splice(10).forEach(function(e){delete U[e.id]})}},V=function(e,t){t=t||{},S(function(){var n=[200,500];Z();var i,l=p("INP"),a=function(e){e.forEach(function(e){e.interactionId&&H(e),"first-input"!==e.entryType||B.some(function(t){return t.entries.some(function(t){return e.duration===t.duration&&e.startTime===t.startTime})})||H(e)});var t,n=(t=Math.min(B.length-1,Math.floor(K()/50)),B[t]);n&&n.latency!==l.value&&(l.value=n.latency,l.entries=n.entries,i())},r=m("event",a,{durationThreshold:t.durationThreshold||40});i=h(e,l,n,t.reportAllChanges),r&&(r.observe({type:"first-input",buffered:!0}),_(function(){a(r.takeRecords()),l.value<0&&K()>0&&(l.value=0,l.entries=[]),i(!0)}),d(function(){B=[],N=O(),i=h(e,l=p("INP"),n,t.reportAllChanges)}))})},G={},$=function(e,t){t=t||{},S(function(){var n,i=[2500,4e3],l=P(),a=p("LCP"),r=function(e){var t=e[e.length-1];if(t){var i=Math.max(t.startTime-u(),0);i<l.firstHiddenTime&&(a.value=i,a.entries=[t],n())}},o=m("largest-contentful-paint",r);if(o){n=h(e,a,i,t.reportAllChanges);var s=y(function(){G[a.id]||(r(o.takeRecords()),o.disconnect(),G[a.id]=!0,n(!0))});["keydown","click"].forEach(function(e){addEventListener(e,s,!0)}),_(s),d(function(l){n=h(e,a=p("LCP"),i,t.reportAllChanges),g(function(){a.value=performance.now()-l.timeStamp,G[a.id]=!0,n(!0)})})}})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/MobileAndUnauthPinPage.ru_RU-9712f7443b8a975e.mjs.map