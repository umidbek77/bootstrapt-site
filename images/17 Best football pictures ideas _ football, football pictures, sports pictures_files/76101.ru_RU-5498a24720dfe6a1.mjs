"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[76101],{303998:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(616550),o=s(463310),n=s(549201);function i(){let e=(0,a.useHistory)(),t=(0,n.HG)();return s=>{t?(0,o.Z)(s,{disableOriginCheck:!0}):e.push(s)}}},308979:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(e,t)=>{let s=new Date;return new Date(1e3*e)<=new Date(s.getFullYear()-(t||18),s.getMonth(),s.getDate())}},550941:(e,t,s)=>{s.d(t,{Di:()=>_,Jl:()=>c,R:()=>u,ZP:()=>f,aU:()=>h,j2:()=>d,pN:()=>g,rL:()=>b,vW:()=>m});var a=s(883119),o=s(870243),n=s(550140),i=s(630089),l=s(739425),r=s(785893);let c=7e3,u="permanent_account_closure",d="account_deletion_email_sent",_="account_deactivated",h="unlink_successful",g="account_switch_to_settings";function p(e,t,s){return(0,r.jsx)(a.xv,{align:s||"center",children:(0,i.nk)(e,{username:(0,r.jsx)(a.xv,{inline:!0,weight:"bold",children:t})})})}function m({i18n:e,message:t,multipleAccounts:s,username:a=""}){switch(t){case u:return e.bt("Ваш аккаунт удален. Жаль, что вы уходите", "Your account has been deleted. We're sad to see you go", "unauthLoginPage.accountDeletedToast.message", undefined, true);case d:if(s)return p(e.bt("Мы отправили вам письмо с последними инструкциями по удалению аккаунта {{username}} и привязанных к нему других аккаунтов", "An email has been sent with final steps to delete your account, {{username}} and its linked accounts", "accountDeletedEmailToast.message.multipleAccounts", undefined, true),a);return p(e.bt("{{username}}, мы отправили вам письмо с последними инструкциями по закрытию аккаунта", "An email has been sent with final steps to delete your account, {{username}}", "accountDeletedEmailToast.message.singleAccount", undefined, true),a);case _:return p(s?e.bt("Аккаунт {{username}} и все привязанные аккаунты отключены.", "The account, {{username}}, and its associated linked accounts have been deactivated", "unauthLoginPage.deactivatedToast.message.multipleAccounts", undefined, true):e.bt("Аккаунт {{username}} отключен.", "The account, {{username}}, has been deactivated", "unauthLoginPage.deactivatedToast.message.singleAccount", undefined, true),a);case h:return p(e.bt("Готово! Бизнес-аккаунт отвязан. Вы вошли в систему как {{username}}.", "Success! You've unlinked this business account. You are currently in {{username}}.", "authHomeFeedPage.unlinkAccountToast.message", undefined, true),a,"start");case g:return p(e.bt("Вы переключились и сейчас находитесь в аккаунте {{username}}", "You've switched into and are currently in the account {{username}}", "accountSettings.switchAccountToAccountChanges", undefined, true),a,"start");default:return""}}function f(e,t,s=""){if(!(t&&t.search))return"";let{message:a}=(0,l.mB)(t.search),o=(0,l.mB)(t.search).username||s,n="true"===(0,l.mB)(t.search).multiple_accounts;return m({i18n:e,message:a,multipleAccounts:n,username:o})}function b({showOneToast:e,i18n:t,location:s,history:a,username:i,fullName:u,avatarUrl:d}){if(!(s&&s.search))return;let _=f(t,s,i||""),{message:p}=(0,l.mB)(s.search),m=p===g||p===h;_&&(e(({hideToast:e})=>(0,r.jsx)(n.ZP,{duration:c,onHide:e,text:_,thumbnail:m?{avatar:(0,r.jsx)(o.qE,{name:u||"",src:d||"",size:"md"})}:void 0})),a.replace(s.hash?`${s.pathname}${s.hash}`:s.pathname))}},353226:(e,t,s)=>{s.d(t,{Z:()=>o});var a=s(785893);function o({size:e}){return(0,a.jsx)("svg",{height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,a.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,a.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,a.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,a.jsx)("path",{d:"M20 20h472v472H20V20z"})]})})}},539636:(e,t,s)=>{s.d(t,{Z:()=>o});let a=e=>(e||"").replace(/-/g,"+").replace(/_/g,"/"),o=e=>JSON.parse(decodeURIComponent(atob(a(e.split(".")[1])).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))},212380:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(883119),o=s(536042),n=s(785893);let i=({isInModal:e})=>{let t=(0,o.ZP)();return(0,n.jsx)(a.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new a.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},children:(0,n.jsx)(a.$j,{accessibilityLabel:t.bt("Загрузка", "Loading", "Full page loading state", undefined, true),show:!0})})}},259987:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(365661),o=s(98736);async function n(e){let t=await (0,a.Kw)(),s=t?{user_ids:Object.keys(t)}:{};(0,o.tj)(`mweb_multiple_accounts_${e}`,s)}},447755:(e,t,s)=>{s.d(t,{eN:()=>c,_:()=>d,kB:()=>u});var a=s(40660),o=s(837792),n=s(739425),i=s(616550);let l=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/form/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/about/koplg/","/about/:lawName/","/about/radtc/","/website/confirm/","/oauth/","/app-factory-oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"],r=(e,t)=>{let s=new URL(e,t);return l.some(e=>!!(0,i.matchPath)(s.pathname,{path:e,exact:!0}))},c=e=>e&&(0,n.Qg)(e)&&o.lfe!==e?(0,n.Qc)(e).relative:"/",u=(e,t)=>{let s=(0,n.Jx)(e);return r(s,t)||(0,n.OM)(s)===n.vx.TRUSTED_DIFFERENT_ORIGIN},d=({forceFullPageNavigation:e,history:t,next:s,noLocationReplace:o,origin:i})=>{let l=(0,n.Jx)(s);u(s,i)||!t||e?(e&&a.Z.increment("webapp.duplo.navigateOnLogin.forceFullPageNavigation",1),window.location.assign(l)):o?t.push(c(l)):t.replace(c(l))}},662751:(e,t,s)=>{s.d(t,{Z:()=>b});var a=s(667294),o=s(883119),n=s(539636),i=s(684113),l=s(324159),r=s(245410),c=s(282802),u=s(98736),d=s(536042),_=s(353226),h=s(219097),g=s(960251),p=s(785893);function m(){let e=(0,d.ZP)(),[t,s]=(0,a.useState)(),n=(0,h.Z)();return n?null:(0,p.jsxs)(o.xu,{position:"relative",children:[(0,p.jsx)(o.iP,{onTap:()=>s(!0),children:(0,p.jsxs)(o.xu,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:40,rounding:"pill",color:"secondary",children:[(0,p.jsx)(o.xu,{height:24,width:24,marginTop:1,children:(0,p.jsx)(_.Z,{size:20})}),(0,p.jsx)(o.xu,{marginStart:2,children:(0,p.jsx)(o.xv,{weight:"bold",children:e.bt("Подключиться через Google", "Connect with Google", "googleConnectButtonWithDisabledSDK.buttonText", undefined, true)})})]})}),t&&(0,p.jsx)(g.Z,{type:"google",onDismiss:()=>s(!1)})]})}function f({onGoogleConnectSuccess:e,onTouch:t}){let{locale:s}=(0,c.B)(),{checkExperiment:d}=(0,r.F)(),_=d("mweb_google_button_locale_fix").anyEnabled,h=(0,a.useRef)(null),g=(0,l.M)(),m=(0,a.useRef)(e);return(0,a.useEffect)(()=>{m.current=e},[e]),(0,a.useEffect)(()=>{let e=({credential:e,select_by:t})=>{(0,u.My)(`unauth_mweb.gsi_button.select_by.${t}`),(0,u.NC)("press_google_connect_button");let s=(0,n.Z)(e);m.current({google_open_id_token:e,autologin:!1},{type:"google",google_open_id_token:e,first_name:s.given_name,last_name:s.family_name,image_url:s.picture})};return(async()=>{await (null==g?void 0:g.ensureInit("button",e)),(0,i.ru)({buttonRef:h,isDesktop:!1,locale:_?s:void 0})})(),()=>{null==g||g.removeButtonCallback(e)}},[g,_,s]),(0,p.jsx)(o.xu,{position:"relative",children:(0,p.jsx)(o.iP,{onTap:()=>{null==t||t(),(0,u.My)("gsi_personalized_button.tap"),(0,u.EX)({event:"start",provider:"google"})},children:(0,p.jsx)(o.xu,{"aria-label":"GOOGLE_SIGNIN_BUTTON",height:44,children:(0,p.jsx)(o.xu,{ref:h,position:"absolute",width:"100%"})})})})}function b(e){let{checkExperiment:t}=(0,r.F)(),{anyEnabled:s}=t("mweb_google_disabled");return s?(0,p.jsx)(m,{}):(0,p.jsx)(f,{onGoogleConnectSuccess:e.onGoogleConnectSuccess,onTouch:e.onTouch})}},241245:(e,t,s)=>{s.d(t,{Z:()=>x});var a=s(667294),o=s(883119),n=s(798198),i=s(874261);let l={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",purple:"#B469EB"},r="DelightfulBubbles__",c=(e,t)=>{let s=e.length,a=e.indexOf(t)+1>=s?0:e.indexOf(t)+1;return e[a]},u=`${r}fadeIn {
  to {
    opacity: 1;
  }
}
`,d=`${r}growShrink {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1);
  }
  100% {
    transform: scale(0);
  }
}
`,_=`${r}swirl {
  0% {
    transform: rotate(0deg) translateX(-50%);
  }
  100% {
    transform: rotate(-360deg) translateX(-50%);
  }
}
`,h=[u,d,_,...(()=>{let e=Object.keys(l).map(e=>{let t=c(Object.keys(l),e);return`${r}colorChange_${e} {
      0% {
        background-color: ${l[e]};
      }
      50% {
        background-color: ${l[t]};
      }
    }
    `});return e})()],g=(0,n.Ll)(h),p=(e,t,s,a,o,n,i,c)=>({bubblePositionStyles:{position:"absolute",marginLeft:`${n/2-o}px`,marginTop:`${s/2-o}px`,left:`${i}px`,top:`${c}px`},bubbleSwirlStyles:{animation:`${r}swirl 6s ease-in-out ${e}s infinite forwards`,WebkitAnimation:`${r}swirl 6s ease-in-out ${e}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${r}growShrink 6s ease-in-out ${e}s infinite alternate`,WebkitAnimation:`${r}growShrink 6s ease-in-out ${e}s infinite alternate`},bubbleShapeStyles:{height:`${t}px`,width:`${t}px`,borderRadius:"50%",backgroundColor:l[a],opacity:0,animation:`${r}colorChange_${a} 12s steps(1, start) ${e}s infinite forwards,
      ${r}fadeIn 3s linear ${e}s 1 forwards`,WebkitAnimation:`${r}colorChange_${a} 12s steps(1, start) ${e}s infinite forwards,
      ${r}fadeIn 3s linear ${e}s 1 forwards`}});var m=s(785893);function f(e,t,s){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let b=e=>{let{delay:t,diameter:s,height:a,initialColor:n,width:i,xOffset:l,yOffset:r}=e,c=Math.floor(s/2),u=p(t,s,a,n,c,i,l,r);return(0,m.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:u.bubblePositionStyles},children:(0,m.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:u.bubbleSwirlStyles},children:(0,m.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:u.bubbleGrowShrinkStyles},children:(0,m.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:u.bubbleShapeStyles}})})})})};class v extends a.Component{constructor(...e){super(...e),f(this,"state",{isInitialized:!1})}componentDidMount(){window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}shouldComponentUpdate(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){let{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){let{delayFactor:s,delayOffset:a,numBubbles:o,xRadiusAdjustment:i,yRadiusAdjustment:r}=this.props,c=e+2*r,u=t+2*i,d=[],_=Object.keys(l);for(let i=0;i<o;i+=1){let o=16+(0,n.XF)(-4,4),l=_[i%_.length],{x:r,y:h}=(0,n.CC)(c,u);d.push((0,m.jsx)(b,{delay:i*s+a,diameter:o,initialColor:l,xOffset:r,yOffset:h,height:e,width:t},i))}return d}render(){let{isDesktop:e}=this.props,{height:t,width:s}=this.getSize();return(0,m.jsxs)(o.xu,{height:t,width:s,position:"relative",children:[(0,m.jsx)(i.Z,{unsafeCSS:g}),(0,m.jsxs)(o.xu,{position:e?void 0:"absolute",ref:e=>this.containerElement=e,children:[this.state.isInitialized&&this.createBubbles(t||0,s||0),(0,m.jsx)(o.xu,{position:"relative",children:this.props.children})]})]})}}f(v,"defaultProps",{numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});let x=v},208833:(e,t,s)=>{s.d(t,{R:()=>h,Z:()=>g});var a=s(667294),o=s(883119),n=s(293926),i=s(777610),l=s(536042),r=s(282802),c=s(212380),u=s(509342),d=s(241245),_=s(785893);let h=e=>{let t=new Set([...u.EU,...u.rT,...u.IO]);return t.has(e)};function g({isReducedHeader:e,progressBarAnimationDuration:t}){let s=(0,l.ZP)(),{country:u}=(0,r.B)(),g=h(u);return(0,_.jsx)(a.Fragment,{children:g?(0,_.jsx)(i.Z,{log:{view_type:10,view_parameter:259},children:(0,_.jsxs)(o.xu,{position:"fixed",top:!0,left:!0,right:!0,bottom:!0,width:"100%",color:"default",children:[(0,_.jsx)(n.Z,{color:"dark",duration:t||3e3,finalProgress:95}),(0,_.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[(0,_.jsxs)(o.xu,{margin:10,children:[(0,_.jsx)(o.X6,{overflow:"normal",size:e?"500":"600",children:s.bt("Аккаунт создается", "Your account is being created!", "account created heading", undefined, true)}),(0,_.jsx)(o.xv,{overflow:"normal",children:s.bt("Теперь вы можете сохранять идеи, получать персональные рекомендации и т. д.", "You can now save ideas, get personalized recommendations, and more", "loading state description while waiting for any sign up registration to complete", undefined, true)})]}),(0,_.jsx)(o.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,_.jsx)(d.Z,{delayOffset:-5,isDesktop:!1,xRadiusAdjustment:40,yRadiusAdjustment:40,children:(0,_.jsx)(o.xu,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:120,justifyContent:"end",overflow:"hidden",rounding:"circle",width:120,children:(0,_.jsx)(o.JO,{accessibilityLabel:s.bt("Загрузка", "Loading", "Loading state for any sign up registration", undefined, true),color:"subtle",icon:"person",size:"90"})})})})]})]})}):(0,_.jsx)(c.Z,{})})}},791229:(e,t,s)=>{s.d(t,{f:()=>Z,l:()=>T});var a=s(667294),o=s(702664),n=s(690108),i=s(563962),l=s(457628),r=s(791045),c=s(420434),u=s(256558),d=s(31368),_=s(550941),h=s(950861),g=s(245410),p=s(617285),m=s(499441),f=s(282802),b=s(336436),v=s(860438),x=s(611756),w=s(98736),y=s(284814),j=s(509342),A=s(259987),k=s(447755),C=s(890415),P=s(495590),S=s(619277),z=s(935340);let E=e=>({type:"AUTHENTICATE_USER",payload:{user:e}}),Z=()=>{let e=(0,i.Z)(),t=(0,g.F)(),s=(0,o.useDispatch)(),{country:Z,countryFromHostName:T,countryFromIp:D,regionFromIp:I,userAgent:{isTablet:O,isMobile:$}}=(0,f.B)(),R=(0,p.Z)(),F=(0,y.Z)();return(0,a.useCallback)(async(a,o,i="/",g={isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other",accountUnlinked:!1},p)=>{R();let f=!O&&!$,{isAutologin:y,isSwitchAccount:B,noLocationReplace:L,recaptchaV3Token:N,noImmediateRedirect:H,useAlternativeResourceCall:G,trigger:M,accountUnlinked:U}=g,Y=t=>{var s;e({...p,event_type:t,aux_data:{...p.aux_data,upsell_reason:(null===(s=p.aux_data)||void 0===s?void 0:s.upsell_reason)||(y?"autologin":v.Z.getItem(S.bg)||null),upsell_view_count:v.Z.getItem(S.w0)||0}}),7536===t&&v.Z.setItem(S.w0,0)},X={get_user:!0,...a,app_type_from_client:6,recaptchaV3Token:N},K=(0,C.t_)();K&&(X={...X,visited_pages_before_login:K});let W=(0,C.OJ)();W&&(X={...X,referrer:W});let J=n.Z.create("UserSessionResource",X).callCreate();if(G&&a.username_or_email&&a.password){let e=new FormData;e.append("username",a.username_or_email),e.append("password",a.password);let t={method:"POST",body:e,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":(0,c.getCsrfToken)()||"","X-Requested-With":"XMLHttpRequest"}};J=fetch("/resource/UserSessionResource/create/",t).then(e=>{if(200!==e.status)throw Error(e.statusText);return e.json()}).catch(e=>Promise.reject(e))}try{y?(0,w.dy)({event:"login_api_call_start",provider:a.google_open_id_token?"google":"facebook"}):(0,w.EX)({event:"login_api_call_start",provider:(0,h.nY)(a)}),Y(7534),F({action:y?"autologin":"login",event:"attempt",type:(0,h.lp)(a),trigger:M});let e=await J;y?(0,w.dy)({event:"login_api_call_success",provider:a.google_open_id_token?"google":"facebook"}):(0,w.EX)({event:"login_api_call_success",provider:(0,h.nY)(a)}),s(E(e.resource_response.data.user));let n=e.client_context,c=e.resource_response.data.user.gatekeeper_experiments;c?(t.active=c.active,t.triggerable=c.triggerable):(0,z.nP)("webapp.authentication.updateExperimentsFailed"),n&&n.placed_experiences&&s((0,u.OD)(n.placed_experiences)),(0,A.Z)("authentication.login_success"),h.ZP.storeLoginCredentialsToBrowser(a),Y(7536),F({action:y?"autologin":"login",event:"success",type:(0,h.lp)(a),trigger:M}),(0,d.Z)(),l.zN(r.e7.name),l.zN(r.x3.name),(0,x.Nh)(j.AA,1),"/"!==i&&(0,P.E)(!0),B?(0,b.Dm)().then(()=>{var t;let s=`/${(null===(t=e.resource_response.data)||void 0===t?void 0:t.user.username)||""}`+(U?`?message=${_.aU}`:"");window.location.href=s}):y&&!f||H||(0,k._)({forceFullPageNavigation:f,history:o,next:i,noLocationReplace:L,origin:window.location}),(0,m.ko)({country:Z,countryFromHostName:T,countryFromIp:D,regionFromIp:I,deviceType:"Mobile",eventCategory:"Logins"})}catch(e){if(y?(0,w.dy)({event:"login_api_call_failure",provider:a.google_open_id_token?"google":"facebook"}):(0,w.EX)({event:"login_api_call_failure",provider:(0,h.nY)(a)}),1201!==e.api_error_code||y||f)throw Y(7535),F({action:y?"autologin":"login",event:"fail",type:(0,h.lp)(a),trigger:M}),B&&(0,A.Z)("authentication.login_error"),e;if(o){let t={creds:a,next:i,phoneNumber:e.data.phone_number_end};o.push({pathname:"/login/mfa/",state:t})}}},[s,Z,T,D,R,t,$,O,e,I,F])},T=()=>{let e=(0,g.F)(),t=(0,o.useDispatch)(),s=(0,p.Z)();return({client_context:a,resource_response:o})=>{let{data:n}=o;n&&(s(),t(E(n.user)));let i=n.user.gatekeeper_experiments;i?(e.active=i.active,e.triggerable=i.triggerable):(0,z.nP)("webapp.crossDomainAutologin.updateExperimentsFailed"),a&&t((0,u.OD)(a.placed_experiences))}}},697812:(e,t,s)=>{s.d(t,{m:()=>Z});var a=s(702664),o=s(40660),n=s(690108),i=s(818917),l=s(563962),r=s(457628),c=s(791045),u=s(256558),d=s(31368),_=s(315219),h=s(804484),g=s(245410),p=s(617285),m=s(499441),f=s(282802),b=s(336436),v=s(860438),x=s(173085),w=s(98736),y=s(284814),j=s(259987),A=s(890415),k=s(611756),C=s(509342),P=s(208833),S=s(619277),z=s(935340);let E=e=>({type:"REGISTER_USER",payload:{user:e}}),Z=()=>{let e=(0,g.F)(),t=(0,a.useDispatch)(),{country:s,countryFromHostName:Z,countryFromIp:T,regionFromIp:D,isAuthenticated:I}=(0,f.B)(),O=(0,p.Z)(),$=(0,l.Z)(),R=(0,y.Z)();return(a,{signupAttemptContextEvent:l})=>{let g=(0,h.yV)(a),p=e=>{var t;$({...l,event_type:e,aux_data:{...l.aux_data,upsell_reason:(null===(t=l.aux_data)||void 0===t?void 0:t.upsell_reason)||v.Z.getItem(S.bg)||null,upsell_view_count:v.Z.getItem(S.w0)||0}}),7487===e&&v.Z.setItem(S.w0,0)};p(7537),R({action:"signup",event:"attempt",type:g}),O();let f=0,y=(0,P.R)(s),F=new Promise(e=>{y?setTimeout(()=>{e()},3e3):e()});return new Promise((l,v)=>{let y=()=>{var P;let S=(0,A.t_)(),O=(0,A.OJ)(),$={...a,user_behavior_data:function(){let e=[C.E9];return function(e){let t={};return e.forEach(e=>{let s=JSON.parse((0,k.qn)(e));s&&(t[e]=s)}),JSON.stringify(t)}(e)}(),visited_pages:S};O&&($.referrer=O),o.Z.increment("webapp.debug_signup_type.redux_registration",1,{CHECK_TYPE:null!==(P=(0,h.Eh)($,"CHECK_TYPE"))&&void 0!==P?P:"none",CHECK_EXISTS:(0,h.Eh)($,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,h.Eh)($,"DEPRECATED_CHECK_TRUTHY")}),n.Z.create("UserRegisterResource",{...$,get_user:!0}).callCreate().then(o=>F.then(()=>{(0,x.L_)("d_pif_invite");let n=o.client_context;t(E(o.resource_response.data.user));let r=o.resource_response.data.user.gatekeeper_experiments;r?(e.active=r.active,e.triggerable=r.triggerable):(0,z.nP)("webapp.registration.updateExperimentsFailed"),n&&n.placed_experiences&&t((0,u.OD)(n.placed_experiences)),I&&(0,j.Z)("registration.signup_success");let c=a.email||a.username||null,_=a.password||null,{credentials:h}=navigator;if(h&&c&&_)try{let e=new window.PasswordCredential({id:c,password:_});(0,w.My)("unauth_mweb.navigatorCredentials.store.attempt"),h.store(e).then(()=>{(0,w.My)("unauth_mweb.navigatorCredentials.store.success")})}catch(e){(0,w.My)("unauth_mweb.navigatorCredentials.store.error")}p(7487),R({action:"signup",event:"success",type:g}),(0,i.Z)(),(0,d.Z)(),I&&(0,b.Dm)(),(0,m.ko)({country:s,countryFromHostName:Z,countryFromIp:T,regionFromIp:D,deviceType:"Mobile",eventCategory:"NewUsers"}),l()})).catch(e=>{(null==e?void 0:e.api_error_code)===_.tz&&((0,w.My)("multi_step_set_age_restrict_cookie"),r.t8(c.It,"1",(0,r.kZ)(c.It))),f<3&&[_.dO,_.cZ].includes(null==e?void 0:e.api_error_code)?(f+=1,y()):(p(7488),R({action:"signup",event:"fail",type:g}),I&&(0,j.Z)("registration.signup_error"),v(e))})};y()})}}},960251:(e,t,s)=>{s.d(t,{Z:()=>l});var a=s(883119),o=s(88622),n=s(536042),i=s(785893);function l({type:e,onDismiss:t}){let s=(0,n.ZP)(),l="facebook"===e?s.bt("Ой! Facebook не работает", "Oops! Facebook isn't available", "socialAuthDisabled.facebook.title", undefined, true):s.bt("Ой! Google не работает", "Oops! Google isn't available", "socialAuthDisabled.google.title", undefined, true),r="facebook"===e?s.bt("Похоже, Facebook сейчас не работает. Попробуйте другой вариант или обновите страницу и повторите попытку позже.", "Looks like Facebook isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.facebook.description", undefined, true):s.bt("Похоже, Google сейчас не работает. Попробуйте другой вариант или обновите страницу и повторите попытку позже.", "Looks like Google isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.google.description", undefined, true);return(0,i.jsx)(o.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,isOpen:!0,onDismiss:t,type:"social_auth_disabled_modal",children:(0,i.jsxs)(a.xu,{padding:5,children:[(0,i.jsx)(a.xu,{marginBottom:3,children:(0,i.jsx)(a.X6,{size:"500",accessibilityLevel:1,children:l})}),(0,i.jsx)(a.xu,{marginBottom:3,children:(0,i.jsx)(a.xv,{children:r})}),(0,i.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,i.jsx)(a.xu,{paddingY:1,children:(0,i.jsx)(a.zx,{accessibilityLabel:s.bt("ОК", "OK", "socialAuthDisabled.okButton", undefined, true),size:"lg",color:"red",text:s.bt("ОК", "OK", "socialAuthDisabled.okButton", undefined, true),onClick:t})})})]})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/76101.ru_RU-5498a24720dfe6a1.mjs.map